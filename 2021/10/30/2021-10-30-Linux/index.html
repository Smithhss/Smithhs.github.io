<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>Linux到精通 | Smith</title><meta name="keywords" content="Linux"><meta name="author" content="Smith"><meta name="copyright" content="Smith"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="Linux到精通"><meta name="application-name" content="Linux到精通"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="Linux到精通"><meta property="og:url" content="https://smithhs.cn/2021/10/30/2021-10-30-Linux/index.html"><meta property="og:site_name" content="Smith"><meta property="og:description" content="涉及的内容情况参看下面的目录：   文章目录 操作系统的发展史  Unix Minix Linux 操作系统的发展 Minix没有火起来的原因   Linux介绍  Linux内核&amp;amp;发行版  Linux内核版本 Linux发行版本   类Unix系统目录结构 Linux目录 用户目录   命"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/Linux.png"><meta property="article:author" content="Smith"><meta property="article:tag"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/Linux.png"><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="https://smithhs.cn/2021/10/30/2021-10-30-Linux/"><link rel="preconnect" href="//npm.elemecdn.com"/><link rel="preconnect" href="//npm.onmicrosoft.cn"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/node-snackbar/0.1.16/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.14/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/swiper/swiper.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: true,
  mainTone: undefined,
  authorStatus: {"skills":["🤖️ 数码科技爱好者","🔍 分享与热心帮助","🏠 智能家居小能手","🔨 设计开发一条龙","🤝 专修交互与设计","🏃 脚踏实地行动派","🧱 团队小组发动机","💢 壮汉人狠话不多"]},
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"简","rightMenuMsgToTraditionalChinese":"转为繁体","rightMenuMsgToSimplifiedChinese":"转为简体"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":240},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: true,
    post: false
  },
  runtime: '天',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#3b70fc","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Linux到精通',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-10-30 19:57:31',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="加载头像" src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/d20f536c64d06e5fcf4bfe2ec5dc25d.jpg"/><div class="loading-image-dot"></div><div id="loading-percentage">0%</div></div></div><script>if (GLOBAL_CONFIG.preloader.source == "2" || GLOBAL_CONFIG.preloader.source == "3") {
  const loadingPercentage = document.getElementById("loading-percentage");
  let loadingPercentageTimer = setInterval(function() {
    var progressBar = document.querySelector(".pace-progress");
    if (!progressBar) return
    var currentValue = progressBar.getAttribute("data-progress-text");
    if (currentValue !== loadingPercentage.textContent) {
      loadingPercentage.textContent = currentValue;
      if (currentValue === "100%") {
        clearInterval(loadingPercentageTimer);
      }
    }
  }, 100);
}

const preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div id="web_box"><div id="web_container"><div id="menu-mask"></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">网页</div><div class="back-menu-list"><a class="back-menu-item" href="https://smithhs.cn/" title="博客" target="_blank"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.png" alt="博客"/><span class="back-menu-item-text">博客</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">项目</div><div class="back-menu-list"><a class="back-menu-item" href="http://robot.onliu.cn/" title="Robot" target="_blank"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/cupfox.png" alt="Robot"/><span class="back-menu-item-text">Robot</span></a><a class="back-menu-item" href="http://res.onliu.cn" title="Sale" target="_blank"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://alandodo-1315761622.cos.ap-beijing.myqcloud.com/blog-tuce/tubiao.jpg" alt="Sale"/><span class="back-menu-item-text">Sale</span></a><a class="back-menu-item" href="http://se.onliu.cn/" title="资源共享" target="_blank"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://alandodo-1315761622.cos.ap-beijing.myqcloud.com/blog/x126.png" alt="资源共享"/><span class="back-menu-item-text">资源共享</span></a><a class="back-menu-item" href="https://github.com/Smithhss" title="Github" target="_blank"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/GitHub.png" alt="Github"/><span class="back-menu-item-text">Github</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">Smith</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child" style="left:-79px;"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child" style="left:-31px;"><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child" style="left:-79px;"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于我</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button only-home" id="travellings_button" title="随机前往一个开往项目网站"><a class="site-page" onclick="anzhiyu.totraveling()" title="随机前往一个开往项目网站" href="javascript:void(0);" rel="external nofollow" data-pjax-state="external"><i class="anzhiyufont anzhiyu-icon-train"></i></a></div><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="随机前往一个文章" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="中控台" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/1.jpg" target="_blank"><img class="post-qr-code-img" alt="wechat" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/1.jpg"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/2.jpg" target="_blank"><img class="post-qr-code-img" alt="alipay" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/2.jpg"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">互动</div><span class="author-content-item-title"> <span>最新评论</span></span></div><div class="aside-list"><span>正在加载中...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">兴趣点</div><span class="author-content-item-title">寻找你感兴趣的领域</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Android-Studio/" style="font-size: 1.05rem;">Android Studio<sup>1</sup></a><a href="/tags/App/" style="font-size: 1.05rem;">App<sup>2</sup></a><a href="/tags/Butterfly/" style="font-size: 1.05rem;">Butterfly<sup>1</sup></a><a href="/tags/C/" style="font-size: 1.05rem;">C++<sup>1</sup></a><a href="/tags/CSS/" style="font-size: 1.05rem;">CSS<sup>1</sup></a><a href="/tags/Cisco-Packet-Tracer/" style="font-size: 1.05rem;">Cisco Packet Tracer<sup>1</sup></a><a href="/tags/Easypan/" style="font-size: 1.05rem;">Easypan<sup>2</sup></a><a href="/tags/FurtherMathematics/" style="font-size: 1.05rem;">FurtherMathematics<sup>1</sup></a><a href="/tags/GPT/" style="font-size: 1.05rem;">GPT<sup>1</sup></a><a href="/tags/Git/" style="font-size: 1.05rem;">Git<sup>1</sup></a><a href="/tags/HTML/" style="font-size: 1.05rem;">HTML<sup>1</sup></a><a href="/tags/Hexo/" style="font-size: 1.05rem;">Hexo<sup>1</sup></a><a href="/tags/Java/" style="font-size: 1.05rem;">Java<sup>6</sup></a><a href="/tags/JavaScript/" style="font-size: 1.05rem;">JavaScript<sup>1</sup></a><a href="/tags/JavaWeb/" style="font-size: 1.05rem;">JavaWeb<sup>2</sup></a><a href="/tags/Jrebel/" style="font-size: 1.05rem;">Jrebel<sup>1</sup></a><a href="/tags/LeetCode/" style="font-size: 1.05rem;">LeetCode<sup>1</sup></a><a href="/tags/Linux/" style="font-size: 1.05rem;">Linux<sup>2</sup></a><a href="/tags/Markdown/" style="font-size: 1.05rem;">Markdown<sup>2</sup></a><a href="/tags/Maven/" style="font-size: 1.05rem;">Maven<sup>2</sup></a><a href="/tags/Mysql/" style="font-size: 1.05rem;">Mysql<sup>1</sup></a><a href="/tags/NoSql/" style="font-size: 1.05rem;">NoSql<sup>1</sup></a><a href="/tags/Nodejs/" style="font-size: 1.05rem;">Nodejs<sup>2</sup></a><a href="/tags/Python/" style="font-size: 1.05rem;">Python<sup>3</sup></a><a href="/tags/Spring/" style="font-size: 1.05rem;">Spring<sup>2</sup></a><a href="/tags/VMware/" style="font-size: 1.05rem;">VMware<sup>2</sup></a><a href="/tags/Vue/" style="font-size: 1.05rem;">Vue<sup>1</sup></a><a href="/tags/YouHou/" style="font-size: 1.05rem;">YouHou<sup>1</sup></a><a href="/tags/books/" style="font-size: 1.05rem;">books<sup>1</sup></a><a href="/tags/butterfly/" style="font-size: 1.05rem;">butterfly<sup>1</sup></a><a href="/tags/clash/" style="font-size: 1.05rem;">clash<sup>1</sup></a><a href="/tags/project/" style="font-size: 1.05rem;">project<sup>4</sup></a><a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 1.05rem;">前端<sup>1</sup></a><a href="/tags/%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/" style="font-size: 1.05rem;">开发框架<sup>1</sup></a><a href="/tags/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/" style="font-size: 1.05rem;">开发环境<sup>1</sup></a><a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" style="font-size: 1.05rem;">操作系统<sup>1</sup></a><a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" style="font-size: 1.05rem;">数据结构与算法<sup>1</sup></a><a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/" style="font-size: 1.05rem;">计算机组成原理<sup>1</sup></a><a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size: 1.05rem;">计算机网络<sup>1</sup></a><a href="/tags/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/" style="font-size: 1.05rem;">软件工程<sup>1</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>文章</span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>归档</span><a class="card-more-btn" href="/archives/" title="查看更多">
    <i class="anzhiyufont anzhiyu-icon-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/10/"><span class="card-archive-list-date">十月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/09/"><span class="card-archive-list-date">九月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">6</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/07/"><span class="card-archive-list-date">七月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/06/"><span class="card-archive-list-date">六月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">7</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/05/"><span class="card-archive-list-date">五月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">17</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/04/"><span class="card-archive-list-date">四月 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/06/"><span class="card-archive-list-date">六月 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>篇</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/12/"><span class="card-archive-list-date">十二月 2022</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>篇</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" onclick="anzhiyu.switchDarkMode()" title="显示模式切换" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="边栏显示控制"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item on" id="consoleCommentBarrage" onclick="anzhiyu.switchCommentBarrage()" title="热评开关"><a class="commentBarrage"><i class="anzhiyufont anzhiyu-icon-message"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="音乐开关"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">原创</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/Programming/">Programming</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/Linux/" tabindex="-1"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>Linux</span></a></span></div></div><h1 class="post-title">Linux到精通</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="post-meta-icon anzhiyufont anzhiyu-icon-calendar-days"></i><span class="post-meta-label">发表于</span><time datetime="2021-10-30T06:45:56.000Z" title="发表于 2021-10-30 14:45:56">2021-10-30</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-wordcount"><i class="anzhiyufont anzhiyu-icon-file-word post-meta-icon" title="文章字数"></i><span class="post-meta-label" title="文章字数">字数总计:</span><span class="word-count" title="文章字数">39.9k</span><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-clock post-meta-icon" title="阅读时长"></i><span class="post-meta-label" title="阅读时长">阅读时长:</span><span>152分钟</span></span><span class="post-meta-separator"></span><span class="post-meta-pv-cv" id="" data-flag-title="Linux到精通"><i class="anzhiyufont anzhiyu-icon-fw-eye post-meta-icon"></i><span class="post-meta-label" title="阅读量">阅读量:</span><span id="busuanzi_value_page_pv"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></span><span class="post-meta-separator">       </span><span class="post-meta-position" title="作者IP属地为石家庄"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>石家庄</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/Linux.png"></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><p>涉及的内容情况参看下面的目录：  </p>
<h4 id="文章目录"><a href="#文章目录" class="headerlink" title="文章目录"></a>文章目录</h4><ul>
<li><a href="#_5">操作系统的发展史</a></li>
<li><ul>
<li><a href="#Unix_7">Unix</a></li>
<li><a href="#Minix_18">Minix</a></li>
<li><a href="#Linux_22">Linux</a></li>
<li><a href="#_26">操作系统的发展</a></li>
<li><a href="#Minix_33">Minix没有火起来的原因</a></li>
</ul>
</li>
<li><a href="#Linux_37">Linux介绍</a></li>
<li><ul>
<li><a href="#Linux_39">Linux内核&amp;发行版</a></li>
<li><ul>
<li><a href="#Linux_41">Linux内核版本</a></li>
<li><a href="#Linux_52">Linux发行版本</a></li>
</ul>
</li>
<li><a href="#Unix_64">类Unix系统目录结构</a></li>
<li><a href="#Linux_70">Linux目录</a></li>
<li><a href="#_92">用户目录</a></li>
</ul>
</li>
<li><a href="#_133">命令行基本操作</a></li>
<li><ul>
<li><a href="#_135">命令使用方法</a></li>
<li><a href="#_145">查看帮助文档</a></li>
<li><ul>
<li><a href="#help_147">help</a></li>
<li><a href="#manmanual_153">man(manual)</a></li>
</ul>
</li>
<li><a href="#tab_190">tab键自动补全</a></li>
<li><a href="#history_194">history游览历史</a></li>
<li><a href="#ctrl_208">命令行中的ctrl组合键</a></li>
</ul>
</li>
<li><a href="#Linux_233">Linux命令</a></li>
<li><ul>
<li><a href="#_235">权限管理</a></li>
<li><ul>
<li><a href="#ls_237">列出目录的内容：ls</a></li>
<li><a href="#inodestat_282">显示inode的内容：stat</a></li>
<li><a href="#_312">文件访问权限</a></li>
<li><a href="#chmod_337">修改文件权限：chmod</a></li>
<li><a href="#chown_383">修改文件所有者：chown</a></li>
<li><a href="#chgrp_395">修改文件所属组：chgrp</a></li>
</ul>
</li>
<li><a href="#_405">文件内容查看</a></li>
<li><ul>
<li><a href="#cattac_417">基本显示：cat、tac</a></li>
<li><a href="#nl_453">显示行号：nl</a></li>
<li><a href="#moreless_478">分屏显示：more、less</a></li>
<li><a href="#nheadtail_522">取首尾n行：head、tail</a></li>
</ul>
</li>
<li><a href="#_565">文件管理</a></li>
<li><ul>
<li><a href="#_567">输出重定向：&gt;</a></li>
<li><a href="#_575">管道：|</a></li>
<li><a href="#clear_596">清屏：clear</a></li>
<li><a href="#_cd_600">切换工作目录： cd</a></li>
<li><a href="#pwd_614">显示当前路径：pwd</a></li>
<li><a href="#mkdir_633">创建目录：mkdir</a></li>
<li><a href="#rm_673">删除文件：rm</a></li>
<li><a href="#ln_685">建立链接文件：ln</a></li>
<li><a href="#grep_695">文本搜索：grep</a></li>
<li><a href="#find_744">查找文件：find</a></li>
<li><a href="#cp_860">拷贝文件：cp</a></li>
<li><a href="#mv_879">移动文件：mv</a></li>
<li><a href="#tar_891">归档管理：tar</a></li>
<li><a href="#gzipbzip2_938">文件压缩解压：gzip、bzip2</a></li>
<li><a href="#zipunzip_1017">文件压缩解压：zip、unzip</a></li>
<li><a href="#which_1053">查看命令位置：which</a></li>
</ul>
</li>
<li><a href="#_1062">用户和用户组管理</a></li>
<li><ul>
<li><a href="#whoami_1074">查看当前用户：whoami</a></li>
<li><a href="#who_1083">查看登录用户：who</a></li>
<li><a href="#_exit_1096">退出登录账户： exit</a></li>
<li><a href="#useradd_1104">添加用户账号：useradd</a></li>
<li><a href="#usermod_1130">修改用户：usermod</a></li>
<li><a href="#passwd_1156">设置用户密码：passwd</a></li>
<li><a href="#userdel_1204">删除用户：userdel</a></li>
<li><a href="#su_1211">切换用户：su</a></li>
<li><a href="#rootsudo_1228">以root身份执行指令：sudo</a></li>
<li><a href="#groupaddgroupdel_1265">添加、删除组账号：groupadd、groupdel</a></li>
<li><a href="#groupmod_1276">用户组管理：groupmod</a></li>
</ul>
</li>
<li><a href="#_1312">系统管理</a></li>
<li><ul>
<li><a href="#cal_1314">查看当前日历：cal</a></li>
<li><a href="#date_1329">显示或设置时间：date</a></li>
<li><a href="#netstat_1356">查看网络状态：netstat</a></li>
<li><a href="#ps_1405">查看进程信息：ps</a></li>
<li><a href="#pstree_1483">以树状图显示进程关系：pstree</a></li>
<li><a href="#top_1520">动态显示进程：top</a></li>
<li><a href="#kill_1569">终止进程：kill</a></li>
<li><a href="#rebootshutdowninit_1581">关机重启：reboot、shutdown、init</a></li>
<li><a href="#df_1593">检测磁盘空间：df</a></li>
<li><a href="#du_1624">检测目录所占磁盘空间：du</a></li>
<li><a href="#ifconfig_1651">查看或配置网卡信息：ifconfig</a></li>
<li><a href="#ping_1691">测试远程主机连通性：ping</a></li>
</ul>
</li>
<li><a href="#Linux__1714">Linux 磁盘管理</a></li>
<li><ul>
<li><a href="#df_1724">df</a></li>
<li><a href="#du_1771">du</a></li>
<li><a href="#fdisk_1831">fdisk</a></li>
<li><a href="#_1935">磁盘格式化</a></li>
<li><a href="#_1987">磁盘检验</a></li>
<li><a href="#_2036">磁盘挂载与卸除</a></li>
</ul>
</li>
<li><a href="#Linux_2076">Linux管道命令</a></li>
<li><ul>
<li><a href="#wc___2090">wc - 统计字数</a></li>
<li><a href="#cut___2126">cut - 列选取命令</a></li>
<li><a href="#grep___2155">grep - 行选取命令</a></li>
<li><a href="#sort___2212">sort - 排序</a></li>
<li><a href="#uniq___2300">uniq - 去重</a></li>
<li><a href="#tee___2359">tee - 同时输出多个文件</a></li>
<li><a href="#tr___2383">tr - 替换指定的字符</a></li>
<li><a href="#join___2457">join - 文件按行连接</a></li>
<li><a href="#paste_2503">paste-将多个文件对应行链接在一起</a></li>
<li><a href="#split___2557">split - 文件切割</a></li>
<li><a href="#xargs___2603">xargs - 参数代换</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#linux_2728">linux命令练习</a></li>
<li><ul>
<li><a href="#_2730">常用命令</a></li>
<li><a href="#_2816">系统命令</a></li>
<li><a href="#_2875">用户和组</a></li>
<li><a href="#_2914">权限</a></li>
<li><a href="#_2935">帮助文档</a></li>
<li><a href="#VIM_3032">VIM</a></li>
<li><a href="#_3074">查找</a></li>
<li><a href="#_3113">打包与压缩</a></li>
<li><a href="#_3158">正则表达式</a></li>
<li><a href="#_3186">输入输出重定向</a></li>
<li><a href="#_3218">进程控制</a></li>
<li><a href="#_3251">其他命令</a></li>
<li><ul>
<li><a href="#scp_3253">远程文件复制：scp</a></li>
<li><a href="#locate_3305">locate查找</a></li>
<li><a href="#which_3329">which命令</a></li>
<li><a href="#echo_3338">echo</a></li>
<li><a href="#export_3351">设置或显示环境变量：export</a></li>
<li><a href="#ip_3372">修改主机名&amp;ip地址</a></li>
<li><a href="#mount_3412">mount挂载</a></li>
<li><a href="#ssh_3429">ssh免密登陆</a></li>
</ul>
</li>
<li><a href="#_3447">批量添加用户</a></li>
<li><ul>
<li><a href="#_3449">与用户账号有关的系统文件</a></li>
<li><a href="#_3605">实操</a></li>
</ul>
</li>
<li><a href="#crontab_3692">crontab的使用</a></li>
</ul>
</li>
<li><a href="#_3823">特殊权限</a></li>
<li><ul>
<li><a href="#_3827">三种特殊的权限</a></li>
<li><ul>
<li><a href="#SetUIDsuid_3829">SetUID(suid)</a></li>
<li><a href="#setGIDsgid_3865">setGID（sgid）</a></li>
<li><a href="#stickysbit_3900">sticky(sbit)粘滞位</a></li>
</ul>
</li>
<li><a href="#chattr_3927">chattr权限</a></li>
<li><ul>
<li><a href="#lsattr_3931">lsattr：查看特殊权限</a></li>
<li><a href="#chattr_3938">chattr：设置特殊权限</a></li>
</ul>
</li>
<li><a href="#umask_3961">掩码umask</a></li>
<li><ul>
<li><a href="#umask_3963">umask的作用</a></li>
<li><a href="#umask_3974">umask是如何改变新文件的权限</a></li>
<li><a href="#umask_3990">永久修改umask</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#linux_3998">linux软件安装</a></li>
<li><ul>
<li><a href="#Ubuntu_4000">Ubuntu软件安装与卸载</a></li>
<li><ul>
<li><a href="#Ubuntu_4002">更新Ubuntu软件下载地址</a></li>
<li><a href="#Ubuntu_4034">Ubuntu软件操作的相关命令</a></li>
</ul>
</li>
<li><a href="#yum_4055">yum安装命令</a></li>
<li><ul>
<li><a href="#yum_4063">更新国内yum源</a></li>
<li><a href="#yum_4099">yum常用命令</a></li>
<li><a href="#yumMySQL57_4131">yum在线安装MySQL5.7</a></li>
<li><a href="#rpm_4204">rpm</a></li>
</ul>
</li>
<li><a href="#Linux_4250">Linux的基本配置</a></li>
<li><ul>
<li><a href="#JDK_4291">安装JDK</a></li>
<li><a href="#YUM_4307">制作本地YUM源</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#Shell_4380">Shell编程</a></li>
<li><ul>
<li><a href="#_4401">入门</a></li>
<li><ul>
<li><a href="#Shell_4403">运行Shell脚本</a></li>
<li><a href="#shell_4449">编写一个快捷创建shell脚本的命令</a></li>
<li><a href="#echo_4478">echo命令</a></li>
<li><ul>
<li><a href="#_4528">显示换行</a></li>
<li><a href="#_4543">显示不换行</a></li>
</ul>
</li>
<li><a href="#printf__4557">printf 命令</a></li>
<li><a href="#Shell__4622">Shell 注释</a></li>
</ul>
</li>
<li><a href="#Shell_4670">Shell变量</a></li>
<li><ul>
<li><a href="#_4672">定义变量</a></li>
<li><a href="#_4685">使用变量</a></li>
<li><a href="#_4703">只读变量</a></li>
<li><a href="#_4716">删除变量</a></li>
<li><a href="#_4727">变量类型</a></li>
</ul>
</li>
<li><a href="#Shell__4735">Shell 函数</a></li>
<li><a href="#_4831">文件包含</a></li>
<li><a href="#shell_4876">shell数据类型</a></li>
<li><ul>
<li><a href="#_4878">字符串</a></li>
<li><a href="#_4962">数组</a></li>
<li><ul>
<li><a href="#_4968">定义数组</a></li>
<li><a href="#_4997">读取数组</a></li>
<li><a href="#_5058">获取数组的长度</a></li>
</ul>
</li>
<li><a href="#Shell_5096">Shell传递参数</a></li>
</ul>
</li>
<li><a href="#Shell_5210">Shell基本运算符</a></li>
<li><ul>
<li><a href="#_5242">算术运算符</a></li>
<li><a href="#_5313">关系运算符</a></li>
<li><a href="#_5385">布尔运算符</a></li>
<li><a href="#_5438">逻辑运算符</a></li>
<li><a href="#_5477">字符串运算符</a></li>
<li><a href="#_5539">文件测试运算符</a></li>
</ul>
</li>
<li><a href="#test_5628">test命令</a></li>
<li><ul>
<li><a href="#_5632">数值测试</a></li>
<li><a href="#_5680">字符串测试</a></li>
<li><a href="#_5708">文件测试</a></li>
</ul>
</li>
<li><a href="#Shell__5758">Shell 流程控制</a></li>
<li><ul>
<li><a href="#if_else_5760">if else判断语句</a></li>
<li><a href="#for_5852">for循环</a></li>
<li><a href="#while_5906">while循环</a></li>
<li><a href="#_5958">无限循环</a></li>
<li><a href="#until__5984">until 循环</a></li>
<li><a href="#case_6034">case</a></li>
<li><a href="#_6084">跳出循环</a></li>
</ul>
</li>
<li><a href="#Shell_6121">Shell输入&#x2F;输出重定向</a></li>
<li><ul>
<li><a href="#_6140">输出重定向</a></li>
<li><a href="#_6171">输入重定向</a></li>
<li><a href="#_6205">重定向深入讲解</a></li>
<li><a href="#Here_Document_6245">Here Document</a></li>
<li><a href="#devnull__6273">&#x2F;dev&#x2F;null 文件</a></li>
</ul>
</li>
<li><a href="#_6293">实例</a></li>
<li><ul>
<li><a href="#_6295">杨辉三角：</a></li>
<li><a href="#summax_6335">sum()&amp;max():</a></li>
<li><a href="#99_6376">99乘法表：</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_6401">文本编辑命令</a></li>
<li><ul>
<li><a href="#cut_6403">cut命令</a></li>
<li><a href="#sed_6432">sed命令</a></li>
<li><ul>
<li><a href="#_6460">元字符集</a></li>
<li><a href="#ai_6478">a|i:在指定行位置添加行</a></li>
<li><a href="#d_6551">d:删除指定行</a></li>
<li><a href="#c_6586">c:替换指定行</a></li>
<li><a href="#p_6598">p:仅显示指定行</a></li>
<li><a href="#s_6640">s:字符串替换</a></li>
<li><a href="#y_6673">y:单字符替换</a></li>
<li><a href="#hHgG_6692">`hHgG`模式空间&amp;保持空间</a></li>
<li><a href="#e_6739">多次指定`-e`选项进行多点编辑</a></li>
<li><a href="#i_6784">选项`-i`直接修改文件内容</a></li>
</ul>
</li>
<li><a href="#awk_6808">awk命令</a></li>
<li><ul>
<li><a href="#_6831">基本用法</a></li>
<li><ul>
<li><a href="#F_6861">`-F`指定分割字符</a></li>
<li><a href="#v_6892">`-v`设置变量</a></li>
<li><a href="#fawk_6918">`-f`指定awk脚本</a></li>
</ul>
</li>
<li><a href="#AWK_6986">AWK工作原理</a></li>
<li><ul>
<li><a href="#_7012">运算符</a></li>
<li><a href="#_NR__7109">输出顺序号 NR, 匹配文本行号</a></li>
<li><a href="#_7119">指定输出分割符</a></li>
<li><a href="#_7134">忽略大小写</a></li>
</ul>
</li>
<li><a href="#_7143">正则字符串匹配</a></li>
<li><a href="#_7181">一些实例</a></li>
</ul>
</li>
<li><a href="#awk_7236">awk编程</a></li>
<li><ul>
<li><a href="#IFELSE_7238">条件语句IF&amp;ELSE</a></li>
<li><a href="#ForWhile_7318">循环语句For&amp;While</a></li>
<li><a href="#awk_7440">awk数组</a></li>
<li><a href="#AWK__7522">AWK 用户自定义函数</a></li>
<li><a href="#AWK__7580">AWK 内置函数</a></li>
<li><a href="#_7590">算数函数</a></li>
<li><ul>
<li><a href="#_7604">字符串函数</a></li>
<li><a href="#_7673">时间函数</a></li>
<li><a href="#_7722">位操作函数</a></li>
<li><a href="#_7733">其他函数</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a href="#vim_7749">vim全套笔记</a></li>
<li><ul>
<li><a href="#VIM_7751">VIM快速复习</a></li>
<li><ul>
<li><a href="#_vim_7753">什么是 vim？</a></li>
<li><a href="#last_line_mode_7769">按:冒号即可进入last line mode</a></li>
<li><a href="#command_modeInsert_mode_7790">从command mode进入Insert mode</a></li>
<li><a href="#ESCcommand_mode_7797">按ESC键退回command mode</a></li>
<li><a href="#vimvi_7850">多行编辑，vim支持，vi不支持</a></li>
<li><a href="#vim_7859">vim练习</a></li>
</ul>
</li>
<li><a href="#vivim_7946">vi&#x2F;vim的三种模式</a></li>
<li><ul>
<li><a href="#_7954">命令模式</a></li>
<li><a href="#_7962">输入模式</a></li>
<li><a href="#_7966">底行模式</a></li>
</ul>
</li>
<li><a href="#vim_7981">vim基础操作</a></li>
<li><ul>
<li><a href="#Insert_mode_7983">进入输入模式(Insert mode)</a></li>
<li><a href="#Replace_mode_8001">进入替换模式(Replace mode)</a></li>
<li><a href="#_8008">命令模式下常用命令</a></li>
<li><ul>
<li><a href="#_8010">移动光标</a></li>
<li><a href="#_8036">删除操作</a></li>
<li><a href="#_8049">撤销&amp;复原&amp;重复</a></li>
<li><a href="#_8057">复制&amp;粘贴</a></li>
<li><a href="#_8069">合成行</a></li>
<li><a href="#_8073">搜索</a></li>
<li><a href="#_8082">替换</a></li>
</ul>
</li>
<li><a href="#_8090">底行命令模式的常用操作</a></li>
<li><a href="#_8115">可视模式</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#Linux_8138">Linux系统启动过程</a></li>
<li><ul>
<li><a href="#_8150">加载内核</a></li>
<li><a href="#init_8158">启动初始化进程init</a></li>
<li><a href="#_8174">确定运行级别</a></li>
<li><a href="#_8205">加载开机启动程序</a></li>
<li><a href="#_8229">用户登录</a></li>
<li><a href="#_8251">图形模式与文字模式的切换方式</a></li>
<li><a href="#login_shell_8263">login shell</a></li>
<li><a href="#Linux_8283">Linux关机</a></li>
<li><a href="#_8303">计算机启动的流程</a></li>
<li><ul>
<li><a href="#BIOS_8317">第一阶段：BIOS</a></li>
<li><a href="#__8341">第二阶段： 主引加粗样式导记录</a></li>
<li><a href="#_8385">第三阶段：硬盘启动</a></li>
<li><a href="#_8415">第四阶段：操作系统</a></li>
</ul>
</li>
<li><a href="#Centosroot_8425">单用户模式修改Centos系统root密码</a></li>
<li><a href="#Ubunturoot_8457">救援模式修改Ubuntu系统root密码</a></li>
</ul>
</li>
<li><a href="#_8483">虚拟机</a></li>
<li><ul>
<li><a href="#_8485">三种网络模式</a></li>
<li><a href="#_8509">常见问题</a></li>
<li><ul>
<li><a href="#ping_8511">修改静态地址后发现无法ping外网</a></li>
<li><a href="#eth0_8521">虚拟机克隆后eth0消失</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="操作系统的发展史"><a href="#操作系统的发展史" class="headerlink" title="操作系统的发展史"></a>操作系统的发展史</h2><h3 id="Unix"><a href="#Unix" class="headerlink" title="Unix"></a>Unix</h3><ul>
<li>1965年之前，电脑只有军事或者学院的研究机构碰的起，当时大型主机至多能提供30台终端（30个键盘、显示器)的连接。</li>
<li>1965年左后由贝尔实验室、麻省理工学院 以及 通用电气共同发起了Multics项目，<strong>想让大型主机支持300台终端</strong></li>
<li>1969年前后这个项目进度缓慢，资金短缺，贝尔实验室退出了研究</li>
<li>1969年从这个项目中退出的Ken Thompson当时在实验室无聊时，为了让一台空闲的电脑上能够运行“星际旅行”游行，在8月份左右趁着其妻子探亲的时间，用了1个月的时间编写出了 Unix操作系统的原型</li>
<li>1970年，美国贝尔实验室的 Ken Thompson，以 BCPL语言 为基础，设计出很简单且很接近硬件的 B语言（取BCPL的首字母），并且他用B语言写了第一个UNIX操作系统。<br>因为B语言的跨平台性较差，为了能够在其他的电脑上也能够运行这个非常棒的Unix操作系统，Dennis Ritchie和Ken Thompson 从B语言的基础上准备研究一个更好的语言</li>
<li>1972年，美国贝尔实验室的 Dennis Ritchie在B语言的基础上最终设计出了一种新的语言，他取了BCPL的第二个字母作为这种语言的名字，这就是C语言</li>
<li>1973年初，C语言的主体完成。Thompson和Ritchie迫不及待地开始用它完全重写了现在大名鼎鼎的Unix操作系统</li>
</ul>
<h3 id="Minix"><a href="#Minix" class="headerlink" title="Minix"></a>Minix</h3><p>因为AT&amp;T(通用电气)的政策改变，在Version 7 Unix推出之后，发布新的使用条款，将UNIX源代码私有化，在大学中不再能使用UNIX源代码。Andrew S. Tanenbaum(塔能鲍姆)教授为了能在课堂上教授学生操作系统运作的实务细节，决定在不使用任何AT&amp;T的源代码前提下，自行开发与UNIX兼容的操作系统，以避免版权上的争议。他以小型UNIX（mini-UNIX）之意，将它称为MINIX。</p>
<h3 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h3><p>因为Minix只是教学使用，因此功能并不强，因此Torvalds利用GNU的bash当做开发环境，gcc当做编译工具，编写了Linux内核-v0.02，但是一开始Linux并不能兼容Unix，即Unix上跑的应用程序不能在Linux上跑，即应用程序与内核之间的接口不一致，因为Unix是遵循POSIX规范的，因此Torvalds修改了Linux，并遵循POSIX（Portable Operating System Interface，他规范了应用程序与内核的接口规范）； 一开始Linux只适用于386，后来经过全世界的网友的帮助，最终能够兼容多种硬件</p>
<h3 id="操作系统的发展"><a href="#操作系统的发展" class="headerlink" title="操作系统的发展"></a>操作系统的发展</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/df96e289eb08cd5e6e4170b17f5cf742gif.jpg" alt="img"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/8eae2620bba177a756f74edee919b1d7png.jpg" alt="img"><br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/bcc2453d54e29ee44def8556ffc03842png.jpg" alt="img"></p>
<h3 id="Minix没有火起来的原因"><a href="#Minix没有火起来的原因" class="headerlink" title="Minix没有火起来的原因"></a>Minix没有火起来的原因</h3><blockquote>
<p>Minix的创始人说，MINIX 3没有统治世界是源于他在1992年犯下的一个错误，当时他认为BSD必然会一统天下，因为它是一个更稳定和更成熟的系统，其它操作系统难以与之竞争。因此他的MINIX的重心集中在教育上。四名BSD开发者已经成立了一家公司销售BSD系统，他们甚至还有一个有趣的电话号码1-800-ITS-UNIX。然而他们正因为这个电话号码而惹火上身。美国电话电报公司因电话号码而提起诉讼。官司打了三年才解决。在此期间，BSD陷于停滞，而Linux则借此一飞冲天。他的错误在于没有意识官司竟然持续了如此长的时间，以及BSD会因此受到削弱。如果美国电话电报公司没有起诉，Linux永远不会流行起来，BSD将统治世界。</p>
</blockquote>
<h2 id="Linux介绍"><a href="#Linux介绍" class="headerlink" title="Linux介绍"></a>Linux介绍</h2><h3 id="Linux内核-发行版"><a href="#Linux内核-发行版" class="headerlink" title="Linux内核&amp;发行版"></a>Linux内核&amp;发行版</h3><h4 id="Linux内核版本"><a href="#Linux内核版本" class="headerlink" title="Linux内核版本"></a>Linux内核版本</h4><p><strong>内核</strong>(kernel)是系统的心脏，是运行程序和管理像磁盘和打印机等硬件设备的核心程序，它<strong>提供了一个在裸设备与应用程序间的抽象层</strong>。</p>
<p>Linux内核版本又分为稳定版和开发版，两种版本是相互关联，相互循环：</p>
<ul>
<li>稳定版：具有工业级强度，可以广泛地应用和部署。新的稳定版相对于较旧的只是修正一些bug或加入一些新的驱动程序。</li>
<li>开发版：由于要试验各种解决方案，所以变化很快。</li>
</ul>
<p>内核源码网址：<a target="_blank" rel="noopener" href="http://www.kernel.org/">http://www.kernel.org</a> 所有来自全世界的对Linux源码的修改最终都会汇总到这个网站，由Linus领导的开源社区对其进行甄别和修改最终决定是否进入到Linux主线内核源码中。</p>
<h4 id="Linux发行版本"><a href="#Linux发行版本" class="headerlink" title="Linux发行版本"></a>Linux发行版本</h4><p>Linux发行版 (也被叫做 GNU&#x2F;Linux 发行版) 通常包含了包括桌面环境、办公套件、媒体播放器、数据库等应用软件。</p>
<p>目前市面上较知名的发行版有：Ubuntu、RedHat、CentOS、Debian、Fedora、SuSE、OpenSUSE、Arch Linux、SolusOS 等。</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/94fda88f37da710407059bf585dfccf4png.jpg" alt="img"></p>
<h4 id="Linux-关机"><a href="#Linux-关机" class="headerlink" title="Linux 关机"></a>Linux 关机</h4><p>在linux领域内大多用在服务器上，很少遇到关机的操作。毕竟服务器上跑一个服务是永无止境的，除非特殊情况下，不得已才会关机。</p>
<p>正确的关机流程为：sync &gt; shutdown &gt; reboot &gt; halt</p>
<p>关机指令为：shutdown ，你可以man shutdown 来看一下帮助文档。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">例如你可以运行如下命令关机：</span><br><span class="line"></span><br><span class="line">sync 将数据由内存同步到硬盘中。</span><br><span class="line"></span><br><span class="line">shutdown 关机指令，你可以man shutdown 来看一下帮助文档。例如你可以运行如下命令关机：</span><br><span class="line"></span><br><span class="line">shutdown –h 10 ‘This server will shutdown after 10 mins’ 这个命令告诉大家，计算机将在10分钟后关机，并且会显示在登陆用户的当前屏幕中。</span><br><span class="line"></span><br><span class="line">shutdown –h now 立马关机</span><br><span class="line"></span><br><span class="line">shutdown –h 20:25 系统会在今天20:25关机</span><br><span class="line"></span><br><span class="line">shutdown –h +10 十分钟后关机</span><br><span class="line"></span><br><span class="line">shutdown –r now 系统立马重启</span><br><span class="line"></span><br><span class="line">shutdown –r +10 系统十分钟后重启</span><br><span class="line"></span><br><span class="line">reboot 就是重启，等同于 shutdown –r now</span><br><span class="line"></span><br><span class="line">halt 关闭系统，等同于shutdown –h now 和 poweroff</span><br></pre></td></tr></table></figure>
<p>最后总结一下，不管是重启系统还是关闭系统，首先要运行<strong>sync</strong>命令，把内存中的数据写到磁盘中。</p>
<p>关机的命令有 <strong>shutdown –h now halt poweroff</strong> 和 <strong>init 0</strong> , 重启系统的命令有 <strong>shutdown –r now reboot init 6</strong>。</p>
<h4 id="终端利用ssh登录远程服务器"><a href="#终端利用ssh登录远程服务器" class="headerlink" title="终端利用ssh登录远程服务器"></a>终端利用ssh登录远程服务器</h4><p>安装ssh：<br>yum install ssh</p>
<p>启动ssh：<br>service sshd start</p>
<p>登录远程服务器：<br>ssh -p 50022 <a href="mailto:&#x6d;&#x79;&#64;&#x31;&#x32;&#55;&#x2e;&#x30;&#46;&#48;&#46;&#x31;">&#x6d;&#x79;&#64;&#x31;&#x32;&#55;&#x2e;&#x30;&#46;&#48;&#46;&#x31;</a></p>
<p>输入密码：<br><a href="mailto:&#109;&#121;&#x40;&#49;&#50;&#x37;&#x2e;&#x30;&#46;&#48;&#x2e;&#x31;">&#109;&#121;&#x40;&#49;&#50;&#x37;&#x2e;&#x30;&#46;&#48;&#x2e;&#x31;</a>:</p>
<p>-p 后面是端口<br>my 是服务器用户名<br>127.0.0.1 是服务器 ip</p>
<p>回车输入密码即可登录</p>
<h3 id="类Unix系统目录结构"><a href="#类Unix系统目录结构" class="headerlink" title="类Unix系统目录结构"></a>类Unix系统目录结构</h3><p>Unix没有盘符这个概念，只有一个根目录&#x2F;，所有文件都在它下面</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/ed151692faccea1caf4f96f3b460d16fpng.jpg" alt="img"></p>
<h3 id="Linux目录"><a href="#Linux目录" class="headerlink" title="Linux目录"></a>Linux目录</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/cee83d5e4c0ec6e1e6b1158c8ec56dbapng.jpg" alt="img"></p>
<ul>
<li>&#x2F;：<br><strong>根目录</strong>，一般根目录下只存放目录，在Linux下有且只有一个根目录。所有的东西都是从这里开始。当你在终端里输入“&#x2F;home”，你其实是在告诉电脑，先从&#x2F;（根目录）开始，再进入到home目录。</li>
<li>&#x2F;bin:<br>&#x2F;usr&#x2F;bin: <strong>可执行二进制文件的目录</strong>，如常用的命令ls、tar、mv、cat等。</li>
<li>&#x2F;boot：<br><strong>放置linux系统启动时用到的一些文件</strong>，如Linux的内核文件：&#x2F;boot&#x2F;vmlinuz;系统引导管理器：&#x2F;boot&#x2F;grub。</li>
<li>&#x2F;dev：<br><strong>存放linux系统下的设备文件</strong>，访问该目录下某个文件，相当于访问某个设备，常用的是挂载光驱 mount &#x2F;dev&#x2F;cdrom &#x2F;mnt。</li>
<li>&#x2F;etc：<br><strong>系统配置文件存放的目录</strong>，不建议在此目录下存放可执行文件，重要的配置文件有 &#x2F;etc&#x2F;inittab、&#x2F;etc&#x2F;fstab、&#x2F;etc&#x2F;init.d、&#x2F;etc&#x2F;X11、&#x2F;etc&#x2F;sysconfig、&#x2F;etc&#x2F;xinetd.d。</li>
<li>&#x2F;home：<br>系统默认的用户家目录，新增用户账号时，用户的家目录都存放在此目录下，表示当前用户的家目录，edu 表示用户 edu 的家目录。</li>
<li>&#x2F;lib:<br>&#x2F;usr&#x2F;lib: &#x2F;usr&#x2F;local&#x2F;lib：<strong>系统使用的函数库的目录</strong>，程序在执行过程中，需要调用一些额外的参数时需要函数库的协助。</li>
<li>&#x2F;lost+fount：<br><strong>系统异常产生错误时，会将一些遗失的片段放置于此目录下</strong>。</li>
<li>&#x2F;mnt:<br>&#x2F;media：光盘默认挂载点，通常光盘挂载于 &#x2F;mnt&#x2F;cdrom 下，也不一定，可以选择任意位置进行挂载。</li>
<li>&#x2F;opt：<br>给主机额外安装软件所摆放的目录。</li>
<li>&#x2F;proc：<br>此目录的数据都在内存中，如系统核心，外部设备，网络状态，由于数据都存放于内存中，所以不占用磁盘空间，比较重要的目录有 &#x2F;proc&#x2F;cpuinfo、&#x2F;proc&#x2F;interrupts、&#x2F;proc&#x2F;dma、&#x2F;proc&#x2F;ioports、&#x2F;proc&#x2F;net&#x2F;* 等。</li>
<li>&#x2F;root：<br>系统管理员root的家目录。</li>
<li>&#x2F;sbin:<br>&#x2F;usr&#x2F;sbin: &#x2F;usr&#x2F;local&#x2F;sbin：放置系统管理员使用的可执行命令，如fdisk、shutdown、mount 等。与 &#x2F;bin 不同的是，这几个目录是给系统管理员 root使用的命令，一般用户只能”查看”而不能设置和使用。</li>
<li>&#x2F;tmp：<br><strong>一般用户或正在执行的程序临时存放文件的目录</strong>，任何人都可以访问，重要数据不可放置在此目录下。</li>
<li>&#x2F;srv：<br>服务启动之后需要访问的数据目录，如 www 服务需要访问的网页数据存放在 &#x2F;srv&#x2F;www 内。</li>
<li>&#x2F;usr：<br><strong>应用程序存放目录</strong>，&#x2F;usr&#x2F;bin 存放应用程序，&#x2F;usr&#x2F;share 存放共享数据，&#x2F;usr&#x2F;lib 存放不能直接运行的，却是许多程序运行所必需的一些函数库文件。&#x2F;usr&#x2F;local: 存放软件升级包。&#x2F;usr&#x2F;share&#x2F;doc: 系统说明文件存放目录。&#x2F;usr&#x2F;share&#x2F;man: 程序说明文件存放目录。</li>
<li>&#x2F;var：<br>放置系统执行过程中经常变化的文件，如随时更改的日志文件 &#x2F;var&#x2F;log，&#x2F;var&#x2F;log&#x2F;message：所有的登录文件存放目录，&#x2F;var&#x2F;spool&#x2F;mail：邮件存放的目录，&#x2F;var&#x2F;run:程序或服务启动后，其PID存放在该目录下。</li>
</ul>
<h3 id="用户目录"><a href="#用户目录" class="headerlink" title="用户目录"></a>用户目录</h3><p>位于&#x2F;home&#x2F;user，称之为用户工作目录或家目录,表示方式：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/home/user</span><br></pre></td></tr></table></figure>

<p>从&#x2F;目录开始描述的路径为<strong>绝对路径</strong>，如：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">路径的写法，由根目录 / 写起，例如： /usr/share/doc 这个目录。</span><br></pre></td></tr></table></figure>

<p>从当前位置开始描述的路径为<strong>相对路径</strong>，如：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">路径的写法，不是由 / 写起，例如由 /usr/share/doc 要到 /usr/share/man 底下时，可以写成： <span class="built_in">cd</span> ../man 这就是相对路径的写法。</span><br></pre></td></tr></table></figure>

<p>每个目录下都有 **. 和 …**</p>
<p><strong>. 表示当前目录</strong></p>
<p><strong>… 表示上一级目录，即父目录</strong></p>
<p>根目录下的.和…都表示当前目录</p>
<table>
<thead>
<tr>
<th>文件的颜色</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>蓝色</td>
<td>目录</td>
</tr>
<tr>
<td>绿色</td>
<td>可执行文件</td>
</tr>
<tr>
<td>红色</td>
<td>压缩文件</td>
</tr>
<tr>
<td>浅蓝色</td>
<td>链接文件</td>
</tr>
<tr>
<td>灰色</td>
<td>其他文件</td>
</tr>
</tbody></table>
<h2 id="命令行基本操作"><a href="#命令行基本操作" class="headerlink" title="命令行基本操作"></a>命令行基本操作</h2><h3 id="命令使用方法"><a href="#命令使用方法" class="headerlink" title="命令使用方法"></a>命令使用方法</h3><p>Linux命令格式：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">command</span>  [-options]  [parameter1]  …</span><br></pre></td></tr></table></figure>

<p>command: 命令名； [-options]：选项,可用来对命令进行控制，也可以省略，<code>[]代表可选</code> parameter1 …：传给命令的参数：可以是零个一个或多个</p>
<h3 id="查看帮助文档"><a href="#查看帮助文档" class="headerlink" title="查看帮助文档"></a>查看帮助文档</h3><h4 id="help"><a href="#help" class="headerlink" title="help"></a>help</h4><p>一般是linux命令自带的帮助信息</p>
<p>如：ls –help</p>
<h4 id="man-manual"><a href="#man-manual" class="headerlink" title="man(manual)"></a>man(manual)</h4><p>man是linux提供的一个手册，包含了绝大部分的命令、函数使用说明</p>
<p>该手册分成很多章节（section），使用man时可以指定不同的章节来浏览。</p>
<p>例：man ls ; man 2 printf</p>
<p>man中各个section意义如下：</p>
<ol>
<li>Standard commands（标准命令）</li>
<li>System calls（系统调用，如open,write）</li>
<li>Library functions（库函数，如printf,fopen）</li>
<li>Special devices（设备文件的说明，&#x2F;dev下各种设备）</li>
<li>File formats（文件格式，如passwd）</li>
<li>Games and toys（游戏和娱乐）</li>
<li>Miscellaneous（杂项、惯例与协定等，例如Linux档案系统、网络协定、ASCII 码；environ全局变量）</li>
<li>Administrative Commands（管理员命令，如ifconfig）</li>
</ol>
<p>man是按照手册的章节号的顺序进行搜索的。</p>
<p>man设置了如下的功能键：</p>
<table>
<thead>
<tr>
<th align="center">功能键</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td align="center">空格键</td>
<td>显示手册页的下一屏</td>
</tr>
<tr>
<td align="center">Enter键</td>
<td>一次滚动手册页的一行</td>
</tr>
<tr>
<td align="center">b</td>
<td>回滚一屏</td>
</tr>
<tr>
<td align="center">f</td>
<td>前滚一屏</td>
</tr>
<tr>
<td align="center">q</td>
<td>退出man命令</td>
</tr>
<tr>
<td align="center">h</td>
<td>列出所有功能键</td>
</tr>
<tr>
<td align="center">&#x2F;word</td>
<td>搜索word字符串</td>
</tr>
</tbody></table>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/eaa669cc38073241cb90af97af43bc92png.jpg" alt="img"></p>
<p>注意：实际上，我们不用指定第几个章节也用查看，如，man ls</p>
<h3 id="tab键自动补全"><a href="#tab键自动补全" class="headerlink" title="tab键自动补全"></a>tab键<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E8%87%AA%E5%8A%A8%E8%A1%A5%E5%85%A8&spm=1001.2101.3001.7020">自动补全</a></h3><p>在敲出命令的前几个字母的同时，按下tab键，系统会自动帮我们补全命令</p>
<h3 id="history游览历史"><a href="#history游览历史" class="headerlink" title="history游览历史"></a>history游览历史</h3><p>当系统执行过一些命令后，可按上下键翻看以前的命令，history将执行过的命令列举出来</p>
<p>history保留了最近执行的命令记录，默认可以保留1000。<br>历史清单从0开始编号到最大值。<br>常见用法：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">history</span> N		显示最近N条命令</span><br><span class="line"><span class="built_in">history</span> -c		清除所有的历史记录</span><br><span class="line"><span class="built_in">history</span> -w  xxx.txt	保存历史记录到文本xxx.txt</span><br></pre></td></tr></table></figure>

<h3 id="命令行中的ctrl组合键"><a href="#命令行中的ctrl组合键" class="headerlink" title="命令行中的ctrl组合键"></a>命令行中的ctrl组合键</h3><ul>
<li><p>Ctrl+c 结束正在运行的程序</p>
</li>
<li><p>Ctrl+d 结束输入或退出shell</p>
</li>
<li><p>Ctrl+s 暂停屏幕输出【锁住终端】</p>
</li>
<li><p>Ctrl+q 恢复屏幕输出【解锁终端】</p>
</li>
<li><p>Ctrl+l 清屏，【是字母L的小写】等同于Clear</p>
</li>
<li><p>当前光标到行首：ctrl+a</p>
</li>
<li><p>当前光标到行尾：ctrl+e</p>
</li>
<li><p>删除当前光标到行首：ctrl+u</p>
</li>
<li><p>删除当前光标到行尾：ctrl+k</p>
</li>
<li><p>Ctrl+y 在光标处粘贴剪切的内容</p>
</li>
<li><p>Ctrl+r 查找历史命令【输入关键字，就能调出以前执行过的命令】</p>
</li>
<li><p>Ctrl+t 调换光标所在处与其之前字符位置，并把光标移到下个字符</p>
</li>
<li><p>Ctrl+x+u 撤销操作</p>
</li>
<li><p>Ctrl+z 转入后台运行</p>
</li>
</ul>
<h2 id="Linux命令"><a href="#Linux命令" class="headerlink" title="Linux命令"></a>Linux命令</h2><h3 id="权限管理"><a href="#权限管理" class="headerlink" title="权限管理"></a>权限管理</h3><h4 id="列出目录的内容：ls"><a href="#列出目录的内容：ls" class="headerlink" title="列出目录的内容：ls"></a>列出目录的内容：ls</h4><p>Linux文件或者目录名称最长可以有265个字符，“ . ”代表当前目录，“ … ”代表上一级目录，以“ . ”开头的文件为隐藏文件，需要用 -a 参数才能显示。</p>
<p>ls常用参数：</p>
<table>
<thead>
<tr>
<th align="center">参数</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td align="center">-a</td>
<td>显示指定目录下所有子目录与文件，包括隐藏文件</td>
</tr>
<tr>
<td align="center">-l</td>
<td>以列表方式显示文件的详细信息</td>
</tr>
<tr>
<td align="center">-h</td>
<td>配合 -l 以人性化的方式显示文件大小</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@VM_0_9_centos ~]# ll -h</span><br><span class="line">total 24K</span><br><span class="line">-rw-r--r-- 1 root root 1.6K Dec  1  2016 CentOS7-Base-163.repo.1</span><br><span class="line">-rw-r--r-- 1 root root 6.0K Nov 12  2015 mysql-community-release-el7-5.noarch.rpm</span><br><span class="line">-rw-r--r-- 1 root root   90 Nov 23 10:26 passwd</span><br><span class="line">drwxr-xr-t 2 root root 4.0K Nov 22 21:15 test</span><br><span class="line">-rw-r--r-- 1 root root  276 Nov 24 10:01 user</span><br><span class="line">lrwxrwxrwx 1 root root   14 Nov  6 19:18 web -&gt; /var/www/html/</span><br></pre></td></tr></table></figure>

<p>列出的信息的含义：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/ccff78bd3a3c92ac11636923216ce3edpng.jpg" alt="img"></p>
<p>ls支持通配符：</p>
<table>
<thead>
<tr>
<th align="left">通配符</th>
<th align="left">含义</th>
</tr>
</thead>
<tbody><tr>
<td align="left">*</td>
<td align="left">文件代表文件名中所有字符</td>
</tr>
<tr>
<td align="left">ls te*</td>
<td align="left">查找以te开头的文件</td>
</tr>
<tr>
<td align="left">ls *html</td>
<td align="left">查找结尾为html的文件</td>
</tr>
<tr>
<td align="left">？</td>
<td align="left">代表文件名中任意一个字符</td>
</tr>
<tr>
<td align="left">ls ?.c</td>
<td align="left">只找第一个字符任意，后缀为.c的文件</td>
</tr>
<tr>
<td align="left">ls a.?</td>
<td align="left">只找只有3个字符，前2字符为a.，最后一个字符任意的文件</td>
</tr>
<tr>
<td align="left">[]</td>
<td align="left">[”和“]”将字符组括起来，表示可以匹配字符组中的任意一个。“-”用于表示字符范围。</td>
</tr>
<tr>
<td align="left">[abc]</td>
<td align="left">匹配a、b、c中的任意一个</td>
</tr>
<tr>
<td align="left">[a-f]</td>
<td align="left">匹配从a到f范围内的的任意一个字符</td>
</tr>
<tr>
<td align="left">ls [a-f]*</td>
<td align="left">找到从a到f范围内的的任意一个字符开头的文件</td>
</tr>
<tr>
<td align="left">ls a-f</td>
<td align="left">查找文件名为a-f的文件,当“-”处于方括号之外失去通配符的作用</td>
</tr>
<tr>
<td align="left">\</td>
<td align="left">如果要使通配符作为普通字符使用，可以在其前面加上转义字符。“?”和“*”处于方括号内时不用使用转义字符就失去通配符的作用。</td>
</tr>
<tr>
<td align="left">ls \*a</td>
<td align="left">查找文件名为*a的文件</td>
</tr>
</tbody></table>
<h4 id="显示inode的内容：stat"><a href="#显示inode的内容：stat" class="headerlink" title="显示inode的内容：stat"></a>显示inode的内容：stat</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">stat [文件或目录]</span><br></pre></td></tr></table></figure>

<p>查看 testfile 文件的inode内容内容，可以用以下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">[root@VM_0_9_centos ~]# stat mysql-community-release-el7-5.noarch.rpm </span><br><span class="line">  File: ‘mysql-community-release-el7-5.noarch.rpm’</span><br><span class="line">  Size: 6140            Blocks: 16         IO Block: 4096   regular file</span><br><span class="line">Device: fd01h/64769d    Inode: 394398      Links: 1</span><br><span class="line">Access: (0644/-rw-r--r--)  Uid: (    0/    root)   Gid: (    0/    root)</span><br><span class="line">Access: 2019-11-23 13:30:42.000000000 +0800</span><br><span class="line">Modify: 2015-11-12 15:58:42.000000000 +0800</span><br><span class="line">Change: 2019-11-23 13:30:42.400300171 +0800</span><br><span class="line"> Birth: -</span><br><span class="line"></span><br><span class="line">python@ubuntu:~/txt$ stat find我的Mr.Right.txt </span><br><span class="line">  文件：&#x27;find我的Mr.Right.txt&#x27;</span><br><span class="line">  大小：64768           块：128        IO 块：4096   普通文件</span><br><span class="line">设备：801h/2049d        Inode：655501      硬链接：1</span><br><span class="line">权限：(0664/-rw-rw-r--)  Uid：( 1000/  python)   Gid：( 1000/  python)</span><br><span class="line">最近访问：2019-11-22 22:43:17.565105155 +0800</span><br><span class="line">最近更改：2019-11-22 22:42:42.000000000 +0800</span><br><span class="line">最近改动：2019-11-22 22:43:08.797116491 +0800</span><br><span class="line">创建时间：-</span><br></pre></td></tr></table></figure>

<h4 id="文件访问权限"><a href="#文件访问权限" class="headerlink" title="文件访问权限"></a>文件访问权限</h4><p>用户能够控制一个给定的文件或目录的访问程度，一个文件或目录可能有读、写及执行权限：</p>
<ul>
<li><strong>读权限（r）</strong> ：对于文件，具有读取文件内容的权限；对于目录，具有浏览目录的权限。</li>
<li><strong>写权限（w）</strong> ：对于文件，具有修改文件内容的权限；对于目录，具有删除、移动目录内文件的权限。</li>
<li><strong>可执行权限（x）</strong>： 对于文件，具有执行文件的权限；对于目录，该用户具有进入目录的权限。</li>
</ul>
<p>通常，Unix&#x2F;Linux系统只允许文件的属主(所有者)或超级用户改变文件的读写权限。</p>
<p>示例：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/7da5a8288cfb2d26b70da16da71b36e8png.jpg" alt="img"></p>
<p>第1个字母代表文件的类型：</p>
<ul>
<li>“d” 代表文件夹</li>
<li>“-” 代表普通文件</li>
<li>“c” 代表硬件字符设备</li>
<li>“b” 代表硬件块设备</li>
<li>“s”表示管道文件</li>
<li>“l” 代表软链接文件。</li>
</ul>
<p>后9个字母分别代表三组权限：文件所有者、用户组、其他用户拥有的权限。</p>
<h4 id="修改文件权限：chmod"><a href="#修改文件权限：chmod" class="headerlink" title="修改文件权限：chmod"></a>修改文件权限：<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=chmod&spm=1001.2101.3001.7020">chmod</a></h4><p>chmod 修改文件权限有两种使用格式：字母法与数字法。</p>
<p>字母法：chmod u&#x2F;g&#x2F;o&#x2F;a +&#x2F;-&#x2F;&#x3D; rwx 文件</p>
<table>
<thead>
<tr>
<th align="left">[ u&#x2F;g&#x2F;o&#x2F;a ]</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td align="left">u</td>
<td>user 表示该文件的所有者</td>
</tr>
<tr>
<td align="left">g</td>
<td>group 表示与该文件的所有者属于同一组( group )者，即用户组</td>
</tr>
<tr>
<td align="left">o</td>
<td>other 表示其他以外的人</td>
</tr>
<tr>
<td align="left">a</td>
<td>all 表示这三者皆是</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>[ ±&#x3D; ]</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>+</td>
<td>增加权限</td>
</tr>
<tr>
<td>-</td>
<td>撤销权限</td>
</tr>
<tr>
<td>=</td>
<td>设定权限</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>rwx</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>r</td>
<td>read 表示可读取，对于一个目录，如果没有r权限，那么就意味着不能通过ls查看这个目录的内容。</td>
</tr>
<tr>
<td>w</td>
<td>write 表示可写入，对于一个目录，如果没有w权限，那么就意味着不能在目录下创建新的文件。</td>
</tr>
<tr>
<td>x</td>
<td>excute 表示可执行，对于一个目录，如果没有x权限，那么就意味着不能通过cd进入这个目录。</td>
</tr>
</tbody></table>
<p>数字法：“rwx” 这些权限也可以用数字来代替</p>
<table>
<thead>
<tr>
<th>字母</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>r</td>
<td>读取权限，数字代号为 “4”</td>
</tr>
<tr>
<td>w</td>
<td>写入权限，数字代号为 “2”</td>
</tr>
<tr>
<td>x</td>
<td>执行权限，数字代号为 “1”</td>
</tr>
<tr>
<td>-</td>
<td>不具任何权限，数字代号为 “0”</td>
</tr>
</tbody></table>
<p>如执行：chmod u&#x3D;rwx,g&#x3D;rx,o&#x3D;r filename 就等同于：chmod u&#x3D;7,g&#x3D;5,o&#x3D;4 filename</p>
<p>chmod 751 file：</p>
<ul>
<li>文件所有者：读、写、执行权限</li>
<li>同组用户：读、执行的权限</li>
<li>其它用户：执行的权限</li>
</ul>
<p>chmod 777 file：所有用户拥有读、写、执行权限</p>
<p>注意：如果想递归所有目录加上相同权限，需要加上参数“ -R ”。 如：chmod 777 test&#x2F; -R 递归 test 目录下所有文件加 777 权限</p>
<h4 id="修改文件所有者：chown"><a href="#修改文件所有者：chown" class="headerlink" title="修改文件所有者：chown"></a>修改文件所有者：chown</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/test$ ll h.txt </span><br><span class="line">-rw------- 1 python python 4 11月 22 22:35 h.txt</span><br><span class="line">python@ubuntu:~/test$ chown mike h.txt </span><br><span class="line">chown: 正在更改&#x27;h.txt&#x27; 的所有者: 不允许的操作</span><br><span class="line">python@ubuntu:~/test$ sudo chown mike h.txt </span><br><span class="line">python@ubuntu:~/test$ ll h.txt              </span><br><span class="line">-rw------- 1 mike python 4 11月 22 22:35 h.txt</span><br></pre></td></tr></table></figure>

<h4 id="修改文件所属组：chgrp"><a href="#修改文件所属组：chgrp" class="headerlink" title="修改文件所属组：chgrp"></a>修改文件所属组：chgrp</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/test$ ll h.txt              </span><br><span class="line">-rw------- 1 mike python 4 11月 22 22:35 h.txt</span><br><span class="line">python@ubuntu:~/test$ <span class="built_in">sudo</span> <span class="built_in">chgrp</span> mike h.txt </span><br><span class="line">python@ubuntu:~/test$ ll h.txt              </span><br><span class="line">-rw------- 1 mike mike 4 11月 22 22:35 h.txt</span><br></pre></td></tr></table></figure>

<h3 id="文件内容查看"><a href="#文件内容查看" class="headerlink" title="文件内容查看"></a>文件内容查看</h3><p>Linux系统中使用以下命令来查看文件的内容：</p>
<ul>
<li>cat 由第一行开始显示文件内容</li>
<li>tac 从最后一行开始显示</li>
<li>nl 显示的时候，顺道输出行号</li>
<li>more 一页一页的显示文件内容</li>
<li>less与more 类似，但可以往前翻页</li>
<li>head 只看头几行</li>
<li>tail 只看尾巴几行</li>
</ul>
<h4 id="基本显示：cat、tac"><a href="#基本显示：cat、tac" class="headerlink" title="基本显示：cat、tac"></a>基本显示：cat、tac</h4><p>语法：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> [-AbEnTv]</span><br></pre></td></tr></table></figure>

<p>选项与参数：</p>
<ul>
<li>-A ：相当于 -vET 的整合选项，可列出一些特殊字符而不是空白而已；</li>
<li>-v ：列出一些看不出来的特殊字符</li>
<li>-E ：将结尾的断行字节 $ 显示出来；</li>
<li>-T ：将 [tab] 按键以 ^I 显示出来；</li>
<li>-b ：列出行号，空白行不标行号</li>
<li>-n ：列出行号，连同空白行也会有行号</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@VM_0_9_centos ~]# <span class="built_in">cat</span> -b /etc/issue</span><br><span class="line">     1  \S</span><br><span class="line">     2  Kernel \r on an \m</span><br><span class="line">[root@VM_0_9_centos ~]# <span class="built_in">cat</span> -n /etc/issue</span><br><span class="line">     1  \S</span><br><span class="line">     2  Kernel \r on an \m</span><br><span class="line">     3</span><br><span class="line">[root@VM_0_9_centos ~]# </span><br></pre></td></tr></table></figure>

<p>tac与cat命令刚好相反，文件内容从最后一行开始显示，可以看出 tac 是 cat 的倒着写！如：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@VM_0_9_centos ~]# <span class="built_in">tac</span> /etc/issue</span><br><span class="line">Kernel \r on an \m</span><br><span class="line">\S</span><br></pre></td></tr></table></figure>

<h4 id="显示行号：nl"><a href="#显示行号：nl" class="headerlink" title="显示行号：nl"></a>显示行号：nl</h4><p>语法：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">nl</span> [-bnw] 文件</span><br></pre></td></tr></table></figure>

<p>选项与参数：</p>
<ul>
<li>-b ：指定行号指定的方式，主要有两种：<br>-b a ：表示不论是否为空行，也同样列出行号(类似 cat -n)；<br>-b t ：如果有空行，空的那一行不要列出行号(默认值)；</li>
<li>-n ：列出行号表示的方法，主要有三种：<br>-n ln ：行号在荧幕的最左方显示；<br>-n rn ：行号在自己栏位的最右方显示，且不加 0 ；<br>-n rz ：行号在自己栏位的最右方显示，且加 0 ；</li>
<li>-w ：行号栏位的占用的位数。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# nl /etc/issue</span><br><span class="line">     1  CentOS release 6.4 (Final)</span><br><span class="line">     2  Kernel \r on an \m</span><br></pre></td></tr></table></figure>

<h4 id="分屏显示：more、less"><a href="#分屏显示：more、less" class="headerlink" title="分屏显示：more、less"></a>分屏显示：more、less</h4><ul>
<li>more<br>一页一页翻动<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# more /etc/man_db.config </span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Generated automatically from man.conf.in by the</span></span><br><span class="line"><span class="comment"># configure script.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># man.conf from man-1.6d</span></span><br><span class="line">....(中间省略)....</span><br><span class="line">--More--(28%)  &lt;== 光标在这里等待命令</span><br></pre></td></tr></table></figure></li>
</ul>
<p>more运行时可以输入的命令有：</p>
<ul>
<li>空白键 (space)：代表向下翻一页；</li>
<li>Enter ：代表向下翻『一行』；</li>
<li>&#x2F;字串 ：代表在这个显示的内容当中，向下搜寻『字串』这个关键字；</li>
<li>:f ：立刻显示出档名以及目前显示的行数；</li>
<li>q ：代表立刻离开 more ，不再显示该文件内容。</li>
<li>b 或 [ctrl]-b ：代表往回翻页，不过这动作只对文件有用，对管线无用。</li>
</ul>
<ul>
<li>less<br>一页一页翻动，以下实例输出&#x2F;etc&#x2F;man.config文件的内容：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# less /etc/man.config</span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># Generated automatically from man.conf.in by the</span></span><br><span class="line"><span class="comment"># configure script.</span></span><br><span class="line"><span class="comment">#</span></span><br><span class="line"><span class="comment"># man.conf from man-1.6d</span></span><br><span class="line">....(中间省略)....</span><br><span class="line">:   &lt;== 这里可以等待你输入命令</span><br></pre></td></tr></table></figure></li>
</ul>
<p>less运行时可以输入的命令有：</p>
<ul>
<li>空白键 ：向下翻动一页；</li>
<li>[pagedown]：向下翻动一页；</li>
<li>[pageup] ：向上翻动一页；</li>
<li>&#x2F;字串 ：向下搜寻『字串』的功能；</li>
<li>?字串 ：向上搜寻『字串』的功能；</li>
<li>n ：重复前一个搜寻 (与 &#x2F; 或 ? 有关！)</li>
<li>N ：反向的重复前一个搜寻 (与 &#x2F; 或 ? 有关！)</li>
<li>q ：离开 less 这个程序；</li>
</ul>
<h4 id="取首尾n行：head、tail"><a href="#取首尾n行：head、tail" class="headerlink" title="取首尾n行：head、tail"></a>取首尾n行：head、tail</h4><ul>
<li>head取出文件前面几行</li>
</ul>
<p>语法：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">head</span> [-n number] 文件 </span><br></pre></td></tr></table></figure>

<p>选项与参数：</p>
<ul>
<li>-n ：后面接数字，代表显示几行的意思</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# head /etc/man.config</span><br></pre></td></tr></table></figure>

<p>默认的情况中，显示前面 10 行！若要显示前 20 行，就得要这样：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# head -n 20 /etc/man.config</span><br></pre></td></tr></table></figure>

<ul>
<li>tail取出文件后面几行</li>
</ul>
<p>语法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tail [-n number] 文件 </span><br></pre></td></tr></table></figure>

<p>选项与参数：</p>
<ul>
<li>-n ：后面接数字，代表显示几行的意思</li>
<li>-f ：表示持续侦测后面所接的档名，要等到按下[ctrl]-c才会结束tail的侦测</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# tail /etc/man.config</span><br><span class="line"># 默认的情况中，显示最后的十行！若要显示最后的 20 行，就得要这样：</span><br><span class="line">[root@www ~]# tail -n 20 /etc/man.config</span><br></pre></td></tr></table></figure>

<h3 id="文件管理"><a href="#文件管理" class="headerlink" title="文件管理"></a>文件管理</h3><h4 id="输出重定向："><a href="#输出重定向：" class="headerlink" title="输出重定向：&gt;"></a>输出重定向：&gt;</h4><p>可将本应显示在终端上的内容保存到指定文件中。</p>
<p>如：ls &gt; test.txt ( test.txt 如果不存在，则创建，存在则覆盖其内容 )</p>
<p>注意： <code>&gt;输出重定向会覆盖原来的内容，&gt;&gt;输出重定向则会追加到文件的尾部。</code></p>
<h4 id="管道："><a href="#管道：" class="headerlink" title="管道：|"></a>管道：|</h4><p>管道：一个命令的输出可以通过管道做为另一个命令的输入。</p>
<p>“ | ”的左右分为两端，从左端写入到右端。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:/bin$ ll -h |more   </span><br><span class="line">总用量 13M</span><br><span class="line">drwxr-xr-x  2 root root  4.0K 8月   4  2016 ./</span><br><span class="line">drwxr-xr-x 26 root root  4.0K 7月  30  2016 ../</span><br><span class="line">-rwxr-xr-x  1 root root 1014K 6月  24  2016 bash*</span><br><span class="line">-rwxr-xr-x  1 root root   31K 5月  20  2015 bunzip2*</span><br><span class="line">-rwxr-xr-x  1 root root  1.9M 8月  19  2015 busybox*</span><br><span class="line">-rwxr-xr-x  1 root root   31K 5月  20  2015 bzcat*</span><br><span class="line">lrwxrwxrwx  1 root root     6 5月  16  2016 bzcmp -&gt; bzdiff*</span><br><span class="line">-rwxr-xr-x  1 root root  2.1K 5月  20  2015 bzdiff*</span><br><span class="line">lrwxrwxrwx  1 root root     6 5月  16  2016 bzegrep -&gt; bzgrep*</span><br><span class="line">--更多--</span><br></pre></td></tr></table></figure>

<h4 id="清屏：clear"><a href="#清屏：clear" class="headerlink" title="清屏：clear"></a>清屏：clear</h4><p>clear作用为清除终端上的显示(类似于DOS的cls清屏功能)，快捷键：<strong>Ctrl + l</strong> ( “l” 为字母 )。</p>
<h4 id="切换工作目录：-cd"><a href="#切换工作目录：-cd" class="headerlink" title="切换工作目录： cd"></a>切换工作目录： cd</h4><p><code>Linux所有的目录和文件名大小写敏感</code></p>
<p>cd后面可跟绝对路径，也可以跟相对路径。如果省略目录，则默认切换到当前用户的主目录。</p>
<table>
<thead>
<tr>
<th align="left">命令</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td align="left">cd</td>
<td>相当于cd ~</td>
</tr>
<tr>
<td align="left">cd ~</td>
<td>切换到当前用户的主目录(&#x2F;home&#x2F;用户目录)</td>
</tr>
<tr>
<td align="left">cd .</td>
<td>切换到当前目录</td>
</tr>
<tr>
<td align="left">cd …</td>
<td>切换到上级目录</td>
</tr>
<tr>
<td align="left">cd -</td>
<td>进入上次所在的目录</td>
</tr>
</tbody></table>
<h4 id="显示当前路径：pwd"><a href="#显示当前路径：pwd" class="headerlink" title="显示当前路径：pwd"></a>显示当前路径：pwd</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~$ <span class="built_in">pwd</span> </span><br><span class="line">/home/python</span><br></pre></td></tr></table></figure>

<p>选项与参数：</p>
<ul>
<li><strong>-P</strong> ：显示出确实的路径，而非使用连结 (link) 路径。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@VM_0_9_centos ~]# cd /var/mail/</span><br><span class="line">[root@VM_0_9_centos mail]# pwd</span><br><span class="line">/var/mail</span><br><span class="line">[root@VM_0_9_centos mail]# pwd -P</span><br><span class="line">/var/spool/mail</span><br></pre></td></tr></table></figure>

<h4 id="创建目录：mkdir"><a href="#创建目录：mkdir" class="headerlink" title="创建目录：mkdir"></a>创建目录：mkdir</h4><p>mkdir可以创建一个新的目录。</p>
<p>注意：新建目录的名称不能与当前目录中已有的目录或文件同名，并且目录创建者必须对当前目录具有写权限。</p>
<p>语法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkdir [-mp] 目录名称</span><br></pre></td></tr></table></figure>

<p>选项与参数：</p>
<ul>
<li>-m ：指定被创建目录的权限，而不是根据默认权限 (umask) 设定</li>
<li>-p ：递归创建所需要的目录</li>
</ul>
<p>实例：-p递归创建目录：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# cd /tmp</span><br><span class="line">[root@www tmp]# mkdir test    &lt;==创建一名为 test 的新目录</span><br><span class="line">[root@www tmp]# mkdir test1/test2/test3/test4</span><br><span class="line">mkdir: cannot create directory `test1/test2/test3/test4&#x27;: </span><br><span class="line">No such file or directory       &lt;== 没办法直接创建此目录啊！</span><br><span class="line">[root@www tmp]# mkdir -p test1/test2/test3/test4</span><br></pre></td></tr></table></figure>

<p>mkdir创建的目录权限默认根据umask得到，而-m参数可以指定被创建目录的权限：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@VM_0_9_centos ~]# mkdir t1</span><br><span class="line">[root@VM_0_9_centos ~]# ll</span><br><span class="line">drwxr-xr-x 2 root root 4096 Nov 22 18:54 t1</span><br><span class="line">[root@VM_0_9_centos ~]# mkdir t2 -m 711 </span><br><span class="line">[root@VM_0_9_centos ~]# ll</span><br><span class="line">drwxr-xr-x 2 root root 4096 Nov 22 18:54 t1</span><br><span class="line">drwx--x--x 2 root root 4096 Nov 22 18:54 t2</span><br></pre></td></tr></table></figure>
<p><strong>上面的权限部分，如果没有加上 -m 来强制配置属性，系统会使用默认属性。</strong></p>
<p>如果我们使用 -m ，如上例我们给予 -m 711 来给予新的目录 drwx–x–x 的权限。</p>
<h4 id="删除文件：rm"><a href="#删除文件：rm" class="headerlink" title="删除文件：rm"></a>删除文件：rm</h4><p>可通过rm删除文件或目录。使用rm命令要小心，因为文件删除后不能恢复。为了防止文件误删，可以在rm后使用-i参数以逐个确认要删除的文件。</p>
<p>常用参数及含义如下表所示：</p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td align="left">-i</td>
<td>以进行交互式方式执行</td>
</tr>
<tr>
<td align="left">-f</td>
<td>强制删除，忽略不存在的文件，无需提示</td>
</tr>
<tr>
<td align="left">-r</td>
<td>递归地删除目录下的内容，删除文件夹时必须加此参数</td>
</tr>
</tbody></table>
<p>语法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rm [-fir] 文件或目录</span><br></pre></td></tr></table></figure>
<p>将刚刚在 cp 的实例中创建的 bashrc 删除掉</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@www tmp]# rm -i bashrc</span><br><span class="line">rm: remove regular file `bashrc&#x27;? y</span><br><span class="line">如果加上 -i 的选项就会主动询问喔，避免你删除到错误的档名</span><br></pre></td></tr></table></figure>
<h4 id="删除空的目录：rmdir"><a href="#删除空的目录：rmdir" class="headerlink" title="删除空的目录：rmdir"></a>删除空的目录：rmdir</h4><p>语法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rmdir [-p] 目录名称</span><br></pre></td></tr></table></figure>
<p>选项与参数：</p>
<ul>
<li>-p ：从该目录起，一次删除多级空目录<br>删除 runoob 目录<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@www tmp]# rmdir runoob/</span><br></pre></td></tr></table></figure></li>
</ul>
<p>将 mkdir 实例中创建的目录(&#x2F;tmp 底下)删除掉！</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@www tmp]# ls -l  </span><br><span class="line">drwxr-xr-x  3 root  root 4096 Jul 18 12:50 test</span><br><span class="line">drwxr-xr-x  3 root  root 4096 Jul 18 12:53 test1</span><br><span class="line">drwx--x--x  2 root  root 4096 Jul 18 12:54 test2</span><br><span class="line">[root@www tmp]# rmdir test   &lt;==可直接删除掉，没问题</span><br><span class="line">[root@www tmp]# rmdir test1  &lt;==因为尚有内容，所以无法删除！</span><br><span class="line">rmdir: `test1&#x27;: Directory not empty</span><br><span class="line">[root@www tmp]# rmdir -p test1/test2/test3/test4</span><br><span class="line">[root@www tmp]# ls -l       </span><br><span class="line">drwx--x--x  2 root  root 4096 Jul 18 12:54 test2</span><br></pre></td></tr></table></figure>
<p><strong>利用 -p 这个选项，立刻就可以将 test1&#x2F;test2&#x2F;test3&#x2F;test4 一次删除。</strong></p>
<p>不过要注意的是，这个 rmdir 仅能删除空的目录，你可以使用 rm 命令来删除非空目录。</p>
<h4 id="建立链接文件：ln"><a href="#建立链接文件：ln" class="headerlink" title="建立链接文件：ln"></a>建立链接文件：ln</h4><p><strong>软链接：ln -s 源文件 链接文件</strong></p>
<p><strong>硬链接：ln 源文件 链接文件</strong></p>
<p>软链接类似于Windows下的快捷方式，如果软链接文件和源文件不在同一个目录，源文件要使用绝对路径，不能使用相对路径。</p>
<p>硬链接只能链接普通文件不能链接目录。 两个文件占用相同大小的硬盘空间，即使删除了源文件，链接文件还是存在，所以-s选项是更常见的形式。</p>
<h4 id="文本搜索：grep"><a href="#文本搜索：grep" class="headerlink" title="文本搜索：grep"></a>文本搜索：grep</h4><p>Linux系统中grep命令是一种强大的文本搜索工具，grep允许对文本文件进行模式查找。如果找到匹配模式， grep打印包含模式的所有行。</p>
<p>grep一般格式为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep [-选项] &#x27;搜索内容串&#x27; 文件名</span><br></pre></td></tr></table></figure>

<p>在grep命令中输入字符串参数时，最好引号或双引号括起来。例如：<code>grep &#39;a&#39; 1.txt</code>。</p>
<p>在当前目录中，查找前缀有test字样的文件中包含 test 字符串的文件，并打印出该字符串的行。此时，可以使用如下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ grep test test* #查找前缀有test的文件包含test字符串的文件  </span><br><span class="line">testfile1:This a Linux testfile! #列出testfile1 文件中包含test字符的行  </span><br><span class="line">testfile_2:This is a linux testfile! #列出testfile_2 文件中包含test字符的行  </span><br><span class="line">testfile_2:Linux test #列出testfile_2 文件中包含test字符的行 </span><br></pre></td></tr></table></figure>

<p>以递归的方式查找符合条件的文件。例如，查找指定目录&#x2F;etc&#x2F;acpi 及其子目录（如果存在子目录的话）下所有文件中包含字符串”update”的文件，并打印出该字符串所在行的内容，使用的命令为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ grep -r update /etc/acpi #以递归的方式查找“etc/acpi”  </span><br><span class="line">#下包含“update”的文件  </span><br><span class="line">/etc/acpi/ac.d/85-anacron.sh:# (Things like the slocate updatedb cause a lot of IO.)  </span><br><span class="line">Rather than  </span><br><span class="line">/etc/acpi/resume.d/85-anacron.sh:# (Things like the slocate updatedb cause a lot of  </span><br><span class="line">IO.) Rather than  </span><br><span class="line">/etc/acpi/events/thinkpad-cmos:action=/usr/sbin/thinkpad-keys--update </span><br></pre></td></tr></table></figure>

<p>反向查找。前面各个例子是查找并打印出符合条件的行，通过”-v”参数可以打印出不符合条件行的内容。</p>
<p>查找文件名中包含 test 的文件中不包含test 的行，此时，使用的命令为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ grep -v test* #查找文件名中包含test 的文件中不包含test 的行  </span><br><span class="line">testfile1:helLinux!  </span><br><span class="line">testfile1:Linis a free Unix-type operating system.  </span><br><span class="line">testfile1:Lin  </span><br><span class="line">testfile_1:HELLO LINUX!  </span><br><span class="line">testfile_1:LINUX IS A FREE UNIX-TYPE OPTERATING SYSTEM.  </span><br><span class="line">testfile_1:THIS IS A LINUX TESTFILE!  </span><br><span class="line">testfile_2:HELLO LINUX!  </span><br><span class="line">testfile_2:Linux is a free unix-type opterating system.  </span><br></pre></td></tr></table></figure>

<h4 id="查找文件：find"><a href="#查找文件：find" class="headerlink" title="查找文件：find"></a>查找文件：find</h4><p>常用用法：</p>
<table>
<thead>
<tr>
<th align="left">命令</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td align="left">find .&#x2F; -name test.sh</td>
<td>查找当前目录下所有名为test.sh的文件</td>
</tr>
<tr>
<td align="left">find .&#x2F; -name ‘*.sh’</td>
<td>查找当前目录下所有后缀为.sh的文件</td>
</tr>
<tr>
<td align="left">find .&#x2F; -name “[A-Z]*”</td>
<td>查找当前目录下所有以大写字母开头的文件</td>
</tr>
<tr>
<td align="left">find &#x2F;tmp -size 2M</td>
<td>查找在&#x2F;tmp 目录下等于2M的文件</td>
</tr>
<tr>
<td align="left">find &#x2F;tmp -size +2M</td>
<td>查找在&#x2F;tmp 目录下大于2M的文件</td>
</tr>
<tr>
<td align="left">find &#x2F;tmp -size -2M</td>
<td>查找在&#x2F;tmp 目录下小于2M的文件</td>
</tr>
<tr>
<td align="left">find .&#x2F; -size +4k -size -5M</td>
<td>查找当前目录下大于4k，小于5M的文件</td>
</tr>
<tr>
<td align="left">find .&#x2F; -perm 0777</td>
<td>查找当前目录下权限为 777 的文件或目录</td>
</tr>
</tbody></table>
<p>Linux find命令用来在指定目录下查找文件。任何位于参数之前的字符串都将被视为欲查找的目录名。如果使用该命令时，不设置任何参数，则find命令将在当前目录下查找子目录与文件。并且将查找到的子目录和文件全部进行显示。</p>
<p>语法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find path -option [ -print ] [ -exec -ok command ] &#123;&#125; \;</span><br></pre></td></tr></table></figure>

<p><strong>常用参数说明</strong> :</p>
<ul>
<li>-perm xxxx：权限为 xxxx的文件或目录</li>
<li>-user： 按照文件属主来查找文件。</li>
<li>-size n : n单位,b:512位元组的区块,c:字元数,k:kilo bytes,w:二个位元组</li>
<li>-mount, -xdev : 只检查和指定目录在同一个文件系统下的文件，避免列出其它文件系统中的文件</li>
<li>-amin n : 在过去 n 分钟内被读取过</li>
<li>-anewer file : 比文件 file 更晚被读取过的文件</li>
<li>-atime n : 在过去n天内被读取过的文件</li>
<li>-cmin n : 在过去 n 分钟内被修改过</li>
<li>-cnewer file :比文件 file 更新的文件</li>
<li>-ctime n : 在过去n天内被修改过的文件</li>
<li>-empty : 空的文件</li>
<li>-gid n or -group name : gid 是 n 或是 group 名称是 name</li>
<li>-ipath p, -path p : 路径名称符合 p 的文件，ipath 会忽略大小写</li>
<li>-name name, -iname name : 文件名称符合 name 的文件。iname 会忽略大小写</li>
<li>-type 查找某一类型的文件：<ul>
<li>b - 块设备文件</li>
<li>d - 目录</li>
<li>c - 字符设备文件</li>
<li>p - 管道文件</li>
<li>l - 符号链接文件</li>
<li>f - 普通文件</li>
</ul>
</li>
<li>-exec 命令名{} \ (注意：“}”和“\”之间有空格)</li>
</ul>
<p>find实例：</p>
<p>显示当前目录中大于20字节并以.c结尾的文件名</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find . -name <span class="string">&quot;*.c&quot;</span> -size +20c </span><br></pre></td></tr></table></figure>

<p>将目前目录其其下子目录中所有一般文件列出</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find . -<span class="built_in">type</span> f</span><br></pre></td></tr></table></figure>

<p>将目前目录及其子目录下所有最近 20 天内更新过的文件列出</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find . -ctime -20</span><br></pre></td></tr></table></figure>

<p>查找&#x2F;var&#x2F;log目录中更改时间在7日以前的普通文件，并在删除之前询问它们：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find /var/log -<span class="built_in">type</span> f -mtime +7 -ok <span class="built_in">rm</span> &#123;&#125; \;</span><br></pre></td></tr></table></figure>

<p>查找前目录中文件属主具有读、写权限，并且文件所属组的用户和其他用户具有读权限的文件：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find . -<span class="built_in">type</span> f -perm 644 -<span class="built_in">exec</span> <span class="built_in">ls</span> -l &#123;&#125; \;</span><br></pre></td></tr></table></figure>

<p>查找系统中所有文件长度为0的普通文件，并列出它们的完整路径：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find / -<span class="built_in">type</span> f -size 0 -<span class="built_in">exec</span> <span class="built_in">ls</span> -l &#123;&#125; \;</span><br></pre></td></tr></table></figure>

<p>从根目录查找类型为符号链接的文件，并将其删除：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find / -<span class="built_in">type</span> l -<span class="built_in">exec</span> <span class="built_in">rm</span> -rf &#123;&#125; \</span><br></pre></td></tr></table></figure>

<p>从当前目录查找用户tom的所有文件并显示在屏幕上</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find . -user tom</span><br></pre></td></tr></table></figure>

<p>在当前目录中查找所有文件以.doc结尾，且更改时间在3天以上的文件，找到后删除，并且给出删除提示</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find . -name *.doc  -mtime +3 -ok <span class="built_in">rm</span> &#123;&#125; \;</span><br></pre></td></tr></table></figure>

<p>在当前目录下查找所有链接文件，并且以长格式显示文件的基本信息</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find . -<span class="built_in">type</span> l -<span class="built_in">exec</span> <span class="built_in">ls</span> -l &#123;&#125; \;</span><br></pre></td></tr></table></figure>

<p>在当前目录下查找文件名有一个小写字母、一个大写字母、两个数字组成，且扩展名为.doc的文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find . -name <span class="string">&#x27;[a-z][A-Z][0-9][0-9].doc&#x27;</span></span><br></pre></td></tr></table></figure>

<h4 id="拷贝文件：cp"><a href="#拷贝文件：cp" class="headerlink" title="拷贝文件：cp"></a>拷贝文件：cp</h4><p>cp命令的功能是将给出的文件或目录复制到另一个文件或目录中，相当于DOS下的copy命令。</p>
<p>常用选项说明：</p>
<table>
<thead>
<tr>
<th align="left">选项</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td align="left">-a</td>
<td>该选项通常在复制目录时使用，它保留链接、文件属性，并递归地复制目录，简单而言，保持文件原有属性。</td>
</tr>
<tr>
<td align="left">-f</td>
<td>已经存在的目标文件而不提示</td>
</tr>
<tr>
<td align="left">-i</td>
<td>交互式复制，在覆盖目标文件之前将给出提示要求用户确认</td>
</tr>
<tr>
<td align="left">-r</td>
<td>若给出的源文件是目录文件，则cp将递归复制该目录下的所有子目录和文件，目标文件必须为一个目录名。</td>
</tr>
<tr>
<td align="left">-v</td>
<td>显示拷贝进度</td>
</tr>
<tr>
<td align="left">-l</td>
<td>创建硬链接(hard link)，而非复制文件本身</td>
</tr>
<tr>
<td align="left">-s</td>
<td>复制成为符号链接 (symbolic link)，相当于批量创建快捷方式</td>
</tr>
<tr>
<td align="left">-u</td>
<td>若 destination 比 source 旧才升级 destination ！</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cp vim\_configure/ code/ -ivr </span><br><span class="line">把文件夹 vim\_configure 拷贝到 code 目录里。</span><br></pre></td></tr></table></figure>
<h4 id="移动文件：mv"><a href="#移动文件：mv" class="headerlink" title="移动文件：mv"></a>移动文件：mv</h4><p>mv命令用来移动文件或目录，也可以给文件或目录重命名。</p>
<p>常用选项说明：</p>
<table>
<thead>
<tr>
<th align="left">选项</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td align="left">-f</td>
<td>禁止交互式操作，如有覆盖也不会给出提示</td>
</tr>
<tr>
<td align="left">-i</td>
<td>确认交互方式操作，如果mv操作将导致对已存在的目标文件的覆盖，系统会询问是否重写，要求用户回答以避免误覆盖文件</td>
</tr>
<tr>
<td align="left">-v</td>
<td>显示移动进度</td>
</tr>
</tbody></table>
<h4 id="归档管理：tar"><a href="#归档管理：tar" class="headerlink" title="归档管理：tar"></a>归档管理：tar</h4><p>此命令可以把一系列文件归档到一个大文件中，也可以把档案文件解开以恢复数据。</p>
<p>tar使用格式 tar [参数] 打包文件名 文件</p>
<p>tar命令参数很特殊，其参数前面可以使用“-”，也可以不使用。</p>
<p>常用参数：</p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td align="left">-c</td>
<td>生成档案文件，创建打包文件</td>
</tr>
<tr>
<td align="left">-v</td>
<td>列出归档解档的详细过程，显示进度</td>
</tr>
<tr>
<td align="left">-f</td>
<td>指定档案文件名称，f后面一定是.tar文件，所以必须放选项最后</td>
</tr>
<tr>
<td align="left">-t</td>
<td>列出档案中包含的文件</td>
</tr>
<tr>
<td align="left">-x</td>
<td>解开档案文件</td>
</tr>
</tbody></table>
<p>注意：除了f需要放在参数的最后，其它参数的顺序任意。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/test$ tar -cvf test.tar 1.txt 2.txt 3.txt </span><br><span class="line">1.txt</span><br><span class="line">2.txt</span><br><span class="line">3.txt</span><br><span class="line">python@ubuntu:~/test$ ll</span><br><span class="line">总用量 32</span><br><span class="line">drwxrwxr-x  2 python python  4096 11月 21 14:02 ./</span><br><span class="line">drwxr-xr-x 31 python python  4096 11月 21 13:34 ../</span><br><span class="line">-rw-rw-r--  1 python python    51 1月  20  2017 1.txt</span><br><span class="line">-rw-rw-r--  1 python python    55 1月  20  2017 2.txt</span><br><span class="line">-rw-rw-r--  1 python python    51 1月  20  2017 3.txt</span><br><span class="line">-rw-rw-r--  1 python python 10240 11月 21 14:02 test.tar</span><br><span class="line">python@ubuntu:~/test$ <span class="built_in">rm</span> -rf *.txt</span><br><span class="line">python@ubuntu:~/test$ ll</span><br><span class="line">总用量 20</span><br><span class="line">drwxrwxr-x  2 python python  4096 11月 21 14:03 ./</span><br><span class="line">drwxr-xr-x 31 python python  4096 11月 21 13:34 ../</span><br><span class="line">-rw-rw-r--  1 python python 10240 11月 21 14:02 test.tar</span><br><span class="line">python@ubuntu:~/test$ tar -xvf test.tar </span><br><span class="line">1.txt</span><br><span class="line">2.txt</span><br><span class="line">3.txt</span><br><span class="line">python@ubuntu:~/test$ <span class="built_in">ls</span> *.txt</span><br><span class="line">1.txt  2.txt  3.txt</span><br></pre></td></tr></table></figure>

<h4 id="文件压缩解压：gzip、bzip2"><a href="#文件压缩解压：gzip、bzip2" class="headerlink" title="文件压缩解压：gzip、bzip2"></a>文件压缩解压：gzip、bzip2</h4><p>tar与gzip命令结合使用实现文件打包、压缩。 tar只负责打包文件，但不压缩，用gzip压缩tar打包后的文件，其扩展名一般用xxxx.tar.gz。</p>
<p>gzip使用格式如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gzip  [选项]  被压缩文件</span><br></pre></td></tr></table></figure>

<p>常用选项：</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>-d</td>
<td>解压文件</td>
</tr>
<tr>
<td>-r</td>
<td>压缩文件</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/test$ ll *.tar*</span><br><span class="line">-rw-rw-r-- 1 python python 10240 11月 25 07:39 test.tar</span><br><span class="line">python@ubuntu:~/test$ gzip -r test.tar test.tar.gz  ==&gt;或者:gzip test.tar</span><br><span class="line">python@ubuntu:~/test$ ll *.tar*</span><br><span class="line">-rw-rw-r-- 1 python python 139 11月 25 07:39 test.tar.gz</span><br><span class="line">python@ubuntu:~/test$ gzip -d test.tar.gz</span><br><span class="line">python@ubuntu:~/test$ ll *.tar*  </span><br><span class="line">-rw-rw-r-- 1 python python 10240 11月 25 07:39 test.tar</span><br></pre></td></tr></table></figure>

<p>tar命令中-z选项可以调用gzip实现了一个压缩的功能，实行一个先打包后压缩的过程。</p>
<p>压缩用法：tar zcvf 压缩包包名 文件1 文件2 …</p>
<p>例如： tar zcvf test.tar.gz 1.c 2.c 3.c 4.c把 1.c 2.c 3.c 4.c 压缩成 test.tar.gz</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/test/code$ <span class="built_in">ls</span></span><br><span class="line">1.c  2.c  3.c  4.c</span><br><span class="line">python@ubuntu:~/test/code$ tar zcvf test.tar.gz 1.c 2.c 3.c 4.c </span><br><span class="line"></span><br><span class="line">python@ubuntu:~/test/code$ <span class="built_in">ls</span></span><br><span class="line">1.c  2.c  3.c  4.c  test.tar.gz</span><br><span class="line">python@ubuntu:~/test/code$ tar -zcvf new.tar.gz 1.c 2.c 3.c 4.c        </span><br><span class="line"></span><br><span class="line">python@ubuntu:~/test/code$ <span class="built_in">ls</span></span><br><span class="line">1.c  2.c  3.c  4.c  new.tar.gz  test.tar.gz</span><br></pre></td></tr></table></figure>

<p>解压用法： tar zxvf 压缩包包名</p>
<p>例如：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/test/code$ <span class="built_in">ls</span></span><br><span class="line">new.tar.gz  test.tar.gz</span><br><span class="line">python@ubuntu:~/test/code$ tar zxvf new.tar.gz </span><br><span class="line">1.c</span><br><span class="line">2.c</span><br><span class="line">3.c</span><br><span class="line">4.c</span><br><span class="line">python@ubuntu:~/test/code$ <span class="built_in">ls</span></span><br><span class="line">1.c  2.c  3.c  4.c  new.tar.gz  test.tar.gz</span><br></pre></td></tr></table></figure>

<p>解压到指定目录：-C （解压时可以不指定-z选项）</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/test/code$ <span class="built_in">ls</span> number/     </span><br><span class="line">python@ubuntu:~/test/code$ tar xvf test.tar.gz -C number/     </span><br><span class="line"></span><br><span class="line">python@ubuntu:~/test/code$ <span class="built_in">ls</span> number/                    </span><br><span class="line">1.c  2.c  3.c  4.c</span><br></pre></td></tr></table></figure>

<p>bzip2命令跟gzip用法类似</p>
<p>压缩用法：tar jcvf 压缩包包名 文件…(tar jcvf bk.tar.bz2 *.c)</p>
<p>解压用法：tar jxvf 压缩包包名 (tar jxvf bk.tar.bz2)</p>
<h4 id="文件压缩解压：zip、unzip"><a href="#文件压缩解压：zip、unzip" class="headerlink" title="文件压缩解压：zip、unzip"></a>文件压缩解压：zip、unzip</h4><p>通过zip压缩文件的目标文件不需要指定扩展名，默认扩展名为zip。</p>
<p>压缩文件：zip [-r] 目标文件(没有扩展名) 源文件</p>
<p>解压文件：unzip -d 解压后目录文件 压缩文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/test$ <span class="built_in">ls</span></span><br><span class="line">1.txt  2.txt  3.txt  test.tar</span><br><span class="line">python@ubuntu:~/test$ zip myzip *.txt</span><br><span class="line">  adding: 1.txt (stored 0%)</span><br><span class="line">  adding: 2.txt (stored 0%)</span><br><span class="line">  adding: 3.txt (stored 0%)</span><br><span class="line">python@ubuntu:~/test$ <span class="built_in">ls</span></span><br><span class="line">1.txt  2.txt  3.txt  myzip.zip  test.tar</span><br><span class="line">python@ubuntu:~/test$ <span class="built_in">rm</span> -f *.txt *.tar</span><br><span class="line">python@ubuntu:~/test$ <span class="built_in">ls</span></span><br><span class="line">myzip.zip</span><br><span class="line">python@ubuntu:~/test$ unzip myzip.zip </span><br><span class="line">Archive:  myzip.zip</span><br><span class="line"> extracting: 1.txt                   </span><br><span class="line"> extracting: 2.txt                   </span><br><span class="line"> extracting: 3.txt                   </span><br><span class="line">python@ubuntu:~/test$ <span class="built_in">ls</span></span><br><span class="line">1.txt  2.txt  3.txt  myzip.zip</span><br><span class="line">python@ubuntu:~/test$ unzip -d <span class="built_in">dir</span> myzip.zip </span><br><span class="line">Archive:  myzip.zip</span><br><span class="line"> extracting: <span class="built_in">dir</span>/1.txt               </span><br><span class="line"> extracting: <span class="built_in">dir</span>/2.txt               </span><br><span class="line"> extracting: <span class="built_in">dir</span>/3.txt               </span><br><span class="line">python@ubuntu:~/test$ <span class="built_in">ls</span></span><br><span class="line">1.txt  2.txt  3.txt  <span class="built_in">dir</span>  myzip.zip</span><br></pre></td></tr></table></figure>

<h4 id="查看命令位置：which"><a href="#查看命令位置：which" class="headerlink" title="查看命令位置：which"></a>查看命令位置：which</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~$ <span class="built_in">which</span> <span class="built_in">ls</span></span><br><span class="line">/bin/ls</span><br><span class="line">python@ubuntu:~$ <span class="built_in">which</span> <span class="built_in">sudo</span></span><br><span class="line">/usr/bin/sudo</span><br></pre></td></tr></table></figure>

<h3 id="用户和用户组管理"><a href="#用户和用户组管理" class="headerlink" title="用户和用户组管理"></a>用户和用户组管理</h3><p>用户管理包括用户与组账号的管理。</p>
<p>在Unix&#x2F;Linux系统中，不论是由本机或是远程登录系统，每个系统都必须拥有一个账号，并且对于不同的系统资源拥有不同的使用权限。</p>
<p>Unix&#x2F;Linux系统中的root账号通常用于系统的维护和管理，它对Unix&#x2F;<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=Linux%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F&spm=1001.2101.3001.7020">Linux操作系统</a>的所有部分具有不受限制的访问权限。</p>
<p>在Unix&#x2F;Linux安装的过程中，系统会自动创建许多用户账号，而这些默认的用户就称为“标准用户”。</p>
<p>在大多数版本的Unix&#x2F;Linux中，都不推荐直接使用root账号登录系统。</p>
<h4 id="查看当前用户：whoami"><a href="#查看当前用户：whoami" class="headerlink" title="查看当前用户：whoami"></a>查看当前用户：whoami</h4><p>查看当前系统当前账号的用户名。可通过cat &#x2F;etc&#x2F;passwd查看系统用户信息。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/test$ <span class="built_in">whoami</span></span><br><span class="line">python</span><br></pre></td></tr></table></figure>

<h4 id="查看登录用户：who"><a href="#查看登录用户：who" class="headerlink" title="查看登录用户：who"></a>查看登录用户：who</h4><p>who命令用于查看当前所有登录系统的用户信息。</p>
<p>常用选项：</p>
<table>
<thead>
<tr>
<th align="left">选项</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td align="left">-m或am I</td>
<td>只显示运行who命令的用户名、登录终端和登录时间</td>
</tr>
<tr>
<td align="left">-q或–count</td>
<td>只显示用户的登录账号和登录用户的数量</td>
</tr>
<tr>
<td align="left">-u</td>
<td>在登录时间后显示该用户最后一次操作到当前的时间间隔</td>
</tr>
<tr>
<td align="left">-u或–heading</td>
<td>显示列标题</td>
</tr>
</tbody></table>
<h4 id="退出登录账户：-exit"><a href="#退出登录账户：-exit" class="headerlink" title="退出登录账户： exit"></a>退出登录账户： exit</h4><p>如果是图形界面，退出当前终端；</p>
<p>如果是使用ssh远程登录，退出登陆账户；</p>
<p>如果是切换后的登陆用户，退出则返回上一个登陆账号。</p>
<h4 id="添加用户账号：useradd"><a href="#添加用户账号：useradd" class="headerlink" title="添加用户账号：useradd"></a>添加用户账号：useradd</h4><p>在Unix&#x2F;Linux中添加用户账号可以使用adduser或useradd命令，因为adduser命令是指向useradd命令的一个链接，因此，这两个命令的使用格式完全一样。</p>
<p>useradd命令的使用格式如下： useradd [参数] 新建用户账号</p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td align="left">-d</td>
<td>指定用户登录系统时的主目录</td>
</tr>
<tr>
<td align="left">-m</td>
<td>自动建立目录，未指定-d参数时会在&#x2F;home&#x2F;{当前用户}目录下建立主目录</td>
</tr>
<tr>
<td align="left">-g</td>
<td>指定组名称</td>
</tr>
</tbody></table>
<p>相关说明：</p>
<ul>
<li>Linux每个用户都要有一个主目录，主目录就是第一次登陆系统，用户的默认当前目录(&#x2F;home&#x2F;用户)；</li>
<li>每一个用户必须有一个主目录，所以用useradd创建用户的时候，一定给用户指定一个主目录；</li>
<li>如果创建用户的时候，不指定组名，那么系统会自动创建一个和用户名一样的组名。</li>
</ul>
<p>若创建用户时未指定家目录，后期可通过<code>usermod -d /home/abc abc</code>指定</p>
<table>
<thead>
<tr>
<th align="left">命令</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td align="left">useradd -d &#x2F;home&#x2F;abc abc -m</td>
<td>创建abc用户，如果&#x2F;home&#x2F;abc目录不存在，就自动创建这个目录，同时用户属于abc组</td>
</tr>
<tr>
<td align="left">useradd -d &#x2F;home&#x2F;a a -g test -m</td>
<td>创建一个用户名字叫a，主目录在&#x2F;home&#x2F;a，如果主目录不存在，就自动创建主目录，同时用户属于test组</td>
</tr>
<tr>
<td align="left">cat &#x2F;etc&#x2F;passwd</td>
<td>查看系统当前用户名</td>
</tr>
</tbody></table>
<h4 id="修改用户：usermod"><a href="#修改用户：usermod" class="headerlink" title="修改用户：usermod"></a>修改用户：usermod</h4><p>常用的选项包括<code>-c, -d, -m, -g, -G, -s, -u以及-o等</code>，这些选项的意义与<code>useradd</code>命令中的选项一样，可以为用户指定新的资源值 。</p>
<p>修改用户所在组：usermod -g 用户组 用户名</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">usermod -g <span class="built_in">test</span> abc</span><br></pre></td></tr></table></figure>

<p>改abc用户的家目录位置：usermod -d 家目录 用户名</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">usermod -d /home/abc abc</span><br></pre></td></tr></table></figure>

<p>选项<code>-l 新用户名</code>指定一个新的账号，可修改用户名：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/txt$ <span class="built_in">tail</span> /etc/passwd -n 1 </span><br><span class="line">aaa:x:1001:1001::/home/aaa:</span><br><span class="line">python@ubuntu:~/txt$ <span class="built_in">sudo</span> usermod -l bbb -d /home/bbb aaa   </span><br><span class="line">python@ubuntu:~/txt$ <span class="built_in">tail</span> /etc/passwd -n 1               </span><br><span class="line">bbb:x:1001:1001::/home/bbb:</span><br></pre></td></tr></table></figure>

<h4 id="设置用户密码：passwd"><a href="#设置用户密码：passwd" class="headerlink" title="设置用户密码：passwd"></a>设置用户密码：passwd</h4><p>超级用户可以为自己和其他用户指定口令，普通用户只能用它修改自己的口令。命令的格式为：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd 选项 用户名</span><br></pre></td></tr></table></figure>

<p>可使用的选项：</p>
<ul>
<li>-l 锁定口令，即禁用账号。</li>
<li>-u 口令解锁。</li>
<li>-d 使账号无口令。</li>
<li>-f 强迫用户下次登录时修改口令。</li>
</ul>
<p>假设当前用户是sam，则下面的命令修改该用户自己的口令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ passwd </span><br><span class="line">Old password:****** </span><br><span class="line">New password:******* </span><br><span class="line">Re-enter new password:*******</span><br></pre></td></tr></table></figure>

<p>如果是超级用户，可以用下列形式指定任何用户的口令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># passwd sam </span></span><br><span class="line">New password:******* </span><br><span class="line">Re-enter new password:*******</span><br></pre></td></tr></table></figure>

<p>普通用户修改自己的口令时，passwd命令会先询问原口令，验证后再要求用户输入两遍新口令，如果两次输入的口令一致，则将这个口令指定给用户；而超级用户为用户指定口令时，就不需要知道原口令。</p>
<p>为用户指定空口令时，执行下列形式的命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd -d sam</span><br></pre></td></tr></table></figure>

<p>此命令将用户 sam 的口令删除，这样用户 sam 下一次登录时，系统就不再允许该用户登录了。</p>
<p>passwd 命令还可以用 -l(lock) 选项锁定某一用户，使其不能登录，例如：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">passwd -l sam</span><br></pre></td></tr></table></figure>

<h4 id="删除用户：userdel"><a href="#删除用户：userdel" class="headerlink" title="删除用户：userdel"></a>删除用户：userdel</h4><table>
<thead>
<tr>
<th align="left">命令</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td align="left">userdel abc(用户名)</td>
<td>删除abc用户，但不会自动删除用户的主目录</td>
</tr>
<tr>
<td align="left">userdel -r abc(用户名)</td>
<td>删除用户，同时删除用户的主目录</td>
</tr>
</tbody></table>
<h4 id="切换用户：su"><a href="#切换用户：su" class="headerlink" title="切换用户：su"></a>切换用户：su</h4><p>su后面可以加“-”会将当前的工作目录自动转换到切换后的用户主目录.</p>
<table>
<thead>
<tr>
<th align="left">命令</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td align="left">su</td>
<td>切换到root用户</td>
</tr>
<tr>
<td align="left">su root</td>
<td>切换到root用户</td>
</tr>
<tr>
<td align="left">su -</td>
<td>切换到root用户，同时切换目录到&#x2F;root</td>
</tr>
<tr>
<td align="left">su - root</td>
<td>切换到root用户，同时切换目录到&#x2F;root</td>
</tr>
<tr>
<td align="left">su 普通用户</td>
<td>切换到普通用户</td>
</tr>
<tr>
<td align="left">su - 普通用户</td>
<td>切换到普通用户，同时切换普通用户所在的目录</td>
</tr>
</tbody></table>
<p>注意：对于ubuntu平台，只能通过sudo su进入root账号。</p>
<p>sudo允许系统管理员让普通用户执行一些或者全部的root命令的一个工具。</p>
<h4 id="以root身份执行指令：sudo"><a href="#以root身份执行指令：sudo" class="headerlink" title="以root身份执行指令：sudo"></a>以root身份执行指令：sudo</h4><p>sudo命令可以临时获取root权限</p>
<p>使用权限：在 &#x2F;etc&#x2F;sudoers 中有出现的使用者。</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">显示出自己（执行 <span class="built_in">sudo</span> 的使用者）的权限</span><br><span class="line"><span class="built_in">sudo</span> -l</span><br><span class="line">以root权限执行上一条命令</span><br><span class="line"><span class="built_in">sudo</span> !!</span><br></pre></td></tr></table></figure>

<p>sudoers文件配置语法</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">user  MACHINE=COMMANDS</span><br><span class="line">用户 登录的主机=（可以变换的身份） 可以执行的命令  </span><br></pre></td></tr></table></figure>

<p>例子：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">允许root用户执行任意路径下的任意命令 </span><br><span class="line">root    ALL=(ALL)       ALL</span><br><span class="line">允许wheel用户组中的用户执行所有命令  </span><br><span class="line">%wheel        ALL=(ALL)       ALL</span><br><span class="line">允许wheel用户组中的用户在不输入该用户的密码的情况下使用所有命令</span><br><span class="line">%wheel        ALL=(ALL)       NOPASSWD: ALL</span><br><span class="line">允许support用户在EPG的机器上不输入密码的情况下使用SQUID中的命令</span><br><span class="line">Cmnd_Alias   SQUID = /opt/vtbin/squid_refresh, /sbin/service, /bin/rm</span><br><span class="line">Host_Alias   EPG = 192.168.1.1, 192.168.1.2</span><br><span class="line">support EPG=(ALL) NOPASSWD: SQUID</span><br></pre></td></tr></table></figure>

<h4 id="添加、删除组账号：groupadd、groupdel"><a href="#添加、删除组账号：groupadd、groupdel" class="headerlink" title="添加、删除组账号：groupadd、groupdel"></a>添加、删除组账号：groupadd、groupdel</h4><p>groupadd 新建组账号 groupdel 组账号 cat &#x2F;etc&#x2F;group 查看用户组</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/test$ <span class="built_in">sudo</span> groupadd abc</span><br><span class="line">python@ubuntu:~/test$ <span class="built_in">sudo</span> groupdel abc</span><br><span class="line">python@ubuntu:~/test$ <span class="built_in">sudo</span> groupdel abc</span><br><span class="line">groupdel：“abc”组不存在</span><br></pre></td></tr></table></figure>

<h4 id="用户组管理：groupmod"><a href="#用户组管理：groupmod" class="headerlink" title="用户组管理：groupmod"></a>用户组管理：groupmod</h4><p>修改用户组的属性使用groupmod命令。其语法如下：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">groupmod 选项 用户组</span><br></pre></td></tr></table></figure>

<p>常用的选项有：</p>
<ul>
<li>-g GID 为用户组指定新的组标识号。</li>
<li>-o 与-g选项同时使用，用户组的新GID可以与系统已有用户组的GID相同。</li>
<li>-n新用户组 将用户组的名字改为新名字</li>
</ul>
<p>将组group2的组标识号修改为102：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">groupmod -g 102 group2</span><br></pre></td></tr></table></figure>

<p>将组group2的标识号改为10000，组名修改为group3：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">groupmod –g 10000 -n group3 group2</span><br></pre></td></tr></table></figure>

<p>如果一个用户同时属于多个用户组，那么用户可以在用户组之间切换，以便具有其他用户组的权限。</p>
<p>用户可以在登录后，使用命令newgrp切换到其他用户组，这个命令的参数就是目的用户组。例如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ newgrp root</span><br></pre></td></tr></table></figure>

<p>这条命令将当前用户切换到root用户组，前提条件是root用户组确实是该用户的主组或附加组。类似于用户账号的管理，用户组的管理也可以通过集成的系统管理工具来完成。</p>
<h3 id="系统管理"><a href="#系统管理" class="headerlink" title="系统管理"></a>系统管理</h3><h4 id="查看当前日历：cal"><a href="#查看当前日历：cal" class="headerlink" title="查看当前日历：cal"></a>查看当前日历：cal</h4><p>cal命令用于查看当前日历，-y显示整年日历：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~$ cal</span><br><span class="line">      十一月 2019        </span><br><span class="line">日 一 二 三 四 五 六  </span><br><span class="line">                1  2  </span><br><span class="line"> 3  4  5  6  7  8  9  </span><br><span class="line">10 11 12 13 14 15 16  </span><br><span class="line">17 18 19 20 21 22 23  </span><br><span class="line">24 25 26 27 28 29 30 </span><br></pre></td></tr></table></figure>

<h4 id="显示或设置时间：date"><a href="#显示或设置时间：date" class="headerlink" title="显示或设置时间：date"></a>显示或设置时间：date</h4><p>设置时间格式（需要管理员权限）：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">date [MMDDhhmm[[CC]YY][.ss]] +format</span><br></pre></td></tr></table></figure>

<p>MM为月，DD为天，hh为小时，mm为分钟；CC为年前两位，YY为年的后两位，ss为秒。</p>
<p>如： date 010203042016.55。</p>
<p>显示时间格式（date ‘+%y,%m,%d,%H,%M,%S’）：</p>
<table>
<thead>
<tr>
<th align="left">format格式</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td align="left">%Y，%y</td>
<td>年</td>
</tr>
<tr>
<td align="left">%m</td>
<td>月</td>
</tr>
<tr>
<td align="left">%d</td>
<td>日</td>
</tr>
<tr>
<td align="left">%H</td>
<td>时</td>
</tr>
<tr>
<td align="left">%M</td>
<td>分</td>
</tr>
<tr>
<td align="left">%S</td>
<td>秒</td>
</tr>
</tbody></table>
<h4 id="查看网络状态：netstat"><a href="#查看网络状态：netstat" class="headerlink" title="查看网络状态：netstat"></a>查看网络状态：netstat</h4><p>netstat命令用于显示网络状态。</p>
<p>利用netstat指令可让你得知整个Linux系统的网络情况。</p>
<p>语法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">netstat [-acCeFghilMnNoprstuvVwx][-A&lt;网络类型&gt;][--ip]</span><br></pre></td></tr></table></figure>

<p><strong>参数说明</strong>：</p>
<ul>
<li>-a或–all 显示所有连线中的Socket。</li>
<li>-A&lt;网络类型&gt;或–&lt;网络类型&gt; 列出该网络类型连线中的相关地址。</li>
<li>-c或–continuous 持续列出网络状态。</li>
<li>-C或–cache 显示路由器配置的快取信息。</li>
<li>-e或–extend 显示网络其他相关信息。</li>
<li>-F或–fib 显示FIB。</li>
<li>-g或–groups 显示多重广播功能群组组员名单。</li>
<li>-h或–help 在线帮助。</li>
<li>-i或–interfaces 显示网络界面信息表单。</li>
<li>-l或–listening 显示监控中的服务器的Socket。</li>
<li>-M或–masquerade 显示伪装的网络连线。</li>
<li>-n或–numeric 直接使用IP地址，而不通过域名服务器。</li>
<li>-N或–netlink或–symbolic 显示网络硬件外围设备的符号连接名称。</li>
<li>-o或–timers 显示计时器。</li>
<li>-p或–programs 显示正在使用Socket的程序识别码和程序名称。</li>
<li>-r或–route 显示Routing Table。</li>
<li>-s或–statistice 显示网络工作信息统计表。</li>
<li>-t或–tcp 显示TCP传输协议的连线状况。</li>
<li>-u或–udp 显示UDP传输协议的连线状况。</li>
<li>-v或–verbose 显示指令执行过程。</li>
<li>-V或–version 显示版本信息。</li>
<li>-w或–raw 显示RAW传输协议的连线状况。</li>
<li>-x或–unix 此参数的效果和指定”-A unix”参数相同。</li>
<li>–ip或–inet 此参数的效果和指定”-A inet”参数相同。</li>
</ul>
<p>常用：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@VM_0_9_centos ~]# netstat -nltp</span><br><span class="line">Active Internet connections (only servers)</span><br><span class="line">Proto Recv-Q Send-Q Local Address  Foreign Address  State   PID/Program name</span><br><span class="line">tcp        0      0    0.0.0.0:22    0.0.0.0:*      LISTEN   3308/sshd</span><br><span class="line">tcp6       0      0         :::80         :::*      LISTEN   4624/httpd</span><br></pre></td></tr></table></figure>

<h4 id="查看进程信息：ps"><a href="#查看进程信息：ps" class="headerlink" title="查看进程信息：ps"></a>查看进程信息：ps</h4><p>进程是一个具有一定独立功能的程序，它是操作系统动态执行的基本单元。</p>
<p><strong>ps命令选项：</strong></p>
<ul>
<li>ps a 显示现行终端机下的所有程序，包括其他用户的程序。</li>
<li>ps -A 显示所有程序。</li>
<li>ps c 列出程序时，显示每个程序真正的指令名称，而不包含路 径，参数或常驻服务的标示。</li>
<li>ps -e 此参数的效果和指定”A”参数相同。</li>
<li>ps e 列出程序时，显示每个程序所使用的环境变量。</li>
<li>ps f 用ASCII字符显示树状结构，表达程序间的相互关系。</li>
<li>ps -H 显示树状结构，表示程序间的相互关系。</li>
<li>ps -N 显示所有的程序，除了执行ps指令终端机下的程序之外。</li>
<li>ps s 采用程序信号的格式显示程序状况。</li>
<li>ps u 以用户为主的格式来显示程序状况。</li>
<li>ps x 显示所有程序，不以终端机来区分。</li>
</ul>
<table>
<thead>
<tr>
<th align="left">选项</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td align="left">-a</td>
<td>显示终端上的所有进程，包括其他用户的进程</td>
</tr>
<tr>
<td align="left">-u</td>
<td>显示进程的详细状态</td>
</tr>
<tr>
<td align="left">-x</td>
<td>显示没有控制终端的进程</td>
</tr>
<tr>
<td align="left">-w</td>
<td>显示加宽，以便显示更多的信息</td>
</tr>
<tr>
<td align="left">-r</td>
<td>只显示正在运行的进程</td>
</tr>
</tbody></table>
<p><strong>常见用法：</strong></p>
<ul>
<li>ps -e 查看所有进程信息（瞬时的）</li>
<li>ps -u root -N 查看所有不是root运行的进程</li>
<li>ps ax 显示所有进程状态状态</li>
<li>ps -ef |grep xxx 显示含有xxx的进程</li>
</ul>
<p>实例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># ps -A 显示进程信息</span><br><span class="line">PID TTY     TIME CMD</span><br><span class="line">  1 ?    00:00:02 init</span><br><span class="line">  2 ?    00:00:00 kthreadd</span><br><span class="line">……省略部分结果</span><br><span class="line">30749 pts/0  00:00:15 gedit</span><br><span class="line">30886 ?    00:01:10 qtcreator.bin</span><br><span class="line">30894 ?    00:00:00 qtcreator.bin </span><br></pre></td></tr></table></figure>

<p>显示指定用户信息：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"># ps -u root //显示root进程用户信息</span><br><span class="line"> PID TTY     TIME CMD</span><br><span class="line">  1 ?    00:00:02 init</span><br><span class="line">  2 ?    00:00:00 kthreadd</span><br><span class="line">  3 ?    00:00:00 migration/0</span><br><span class="line">……省略部分结果</span><br><span class="line">30487 ?    00:00:06 gnome-terminal</span><br><span class="line">30488 ?    00:00:00 gnome-pty-helpe</span><br><span class="line">30489 pts/0  00:00:00 bash</span><br></pre></td></tr></table></figure>

<p>显示所有进程信息，连同命令行</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># ps -ef //显示所有命令，连带命令行</span><br><span class="line">UID    PID PPID C STIME TTY     TIME CMD</span><br><span class="line">root     1   0 0 10:22 ?    00:00:02 /sbin/init</span><br><span class="line">root     2   0 0 10:22 ?    00:00:00 [kthreadd]</span><br><span class="line">root     3   2 0 10:22 ?    00:00:00 [migration/0]</span><br><span class="line">root     4   2 0 10:22 ?    00:00:00 [ksoftirqd/0]</span><br><span class="line">root     5   2 0 10:22 ?    00:00:00 [watchdog/0]</span><br><span class="line">root     6   2 0 10:22 ?    /usr/lib/NetworkManager</span><br><span class="line">……省略部分结果</span><br><span class="line">root   31302 2095 0 17:42 ?    00:00:00 sshd: root@pts/2 </span><br><span class="line">root   31374 31302 0 17:42 pts/2  00:00:00 -bash</span><br><span class="line">root   31400   1 0 17:46 ?    00:00:00 /usr/bin/python /usr/sbin/aptd</span><br><span class="line">root   31407 31374 0 17:48 pts/2  00:00:00 ps -ef</span><br></pre></td></tr></table></figure>

<h4 id="以树状图显示进程关系：pstree"><a href="#以树状图显示进程关系：pstree" class="headerlink" title="以树状图显示进程关系：pstree"></a>以树状图显示进程关系：pstree</h4><p>显示进程的关系</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">pstree</span><br><span class="line">init-+-amd</span><br><span class="line">|-apmd</span><br><span class="line">|-atd</span><br><span class="line">|-httpd---10*[httpd]</span><br><span class="line">%pstree -p</span><br><span class="line">init(1)-+-amd(447)</span><br><span class="line">|-apmd(105)</span><br><span class="line">|-atd(339)</span><br><span class="line">%pstree -c</span><br><span class="line">init-+-amd</span><br><span class="line">|-apmd</span><br><span class="line">|-atd</span><br><span class="line">|-httpd-+-httpd</span><br><span class="line">| |-httpd</span><br><span class="line">| |-httpd</span><br><span class="line">| |-httpd</span><br><span class="line">....</span><br></pre></td></tr></table></figure>

<p>特别表明在运行的进程：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># pstree -apnh //显示进程间的关系</span><br></pre></td></tr></table></figure>

<p>同时显示用户名称：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># pstree -u //显示用户名称</span><br></pre></td></tr></table></figure>

<h4 id="动态显示进程：top"><a href="#动态显示进程：top" class="headerlink" title="动态显示进程：top"></a>动态显示进程：top</h4><p>top命令用来动态显示运行中的进程。top命令能够在运行后，在指定的时间间隔更新显示信息。-d参数可以指定显示信息更新的时间间隔。</p>
<p>在top命令执行后，可以按下按键得到对显示的结果进行排序：</p>
<table>
<thead>
<tr>
<th align="left">按键</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td align="left">M</td>
<td>根据内存使用量来排序</td>
</tr>
<tr>
<td align="left">P</td>
<td>根据CPU占有率来排序</td>
</tr>
<tr>
<td align="left">T</td>
<td>根据进程运行时间的长短来排序</td>
</tr>
<tr>
<td align="left">U</td>
<td>可以根据后面输入的用户名来筛选进程</td>
</tr>
<tr>
<td align="left">K</td>
<td>可以根据后面输入的PID来杀死进程。</td>
</tr>
<tr>
<td align="left">q</td>
<td>退出</td>
</tr>
<tr>
<td align="left">h</td>
<td>获得帮助</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~$ top</span><br><span class="line">top - 08:31:54 up 2 min,  1 user,  load average: 0.25, 0.37, 0.17</span><br><span class="line">Tasks: 271 total,   1 running, 270 sleeping,   0 stopped,   0 zombie</span><br><span class="line">%Cpu(s):  0.2 us,  0.0 sy,  0.0 ni, 99.8 <span class="built_in">id</span>,  0.0 wa,  0.0 hi,  0.0 si,  0.0 st</span><br><span class="line">KiB Mem :  4028880 total,  3210104 free,   331668 used,   487108 buff/cache</span><br><span class="line">KiB Swap:  4192252 total,  4192252 free,        0 used.  3414856 avail Mem </span><br><span class="line"></span><br><span class="line">   PID USER      PR  NI    VIRT    RES    SHR S  %CPU %MEM     TIME+ COMMAND    </span><br><span class="line">  4827 redis     20   0   47204   6632   2300 S   0.3  0.2   0:00.21 redis-ser+ </span><br><span class="line">  6371 python    20   0   49000   3896   3176 R   0.3  0.1   0:00.12 top        </span><br><span class="line">     1 root      20   0  119940   6112   4004 S   0.0  0.2   0:02.77 systemd    </span><br><span class="line">     2 root      20   0       0      0      0 S   0.0  0.0   0:00.02 kthreadd   </span><br><span class="line">     3 root      20   0       0      0      0 S   0.0  0.0   0:00.11 ksoftirqd+ </span><br></pre></td></tr></table></figure>

<p>更高级的命令是htop，但需要安装：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@VM_0_9_centos ~]# htop</span><br><span class="line"></span><br><span class="line">  CPU[||                                                              1.3%]   Tasks: 55, 29 thr; 1 running</span><br><span class="line">  Mem[||||||||||||||||||||||||||||||||||||||||||||||||||||||||||184M/1.80G]   Load average: 0.00 0.01 0.05 </span><br><span class="line">  Swp[                                                               0K/0K]   Uptime: 42 days, 03:29:48</span><br><span class="line"></span><br><span class="line">  PID USER      PRI  NI  VIRT   RES   SHR S CPU% MEM%   TIME+  Command</span><br><span class="line"> 2609 root       20   0  156M  9132  1784 S  0.7  0.5 39:01.13 barad_agent</span><br><span class="line"> 2610 root       20   0  660M 14168  1976 S  0.7  0.8  3h35:20 barad_agent</span><br><span class="line"> 1158 root       20   0  120M  2576  1492 R  0.0  0.1  0:00.01 htop</span><br></pre></td></tr></table></figure>

<h4 id="终止进程：kill"><a href="#终止进程：kill" class="headerlink" title="终止进程：kill"></a>终止进程：kill</h4><p>kill命令指定进程号的进程，需要配合 ps 使用。</p>
<p>使用格式：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kill [-signal] pid</span><br></pre></td></tr></table></figure>

<p>信号值从0到15，其中9为绝对终止，可以处理一般信号无法终止的进程。</p>
<h4 id="关机重启：reboot、shutdown、init"><a href="#关机重启：reboot、shutdown、init" class="headerlink" title="关机重启：reboot、shutdown、init"></a>关机重启：reboot、shutdown、init</h4><table>
<thead>
<tr>
<th align="left">命令</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td align="left">reboot</td>
<td>重新启动操作系统</td>
</tr>
<tr>
<td align="left">shutdown –r now</td>
<td>重新启动操作系统，shutdown会给别的用户提示</td>
</tr>
<tr>
<td align="left">shutdown -h now</td>
<td>立刻关机，其中now相当于时间为0的状态</td>
</tr>
<tr>
<td align="left">shutdown -h 20:25</td>
<td>系统在今天的20:25 会关机</td>
</tr>
<tr>
<td align="left">shutdown -h +10</td>
<td>系统再过十分钟后自动关机</td>
</tr>
<tr>
<td align="left">init 0</td>
<td>关机</td>
</tr>
<tr>
<td align="left">init 6</td>
<td>重启</td>
</tr>
</tbody></table>
<h4 id="检测磁盘空间：df"><a href="#检测磁盘空间：df" class="headerlink" title="检测磁盘空间：df"></a>检测磁盘空间：df</h4><p>df命令用于检测文件系统的磁盘空间占用和空余情况，可以显示所有文件系统对节点和磁盘块的使用情况。</p>
<table>
<thead>
<tr>
<th align="left">选项</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td align="left">-a</td>
<td>显示所有文件系统的磁盘使用情况</td>
</tr>
<tr>
<td align="left">-m</td>
<td>以1024字节为单位显示</td>
</tr>
<tr>
<td align="left">-t</td>
<td>显示各指定文件系统的磁盘空间使用情况</td>
</tr>
<tr>
<td align="left">-T</td>
<td>显示文件系统</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/test$ <span class="built_in">df</span> -Th</span><br><span class="line">文件系统       类型      容量  已用  可用 已用% 挂载点</span><br><span class="line">udev           devtmpfs  2.0G     0  2.0G    0% /dev</span><br><span class="line">tmpfs          tmpfs     394M  6.4M  388M    2% /run</span><br><span class="line">/dev/sda1      ext4       21G  8.7G   11G   45% /</span><br><span class="line">tmpfs          tmpfs     2.0G  256K  2.0G    1% /dev/shm</span><br><span class="line">tmpfs          tmpfs     5.0M  4.0K  5.0M    1% /run/lock</span><br><span class="line">tmpfs          tmpfs     2.0G     0  2.0G    0% /sys/fs/cgroup</span><br><span class="line">tmpfs          tmpfs     394M   44K  394M    1% /run/user/1000</span><br><span class="line">[root@VM_0_9_centos ~]# <span class="built_in">df</span> -Th</span><br><span class="line">Filesystem     Type      Size  Used Avail Use% Mounted on</span><br><span class="line">/dev/vda1      ext4       50G  4.8G   42G  11% /</span><br><span class="line">devtmpfs       devtmpfs  909M     0  909M   0% /dev</span><br><span class="line">tmpfs          tmpfs     920M   24K  920M   1% /dev/shm</span><br><span class="line">tmpfs          tmpfs     920M  472K  919M   1% /run</span><br><span class="line">tmpfs          tmpfs     920M     0  920M   0% /sys/fs/cgroup</span><br><span class="line">tmpfs          tmpfs     184M     0  184M   0% /run/user/0</span><br></pre></td></tr></table></figure>

<h4 id="检测目录所占磁盘空间：du"><a href="#检测目录所占磁盘空间：du" class="headerlink" title="检测目录所占磁盘空间：du"></a>检测目录所占磁盘空间：du</h4><p>du命令用于统计目录或文件所占磁盘空间的大小，该命令的执行结果与df类似，du更侧重于磁盘的使用状况。</p>
<p>du命令的使用格式如下： du [选项] 目录或文件名</p>
<table>
<thead>
<tr>
<th align="left">选项</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td align="left">-a</td>
<td>递归显示指定目录中各文件和子目录中文件占用的数据块</td>
</tr>
<tr>
<td align="left">-s</td>
<td>显示指定文件或目录占用的数据块</td>
</tr>
<tr>
<td align="left">-b</td>
<td>以字节为单位显示磁盘占用情况</td>
</tr>
<tr>
<td align="left">-l</td>
<td>计算所有文件大小，对硬链接文件计算多次</td>
</tr>
</tbody></table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~$ <span class="built_in">du</span> -sh /home/</span><br><span class="line">1.4G    /home/</span><br><span class="line">python@ubuntu:~$ <span class="built_in">du</span> -h</span><br><span class="line">4.0K    ./.gnome2/accels</span><br><span class="line">8.0K    ./.gnome2</span><br><span class="line">32K     ./.pki/nssdb</span><br><span class="line">36K     ./.pki</span><br><span class="line">8.0K    ./.dbus/session-bus</span><br><span class="line">12K     ./.dbus</span><br><span class="line">4.0K    ./.gnome2_private</span><br><span class="line">4.0K    ./Music</span><br></pre></td></tr></table></figure>

<h4 id="查看或配置网卡信息：ifconfig"><a href="#查看或配置网卡信息：ifconfig" class="headerlink" title="查看或配置网卡信息：ifconfig"></a>查看或配置网卡信息：ifconfig</h4><p>ifconfig显示所有网卡的信息：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~$ ifconfig </span><br><span class="line">ens33     Link encap:以太网  硬件地址 00:0c:29:59:65:f2  </span><br><span class="line">          inet 地址:192.168.40.11  广播:192.168.40.255  掩码:255.255.255.0</span><br><span class="line">          inet6 地址: fe80::432f:6c4a:f47d:5f6b/64 Scope:Link</span><br><span class="line">          UP BROADCAST RUNNING MULTICAST  MTU:1500  跃点数:1</span><br><span class="line">          接收数据包:422794 错误:0 丢弃:0 过载:0 帧数:0</span><br><span class="line">          发送数据包:208666 错误:0 丢弃:0 过载:0 载波:0</span><br><span class="line">          碰撞:0 发送队列长度:1000 </span><br><span class="line">          接收字节:603741383 (603.7 MB)  发送字节:12819550 (12.8 MB)</span><br><span class="line"></span><br><span class="line">lo        Link encap:本地环回  </span><br><span class="line">          inet 地址:127.0.0.1  掩码:255.0.0.0</span><br><span class="line">          inet6 地址: ::1/128 Scope:Host</span><br><span class="line">          UP LOOPBACK RUNNING  MTU:65536  跃点数:1</span><br><span class="line">          接收数据包:2248 错误:0 丢弃:0 过载:0 帧数:0</span><br><span class="line">          发送数据包:2248 错误:0 丢弃:0 过载:0 载波:0</span><br><span class="line">          碰撞:0 发送队列长度:1 </span><br><span class="line">          接收字节:497588 (497.5 KB)  发送字节:497588 (497.5 KB)</span><br></pre></td></tr></table></figure>

<p>修改ip:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~$ <span class="built_in">sudo</span> ifconfig ens33 192.168.40.10</span><br><span class="line">python@ubuntu:~$ ifconfig ens33</span><br><span class="line">ens33     Link encap:以太网  硬件地址 00:0c:29:59:65:f2  </span><br><span class="line">          inet 地址:192.168.40.10  广播:192.168.40.255  掩码:255.255.255.0</span><br><span class="line">          inet6 地址: fe80::432f:6c4a:f47d:5f6b/64 Scope:Link</span><br><span class="line">          UP BROADCAST RUNNING MULTICAST  MTU:1500  跃点数:1</span><br><span class="line">          接收数据包:422818 错误:0 丢弃:0 过载:0 帧数:0</span><br><span class="line">          发送数据包:208692 错误:0 丢弃:0 过载:0 载波:0</span><br><span class="line">          碰撞:0 发送队列长度:1000 </span><br><span class="line">          接收字节:603745130 (603.7 MB)  发送字节:12822615 (12.8 MB)</span><br></pre></td></tr></table></figure>

<h4 id="测试远程主机连通性：ping"><a href="#测试远程主机连通性：ping" class="headerlink" title="测试远程主机连通性：ping"></a>测试远程主机连通性：ping</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~$ ping 192.168.40.1</span><br><span class="line">PING 192.168.40.1 (192.168.40.1) 56(84) bytes of data.</span><br><span class="line">64 bytes from 192.168.40.1: icmp_seq=1 ttl=64 time=0.699 ms</span><br><span class="line">64 bytes from 192.168.40.1: icmp_seq=2 ttl=64 time=0.372 ms</span><br><span class="line">^C</span><br><span class="line">--- 192.168.40.1 ping statistics ---</span><br><span class="line">2 packets transmitted, 2 received, 0% packet loss, time 1001ms</span><br><span class="line">rtt min/avg/max/mdev = 0.372/0.535/0.699/0.165 ms</span><br><span class="line">python@ubuntu:~$ ping 192.168.40.1 -c 3</span><br><span class="line">PING 192.168.40.1 (192.168.40.1) 56(84) bytes of data.</span><br><span class="line">64 bytes from 192.168.40.1: icmp_seq=1 ttl=64 time=0.409 ms</span><br><span class="line">64 bytes from 192.168.40.1: icmp_seq=2 ttl=64 time=0.367 ms</span><br><span class="line">64 bytes from 192.168.40.1: icmp_seq=3 ttl=64 time=0.373 ms</span><br><span class="line"></span><br><span class="line">--- 192.168.40.1 ping statistics ---</span><br><span class="line">3 packets transmitted, 3 received, 0% packet loss, time 2000ms</span><br><span class="line">rtt min/avg/max/mdev = 0.367/0.383/0.409/0.018 ms</span><br><span class="line">python@ubuntu:~$ </span><br></pre></td></tr></table></figure>

<h3 id="Linux-磁盘管理"><a href="#Linux-磁盘管理" class="headerlink" title="Linux 磁盘管理"></a>Linux 磁盘管理</h3><p>Linux磁盘管理常用三个命令为df、du和fdisk。</p>
<ul>
<li>df：列出文件系统的整体磁盘使用量</li>
<li>du：检查磁盘空间使用量</li>
<li>fdisk：用于磁盘分区</li>
</ul>
<hr>
<h4 id="df"><a href="#df" class="headerlink" title="df"></a>df</h4><p>获取硬盘被占用了多少空间，目前还剩下多少空间等信息。</p>
<p>语法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df [-ahikHTm] [目录或文件名]</span><br></pre></td></tr></table></figure>

<p>选项与参数：</p>
<ul>
<li>-a ：列出所有的文件系统，包括系统特有的 &#x2F;proc 等文件系统；</li>
<li>-k ：以 KBytes 的容量显示各文件系统；</li>
<li>-m ：以 MBytes 的容量显示各文件系统；</li>
<li>-h ：以人们较易阅读的 GBytes, MBytes, KBytes 等格式自行显示；</li>
<li>-H ：以 M&#x3D;1000K 取代 M&#x3D;1024K 的进位方式；</li>
<li>-T ：显示文件系统类型, 连同该 partition 的 filesystem 名称 (例如 ext3) 也列出；</li>
<li>-i ：不用硬盘容量，而以 inode 的数量来显示</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@VM_0_9_centos ~]# df -hT</span><br><span class="line">Filesystem     Type      Size  Used Avail Use% Mounted on</span><br><span class="line">/dev/vda1      ext4       50G  4.9G   42G  11% /</span><br><span class="line">devtmpfs       devtmpfs  909M     0  909M   0% /dev</span><br><span class="line">tmpfs          tmpfs     920M   24K  920M   1% /dev/shm</span><br><span class="line">tmpfs          tmpfs     920M  496K  919M   1% /run</span><br><span class="line">tmpfs          tmpfs     920M     0  920M   0% /sys/fs/cgroup</span><br><span class="line">tmpfs          tmpfs     184M     0  184M   0% /run/user/0</span><br></pre></td></tr></table></figure>

<p>将系统内的所有特殊文件格式及名称都列出来</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# df -aT</span><br><span class="line">Filesystem    Type 1K-blocks    Used Available Use% Mounted on</span><br><span class="line">/dev/hdc2     ext3   9920624 3823112   5585444  41% /</span><br><span class="line">proc          proc         0       0         0   -  /proc</span><br><span class="line">sysfs        sysfs         0       0         0   -  /sys</span><br><span class="line">devpts      devpts         0       0         0   -  /dev/pts</span><br><span class="line">/dev/hdc3     ext3   4956316  141376   4559108   4% /home</span><br><span class="line">/dev/hdc1     ext3    101086   11126     84741  12% /boot</span><br><span class="line">tmpfs        tmpfs    371332       0    371332   0% /dev/shm</span><br><span class="line">none   binfmt_misc         0       0         0   -  /proc/sys/fs/binfmt_misc</span><br><span class="line">sunrpc  rpc_pipefs         0       0         0   -  /var/lib/nfs/rpc_pipefs</span><br></pre></td></tr></table></figure>

<h4 id="du"><a href="#du" class="headerlink" title="du"></a>du</h4><p>du命令是对文件和目录磁盘使用的空间的查看.</p>
<p>语法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">du [-ahskm] 文件或目录名称</span><br></pre></td></tr></table></figure>

<p>选项与参数：</p>
<ul>
<li>-a ：列出所有的文件与目录容量，因为默认仅统计目录底下的文件量而已。</li>
<li>-h ：以人们较易读的容量格式 (G&#x2F;M) 显示；</li>
<li>-s ：列出总量而已，而不列出每个各别的目录占用容量；</li>
<li>-S ：不包括子目录下的总计，与 -s 有点差别。</li>
<li>-k ：以 KBytes 列出容量显示；</li>
<li>-m ：以 MBytes 列出容量显示；</li>
</ul>
<p>du没有加任何选项时，只列出当前目录下的所有文件夹容量（包括隐藏文件夹）:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# du</span><br><span class="line">8       ./test4     &lt;==每个目录都会列出来</span><br><span class="line">8       ./test2</span><br><span class="line">....中间省略....</span><br><span class="line">12      ./.gconfd   &lt;==包括隐藏文件的目录</span><br><span class="line">220     .           &lt;==这个目录(.)所占用的总量</span><br></pre></td></tr></table></figure>

<p>直接输入 du 没有加任何选项时，则 du 会分析当前所在目录的文件与目录所占用的硬盘空间。</p>
<p>加<code>-a</code>选项才显示文件的容量：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# du -a</span><br><span class="line">12      ./install.log.syslog   &lt;==有文件的列表了</span><br><span class="line">8       ./.bash_logout</span><br><span class="line">8       ./test4</span><br><span class="line">8       ./test2</span><br><span class="line">....中间省略....</span><br><span class="line">12      ./.gconfd</span><br><span class="line">220     .</span><br></pre></td></tr></table></figure>

<p>检查根目录底下每个目录所占用的容量</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# du -sh /*</span><br><span class="line">0       /bin</span><br><span class="line">108M    /boot</span><br><span class="line">4.0K    /data</span><br><span class="line">.....中间省略....</span><br><span class="line">0       /proc</span><br><span class="line">.....中间省略....</span><br><span class="line">40K     /tmp</span><br><span class="line">2.4G    /usr</span><br><span class="line">2.4G    /var</span><br></pre></td></tr></table></figure>

<h4 id="fdisk"><a href="#fdisk" class="headerlink" title="fdisk"></a>fdisk</h4><p>fdisk 是 Linux 的磁盘分区表操作工具。</p>
<p>语法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fdisk [-l] 装置名称</span><br></pre></td></tr></table></figure>

<p>选项与参数：</p>
<ul>
<li>-l ：输出后面接的装置所有的分区内容。若仅有 fdisk -l 时， 则系统将会把整个系统内能够搜寻到的装置的分区均列出来。</li>
</ul>
<p>列出所有分区信息：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">[root@AY120919111755c246621 tmp]# fdisk -l</span><br><span class="line"></span><br><span class="line">Disk /dev/xvda: 21.5 GB, 21474836480 bytes</span><br><span class="line">255 heads, 63 sectors/track, 2610 cylinders</span><br><span class="line">Units = cylinders of 16065 * 512 = 8225280 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line">Disk identifier: 0x00000000</span><br><span class="line"></span><br><span class="line">    Device Boot      Start         End      Blocks   Id  System</span><br><span class="line">/dev/xvda1   *           1        2550    20480000   83  Linux</span><br><span class="line">/dev/xvda2            2550        2611      490496   82  Linux swap / Solaris</span><br><span class="line"></span><br><span class="line">Disk /dev/xvdb: 21.5 GB, 21474836480 bytes</span><br><span class="line">255 heads, 63 sectors/track, 2610 cylinders</span><br><span class="line">Units = cylinders of 16065 * 512 = 8225280 bytes</span><br><span class="line">Sector size (logical/physical): 512 bytes / 512 bytes</span><br><span class="line">I/O size (minimum/optimal): 512 bytes / 512 bytes</span><br><span class="line">Disk identifier: 0x56f40944</span><br><span class="line"></span><br><span class="line">    Device Boot      Start         End      Blocks   Id  System</span><br><span class="line">/dev/xvdb2               1        2610    20964793+  83  Linux</span><br></pre></td></tr></table></figure>

<p>查看根目录所在磁盘，并查阅该硬盘内的相关信息：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# df /            &lt;==注意：重点在找出磁盘文件名而已</span><br><span class="line">Filesystem           1K-blocks      Used Available Use% Mounted on</span><br><span class="line">/dev/hdc2              9920624   3823168   5585388  41% /</span><br><span class="line"></span><br><span class="line">[root@www ~]# fdisk /dev/hdc  &lt;==不要加上数字！</span><br><span class="line">The number of cylinders for this disk is set to 5005.</span><br><span class="line">There is nothing wrong with that, but this is larger than 1024,</span><br><span class="line">and could in certain setups cause problems with:</span><br><span class="line">1) software that runs at boot time (e.g., old versions of LILO)</span><br><span class="line">2) booting and partitioning software from other OSs</span><br><span class="line">   (e.g., DOS FDISK, OS/2 FDISK)</span><br><span class="line"></span><br><span class="line">Command (m for help):     &lt;==等待你的输入！</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>输入 m 后，就会看到底下这些命令介绍</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Command (m for help): m   &lt;== 输入 m 后，就会看到底下这些命令介绍</span><br><span class="line">Command action</span><br><span class="line">   a   toggle a bootable flag</span><br><span class="line">   b   edit bsd disklabel</span><br><span class="line">   c   toggle the dos compatibility flag</span><br><span class="line">   d   delete a partition            &lt;==删除一个partition</span><br><span class="line">   l   list known partition types</span><br><span class="line">   m   print this menu</span><br><span class="line">   n   add a new partition           &lt;==新增一个partition</span><br><span class="line">   o   create a new empty DOS partition table</span><br><span class="line">   p   print the partition table     &lt;==在屏幕上显示分割表</span><br><span class="line">   q   quit without saving changes   &lt;==不储存离开fdisk程序</span><br><span class="line">   s   create a new empty Sun disklabel</span><br><span class="line">   t   change a partition&#x27;s system id</span><br><span class="line">   u   change display/entry units</span><br><span class="line">   v   verify the partition table</span><br><span class="line">   w   write table to disk and exit  &lt;==将刚刚的动作写入分割表</span><br><span class="line">   x   extra functionality (experts only)</span><br></pre></td></tr></table></figure>

<p>离开 fdisk 时按下 <code>q</code>，那么所有的动作都不会生效！相反的， 按下<code>w</code>就是动作生效的意思。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Command (m for help): p  &lt;== 这里可以输出目前磁盘的状态</span><br><span class="line"></span><br><span class="line">Disk /dev/hdc: 41.1 GB, 41174138880 bytes        &lt;==这个磁盘的文件名与容量</span><br><span class="line">255 heads, 63 sectors/track, 5005 cylinders      &lt;==磁头、扇区与磁柱大小</span><br><span class="line">Units = cylinders of 16065 * 512 = 8225280 bytes &lt;==每个磁柱的大小</span><br><span class="line"></span><br><span class="line">   Device Boot      Start         End      Blocks   Id  System</span><br><span class="line">/dev/hdc1   *           1          13      104391   83  Linux</span><br><span class="line">/dev/hdc2              14        1288    10241437+  83  Linux</span><br><span class="line">/dev/hdc3            1289        1925     5116702+  83  Linux</span><br><span class="line">/dev/hdc4            1926        5005    24740100    5  Extended</span><br><span class="line">/dev/hdc5            1926        2052     1020096   82  Linux swap / Solaris</span><br><span class="line"># 装置文件名 启动区否 开始磁柱    结束磁柱  1K大小容量 磁盘分区槽内的系统</span><br><span class="line"></span><br><span class="line">Command (m for help): q</span><br></pre></td></tr></table></figure>

<p>使用 <code>p</code> 可以列出目前这颗磁盘的分割表信息，这个信息的上半部在显示整体磁盘的状态。</p>
<h4 id="磁盘格式化"><a href="#磁盘格式化" class="headerlink" title="磁盘格式化"></a>磁盘格式化</h4><p>磁盘分割完毕后自然就是要进行文件系统的格式化，格式化的命令非常的简单，使用 <code>mkfs</code>（make filesystem） 命令。</p>
<p>语法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mkfs [-t 文件系统格式] 装置文件名</span><br></pre></td></tr></table></figure>

<p>选项与参数：</p>
<ul>
<li>-t ：可以接文件系统格式，例如 ext3, ext2, vfat 等(系统有支持才会生效)</li>
</ul>
<p>查看 mkfs 支持的文件格式：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@VM_0_9_centos web]# mkfs[tab]</span><br><span class="line">mkfs         mkfs.cramfs  mkfs.ext3    mkfs.minix   </span><br><span class="line">mkfs.btrfs   mkfs.ext2    mkfs.ext4    mkfs.xfs</span><br></pre></td></tr></table></figure>

<p>按下两个[tab]，会发现 mkfs 支持的文件格式如上所示。</p>
<p>将分区 &#x2F;dev&#x2F;hdc6（可指定其他分区） 格式化为ext3文件系统：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# mkfs -t ext3 /dev/hdc6</span><br><span class="line">mke2fs 1.39 (29-May-2006)</span><br><span class="line">Filesystem label=                &lt;==这里指的是分割槽的名称(label)</span><br><span class="line">OS type: Linux</span><br><span class="line">Block size=4096 (log=2)          &lt;==block 的大小配置为 4K </span><br><span class="line">Fragment size=4096 (log=2)</span><br><span class="line">251392 inodes, 502023 blocks     &lt;==由此配置决定的inode/block数量</span><br><span class="line">25101 blocks (5.00%) reserved for the super user</span><br><span class="line">First data block=0</span><br><span class="line">Maximum filesystem blocks=515899392</span><br><span class="line">16 block groups</span><br><span class="line">32768 blocks per group, 32768 fragments per group</span><br><span class="line">15712 inodes per group</span><br><span class="line">Superblock backups stored on blocks:</span><br><span class="line">        32768, 98304, 163840, 229376, 294912</span><br><span class="line"></span><br><span class="line">Writing inode tables: done</span><br><span class="line">Creating journal (8192 blocks): done &lt;==有日志记录</span><br><span class="line">Writing superblocks and filesystem accounting information: done</span><br><span class="line"></span><br><span class="line">This filesystem will be automatically checked every 34 mounts or</span><br><span class="line">180 days, whichever comes first.  Use tune2fs -c or -i to override.</span><br><span class="line"># 这样就创建起来我们所需要的 Ext3 文件系统了！简单明了！</span><br></pre></td></tr></table></figure>

<h4 id="磁盘检验"><a href="#磁盘检验" class="headerlink" title="磁盘检验"></a>磁盘检验</h4><p>fsck（file system check）用来检查和维护不一致的文件系统。</p>
<p>若系统掉电或磁盘发生问题，可利用fsck命令对文件系统进行检查。</p>
<p>语法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fsck [-t 文件系统] [-ACay] 装置名称</span><br></pre></td></tr></table></figure>

<p>选项与参数：</p>
<ul>
<li>-t : 给定档案系统的型式，若在 &#x2F;etc&#x2F;fstab 中已有定义或 kernel 本身已支援的则不需加上此参数</li>
<li>-s : 依序一个一个地执行 fsck 的指令来检查</li>
<li>-A : 对&#x2F;etc&#x2F;fstab 中所有列出来的 分区（partition）做检查</li>
<li>-C : 显示完整的检查进度</li>
<li>-d : 打印出 e2fsck 的 debug 结果</li>
<li>-p : 同时有 -A 条件时，同时有多个 fsck 的检查一起执行</li>
<li>-R : 同时有 -A 条件时，省略 &#x2F; 不检查</li>
<li>-V : 详细显示模式</li>
<li>-a : 如果检查有错则自动修复</li>
<li>-r : 如果检查有错则由使用者回答是否修复</li>
<li>-y : 选项指定检测每个文件是自动输入yes，在不确定那些是不正常的时候，可以执行 # fsck -y 全部检查修复。</li>
</ul>
<p>查看系统有多少文件系统支持的 fsck 命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# fsck[tab][tab]</span><br><span class="line">fsck         fsck.cramfs  fsck.ext2    fsck.ext3    fsck.msdos   fsck.vfat</span><br></pre></td></tr></table></figure>

<p>强制检测 &#x2F;dev&#x2F;hdc6 分区:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# fsck -C -f -t ext3 /dev/hdc6 </span><br><span class="line">fsck 1.39 (29-May-2006)</span><br><span class="line">e2fsck 1.39 (29-May-2006)</span><br><span class="line">Pass 1: Checking inodes, blocks, and sizes</span><br><span class="line">Pass 2: Checking directory structure</span><br><span class="line">Pass 3: Checking directory connectivity</span><br><span class="line">Pass 4: Checking reference counts</span><br><span class="line">Pass 5: Checking group summary information</span><br><span class="line">vbird_logical: 11/251968 files (9.1% non-contiguous), 36926/1004046 blocks</span><br></pre></td></tr></table></figure>

<p>如果没有加上 -f 的选项，则由于这个文件系统不曾出现问题，检查的经过非常快速！若加上 -f 强制检查，才会一项一项的显示过程。</p>
<h4 id="磁盘挂载与卸除"><a href="#磁盘挂载与卸除" class="headerlink" title="磁盘挂载与卸除"></a>磁盘挂载与卸除</h4><p>Linux 的磁盘挂载使用 <code>mount</code> 命令，卸载使用 <code>umount</code> 命令。</p>
<p>磁盘挂载语法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mount [-t 文件系统] [-L Label名] [-o 额外选项] [-n]  装置文件名  挂载点</span><br></pre></td></tr></table></figure>

<p>用默认的方式，将刚刚创建的 &#x2F;dev&#x2F;hdc6 挂载到 &#x2F;mnt&#x2F;hdc6 上面！</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# mkdir /mnt/hdc6</span><br><span class="line">[root@www ~]# mount /dev/hdc6 /mnt/hdc6</span><br><span class="line">[root@www ~]# df</span><br><span class="line">Filesystem           1K-blocks      Used Available Use% Mounted on</span><br><span class="line">.....中间省略.....</span><br><span class="line">/dev/hdc6              1976312     42072   1833836   3% /mnt/hdc6</span><br></pre></td></tr></table></figure>

<p>磁盘卸载命令 <code>umount</code> 语法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">umount [-fn] 装置文件名或挂载点</span><br></pre></td></tr></table></figure>

<p>选项与参数：</p>
<ul>
<li>-f ：强制卸除！可用在类似网络文件系统 (NFS) 无法读取到的情况下；</li>
<li>-n ：不升级 &#x2F;etc&#x2F;mtab 情况下卸除。</li>
</ul>
<p>卸载&#x2F;dev&#x2F;hdc6</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# umount /dev/hdc6     </span><br></pre></td></tr></table></figure>

<h3 id="Linux管道命令"><a href="#Linux管道命令" class="headerlink" title="Linux管道命令"></a>Linux管道命令</h3><p>Linux的管道命令是’|’，通过它可以对数据进行连续处理，其示意图如下：</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/91c28994d6fb98e8c35f2eac36880df2jpeg.jpg" alt="img"></p>
<p>注意：</p>
<p>1）管道命令仅处理标准输出，对于标准错误输出，将忽略</p>
<p>2）管道命令右边命令，必须能够接收标准输入流命令才行，否则传递过程中数据会抛弃。</p>
<p>常用来作为接收数据管道命令有： less,more,head,tail，而ls, cp, mv就不行。</p>
<h4 id="wc-统计字数"><a href="#wc-统计字数" class="headerlink" title="wc - 统计字数"></a>wc - 统计字数</h4><p>可以计算文件的Byte数、字数、或是列数，若不指定文件名称、或是所给予的文件名为”-“，则wc指令会从标准输入设备读取数据。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">wc [-lwm] [filename]</span><br><span class="line">-l: 统计行数</span><br><span class="line">-w：统计英文单词</span><br><span class="line">-m：统计字符数</span><br><span class="line">python@xxx:~$ wc -l /etc/passwd</span><br><span class="line">49 /etc/passwd</span><br><span class="line">python@xxx:~$ wc -w /etc/passwd</span><br><span class="line">81 /etc/passwd</span><br><span class="line">python@xxx:~$ wc -m /etc/passwd</span><br><span class="line">2696 /etc/passwd</span><br></pre></td></tr></table></figure>

<p>在默认的情况下，wc将计算指定文件的行数、字数，以及字节数。使用的命令为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ wc testfile           # testfile文件的统计信息  </span><br><span class="line">3 92 598 testfile       # testfile文件的行数为3、单词数92、字节数598 </span><br></pre></td></tr></table></figure>

<p>其中，3 个数字分别表示testfile文件的行数、单词数，以及该文件的字节数。</p>
<p>如果想同时统计多个文件的信息，例如同时统计testfile、testfile_1、testfile_2，可使用如下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ wc testfile testfile_1 testfile_2  #统计三个文件的信息  </span><br><span class="line">3 92 598 testfile                    #第一个文件行数为3、单词数92、字节数598  </span><br><span class="line">9 18 78 testfile_1                   #第二个文件的行数为9、单词数18、字节数78  </span><br><span class="line">3 6 32 testfile_2                    #第三个文件的行数为3、单词数6、字节数32  </span><br><span class="line">15 116 708 总用量                    #三个文件总共的行数为15、单词数116、字节数708 </span><br></pre></td></tr></table></figure>

<h4 id="cut-列选取命令"><a href="#cut-列选取命令" class="headerlink" title="cut - 列选取命令"></a>cut - 列选取命令</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">选项与参数：</span><br><span class="line">-d  ：后面接分隔字符。与 -f 一起使用；</span><br><span class="line">-f  ：依据 -d 的分隔字符将一段信息分割成为数段，用 -f 取出第几段的意思；</span><br><span class="line">-c  ：以字符 (characters) 的单位取出固定字符区间；</span><br></pre></td></tr></table></figure>

<p>cut以行为单位，根据分隔符把行分成若干列，这样就可以指定选取哪些列了。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cut -d &#x27;分隔字符&#x27; -f 选取的列数</span><br><span class="line">echo $PATH|cut -d &#x27;:&#x27; -f 2  	--选取第2列</span><br><span class="line">echo $PATH|cut -d &#x27;:&#x27; -f 3,5  	--选取第3列和第5列</span><br><span class="line">echo $PATH|cut -d &#x27;:&#x27; -f 3-5  	--选取第3列到第5列</span><br><span class="line">echo $PATH|cut -d &#x27;:&#x27; -f 3-   	--选取第3列到最后1列</span><br><span class="line">echo $PATH|cut -d &#x27;:&#x27; -f 1-3,5	--选取第1到第3列还有第5列</span><br></pre></td></tr></table></figure>

<p>只显示&#x2F;etc&#x2F;passwd的用户和shell：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#cat /etc/passwd | cut -d &#x27;:&#x27; -f 1,7 </span><br><span class="line">root:/bin/bash</span><br><span class="line">daemon:/bin/sh</span><br><span class="line">bin:/bin/sh</span><br></pre></td></tr></table></figure>

<h4 id="grep-行选取命令"><a href="#grep-行选取命令" class="headerlink" title="grep - 行选取命令"></a>grep - 行选取命令</h4><p>grep一般格式为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep [-cinv] &#x27;查找的字符串&#x27; filename</span><br></pre></td></tr></table></figure>

<p>在grep命令中输入字符串参数时，最好引号或双引号括起来。例如：<code>grep &#39;a&#39; 1.txt</code>。</p>
<p>常用选项说明：</p>
<table>
<thead>
<tr>
<th align="left">选项</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td align="left">-v</td>
<td>显示不包含匹配文本的所有行（相当于求反）</td>
</tr>
<tr>
<td align="left">-n</td>
<td>显示匹配行及行号</td>
</tr>
<tr>
<td align="left">-i</td>
<td>忽略大小写</td>
</tr>
<tr>
<td align="left">-c</td>
<td>计算找到的行数</td>
</tr>
</tbody></table>
<p>grep搜索内容串可以是正则表达式，常用正则表达式：</p>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td align="left">^a</td>
<td>行首,搜寻以 m 开头的行；grep -n ‘^a’ 1.txt</td>
</tr>
<tr>
<td align="left">ke$</td>
<td>行尾,搜寻以 ke 结束的行；grep -n ‘ke$’ 1.txt</td>
</tr>
<tr>
<td align="left">[Ss]igna[Ll]</td>
<td>匹配 [] 里中一系列字符中的一个；搜寻匹配单词signal、signaL、Signal、SignaL的行；grep -n ‘[Ss]igna[Ll]’ 1.txt</td>
</tr>
<tr>
<td align="left">.</td>
<td>.匹配一个非换行符的字符；grep -n ‘e.e’ 1.txt可以匹配 eee，eae，eve，但是不匹配 ee，eaae；</td>
</tr>
<tr>
<td align="left">*</td>
<td>匹配零个或多个先前字符</td>
</tr>
<tr>
<td align="left">[^]</td>
<td>匹配一个不在指定范围内的字符</td>
</tr>
<tr>
<td align="left"><code>\(..\)</code></td>
<td>标记匹配字符</td>
</tr>
<tr>
<td align="left">\</td>
<td>锚定单词的开始</td>
</tr>
<tr>
<td align="left"><code>\&lt;</code></td>
<td>锚定单词的开头</td>
</tr>
<tr>
<td align="left"><code>\&gt;</code></td>
<td>锚定单词的结束</td>
</tr>
<tr>
<td align="left"><code>x\&#123;m\&#125;</code></td>
<td>重复字符x，m次</td>
</tr>
<tr>
<td align="left"><code>x\&#123;m,\&#125;</code></td>
<td>重复字符x,至少m次</td>
</tr>
<tr>
<td align="left"><code>x\&#123;m,n\&#125;</code></td>
<td>重复字符x，至少m次，不多于n次</td>
</tr>
<tr>
<td align="left">\w</td>
<td>匹配文字和数字字符，也就是[A-Za-z0-9]</td>
</tr>
<tr>
<td align="left">\b</td>
<td>单词锁定符</td>
</tr>
</tbody></table>
<p>实例：<br>显示所有以“h”结尾的行<br>grep h$<br>匹配所有以“a”开头且以“e”结尾的，中间包含2个字符的单词<br>grep ‘&lt;a…e&gt;’<br>显示所有包含一个”y”或”h”字符的行<br>grep [yh]<br>显示不包含字母a~k 且后紧跟“pple”的单词</p>
<p><code>grep [^a-k]pple</code></p>
<p>从系统词典中选择所有以“c”开头且以“o”结尾的单词<br><code>grep &#39;\&lt;c.*o\&gt;&#39;</code><br>找出一个文件中或者输出中找到包含<code>*</code>的行<br><code>grep &#39;\*&#39;</code><br>显示所有包含每个字符串至少有20个连续字母的单词的行<br><code>grep [a-Z]\&#123;20,\&#125;</code></p>
<h4 id="sort-排序"><a href="#sort-排序" class="headerlink" title="sort - 排序"></a>sort - 排序</h4><p><strong>语法：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sort [-fbMnrtuk] [file or stdin]</span><br></pre></td></tr></table></figure>

<p><strong>参数说明</strong>：</p>
<ul>
<li>-f ：忽略大小写的差异，例如 A 与 a 视为编码相同；</li>
<li>-b ：忽略最前面的空格符部分；</li>
<li>-M ：以月份的名字来排序，例如 JAN, DEC 等等的排序方法；</li>
<li>-n ：使用『纯数字』进行排序(默认是以文字型态来排序的)；</li>
<li>-r ：反向排序；</li>
<li>-u ：就是 uniq ，相同的数据中，仅出现一行代表；</li>
<li>-t ：分隔符，默认是用 [tab] 键来分隔；</li>
<li>-k ：以哪个区间 (field) 来进行排序</li>
</ul>
<p>默认是以第一个字符升序排序:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># cat /etc/passwd | sort </span><br><span class="line">adm:x:3:4:adm:/var/adm:/sbin/nologin</span><br><span class="line">avahi-autoipd:x:100:156:avahi-autoipd:/var/lib/avahi-autoipd:/sbin/nologin</span><br><span class="line">avahi:x:70:70:Avahi daemon:/:/sbin/nologin</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">......</span><br></pre></td></tr></table></figure>

<p>以第3列排序：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# cat /etc/passwd | sort -t &#x27;:&#x27; -k 3</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">uucp:x:10:14:uucp:/var/spool/uucp:/sbin/nologin</span><br><span class="line">operator:x:11:0:operator:/root:/sbin/nologin</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">games:x:12:100:games:/usr/games:/sbin/nologin</span><br></pre></td></tr></table></figure>

<p>使用数字排序：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/passwd | sort -t &#x27;:&#x27; -k 3n</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">daemon:x:1:1:daemon:/usr/sbin:/bin/sh</span><br><span class="line">bin:x:2:2:bin:/bin:/bin/sh</span><br></pre></td></tr></table></figure>

<p>倒序排序：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/passwd | sort -t &#x27;:&#x27; -k 3nr</span><br><span class="line">nobody:x:65534:65534:nobody:/nonexistent:/bin/sh</span><br><span class="line">ntp:x:106:113::/home/ntp:/bin/false</span><br><span class="line">messagebus:x:105:109::/var/run/dbus:/bin/false</span><br><span class="line">sshd:x:104:65534::/var/run/sshd:/usr/sbin/nologin</span><br><span class="line">或者</span><br><span class="line">cat /etc/passwd | sort -t &#x27;:&#x27; -k 3 -nr</span><br></pre></td></tr></table></figure>

<p>先以第六个域的第2个字符到第4个字符进行正向排序，再基于第一个域进行反向排序：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cat /etc/passwd |  sort -t &#x27;:&#x27; -k 6.2,6.4 -k 1r      </span><br><span class="line">sync:x:4:65534:sync:/bin:/bin/sync</span><br><span class="line">proxy:x:13:13:proxy:/bin:/bin/sh</span><br><span class="line">bin:x:2:2:bin:/bin:/bin/sh</span><br><span class="line">sys:x:3:3:sys:/dev:/bin/sh</span><br></pre></td></tr></table></figure>

<p>查看&#x2F;etc&#x2F;passwd有多少个shell:</p>
<p>方法对&#x2F;etc&#x2F;passwd的第七个域排序并去重，然后统计行数：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">[root@VM_0_9_centos ~]# cat /etc/passwd |  sort -t&#x27;:&#x27; -k 7 -u</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">syslog:x:996:994::/home/syslog:/bin/false</span><br><span class="line">sync:x:5:0:sync:/sbin:/bin/sync</span><br><span class="line">halt:x:7:0:halt:/sbin:/sbin/halt</span><br><span class="line">bin:x:1:1:bin:/bin:/sbin/nologin</span><br><span class="line">shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown</span><br><span class="line">[root@VM_0_9_centos ~]# cat /etc/passwd |  sort -t&#x27;:&#x27; -k 7 -u|wc -l</span><br><span class="line">6</span><br></pre></td></tr></table></figure>

<h4 id="uniq-去重"><a href="#uniq-去重" class="headerlink" title="uniq - 去重"></a>uniq - 去重</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">选项与参数：</span><br><span class="line">-i   ：忽略大小写字符的不同；</span><br><span class="line">-c  ：进行计数</span><br><span class="line">-u  ：只显示唯一的行</span><br></pre></td></tr></table></figure>

<p>该命令用于排完序之后，对排序结果进行去重</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">python@xxx:~$ last | cut -d &#x27; &#x27; -f 1  | sort | uniq</span><br><span class="line"></span><br><span class="line">haha</span><br><span class="line">python</span><br><span class="line">reboot</span><br><span class="line">wtmp</span><br><span class="line">python@xxx:~$ last | cut -d &#x27; &#x27; -f 1  | sort | uniq -c</span><br><span class="line">      1 </span><br><span class="line">      2 haha</span><br><span class="line">     22 python</span><br><span class="line">      7 reboot</span><br><span class="line">      1 wtmp</span><br></pre></td></tr></table></figure>

<p>排序文件，默认是去重：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#cat words | sort |uniq</span><br><span class="line">friend</span><br><span class="line">hello</span><br><span class="line">world</span><br></pre></td></tr></table></figure>

<p>排序之后删除了重复行，同时在行首位置输出该行重复的次数：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#sort testfile | uniq -c</span><br><span class="line">1 friend</span><br><span class="line">3 hello</span><br><span class="line">2 world</span><br></pre></td></tr></table></figure>

<p>仅显示存在重复的行，并在行首显示该行重复的次数：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#sort testfile | uniq -dc</span><br><span class="line">3 hello</span><br><span class="line">2 world</span><br></pre></td></tr></table></figure>

<p>仅显示不重复的行：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sort testfile | uniq -u</span><br><span class="line">friend</span><br></pre></td></tr></table></figure>

<h4 id="tee-同时输出多个文件"><a href="#tee-同时输出多个文件" class="headerlink" title="tee - 同时输出多个文件"></a>tee - 同时输出多个文件</h4><p>从标准输入设备读取数据，将其内容输出到标准输出设备，同时保存成文件。</p>
<p>一般情况下用重定向实现，需要同时输出多个文件时可以使用该命令。</p>
<p><strong>参数</strong>：</p>
<ul>
<li>-a或–append 　附加到既有文件的后面，而非覆盖它．</li>
</ul>
<p>将输出同时保存到多个文件中，同时将输出内容显示到控制台：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">python@xxx:~/test$ echo &quot;hello world&quot;|tee f1 f2 </span><br><span class="line">hello world</span><br><span class="line">python@xxx:~/test$ cat f1</span><br><span class="line">hello world</span><br><span class="line">python@xxx:~/test$ echo &quot;hello world&quot;|tee f1 f2 -a</span><br><span class="line">hello world</span><br><span class="line">python@xxx:~/test$ cat f1</span><br><span class="line">hello world</span><br><span class="line">hello world</span><br></pre></td></tr></table></figure>

<h4 id="tr-替换指定的字符"><a href="#tr-替换指定的字符" class="headerlink" title="tr - 替换指定的字符"></a>tr - 替换指定的字符</h4><p>不指定参数时，即表示替换指定的字符为另一个字符，支持指定的字符集合。</p>
<p><strong>参数说明：</strong></p>
<ul>
<li>-d, –delete：删除指定的字符</li>
<li>-s, –squeeze-repeats：缩减连续重复的字符成指定的单个字符</li>
</ul>
<p>字符集合的范围：</p>
<ul>
<li>\NNN 八进制值的字符 NNN (1 to 3 为八进制值的字符)</li>
<li>\ 反斜杠</li>
<li>\a Ctrl-G 铃声</li>
<li>\b Ctrl-H 退格符</li>
<li>\f Ctrl-L 走行换页</li>
<li>\n Ctrl-J 新行</li>
<li>\r Ctrl-M 回车</li>
<li>\t Ctrl-I tab键</li>
<li>\v Ctrl-X 水平制表符</li>
<li>CHAR1-CHAR2 ：字符范围从 CHAR1 到 CHAR2 的指定，范围的指定以 ASCII 码的次序为基础，只能由小到大，不能由大到小。</li>
<li>[CHAR*] ：这是 SET2 专用的设定，功能是重复指定的字符到与 SET1 相同长度为止</li>
<li>[CHAR*REPEAT] ：这也是 SET2 专用的设定，功能是重复指定的字符到设定的 REPEAT 次数为止(REPEAT 的数字采 8 进位制计算，以 0 为开始)</li>
<li>[:alnum:] ：所有字母字符与数字</li>
<li>[:alpha:] ：所有字母字符</li>
<li>[:blank:] ：所有水平空格</li>
<li>[:cntrl:] ：所有控制字符</li>
<li>[:digit:] ：所有数字</li>
<li>[:graph:] ：所有可打印的字符(不包含空格符)</li>
<li>[:lower:] ：所有小写字母</li>
<li>[:print:] ：所有可打印的字符(包含空格符)</li>
<li>[:punct:] ：所有标点字符</li>
<li>[:space:] ：所有水平与垂直空格符</li>
<li>[:upper:] ：所有大写字母</li>
<li>[:xdigit:] ：所有 16 进位制的数字</li>
<li>[&#x3D;CHAR&#x3D;] ：所有符合指定的字符(等号里的 CHAR，代表你可自订的字符)</li>
</ul>
<p>将文件testfile中的小写字母全部转换成大写字母：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cat testfile |tr a-z A-Z </span><br><span class="line">或</span><br><span class="line">cat testfile |tr [:lower:] [:upper:] </span><br></pre></td></tr></table></figure>

<p>缩减连续重复的字符成指定的单个字符：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">python@xxx:~/test$ cat t</span><br><span class="line">dddddddsssssdd</span><br><span class="line">eeeeeeeeee</span><br><span class="line">aaaaaaaaaaaaaa</span><br><span class="line">vvvvvvvvvvvvvv</span><br><span class="line">python@xxx:~/test$ cat t|tr -s &#x27;se&#x27;</span><br><span class="line">dddddddsdd</span><br><span class="line">e</span><br><span class="line">aaaaaaaaaaaaaa</span><br><span class="line">vvvvvvvvvvvvvv</span><br><span class="line">python@xxx:~/test$ cat t|tr -s &#x27;sdeav&#x27;</span><br><span class="line">dsd</span><br><span class="line">e</span><br><span class="line">a</span><br><span class="line">v</span><br></pre></td></tr></table></figure>

<p>删除指定的字符：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">python@xxx:~/test$ cat t|tr -d &#x27;dv&#x27;</span><br><span class="line">sssss</span><br><span class="line">eeeeeeeeee</span><br><span class="line">aaaaaaaaaaaaaa</span><br></pre></td></tr></table></figure>

<h4 id="join-文件按行连接"><a href="#join-文件按行连接" class="headerlink" title="join - 文件按行连接"></a>join - 文件按行连接</h4><p>将两个文件中指定栏位相同的行连接起来。即按照两个文件中共同拥有的某一列，将对应的行拼接成一行。</p>
<p>注意：在使用join之前所处理的文件要事先经过排序。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ cat testfile_1</span><br><span class="line">Hello 95 #例如，本例中第一列为姓名，第二列为数额  </span><br><span class="line">Linux 85  </span><br><span class="line">test 30  </span><br><span class="line">cmd@hdd-desktop:~$ cat testfile_2</span><br><span class="line">Hello 2005 #例如，本例中第一列为姓名，第二列为年份  </span><br><span class="line">Linux 2009  </span><br><span class="line">test 2006 </span><br></pre></td></tr></table></figure>

<p>使用join命令，将两个文件连接：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ join testfile_1 testfile_2 #连接testfile_1、testfile_2中的内容  </span><br><span class="line">Hello 95 2005 #连接后显示的内容  </span><br><span class="line">Linux 85 2009  </span><br><span class="line">test 30 2006 </span><br></pre></td></tr></table></figure>

<p>两个文件互换，输出结果的变化：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ join testfile_2 testfile_1 #改变文件顺序连接两个文件  </span><br><span class="line">Hello 2005 95 #连接后显示的内容  </span><br><span class="line">Linux 2009 85  </span><br><span class="line">test 2006 30 </span><br></pre></td></tr></table></figure>

<p><strong>参数</strong>：</p>
<ul>
<li>-a&lt;1或2&gt; 除了显示原来的输出内容之外，还显示指令文件中没有相同栏位的行。</li>
<li>-e&lt;字符串&gt; 若[文件1]与[文件2]中找不到指定的栏位，则在输出中填入选项中的字符串。</li>
<li>-i或–igore-case 比较栏位内容时，忽略大小写的差异。</li>
<li>-o&lt;格式&gt; 按照指定的格式来显示结果。</li>
<li>-t&lt;字符&gt; 使用栏位的分隔字符。</li>
<li>-v&lt;1或2&gt; 跟-a相同，但是只显示文件中没有相同栏位的行。</li>
<li>-1&lt;栏位&gt; 连接[文件1]指定的栏位。</li>
<li>-2&lt;栏位&gt; 连接[文件2]指定的栏位。</li>
</ul>
<h4 id="paste-将多个文件对应行链接在一起"><a href="#paste-将多个文件对应行链接在一起" class="headerlink" title="paste-将多个文件对应行链接在一起"></a>paste-将多个文件对应行链接在一起</h4><p>paste 指令会把每个文件以列对列的方式，一列列地加以合并。</p>
<p>语法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">paste [-s][-d &lt;间隔字符&gt;][文件...]</span><br></pre></td></tr></table></figure>

<p><strong>参数</strong>：</p>
<ul>
<li>-d&lt;间隔字符&gt;或–delimiters&#x3D;&lt;间隔字符&gt; 　用指定的间隔字符取代跳格字符。</li>
<li>-s或–serial 　串列进行而非平行处理。</li>
<li>[文件…] 指定操作的文件路径</li>
</ul>
<p>使用paste指令将文件”file”、“testfile”、”testfile1”进行合并，输入如下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">$ cat file                  #file文件的内容  </span><br><span class="line">xiongdan 200  </span><br><span class="line">lihaihui 233  </span><br><span class="line">lymlrl 231  </span><br><span class="line">$ cat testfile              #testfile文件的内容  </span><br><span class="line">liangyuanm  ss  </span><br><span class="line">$ cat testfile1             #testfile1文件的内容  </span><br><span class="line">huanggai 56  </span><br><span class="line">zhixi 73 </span><br><span class="line">$ paste file testfile testfile1</span><br><span class="line">xiongdan 200    liangyuanm ss   huanggai 56</span><br><span class="line">lihaihui 233            zhixi 73</span><br><span class="line">lymlrl 231</span><br><span class="line">$ paste -d &#x27;:&#x27; file testfile testfile1</span><br><span class="line">xiongdan 200:liangyuanm ss:huanggai 56</span><br><span class="line">lihaihui 233::zhixi 73</span><br><span class="line">lymlrl 231::</span><br></pre></td></tr></table></figure>

<p>参数”-s”可以将一个文件中的多行数据合并为一行进行显示：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ paste -s file             #合并指定文件的多行数据</span><br><span class="line">xiongdan 200 lihaihui 233 lymlrl 231 </span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p>如果将文件位置改为-，表示接收标准输入：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ cat file |paste testfile1 -</span><br><span class="line">huanggai 56     xiongdan 200</span><br><span class="line">zhixi 73        lihaihui 233</span><br><span class="line">        lymlrl 231</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="split-文件切割"><a href="#split-文件切割" class="headerlink" title="split - 文件切割"></a>split - 文件切割</h4><p>split命令用于将一个文件分割成数个。</p>
<p>该指令将大文件分割成较小的文件，在默认情况下将按照每1000行切割成一个小文件。</p>
<p>语法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">split [-bl] file prefix</span><br><span class="line">-b: 以大小切割</span><br><span class="line">-l：以行数切割</span><br><span class="line">prefix：切割后文件的前缀</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>参数说明</strong>：</p>
<ul>
<li>-&lt;行数&gt; : 指定每多少行切成一个小文件</li>
<li>-b&lt;字节&gt; : 指定每多少字节切成一个小文件</li>
<li>-C&lt;字节&gt; : 与参数”-b”相似，但是在切 割时将尽量维持每行的完整性</li>
<li>[输出文件名] : 设置切割后文件的前置文件名， split会自动在前置文件名后再加上编号</li>
</ul>
<p>使用指令”split”将文件”README”每6行切割成一个文件，输入如下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ split -6 README       #将README文件每六行分割成一个文件 </span><br><span class="line">$ ls                                #执行ls指令  </span><br><span class="line">#获得当前目录结构</span><br><span class="line">README xaa xad xag xab xae xah xac xaf xai</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>以上命令执行后，指令”split”会将原来的大文件”README”切割成多个以”x”开头的小文件。而在这些小文件中，每个文件都只有6行内容。</p>
<p>以大小切割：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ ls -lh disease.dmp</span><br><span class="line">-rwxr-xr-x 1 root root 122M Jul  4  2013 disease.dmp</span><br><span class="line">$ split -b 50m disease.dmp disease.dmp</span><br><span class="line">$ ls -lh disease.dmp*</span><br><span class="line">-rwxr-xr-x 1 root root 122M Jul  4  2013 disease.dmp</span><br><span class="line">-rw-r--r-- 1 root root  50M Jan  9 16:10 disease.dmpaa</span><br><span class="line">-rw-r--r-- 1 root root  50M Jan  9 16:10 disease.dmpab</span><br><span class="line">-rw-r--r-- 1 root root  22M Jan  9 16:10 disease.dmpac</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="xargs-参数代换"><a href="#xargs-参数代换" class="headerlink" title="xargs - 参数代换"></a>xargs - 参数代换</h4><p>不是所有的命令都支持管道，如ls，对于不支持管道的命令，可以通过xargs让其有管道命令的效果，如下所示：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># find /sbin -perm +7000 | xargs ls -l</span><br><span class="line">-rwsr-x--- 1 root ecryptfs 19896 Feb 23  2012 /sbin/mount.ecryptfs_private</span><br><span class="line">-rwsr-xr-x 1 root root     75496 Jan  9  2013 /sbin/mount.nfs</span><br><span class="line">-rwsr-xr-x 1 root root     75504 Jan  9  2013 /sbin/mount.nfs4</span><br><span class="line">-rwxr-sr-x 1 root root      8544 Feb 22  2012 /sbin/netreport</span><br><span class="line">-rwsr-xr-x 1 root root     14112 Nov  2  2010 /sbin/pam_timestamp_check</span><br><span class="line">-rwsr-xr-x 1 root root     75504 Jan  9  2013 /sbin/umount.nfs</span><br><span class="line">-rwsr-xr-x 1 root root     75504 Jan  9  2013 /sbin/umount.nfs4</span><br><span class="line">-rwsr-xr-x 1 root root     19768 Nov  2  2010 /sbin/unix_chkpwd</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>如果没有xargs，ls -l的结果将不是前面find的标准输出，因为ls不支持管道命令。</p>
<p>xargs 用作替换工具，读取输入数据重新格式化后输出。</p>
<p>定义一个测试文件，内有多行文本数据：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># cat test.txt</span><br><span class="line">a b c d e f g</span><br><span class="line">h i j k l m n</span><br><span class="line">o p q</span><br><span class="line">r s t</span><br><span class="line">u v w x y z</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>多行输入单行输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># cat test.txt | xargs</span><br><span class="line">a b c d e f g h i j k l m n o p q r s t u v w x y z</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p>-n 选项多行输出：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># cat test.txt | xargs -n3</span><br><span class="line">a b c</span><br><span class="line">d e f</span><br><span class="line">g h i</span><br><span class="line">j k l</span><br><span class="line">m n o</span><br><span class="line">p q r</span><br><span class="line">s t u</span><br><span class="line">v w x</span><br><span class="line">y z</span><br><span class="line">10</span><br></pre></td></tr></table></figure>

<p>-d 选项可以自定义一个定界符：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># echo &quot;nameXnameXnameXname&quot; | xargs -dX</span><br><span class="line">name name name name</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p>结合 -n 选项使用：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># echo &quot;nameXnameXnameXname&quot; | xargs -dX -n2</span><br><span class="line">name name</span><br><span class="line">name name</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<p>读取 stdin，将格式化后的参数传递给命令:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"># cat sk.sh</span><br><span class="line">#!/bin/bash</span><br><span class="line">#sk.sh命令内容，打印出所有参数。</span><br><span class="line">echo $*</span><br><span class="line"># cat arg.txt</span><br><span class="line">aaa</span><br><span class="line">bbb</span><br><span class="line">ccc</span><br><span class="line"># cat arg.txt | xargs -I &#123;&#125; ./sk.sh -p &#123;&#125; -l</span><br><span class="line">-p aaa -l</span><br><span class="line">-p bbb -l</span><br><span class="line">-p ccc -l</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>选项<code>-I</code>指定一个替换字符串 {}，这个字符串在 xargs 扩展时会被替换掉。</p>
<p>复制所有图片文件到 &#x2F;data&#x2F;images 目录下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ls *.jpg | xargs -n1 -I &#123;&#125; cp &#123;&#125; /data/images</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>选项<code>-n</code> 后面加次数，表示命令在执行的时候一次用的argument的个数，默认是用所有的。</p>
<p><strong>xargs 结合 find 使用</strong></p>
<p>用 rm 删除太多的文件时候，可能得到一个错误信息：**&#x2F;bin&#x2F;rm Argument list too long.** 用 xargs 去避免这个问题：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">find . -type f -name &quot;*.log&quot; -print0 | xargs -0 rm -f</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>xargs -0 将 \0 作为定界符。</p>
<p>统计一个源代码目录中所有 php 文件的行数：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">find . -type f -name &quot;*.php&quot; -print0 | xargs -0 wc -l</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>查找所有的 jpg 文件，并且压缩它们：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">find . -type f -name &quot;*.jpg&quot; -print | xargs tar -czvf images.tar.gz</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>批量下载：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># cat url-list.txt | xargs wget -c</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>wget的<code>-c</code>选项表示断点续传。</p>
<h2 id="linux命令练习"><a href="#linux命令练习" class="headerlink" title="linux命令练习"></a>linux命令练习</h2><h3 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line">1.进入到用户根目录</span><br><span class="line">cd ~ 或 cd</span><br><span class="line"></span><br><span class="line">2.查看当前所在目录</span><br><span class="line">pwd</span><br><span class="line"></span><br><span class="line">3.进入到hadoop用户根目录</span><br><span class="line">cd ~hadoop</span><br><span class="line"></span><br><span class="line">4.返回到原来目录</span><br><span class="line">cd -</span><br><span class="line"></span><br><span class="line">5.返回到上一级目录</span><br><span class="line">cd ..</span><br><span class="line"></span><br><span class="line">6.查看hadoop用户根目录下的所有文件</span><br><span class="line">ls -la</span><br><span class="line"></span><br><span class="line">7.在根目录下创建一个hadoop的文件夹</span><br><span class="line">mkdir /hadoop</span><br><span class="line"></span><br><span class="line">8.在/hadoop目录下创建src和WebRoot两个文件夹</span><br><span class="line">分别创建：mkdir /hadoop/src</span><br><span class="line">		  mkdir /hadoop/WebRoot</span><br><span class="line">同时创建：mkdir /hadoop/&#123;src,WebRoot&#125;</span><br><span class="line"></span><br><span class="line">进入到/hadoop目录，在该目录下创建.classpath和README文件</span><br><span class="line">分别创建：touch .classpath</span><br><span class="line">		  touch README</span><br><span class="line">同时创建：touch &#123;.classpath,README&#125;</span><br><span class="line"></span><br><span class="line">查看/hadoop目录下面的所有文件</span><br><span class="line">ls -la</span><br><span class="line"></span><br><span class="line">在/hadoop目录下面创建一个test.txt文件,同时写入内容&quot;this is test&quot;</span><br><span class="line">echo &quot;this is test&quot; &gt; test.txt</span><br><span class="line"></span><br><span class="line">查看一下test.txt的内容</span><br><span class="line">cat test.txt</span><br><span class="line">more test.txt</span><br><span class="line">less test.txt</span><br><span class="line"></span><br><span class="line">向README文件追加写入&quot;please read me first&quot;</span><br><span class="line">echo &quot;please read me first&quot; &gt;&gt; README</span><br><span class="line"></span><br><span class="line">将test.txt的内容追加到README文件中</span><br><span class="line">cat test.txt &gt;&gt; README</span><br><span class="line"></span><br><span class="line">拷贝/hadoop目录下的所有文件到/hadoop-bak</span><br><span class="line">cp -r /hadoop /hadoop-bak</span><br><span class="line"></span><br><span class="line">进入到/hadoop-bak目录，将test.txt移动到src目录下，并修改文件名为Student.java</span><br><span class="line">mv test.txt src/Student.java</span><br><span class="line"></span><br><span class="line">在src目录下创建一个struts.xml</span><br><span class="line">&gt; struts.xml</span><br><span class="line"></span><br><span class="line">删除所有的xml类型的文件</span><br><span class="line">rm -rf *.xml</span><br><span class="line"></span><br><span class="line">删除/hadoop-bak目录和下面的所有文件</span><br><span class="line">rm -rf /hadoop-bak</span><br><span class="line"></span><br><span class="line">返回到/hadoop目录，查看一下README文件有多单词，多少个少行</span><br><span class="line">wc -w README</span><br><span class="line">wc -l README</span><br><span class="line"></span><br><span class="line">返回到根目录，将/hadoop目录先打包，再用gzip压缩</span><br><span class="line">分步完成：tar -cvf hadoop.tar hadoop</span><br><span class="line">		  gzip hadoop.tar</span><br><span class="line">一步完成：tar -zcvf hadoop.tar.gz hadoop</span><br><span class="line">		  </span><br><span class="line">将其解压缩，再取消打包</span><br><span class="line">分步完成：gzip -d hadoop.tar.gz 或 gunzip hadoop.tar.gz</span><br><span class="line">一步完成：tar -zxvf hadoop.tar.gz</span><br><span class="line"></span><br><span class="line">将/hadoop目录先打包，同时用bzip2压缩，并保存到/tmp目录下</span><br><span class="line">tar -jcvf /tmp/hadoop.tar.bz2 hadoop</span><br><span class="line"></span><br><span class="line">将/tmp/hadoop.tar.bz2解压到/usr目录下面</span><br><span class="line">tar -jxvf hadoop.tar.bz2 -C /usr/</span><br></pre></td></tr></table></figure>

<h3 id="系统命令"><a href="#系统命令" class="headerlink" title="系统命令"></a>系统命令</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">1.查看主机名</span><br><span class="line">hostname</span><br><span class="line"></span><br><span class="line">2.修改主机名(重启后无效)</span><br><span class="line">hostname hadoop</span><br><span class="line"></span><br><span class="line">3.修改主机名(重启后永久生效)</span><br><span class="line">vi /ect/sysconfig/network</span><br><span class="line"></span><br><span class="line">4.修改IP(重启后无效)</span><br><span class="line">ifconfig eth0 192.168.12.22</span><br><span class="line"></span><br><span class="line">5.修改IP(重启后永久生效)</span><br><span class="line">vi /etc/sysconfig/network-scripts/ifcfg-eth0</span><br><span class="line"></span><br><span class="line">6.查看系统信息</span><br><span class="line">uname -a</span><br><span class="line">uname -r</span><br><span class="line"></span><br><span class="line">7.查看ID命令</span><br><span class="line">id -u</span><br><span class="line">id -g</span><br><span class="line"></span><br><span class="line">8.日期</span><br><span class="line">date</span><br><span class="line">date +%Y-%m-%d</span><br><span class="line">date +%T</span><br><span class="line">date +%Y-%m-%d&quot; &quot;%T</span><br><span class="line"></span><br><span class="line">9.日历</span><br><span class="line">cal 2012</span><br><span class="line"></span><br><span class="line">10.查看文件信息</span><br><span class="line">file filename</span><br><span class="line"></span><br><span class="line">11.挂载硬盘</span><br><span class="line">mount</span><br><span class="line">umount</span><br><span class="line">加载windows共享</span><br><span class="line">mount -t cifs //192.168.1.100/tools /mnt</span><br><span class="line"></span><br><span class="line">12.查看文件大小</span><br><span class="line">du -h</span><br><span class="line">du -ah</span><br><span class="line"></span><br><span class="line">13.查看分区</span><br><span class="line">df -h</span><br><span class="line"></span><br><span class="line">14.ssh</span><br><span class="line">ssh hadoop@192.168.1.1</span><br><span class="line"></span><br><span class="line">15.关机</span><br><span class="line">shutdown -h now /init 0</span><br><span class="line">shutdown -r now /reboot</span><br></pre></td></tr></table></figure>

<h3 id="用户和组"><a href="#用户和组" class="headerlink" title="用户和组"></a>用户和组</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">添加一个tom用户，设置它属于users组，并添加注释信息</span><br><span class="line">分步完成：useradd tom</span><br><span class="line">          usermod -g users tom</span><br><span class="line">	      usermod -c &quot;hr tom&quot; tom</span><br><span class="line">一步完成：useradd -g users -c &quot;hr tom&quot; tom</span><br><span class="line"></span><br><span class="line">设置tom用户的密码</span><br><span class="line">passwd tom</span><br><span class="line"></span><br><span class="line">修改tom用户的登陆名为tomcat</span><br><span class="line">usermod -l tomcat tom</span><br><span class="line"></span><br><span class="line">将tomcat添加到sys和root组中</span><br><span class="line">usermod -G sys,root tomcat</span><br><span class="line"></span><br><span class="line">查看tomcat的组信息</span><br><span class="line">groups tomcat</span><br><span class="line"></span><br><span class="line">添加一个jerry用户并设置密码</span><br><span class="line">useradd jerry</span><br><span class="line">passwd jerry</span><br><span class="line"></span><br><span class="line">添加一个交america的组</span><br><span class="line">groupadd america</span><br><span class="line"></span><br><span class="line">将jerry添加到america组中</span><br><span class="line">usermod -g america jerry</span><br><span class="line"></span><br><span class="line">将tomcat用户从root组和sys组删除</span><br><span class="line">gpasswd -d tomcat root</span><br><span class="line">gpasswd -d tomcat sys</span><br><span class="line"></span><br><span class="line">将america组名修改为am</span><br><span class="line">groupmod -n am america</span><br></pre></td></tr></table></figure>

<h3 id="权限"><a href="#权限" class="headerlink" title="权限"></a>权限</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">创建a.txt和b.txt文件，将他们设为其拥有者和所在组可写入，但其他以外的人则不可写入:</span><br><span class="line">chmod ug+w,o-w a.txt b.txt</span><br><span class="line"></span><br><span class="line">创建c.txt文件所有人都可以写和执行</span><br><span class="line">chmod a=wx c.txt 或chmod 666 c.txt</span><br><span class="line"></span><br><span class="line">将/hadoop目录下的所有文件与子目录皆设为任何人可读取</span><br><span class="line">chmod -R a+r /hadoop</span><br><span class="line"></span><br><span class="line">将/hadoop目录下的所有文件与子目录的拥有者设为root，用户拥有组为users</span><br><span class="line">chown -R root:users /hadoop</span><br><span class="line"></span><br><span class="line">将当前目录下的所有文件与子目录的用户皆设为hadoop，组设为users</span><br><span class="line">chown -R hadoop:users *</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="帮助文档"><a href="#帮助文档" class="headerlink" title="帮助文档"></a>帮助文档</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">1.内部命令：echo</span><br><span class="line">查看内部命令帮助：help echo 或者 man echo</span><br><span class="line"></span><br><span class="line">2.外部命令：ls</span><br><span class="line">查看外部命令帮助：ls --help 或者 man ls 或者 info ls</span><br><span class="line"></span><br><span class="line">3.man文档的类型(1~9)</span><br><span class="line">man 7 man</span><br><span class="line">man 5 passwd</span><br><span class="line"></span><br><span class="line">4.快捷键：</span><br><span class="line">ctrl + c：停止进程</span><br><span class="line">ctrl + l：清屏</span><br><span class="line">ctrl + r：搜索历史命令</span><br><span class="line">ctrl + q：退出</span><br><span class="line"></span><br><span class="line">5.善于用tab键</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>文件相关命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line">1.进入到用户根目录</span><br><span class="line">cd ~ 或者 cd</span><br><span class="line">cd ~hadoop</span><br><span class="line">回到原来路径</span><br><span class="line">cd -</span><br><span class="line"></span><br><span class="line">2.查看文件详情</span><br><span class="line">stat a.txt</span><br><span class="line"></span><br><span class="line">3.移动</span><br><span class="line">mv a.txt /ect/</span><br><span class="line">改名</span><br><span class="line">mv b.txt a.txt</span><br><span class="line">移动并改名</span><br><span class="line">mv a.txt ../b.txt</span><br><span class="line"></span><br><span class="line">4拷贝并改名</span><br><span class="line">cp a.txt /etc/b.txt</span><br><span class="line"></span><br><span class="line">5.vi撤销修改</span><br><span class="line">ctrl + u (undo)</span><br><span class="line">恢复</span><br><span class="line">ctrl + r (redo)</span><br><span class="line"></span><br><span class="line">6.名令设置别名(重启后无效)</span><br><span class="line">alias ll=&quot;ls -l&quot;</span><br><span class="line">取消</span><br><span class="line">unalias ll</span><br><span class="line"></span><br><span class="line">7.如果想让别名重启后仍然有效需要修改</span><br><span class="line">vi ~/.bashrc</span><br><span class="line"></span><br><span class="line">8.添加用户</span><br><span class="line">useradd hadoop</span><br><span class="line">passwd hadoop</span><br><span class="line"></span><br><span class="line">9创建多个文件</span><br><span class="line">touch a.txt b.txt</span><br><span class="line">touch /home/&#123;a.txt,b.txt&#125;</span><br><span class="line"></span><br><span class="line">10.将一个文件的内容复制到里另一个文件中</span><br><span class="line">cat a.txt &gt; b.txt</span><br><span class="line">追加内容</span><br><span class="line">cat a.txt &gt;&gt; b.txt </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">11.将a.txt 与b.txt设为其拥有者和其所属同一个组者可写入，但其他以外的人则不可写入:</span><br><span class="line">chmod ug+w,o-w a.txt b.txt</span><br><span class="line"></span><br><span class="line">chmod a=wx c.txt</span><br><span class="line"></span><br><span class="line">12.将当前目录下的所有文件与子目录皆设为任何人可读取:</span><br><span class="line">chmod -R a+r *</span><br><span class="line"></span><br><span class="line">13.将a.txt的用户拥有者设为users,组的拥有者设为jessie:</span><br><span class="line">chown users:jessie a.txt</span><br><span class="line"></span><br><span class="line">14.将当前目录下的所有文件与子目录的用户的使用者为lamport,组拥有者皆设为users，</span><br><span class="line">chown -R lamport:users *</span><br><span class="line"></span><br><span class="line">15.将所有的java语言程式拷贝至finished子目录中:</span><br><span class="line">cp *.java finished</span><br><span class="line"></span><br><span class="line">16.将目前目录及其子目录下所有扩展名是java的文件列出来。</span><br><span class="line">find -name &quot;*.java&quot;</span><br><span class="line">查找当前目录下扩展名是java 的文件</span><br><span class="line">find -name *.java</span><br><span class="line"></span><br><span class="line">17.删除当前目录下扩展名是java的文件</span><br><span class="line">rm -f *.java</span><br></pre></td></tr></table></figure>

<h3 id="vi-vim"><a href="#vi-vim" class="headerlink" title="vi&#x2F;vim"></a>vi&#x2F;vim</h3><p>所有的 Unix Like 系统都会内建 vi 文书编辑器，其他的文书编辑器则不一定会存在。</p>
<p>但是目前我们使用比较多的是 vim 编辑器。</p>
<p>vim 具有程序编辑的能力，可以主动的以字体颜色辨别语法的正确性，方便程序设计。</p>
<hr>
<h4 id="什么是-vim？"><a href="#什么是-vim？" class="headerlink" title="什么是 vim？"></a>什么是 vim？</h4><p>Vim 是从 vi 发展出来的一个文本编辑器。代码补全、编译及错误跳转等方便编程的功能特别丰富，在程序员中被广泛使用。</p>
<p>简单的来说， vi 是老式的字处理器，不过功能已经很齐全了，但是还是有可以进步的地方。 vim 则可以说是程序开发者的一项很好用的工具。</p>
<p>连 vim 的官方网站 (<a target="_blank" rel="noopener" href="https://www.vim.org/">https://www.vim.org/</a>) 自己也说 vim 是一个程序开发工具而不是文字处理软件。</p>
<h4 id="vi-vim-的使用"><a href="#vi-vim-的使用" class="headerlink" title="vi&#x2F;vim 的使用"></a>vi&#x2F;vim 的使用</h4><p>基本上 vi&#x2F;vim 共分为三种模式，<strong>命令模式（Command Mode）、输入模式（Insert Mode）和命令行模式（Command-Line Mode）</strong>。</p>
<h5 id="命令模式"><a href="#命令模式" class="headerlink" title="命令模式"></a>命令模式</h5><p><strong>用户刚刚启动 vi&#x2F;vim，便进入了命令模式。</strong></p>
<p>此状态下敲击键盘动作会被 Vim 识别为命令，而非输入字符，比如我们此时按下 i，并不会输入一个字符，i 被当作了一个命令。</p>
<p>以下是普通模式常用的几个命令：</p>
<ul>
<li>i – 切换到输入模式，在光标当前位置开始输入文本。</li>
<li>x – 删除当前光标所在处的字符。</li>
<li>: – 切换到底线命令模式，以在最底一行输入命令。</li>
<li>a – 进入插入模式，在光标下一个位置开始输入文本。</li>
<li>o：在当前行的下方插入一个新行，并进入插入模式。</li>
<li>O – 在当前行的上方插入一个新行，并进入插入模式。</li>
<li>dd – 剪切当前行。</li>
<li>yy – 复制当前行。</li>
<li>p（小写） – 粘贴剪贴板内容到光标下方。</li>
<li>P（大写）– 粘贴剪贴板内容到光标上方。</li>
<li>u – 撤销上一次操作。</li>
<li>Ctrl + r – 重做上一次撤销的操作。</li>
<li>:w – 保存文件。</li>
<li>:q – 退出 Vim 编辑器。</li>
<li>:q! – 强制退出Vim 编辑器，不保存修改。</li>
</ul>
<p>若想要编辑文本，只需要启动 Vim，进入了命令模式，按下 i 切换到输入模式即可。</p>
<p>命令模式只有一些最基本的命令，因此仍要依靠<strong>底线命令行模式</strong>输入更多命令。</p>
<h5 id="输入模式"><a href="#输入模式" class="headerlink" title="输入模式"></a>输入模式</h5><p>在命令模式下按下 i 就进入了输入模式，使用 Esc 键可以返回到普通模式。</p>
<p>在输入模式中，可以使用以下按键：</p>
<ul>
<li><strong>字符按键以及Shift组合</strong>，输入字符</li>
<li><strong>ENTER</strong>，回车键，换行</li>
<li><strong>BACK SPACE</strong>，退格键，删除光标前一个字符</li>
<li><strong>DEL</strong>，删除键，删除光标后一个字符</li>
<li><strong>方向键</strong>，在文本中移动光标</li>
<li><strong>HOME</strong>&#x2F;<strong>END</strong>，移动光标到行首&#x2F;行尾</li>
<li><strong>Page Up</strong>&#x2F;<strong>Page Down</strong>，上&#x2F;下翻页</li>
<li><strong>Insert</strong>，切换光标为输入&#x2F;替换模式，光标将变成竖线&#x2F;下划线</li>
<li><strong>ESC</strong>，退出输入模式，切换到命令模式</li>
</ul>
<h5 id="底线命令模式"><a href="#底线命令模式" class="headerlink" title="底线命令模式"></a>底线命令模式</h5><p>在命令模式下按下 :（英文冒号）就进入了底线命令模式。</p>
<p>底线命令模式可以输入单个或多个字符的命令，可用的命令非常多。</p>
<p>在底线命令模式中，基本的命令有（已经省略了冒号）：</p>
<ul>
<li><code>:w</code>：保存文件。</li>
<li><code>:q</code>：退出 Vim 编辑器。</li>
<li><code>:wq</code>：保存文件并退出 Vim 编辑器。</li>
<li><code>:q!</code>：强制退出Vim编辑器，不保存修改。</li>
</ul>
<p>按 ESC 键可随时退出底线命令模式。</p>
<hr>
<h4 id="vi-vim-使用实例"><a href="#vi-vim-使用实例" class="headerlink" title="vi&#x2F;vim 使用实例"></a>vi&#x2F;vim 使用实例</h4><h5 id="使用-vi-vim-进入一般模式"><a href="#使用-vi-vim-进入一般模式" class="headerlink" title="使用 vi&#x2F;vim 进入一般模式"></a>使用 vi&#x2F;vim 进入一般模式</h5><p>如果你想要使用 vi 来建立一个名为 runoob.txt 的文件时，你可以这样做：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ vim runoob.txt</span><br></pre></td></tr></table></figure>

<p>直接输入 <strong>vi 文件名</strong> 就能够进入 vi 的一般模式了。请注意，记得 vi 后面一定要加文件名，不管该文件存在与否！</p>
<h5 id="按下-i-进入输入模式-也称为编辑模式-，开始编辑文字"><a href="#按下-i-进入输入模式-也称为编辑模式-，开始编辑文字" class="headerlink" title="按下 i 进入输入模式(也称为编辑模式)，开始编辑文字"></a>按下 i 进入输入模式(也称为编辑模式)，开始编辑文字</h5><p>在一般模式之中，只要按下 i, o, a 等字符就可以进入输入模式了！</p>
<p>在编辑模式当中，你可以发现在左下角状态栏中会出现 –INSERT- 的字样，那就是可以输入任意字符的提示。</p>
<p>这个时候，键盘上除了 <strong>Esc</strong> 这个按键之外，其他的按键都可以视作为一般的输入按钮了，所以你可以进行任何的编辑。</p>
<h5 id="按下-ESC-按钮回到一般模式"><a href="#按下-ESC-按钮回到一般模式" class="headerlink" title="按下 ESC 按钮回到一般模式"></a>按下 ESC 按钮回到一般模式</h5><p>好了，假设我已经按照上面的样式给他编辑完毕了，那么应该要如何退出呢？是的！没错！就是给他按下 <strong>Esc</strong> 这个按钮即可！马上你就会发现画面左下角的 – INSERT – 不见了</p>
<h5 id="在一般模式中按下-wq-储存后离开-vi"><a href="#在一般模式中按下-wq-储存后离开-vi" class="headerlink" title="在一般模式中按下 :wq 储存后离开 vi"></a>在一般模式中按下 <strong>:wq</strong> 储存后离开 vi</h5><p>OK，我们要存档了，存盘并离开的指令很简单，输入 <strong>:wq</strong> 即可保存离开！</p>
<p>这样我们就成功创建了一个 runoob.txt 的文件。</p>
<hr>
<h4 id="vi-vim-按键说明"><a href="#vi-vim-按键说明" class="headerlink" title="vi&#x2F;vim 按键说明"></a>vi&#x2F;vim 按键说明</h4><p>除了上面简易范例的 i, Esc, :wq 之外，其实 vim 还有非常多的按键可以使用。</p>
<h5 id="第一部分：一般模式可用的光标移动、复制粘贴、搜索替换等"><a href="#第一部分：一般模式可用的光标移动、复制粘贴、搜索替换等" class="headerlink" title="第一部分：一般模式可用的光标移动、复制粘贴、搜索替换等"></a>第一部分：一般模式可用的光标移动、复制粘贴、搜索替换等</h5><table>
<thead>
<tr>
<th>移动光标的方法</th>
</tr>
</thead>
<tbody><tr>
<td>h 或 向左箭头键(←)</td>
</tr>
<tr>
<td>j 或 向下箭头键(↓)</td>
</tr>
<tr>
<td>k 或 向上箭头键(↑)</td>
</tr>
<tr>
<td>l 或 向右箭头键(→)</td>
</tr>
<tr>
<td>如果你将右手放在键盘上的话，你会发现 hjkl 是排列在一起的，因此可以使用这四个按钮来移动光标。 如果想要进行多次移动的话，例如向下移动 30 行，可以使用 “30j” 或 “30↓” 的组合按键， 亦即加上想要进行的次数(数字)后，按下动作即可！</td>
</tr>
<tr>
<td>[Ctrl] + [f]</td>
</tr>
<tr>
<td>[Ctrl] + [b]</td>
</tr>
<tr>
<td>[Ctrl] + [d]</td>
</tr>
<tr>
<td>[Ctrl] + [u]</td>
</tr>
<tr>
<td>+</td>
</tr>
<tr>
<td>-</td>
</tr>
<tr>
<td>n<space></td>
</tr>
<tr>
<td>0 或功能键[Home]</td>
</tr>
<tr>
<td>$ 或功能键[End]</td>
</tr>
<tr>
<td>H</td>
</tr>
<tr>
<td>M</td>
</tr>
<tr>
<td>L</td>
</tr>
<tr>
<td>G</td>
</tr>
<tr>
<td>nG</td>
</tr>
<tr>
<td>gg</td>
</tr>
<tr>
<td>n<Enter></td>
</tr>
<tr>
<td>搜索替换</td>
</tr>
<tr>
<td>&#x2F;word</td>
</tr>
<tr>
<td>?word</td>
</tr>
<tr>
<td>n</td>
</tr>
<tr>
<td>N</td>
</tr>
<tr>
<td>使用 &#x2F;word 配合 n 及 N 是非常有帮助的！可以让你重复的找到一些你搜寻的关键词！</td>
</tr>
<tr>
<td>:n1,n2s&#x2F;word1&#x2F;word2&#x2F;g</td>
</tr>
<tr>
<td>『:100,200s&#x2F;vbird&#x2F;VBIRD&#x2F;g』。(常用)</td>
</tr>
<tr>
<td>:1,$s&#x2F;word1&#x2F;word2&#x2F;g 或 :%s&#x2F;word1&#x2F;word2&#x2F;g</td>
</tr>
<tr>
<td>:1,$s&#x2F;word1&#x2F;word2&#x2F;gc 或 :%s&#x2F;word1&#x2F;word2&#x2F;gc</td>
</tr>
<tr>
<td>删除、复制与贴上</td>
</tr>
<tr>
<td>x, X</td>
</tr>
<tr>
<td>nx</td>
</tr>
<tr>
<td>dd</td>
</tr>
<tr>
<td>ndd</td>
</tr>
<tr>
<td>d1G</td>
</tr>
<tr>
<td>dG</td>
</tr>
<tr>
<td>d$</td>
</tr>
<tr>
<td>d0</td>
</tr>
<tr>
<td>yy</td>
</tr>
<tr>
<td>nyy</td>
</tr>
<tr>
<td>y1G</td>
</tr>
<tr>
<td>yG</td>
</tr>
<tr>
<td>y0</td>
</tr>
<tr>
<td>y$</td>
</tr>
<tr>
<td>p, P</td>
</tr>
<tr>
<td>J</td>
</tr>
<tr>
<td>c</td>
</tr>
<tr>
<td>u</td>
</tr>
<tr>
<td>[Ctrl]+r</td>
</tr>
<tr>
<td>这个 u 与 [Ctrl]+r 是很常用的指令！一个是复原，另一个则是重做一次～ 利用这两个功能按键，你的编辑，嘿嘿！很快乐的啦！</td>
</tr>
<tr>
<td>.</td>
</tr>
</tbody></table>
<h5 id="第二部分：一般模式切换到编辑模式的可用的按钮说明"><a href="#第二部分：一般模式切换到编辑模式的可用的按钮说明" class="headerlink" title="第二部分：一般模式切换到编辑模式的可用的按钮说明"></a>第二部分：一般模式切换到编辑模式的可用的按钮说明</h5><table>
<thead>
<tr>
<th>进入输入或取代的编辑模式</th>
</tr>
</thead>
<tbody><tr>
<td>i, I</td>
</tr>
<tr>
<td>i 为『从目前光标所在处输入』， I 为『在目前所在行的第一个非空格符处开始输入』。 (常用)</td>
</tr>
<tr>
<td>a, A</td>
</tr>
<tr>
<td>a 为『从目前光标所在的下一个字符处开始输入』， A 为『从光标所在行的最后一个字符处开始输入』。(常用)</td>
</tr>
<tr>
<td>o, O</td>
</tr>
<tr>
<td>这是英文字母 o 的大小写。o 为在目前光标所在的下一行处输入新的一行； O 为在目前光标所在的上一行处输入新的一行！(常用)</td>
</tr>
<tr>
<td>r, R</td>
</tr>
<tr>
<td>r 只会取代光标所在的那一个字符一次；R会一直取代光标所在的文字，直到按下 ESC 为止；(常用)</td>
</tr>
<tr>
<td>上面这些按键中，在 vi 画面的左下角处会出现『–INSERT–』或『–REPLACE–』的字样。 由名称就知道该动作了吧！！特别注意的是，我们上面也提过了，你想要在档案里面输入字符时， 一定要在左下角处看到 INSERT 或 REPLACE 才能输入喔！</td>
</tr>
<tr>
<td>[Esc]</td>
</tr>
</tbody></table>
<h5 id="第三部分：一般模式切换到指令行模式的可用的按钮说明"><a href="#第三部分：一般模式切换到指令行模式的可用的按钮说明" class="headerlink" title="第三部分：一般模式切换到指令行模式的可用的按钮说明"></a>第三部分：一般模式切换到指令行模式的可用的按钮说明</h5><table>
<thead>
<tr>
<th>指令行的储存、离开等指令</th>
</tr>
</thead>
<tbody><tr>
<td>:w</td>
</tr>
<tr>
<td>:w!</td>
</tr>
<tr>
<td>:q</td>
</tr>
<tr>
<td>:q!</td>
</tr>
<tr>
<td>注意一下啊，那个惊叹号 (!) 在 vi 当中，常常具有『强制』的意思～</td>
</tr>
<tr>
<td>:wq</td>
</tr>
<tr>
<td>ZZ</td>
</tr>
<tr>
<td>ZQ</td>
</tr>
<tr>
<td>:w [filename]</td>
</tr>
<tr>
<td>:r [filename]</td>
</tr>
<tr>
<td>:n1,n2 w [filename]</td>
</tr>
<tr>
<td>:! command</td>
</tr>
<tr>
<td>『:! ls &#x2F;home』即可在 vi 当中察看 &#x2F;home 底下以 ls 输出的档案信息！</td>
</tr>
<tr>
<td>vim 环境的变更</td>
</tr>
<tr>
<td>:set nu</td>
</tr>
<tr>
<td>:set nonu</td>
</tr>
</tbody></table>
<p>特别注意，在 vi&#x2F;vim 中，数字是很有意义的！数字通常代表重复做几次的意思！ 也有可能是代表去到第几个什么什么的意思。</p>
<p>举例来说，要删除 50 行，则是用 『50dd』 对吧！ 数字加在动作之前，如我要向下移动 20 行呢？那就是『20j』或者是『20↓』即可。</p>
<h3 id="查找"><a href="#查找" class="headerlink" title="查找"></a>查找</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">1.查找可执行的命令：</span><br><span class="line">which ls</span><br><span class="line"></span><br><span class="line">2.查找可执行的命令和帮助的位置：</span><br><span class="line">whereis ls</span><br><span class="line"></span><br><span class="line">3.查找文件(需要更新库:updatedb)</span><br><span class="line">locate hadoop.txt</span><br><span class="line"></span><br><span class="line">4.从某个文件夹开始查找</span><br><span class="line">find / -name &quot;hadooop*&quot;</span><br><span class="line">find / -name &quot;hadooop*&quot; -ls</span><br><span class="line"></span><br><span class="line">5.查找并删除</span><br><span class="line">find / -name &quot;hadooop*&quot; -ok rm &#123;&#125; \;</span><br><span class="line">find / -name &quot;hadooop*&quot; -exec rm &#123;&#125; \;</span><br><span class="line"></span><br><span class="line">6.查找用户为hadoop的文件</span><br><span class="line">find /usr -user hadoop -ls</span><br><span class="line"></span><br><span class="line">7.查找用户为hadoop并且(-a)拥有组为root的文件</span><br><span class="line">find /usr -user hadoop -a -group root -ls</span><br><span class="line"></span><br><span class="line">8.查找用户为hadoop或者(-o)拥有组为root并且是文件夹类型的文件</span><br><span class="line">find /usr -user hadoop -o -group root -a -type d</span><br><span class="line"></span><br><span class="line">9.查找权限为777的文件</span><br><span class="line">find / -perm -777 -type d -ls</span><br><span class="line"></span><br><span class="line">10.显示命令历史</span><br><span class="line">history</span><br><span class="line"></span><br><span class="line">11.grep</span><br><span class="line">grep hadoop /etc/password</span><br></pre></td></tr></table></figure>

<h3 id="打包与压缩"><a href="#打包与压缩" class="headerlink" title="打包与压缩"></a>打包与压缩</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">1.gzip压缩</span><br><span class="line">gzip a.txt</span><br><span class="line"></span><br><span class="line">2.解压</span><br><span class="line">gunzip a.txt.gz</span><br><span class="line">gzip -d a.txt.gz</span><br><span class="line"></span><br><span class="line">3.bzip2压缩</span><br><span class="line">bzip2 a</span><br><span class="line"></span><br><span class="line">4.解压</span><br><span class="line">bunzip2 a.bz2</span><br><span class="line">bzip2 -d a.bz2</span><br><span class="line"></span><br><span class="line">5.将当前目录的文件打包</span><br><span class="line">tar -cvf bak.tar .</span><br><span class="line">将/etc/password追加文件到bak.tar中(r)</span><br><span class="line">tar -rvf bak.tar /etc/password</span><br><span class="line"></span><br><span class="line">6.解压</span><br><span class="line">tar -xvf bak.tar</span><br><span class="line"></span><br><span class="line">7.打包并压缩gzip</span><br><span class="line">tar -zcvf a.tar.gz</span><br><span class="line"></span><br><span class="line">8.解压缩</span><br><span class="line">tar -zxvf a.tar.gz</span><br><span class="line">解压到/usr/下</span><br><span class="line">tar -zxvf a.tar.gz -C /usr</span><br><span class="line"></span><br><span class="line">9.查看压缩包内容</span><br><span class="line">tar -ztvf a.tar.gz</span><br><span class="line"></span><br><span class="line">zip/unzip</span><br><span class="line"></span><br><span class="line">10.打包并压缩成bz2</span><br><span class="line">tar -jcvf a.tar.bz2</span><br><span class="line"></span><br><span class="line">11.解压bz2</span><br><span class="line">tar -jxvf a.tar.bz2</span><br></pre></td></tr></table></figure>

<h3 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">规则：</span><br><span class="line">.  : 任意一个字符</span><br><span class="line">a* : 任意多个a(零个或多个a)</span><br><span class="line">a? : 零个或一个a</span><br><span class="line">a+ : 一个或多个a</span><br><span class="line">.* : 任意多个任意字符</span><br><span class="line">\. : 转义.</span><br><span class="line">\&lt;h.*p\&gt; ：以h开头，p结尾的一个单词</span><br><span class="line">o\&#123;2\&#125; : o重复两次</span><br><span class="line"></span><br><span class="line">grep &#x27;^i.\&#123;18\&#125;n$&#x27; /usr/share/dict/words</span><br><span class="line"></span><br><span class="line">查找不是以#开头的行</span><br><span class="line">grep -v &#x27;^#&#x27; a.txt | grep -v &#x27;^$&#x27; </span><br><span class="line"></span><br><span class="line">以h或r开头的</span><br><span class="line">grep &#x27;^[hr]&#x27; /etc/passwd</span><br><span class="line"></span><br><span class="line">不是以h和r开头的</span><br><span class="line">grep &#x27;^[^hr]&#x27; /etc/passwd</span><br><span class="line"></span><br><span class="line">不是以h到r开头的</span><br><span class="line">grep &#x27;^[^h-r]&#x27; /etc/passwd</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="输入输出重定向"><a href="#输入输出重定向" class="headerlink" title="输入输出重定向"></a>输入输出重定向</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">1.新建一个文件</span><br><span class="line">touch a.txt</span><br><span class="line">&gt; b.txt</span><br><span class="line"></span><br><span class="line">2.错误重定向:2&gt;</span><br><span class="line">find /etc -name zhaoxing.txt 2&gt; error.txt</span><br><span class="line"></span><br><span class="line">3.将正确或错误的信息都输入到log.txt中</span><br><span class="line">find /etc -name passwd &gt; /tmp/log.txt 2&gt;&amp;1 </span><br><span class="line">find /etc -name passwd &amp;&gt; /tmp/log.txt</span><br><span class="line"></span><br><span class="line">4.追加&gt;&gt;</span><br><span class="line"></span><br><span class="line">5.将小写转为大写（输入重定向）</span><br><span class="line">tr &quot;a-z&quot; &quot;A-Z&quot; &lt; /etc/passwd</span><br><span class="line"></span><br><span class="line">6.自动创建文件</span><br><span class="line">cat &gt; log.txt &lt;&lt; EXIT</span><br><span class="line">&gt; ccc</span><br><span class="line">&gt; ddd</span><br><span class="line">&gt; EXI</span><br><span class="line"></span><br><span class="line">7.查看/etc下的文件有多少个？</span><br><span class="line">ls -l /etc/ | grep &#x27;^d&#x27; | wc -l</span><br><span class="line"></span><br><span class="line">8.查看/etc下的文件有多少个，并将文件详情输入到result.txt中</span><br><span class="line">ls -l /etc/ | grep &#x27;^d&#x27; | tee result.txt | wc -l</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="进程控制"><a href="#进程控制" class="headerlink" title="进程控制"></a>进程控制</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">1.查看用户最近登录情况</span><br><span class="line">last</span><br><span class="line">lastlog</span><br><span class="line"></span><br><span class="line">2.查看硬盘使用情况</span><br><span class="line">df</span><br><span class="line"></span><br><span class="line">3.查看文件大小</span><br><span class="line">du</span><br><span class="line"></span><br><span class="line">4.查看内存使用情况</span><br><span class="line">free</span><br><span class="line"></span><br><span class="line">5.查看文件系统</span><br><span class="line">/proc</span><br><span class="line"></span><br><span class="line">6.查看日志</span><br><span class="line">ls /var/log/</span><br><span class="line"></span><br><span class="line">7.查看系统报错日志</span><br><span class="line">tail /var/log/messages</span><br><span class="line"></span><br><span class="line">8.查看进程</span><br><span class="line">top</span><br><span class="line"></span><br><span class="line">9.结束进程</span><br><span class="line">kill 1234</span><br><span class="line">kill -9 4333</span><br></pre></td></tr></table></figure>

<h3 id="其他命令"><a href="#其他命令" class="headerlink" title="其他命令"></a>其他命令</h3><h4 id="远程文件复制：scp"><a href="#远程文件复制：scp" class="headerlink" title="远程文件复制：scp"></a>远程文件复制：scp</h4><p>scp 命令用于 Linux 之间复制文件和目录，scp是 secure copy 的缩写是linux系统下基于ssh登陆进行安全的远程文件拷贝命令。</p>
<p>scp 是加密的，<a target="_blank" rel="noopener" href="https://xiaoxiaoming.xyz/linux/linux-comm-rcp.html">rcp</a> 是不加密的，scp 是 rcp 的加强版。</p>
<p>使用scp命令要确保使用的用户具有可读取远程服务器相应文件的权限，否则scp命令是无法起作用的。</p>
<p>从本地复制到远程命令格式：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">复制文件</span><br><span class="line">scp local_file remote_username@remote_ip:remote_folder </span><br><span class="line">或者 </span><br><span class="line">scp local_file remote_username@remote_ip:remote_file </span><br><span class="line">或者 </span><br><span class="line">scp local_file remote_ip:remote_folder </span><br><span class="line">或者 </span><br><span class="line">scp local_file remote_ip:remote_file</span><br><span class="line"></span><br><span class="line">复制文件夹</span><br><span class="line">scp -r local_folder remote_username@remote_ip:remote_folder </span><br><span class="line">或者 </span><br><span class="line">scp -r local_folder remote_ip:remote_folder </span><br></pre></td></tr></table></figure>

<p>实例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">scp /home/space/music/1.mp3 root@xiaoxiaoming.xyz:/home/root/others/music </span><br><span class="line">scp /home/space/music/1.mp3 root@xiaoxiaoming.xyz:/home/root/others/music/001.mp3 </span><br><span class="line">scp /home/space/music/1.mp3 xiaoxiaoming.xyz:/home/root/others/music </span><br><span class="line">scp /home/space/music/1.mp3 xiaoxiaoming.xyz:/home/root/others/music/001.mp3</span><br><span class="line"></span><br><span class="line">scp -r /home/space/music/ root@xiaoxiaoming.xyz:/home/root/others/ </span><br><span class="line">scp -r /home/space/music/ xiaoxiaoming.xyz:/home/root/others/ </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>从远程复制到本地：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scp root@xiaoxiaoming.xyz:/home/root/others/music /home/space/music/1.mp3 </span><br><span class="line">scp -r xiaoxiaoming.xyz:/home/root/others/ /home/space/music/</span><br></pre></td></tr></table></figure>

<p>-P 参数来设置命令的端口号：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#scp 命令使用端口号 4588</span><br><span class="line">scp -P 4588 remote@xiaoxiaoming.xyz:/usr/local/sin.sh /home/administrator</span><br></pre></td></tr></table></figure>

<h4 id="locate查找"><a href="#locate查找" class="headerlink" title="locate查找"></a>locate查找</h4><p>locate命令会去保存文档和目录名称的数据库内，查找文件或目录。</p>
<p>一般情况我们只需要输入<code>locate your_file_name</code> 即可查找指定文件。</p>
<p><strong>参数：</strong></p>
<ul>
<li>-d或–database&#x3D; 配置locate指令使用的数据库。locate指令预设的数据库位于&#x2F;var&#x2F;lib&#x2F;mlocate目录里，文档名为mlocate.db。</li>
</ul>
<p>查找passwd文件，输入以下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">locate passwd</span><br></pre></td></tr></table></figure>

<p>locate与find的区别: find 是去硬盘找，locate 只在&#x2F;var&#x2F;lib&#x2F;slocate资料库中找。</p>
<p>locate的速度比find快，它并不是真的查找，而是查数据库，一般文件数据库在&#x2F;var&#x2F;lib&#x2F;mlocate&#x2F;mlocate.db中，所以locate的查找并不是实时的，而是以数据库的更新为准，一般是系统自己维护，也可以手工升级数据库 ，命令为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">updatedb</span><br></pre></td></tr></table></figure>

<h4 id="which命令"><a href="#which命令" class="headerlink" title="which命令"></a>which命令</h4><p>which查找$PATH中设置命令及安装文件目录所在位置</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:/var/lib/mlocate$ which locate</span><br><span class="line">/usr/bin/locate</span><br></pre></td></tr></table></figure>

<h4 id="echo"><a href="#echo" class="headerlink" title="echo"></a>echo</h4><p>常见用法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~$ echo -e &quot;hello\t\t world！&quot;  解析转义字符</span><br><span class="line">hello            world！</span><br><span class="line">python@ubuntu:~$ echo -E &quot;hello\t\t world！&quot;  不解析转义字符</span><br><span class="line">hello\t\t world！</span><br><span class="line">python@ubuntu:~$ echo $a  输出环境变量</span><br><span class="line">b</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="设置或显示环境变量：export"><a href="#设置或显示环境变量：export" class="headerlink" title="设置或显示环境变量：export"></a>设置或显示环境变量：export</h4><p>在 shell 中执行程序时，shell 会提供一组环境变量。export 可新增，修改或删除环境变量，供后续执行的程序使用。export 的效力仅限于该次登陆操作。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export [-fnp][变量名称]=[变量设置值]</span><br></pre></td></tr></table></figure>

<p><strong>参数说明</strong>：</p>
<ul>
<li>-f 　代表[变量名称]中为函数名称。</li>
<li>-n 　删除指定的变量。变量实际上并未删除，只是不会输出到后续指令的执行环境中。</li>
<li>-p 　列出所有的shell赋予程序的环境变量。</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># export MYENV=7 //定义环境变量并赋值</span><br><span class="line"># export -p //列出当前的环境变量</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<h4 id="修改主机名-ip地址"><a href="#修改主机名-ip地址" class="headerlink" title="修改主机名&amp;ip地址"></a>修改主机名&amp;ip地址</h4><p>显示主机名：hostname</p>
<p>临时修改：hostname xxx</p>
<p><strong>永久修改</strong></p>
<p>对于Ubuntu 系统</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/hostname</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>对于centos系统</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/sysconfig/network</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>在此配置文件中添加一条HOSTNAME&#x3D;node1</p>
<p>针对centos7系统，可以使用如下命令</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hostnamectl set-hostname xxx</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>一般需要重开shell甚至重启操作系统才能生效。</p>
<p><strong>修改IP地址</strong></p>
<p>ifconfig eth0 192.168.12.22(重启后无效)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/sysconfig/network-scripts/ifcfg-eth0</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<h4 id="mount挂载"><a href="#mount挂载" class="headerlink" title="mount挂载"></a>mount挂载</h4><p>mount 挂载外部存储设备到文件系统中</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir /mnt/cdrom 创建一个目录，用来挂载</span><br><span class="line">mount -t iso9660 -o ro /dev/cdrom /mnt/cdrom/     </span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p>将设备&#x2F;dev&#x2F;cdrom挂载到 挂载点 ： &#x2F;mnt&#x2F;cdrom中</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">umount /mnt/cdrom</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<h4 id="ssh免密登陆"><a href="#ssh免密登陆" class="headerlink" title="ssh免密登陆"></a>ssh免密登陆</h4><p>假如 A 要登陆 B<br>在A上操作：<br>首先生成密钥对</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen (提示时，直接回车即可)</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>再将A自己的公钥拷贝并追加到B的授权列表文件authorized_keys中</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh-copy-id B</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<h3 id="批量添加用户"><a href="#批量添加用户" class="headerlink" title="批量添加用户"></a>批量添加用户</h3><h4 id="与用户账号有关的系统文件"><a href="#与用户账号有关的系统文件" class="headerlink" title="与用户账号有关的系统文件"></a>与用户账号有关的系统文件</h4><p>完成用户管理的工作本质都是对有关的系统文件进行修改，这些系统文件包括&#x2F;etc&#x2F;passwd, &#x2F;etc&#x2F;shadow, &#x2F;etc&#x2F;group等。</p>
<p><strong>&#x2F;etc&#x2F;passwd记录用户的基本属性</strong></p>
<p>它的内容类似下面的例子：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">＃ cat /etc/passwd</span><br><span class="line"></span><br><span class="line">root:x:0:0:Superuser:/:</span><br><span class="line">daemon:x:1:1:System daemons:/etc:</span><br><span class="line">bin:x:2:2:Owner of system commands:/bin:</span><br><span class="line">sys:x:3:3:Owner of system files:/usr/sys:</span><br><span class="line">adm:x:4:4:System accounting:/usr/adm:</span><br><span class="line">uucp:x:5:5:UUCP administrator:/usr/lib/uucp:</span><br><span class="line">auth:x:7:21:Authentication administrator:/tcb/files/auth:</span><br><span class="line">cron:x:9:16:Cron daemon:/usr/spool/cron:</span><br><span class="line">listen:x:37:4:Network daemon:/usr/net/nls:</span><br><span class="line">lp:x:71:18:Printer administrator:/usr/spool/lp:</span><br><span class="line">sam:x:200:50:Sam san:/home/sam:/bin/sh</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>&#x2F;etc&#x2F;passwd中一行记录对应着一个用户，每行记录又被冒号(:)分隔为7个字段，其格式和具体含义如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">用户名:口令:用户标识号:组标识号:注释性描述:主目录:登录Shell</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p><strong>用户名：</strong></p>
<p>通常长度不超过8个字符，由大小写字母和&#x2F;或数字组成，不能有冒号(😃。登录名中不能有冒号(😃，因为冒号在这里是分隔符。</p>
<p>为了兼容起见，登录名中最好不要包含点字符(.)，并且不使用连字符(-)和加号(+)打头。</p>
<p><strong>口令：</strong></p>
<p>本身存放用户口令的加密串，但现在许多Linux 系统都使用了shadow技术，把真正的加密后的用户口令字存放到&#x2F;etc&#x2F;shadow文件中，而&#x2F;etc&#x2F;passwd文件的口令字段中只存放一个特殊的字符，例如“x”或者“*”。</p>
<p><strong>用户标识号：</strong></p>
<p>是一个整数，系统内部用它来标识用户。一般情况下它与用户名是一一对应的，如果几个用户名对应的用户标识号是一样的，系统内部将把它们视为同一个用户，但是它们可以有不同的口令、不同的主目录以及不同的登录Shell等。</p>
<p>通常用户标识号的取值范围是0～65 535。0是超级用户root的标识号，1～99由系统保留，作为管理账号，普通用户的标识号从100开始。</p>
<p><strong>组标识号：</strong></p>
<p>记录用户所属的用户组，对应着&#x2F;etc&#x2F;group文件中的一条记录。</p>
<p><strong>注释性描述：</strong></p>
<p>一段任意编写的注释，创建账户时可以通过<code>useradd -c 用户名</code>的<code>-c</code>参数指定。</p>
<p><strong>主目录：</strong></p>
<p>用户的起始工作目录，用户在登录到系统之后所处的目录。</p>
<p><strong>登录Shell：</strong></p>
<p>用户登录后，要启动一个进程，负责将用户的操作传给内核，这个进程是用户登录到系统后运行的命令解释器或某个特定的程序，即Shell。</p>
<p>Shell是用户与Linux系统之间的接口。Linux的Shell有许多种，每种都有不同的特点。常用的有sh(Bourne Shell), csh(C Shell), ksh(Korn Shell), tcsh(TENEX&#x2F;TOPS-20 type C Shell), bash(Bourne Again Shell)等。</p>
<p>可以通过usermod的<code>-s</code>参数为用户指定某个Shell。如果useradd不通过<code>-s</code>参数指定shell，那么系统使用bash为默认的登录Shell，即这个字段的值为&#x2F;bin&#x2F;bash。</p>
<p>为用户的登录指定特定的Shell可以限制用户只能运行指定的应用程序，在该应用程序运行结束后，用户就自动退出了系统。不过大部分Linux系统要求只有在系统中登记过的shell才能出现在这个字段中。</p>
<p><strong>伪用户（pseudo users）</strong></p>
<p>这些用户的登陆shell为&#x2F;usr&#x2F;sbin&#x2F;nologin，即不能登录。它们的存在主要是方便系统管理，满足相应的系统进程对文件属主的要求。</p>
<p>常见的伪用户如下所示：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">bin 拥有可执行的用户命令文件 </span><br><span class="line">sys 拥有系统文件 </span><br><span class="line">adm 拥有帐户文件 </span><br><span class="line">uucp UUCP使用 </span><br><span class="line">lp lp或lpd子系统使用 </span><br><span class="line">nobody NFS使用</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>还有许多标准的伪用户，例如：audit, cron, mail, usenet等，它们也都各自为相关的进程和文件所需要。</p>
<p><strong>&#x2F;etc&#x2F;shadow</strong></p>
<p>对安全性要求较高的Linux系统都把&#x2F;etc&#x2F;passwd文件中的口令字段保存在&#x2F;etc&#x2F;shadow文件中，超级用户才拥有该文件读权限。</p>
<p>&#x2F;etc&#x2F;shadow中的记录行与&#x2F;etc&#x2F;passwd中的一一对应，它由pwconv命令根据&#x2F;etc&#x2F;passwd中的数据自动产生</p>
<p>字段是：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">登录名:加密口令:最后一次修改时间:最小时间间隔:最大时间间隔:警告时间:不活动时间:失效时间:标志</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<ol>
<li>“登录名”是与&#x2F;etc&#x2F;passwd文件中的登录名相一致的用户账号</li>
<li>“口令”字段存放的是加密后的用户口令字，长度为13个字符。如果为空，则对应用户没有口令，登录时不需要口令；如果含有不属于集合 { .&#x2F;0-9A-Za-z }中的字符，则对应的用户不能登录。</li>
<li>“最后一次修改时间”表示的是从某个时刻起，到用户最后一次修改口令时的天数。大部分linux系统的时间起点是1970年1月1日。</li>
<li>“最小时间间隔”指的是两次修改口令之间所需的最小天数。</li>
<li>“最大时间间隔”指的是口令保持有效的最大天数。</li>
<li>“警告时间”字段表示的是从系统开始警告用户到用户密码正式失效之间的天数。</li>
<li>“不活动时间”表示的是用户没有登录活动但账号仍能保持有效的最大天数。</li>
<li>“失效时间”字段给出的是一个绝对的天数，如果使用了这个字段，那么就给出相应账号的生存期。期满后，该账号就不再是一个合法的账号，也就不能再用来登录了。</li>
</ol>
<p>下面是&#x2F;etc&#x2F;shadow的一个例子：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">＃ cat /etc/shadow</span><br><span class="line"></span><br><span class="line">root:Dnakfw28zf38w:8764:0:168:7:::</span><br><span class="line">daemon:*::0:0::::</span><br><span class="line">bin:*::0:0::::</span><br><span class="line">sys:*::0:0::::</span><br><span class="line">adm:*::0:0::::</span><br><span class="line">uucp:*::0:0::::</span><br><span class="line">nuucp:*::0:0::::</span><br><span class="line">auth:*::0:0::::</span><br><span class="line">cron:*::0:0::::</span><br><span class="line">listen:*::0:0::::</span><br><span class="line">lp:*::0:0::::</span><br><span class="line">sam:EkdiSECLWPdSa:9740:0:0::::</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>&#x2F;etc&#x2F;group记录用户组信息</strong></p>
<p>每个用户都属于某个用户组；一个组中可以有多个用户，一个用户也可以属于不同的组。</p>
<p>当一个用户同时是多个组中的成员时，在&#x2F;etc&#x2F;passwd文件中记录的是用户所属的主组，也就是登录时所属的默认组，而其他组称为附加组。</p>
<p>用户要访问属于附加组的文件时，必须首先使用newgrp命令使自己成为所要访问的组中的成员。</p>
<p>用户组的所有信息都存放在&#x2F;etc&#x2F;group文件中，字段有：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">组名:口令:组标识号:组内用户列表</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<ol>
<li>“组名”是用户组的名称，由字母或数字构成。与&#x2F;etc&#x2F;passwd中的登录名一样，组名不应重复。</li>
<li>“口令”字段存放的是用户组加密后的口令字。一般Linux 系统的用户组都没有口令，即这个字段一般为空，或者是*。</li>
<li>“组标识号”与用户标识号类似，也是一个整数，被系统内部用来标识组。</li>
<li>“组内用户列表”是属于这个组的所有用户的列表，不同用户之间用逗号(,)分隔。这个用户组可能是用户的主组，也可能是附加组。</li>
</ol>
<p>&#x2F;etc&#x2F;group文件的一个例子如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">root::0:root</span><br><span class="line">bin::2:root,bin</span><br><span class="line">sys::3:root,uucp</span><br><span class="line">adm::4:root,adm</span><br><span class="line">daemon::5:root,daemon</span><br><span class="line">lp::7:root,lp</span><br><span class="line">users::20:root,sam</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="实操"><a href="#实操" class="headerlink" title="实操"></a>实操</h4><p><strong>先编辑一个文本用户文件</strong></p>
<p>每一列按照<code>/etc/passwd</code>密码文件的格式书写，要注意每个用户的用户名、UID、宿主目录都不可以相同，其中密码栏可以留做空白或输入x号。一个范例文件user.txt内容如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">user001::601:100:user:/home/user001:/bin/bash</span><br><span class="line">user002::602:100:user:/home/user002:/bin/bash</span><br><span class="line">user003::603:100:user:/home/user003:/bin/bash</span><br><span class="line">user004::604:100:user:/home/user004:/bin/bash</span><br><span class="line">user005::605:100:user:/home/user005:/bin/bash</span><br><span class="line">user006::606:100:user:/home/user006:/bin/bash</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>执行<code>/usr/sbin/newusers</code>命令</strong></p>
<p>需要root权限：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># newusers &lt; user.txt</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>可以执行命令 <code>vipw</code> 或 <code>vi /etc/passwd</code> 检查 <code>/etc/passwd</code> 文件是否已经出现这些用户的数据，并且用户的宿主目录是否已经创建。</p>
<p><strong>取消 <code>shadow password</code> 功能</strong></p>
<p>将 <code>/etc/shadow</code> 产生的 <code>shadow</code> 密码解码，然后回写到 <code>/etc/passwd</code> 中，并将<code>/etc/shadow</code>的<code>shadow</code>密码栏删掉。这是为了方便下一步的密码转换工作，即先取消 <code>shadow password</code> 功能。</p>
<p>执行<code>/usr/sbin/pwunconv</code>命令:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># pwunconv</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p><strong>编辑每个用户的密码对照文件</strong></p>
<p>格式为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">用户名:密码</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>实例文件 <code>passwd.txt</code> 内容如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">user001:</span><br><span class="line">user002:</span><br><span class="line">user003:</span><br><span class="line">user004:</span><br><span class="line">user005:</span><br><span class="line">user006:</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>执行 <code>/usr/sbin/chpasswd</code>命令</strong></p>
<p>需要root权限：</p>
<p>创建用户密码，<code>chpasswd</code> 会将经过 <code>/usr/bin/passwd</code> 命令编码过的密码写入 <code>/etc/passwd</code> 的密码栏。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># chpasswd &lt; passwd.txt</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p><strong>将密码编码为 <code>shadow password</code></strong></p>
<p>执行命令 <code>/usr/sbin/pwconv</code> 将密码编码为 <code>shadow password</code>，并将结果写入 <code>/etc/shadow</code>。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># pwconv</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>这样就完成了大量用户的创建了，之后您可以到&#x2F;home下检查这些用户宿主目录的权限设置是否都正确，并登录验证用户密码是否正确。</p>
<p><strong>完整步骤</strong></p>
<p>先准备好用户文件user和密码文件passwd</p>
<p>然后运行：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">newusers &lt; user</span><br><span class="line">pwunconv</span><br><span class="line">chpasswd &lt; passwd</span><br><span class="line">pwconv</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="crontab的使用"><a href="#crontab的使用" class="headerlink" title="crontab的使用"></a>crontab的使用</h3><p>crontab命令是cron table的简写，它是cron的配置文件，也可以叫它作业列表。</p>
<p>相关配置文件如下：</p>
<ul>
<li>&#x2F;var&#x2F;spool&#x2F;cron&#x2F; 目录下存放的是每个用户包括root的crontab任务，每个任务以创建者的名字命名</li>
<li>&#x2F;etc&#x2F;crontab 这个文件负责调度各种管理和维护任务。</li>
<li>&#x2F;etc&#x2F;cron.d&#x2F; 这个目录用来存放任何要执行的crontab文件或脚本。</li>
<li>还可以把脚本放在&#x2F;etc&#x2F;cron.hourly、&#x2F;etc&#x2F;cron.daily、&#x2F;etc&#x2F;cron.weekly、&#x2F;etc&#x2F;cron.monthly目录中，让它每小时&#x2F;天&#x2F;星期、月执行一次。</li>
</ul>
<p>命令格式：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">crontab [ -u user ] &#123; -l | -r | -e &#125;</span><br><span class="line">//省略用户表表示操作当前用户的crontab</span><br><span class="line">    -e      (编辑工作表)</span><br><span class="line">    -l      (列出工作表里的命令)</span><br><span class="line">    -r      (删除工作表)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>crontab -e</strong>进入当前用户的工作表编辑，是常见的vim界面。每行是一条命令。</p>
<p>crontab的命令构成为 时间+动作，其时间有<strong>分、时、日、月、周</strong>五种，操作符有</p>
<ul>
<li>***** 取值范围内的所有数字</li>
<li><strong>&#x2F;</strong> 每过多少个数字</li>
<li><strong>-</strong> 从X到Z</li>
<li>**，**散列数字</li>
</ul>
<p>基本格式 :</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">f1	f2	f3	f4	f5	command</span><br><span class="line">分	时	日	月	周	命令 </span><br><span class="line">第1列表示分钟0～59 每分钟用*或者 */1表示 </span><br><span class="line">第2列表示小时0～23（0表示0点） </span><br><span class="line">第3列表示日期1～31 </span><br><span class="line">第4列表示月份1～12 </span><br><span class="line">第5列标识号星期0～6（0表示星期天） </span><br><span class="line">第6列要运行的命令</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/99fb8a619138438d007b738d8630fbdcjpeg.jpg" alt="img"></p>
<ul>
<li>其中 f1 是表示分钟，f2 表示小时，f3 表示一个月份中的第几日，f4 表示月份，f5 表示一个星期中的第几天。command表示要执行的命令。</li>
<li>当 f1 为 * 时表示每分钟都要执行 program，f2 为 * 时表示每小时都要执行程序，以此类推</li>
<li>当 f1 为 a-b 时表示从第 a 分钟到第 b 分钟这段时间内要执行，f2 为 a-b 时表示从第 a 到第 b 小时都要执行，以此类推</li>
<li>当 f1 为 *&#x2F;n 时表示每 n 分钟个时间间隔执行一次，f2 为 *&#x2F;n 表示每 n 小时个时间间隔执行一次，以此类推</li>
<li>当 f1 为 a, b, c,… 时表示第 a, b, c,… 分钟要执行，f2 为 a, b, c,… 时表示第 a, b, c…个小时要执行，以此类推</li>
</ul>
<p>在 12 月内, 每天的早上 6 点到 12 点，每隔 3 个小时 0 分钟执行一次 &#x2F;usr&#x2F;bin&#x2F;backup</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">0 6-12/3 * 12 * /usr/bin/backup</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>周一到周五每天下午 5:00 寄一封信给 <a href="mailto:&#x61;&#x6c;&#x65;&#x78;&#x40;&#x64;&#x6f;&#109;&#x61;&#105;&#x6e;&#46;&#110;&#x61;&#109;&#101;">&#x61;&#x6c;&#x65;&#x78;&#x40;&#x64;&#x6f;&#109;&#x61;&#105;&#x6e;&#46;&#110;&#x61;&#109;&#101;</a></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">0 17 * * 1-5 mail -s &quot;hi&quot; alex@domain.name &lt; /tmp/maildata</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>每月每天的午夜 0 点 20 分, 2 点 20 分, 4 点 20 分…执行 echo “haha”</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">20 0-23/2 * * * echo &quot;haha&quot;</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>示例1：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">45 4 1,10,22 * * /etc/init.d/smb restart 每月1、10、22日的4 : 45重启smb</span><br><span class="line"></span><br><span class="line">10 1 * * 6,0 /etc/init.d/smb restart  每周六、周日的1 : 10重启smb</span><br><span class="line"></span><br><span class="line">0,30 18-23 * * * /etc/init.d/smb restart  每天18 : 00至23 : 00之间每隔30分钟重启smb</span><br><span class="line"></span><br><span class="line">0 23 * * 6 /etc/init.d/smb restart  每星期六的晚上11 : 00 pm重启smb</span><br><span class="line"></span><br><span class="line">* */1 * * * /etc/init.d/smb restart  每一小时重启smb</span><br><span class="line"></span><br><span class="line">* 23-7/1 * * * /etc/init.d/smb restart  晚上11点到早上7点之间，每隔一小时重启smb</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>示例2：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">0 */2 * * * /sbin/service httpd restart  每两个小时重启一次apache </span><br><span class="line"></span><br><span class="line">50 7 * * * /sbin/service sshd start  每天7：50开启ssh服务 </span><br><span class="line"></span><br><span class="line">50 22 * * * /sbin/service sshd stop  每天22：50关闭ssh服务 </span><br><span class="line"></span><br><span class="line">0 0 1,15 * * fsck /home  每月1号和15号检查/home 磁盘 </span><br><span class="line"></span><br><span class="line">1 * * * * /home/bruce/backup  每小时的第一分执行 /home/bruce/backup这个文件 </span><br><span class="line"></span><br><span class="line">00 03 * * 1-5 find /home &quot;*.xxx&quot; -mtime +4 -exec rm &#123;&#125; \;  每周一至周五3点钟，在目录/home中，查找文件名为*.xxx的文件，并删除4天前的文件。</span><br><span class="line"></span><br><span class="line">30 6 */10 * * ls  每月的1、11、21、31日是的6：30执行一次ls命令</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>环境变量问题：</strong></p>
<p>有时创建了一个crontab，但是这个任务却无法自动执行，而手动执行这个任务却没有问题，这种情况一般是由于在crontab文件中没有配置环境变量引起的。</p>
<p>所以注意如下3点：</p>
<p>1）脚本中涉及文件路径时写全局路径；</p>
<p>2）脚本执行要用到java或其他环境变量时，通过source命令引入环境变量，如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cat start_cbp.sh</span><br><span class="line">#!/bin/sh</span><br><span class="line">source /etc/profile</span><br><span class="line">export RUN_CONF=/home/d139/conf/platform/cbp/cbp_jboss.conf</span><br><span class="line">/usr/local/jboss-4.0.5/bin/run.sh -c mev &amp;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>3）当手动执行脚本OK，但是crontab死活不执行时，可以尝试在crontab中直接引入环境变量解决问题。如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">0 * * * * . /etc/profile;/bin/sh /var/www/java/audit_no_count/bin/restart_audit.sh</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<h2 id="特殊权限"><a href="#特殊权限" class="headerlink" title="特殊权限"></a>特殊权限</h2><p>linux共12位权限，除了9位基础权限还有3个特殊权限。</p>
<h3 id="三种特殊的权限"><a href="#三种特殊的权限" class="headerlink" title="三种特殊的权限"></a>三种特殊的权限</h3><h4 id="SetUID-suid"><a href="#SetUID-suid" class="headerlink" title="SetUID(suid)"></a>SetUID(suid)</h4><p><strong>命令功能：</strong> **临时使用命令的属主权限执行该命令。**即如果文件有suid权限时，那么普通用户去执行该文件时，会以该文件的所属用户的身份去执行。</p>
<p>SetUID（简写suid）：会在属主权限位的执行权限上写个s。 如果该属主权限位上有执行权限，则会在属主权限位的执行权限上写个s（小写）； 如果该属主权限位上没有执行权限，则会在属主权限位的执行权限上写个S（大写）。</p>
<p>suid数字权限是4000,设置方法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">方式1：</span><br><span class="line">[root@centos7 ~]# chmod u+s filename</span><br><span class="line">方式2：</span><br><span class="line">[root@centos7 ~]# chmod 4755 filename</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>查看passwd命令的权限</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">`[root@localhost ftl]``# ll /usr/bin/passwd ` `问题： ``passwd``文件的属组是root,表示只有root用户可以访问的文件，为什么普通用户依然可以使用该命令更改自己的密码？``答案：当普通用户[omd]使用``passwd``命令的时候，系统看到``passwd``命令文件的属性有大写s后，表示这个命令的属主权限被omd用户获得,也就是omd用户获得文件``/etc/shadow``的root的rwx权限`</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>由于<code>passwd</code>具有s权限，普通用户使用该命令的时候，就会以该命令的属主身份root执行该命令，于是能够顺利修改普通用户不具备修改权限的<code>/etc/shadow</code>文件。</p>
<p>希望普通用户user1可以删除某个自己没有权限删除的文件的操作方法：</p>
<ul>
<li>sudo给user1授权rm权限</li>
<li>rm设置suid</li>
<li>修改被删除文件上级目录的权限</li>
</ul>
<p><strong>SetUID（简称suid）总结：</strong></p>
<ol>
<li>让普通用户对可执行的二进制文件，临时拥有二进制文件的属主权限；</li>
<li>如果设置的二进制文件没有执行权限，那么suid的权限显示就是S（大写字母S）；</li>
<li>特殊权限suid仅对二进制可执行程序有效，其他文件或目录则无效。</li>
<li>suid极其危险，如果给vim或者rm命令设置了setUID，那么任何文件都能编辑或者删除了，相当于有root权限了。</li>
</ol>
<h4 id="setGID（sgid）"><a href="#setGID（sgid）" class="headerlink" title="setGID（sgid）"></a>setGID（sgid）</h4><p>**命令功能：**使用sgid可以使得多个用户之间共享一个目录的所有文件变得简单。当某个目录设置了sgid后，在该目录中新建的文件不在是创建该文件的默认所属组。</p>
<p>如果该属组权限位上有执行权限，则会在属组主权限位的执行权限上写个s（小写字母）； 如果该属组权限位上没有执行权限，则会在属组主权限位的执行权限上写个S（大写字母S）。</p>
<p>write命令的权限：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@VM_0_9_centos ~]# ll /bin/write </span><br><span class="line">-rwxr-sr-x 1 root tty 19544 Aug  9 11:10 /bin/write</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p>sgid数字权限是2000，设置方法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">方式1：</span><br><span class="line">[root@VM_0_9_centos ~]# chmod 2755 test/</span><br><span class="line">方式2：</span><br><span class="line">[root@VM_0_9_centos ~]# chmod g+s test/</span><br><span class="line"></span><br><span class="line">[root@VM_0_9_centos ~]# ll -d test/</span><br><span class="line">drwxr-sr-x 2 root root 4096 Nov 22 21:02 test/</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>在设置SetGID的文件夹创建文件的属组是父目录的属组：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@VM_0_9_centos ~]# <span class="built_in">cd</span> <span class="built_in">test</span>/</span><br><span class="line">[root@VM_0_9_centos <span class="built_in">test</span>]# su aaa</span><br><span class="line">[aaa@VM_0_9_centos <span class="built_in">test</span>]$ <span class="built_in">touch</span> bbb</span><br><span class="line">[aaa@VM_0_9_centos <span class="built_in">test</span>]$ ll</span><br><span class="line">-rw-rw-r-- 1 aaa  root 0 Nov 22 21:14 bbb</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="sticky-sbit-粘滞位"><a href="#sticky-sbit-粘滞位" class="headerlink" title="sticky(sbit)粘滞位"></a>sticky(sbit)粘滞位</h4><p>**命令功能：**粘滞位，只对目录有效，对某目录设置粘滞位后，普通用户就算有w权限也只能删除该目录下自己建立的文件，而不能删除其他用户建立的文件。</p>
<p>如果该其他用户权限位上有执行权限，则会在其他用户权限位的执行权限上写个t（小写）； 如果该其它用户权限位上没有执行权限，则会在其他用户权限位的执行权限上写个T（大写）。</p>
<p>系统中存在的&#x2F;tmp目录是经典的粘滞位目录，谁都有写权限，因此安全成问题，常常是木马第一手跳板。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[aaa@VM_0_9_centos ~]$ ll -d /tmp/ </span><br><span class="line">drwxrwxrwt. 9 root root 4096 Nov 22 21:15 /tmp/</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p>sbit数字权限是1000，设置方法：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">方法1：</span><br><span class="line">[root@VM_0_9_centos ~]# <span class="built_in">chmod</span> 1755 <span class="built_in">test</span>/</span><br><span class="line">方法2：</span><br><span class="line">[root@VM_0_9_centos ~]# <span class="built_in">chmod</span> o+t <span class="built_in">test</span>/ </span><br><span class="line">查看权限：</span><br><span class="line">[root@VM_0_9_centos ~]# ll -d <span class="built_in">test</span>/    </span><br><span class="line">drwxr-xr-t 2 root root 4096 Nov 22 21:15 <span class="built_in">test</span>/</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="chattr权限"><a href="#chattr权限" class="headerlink" title="chattr权限"></a>chattr权限</h3><p>chattr概述：凌驾于r、w、x、suid、sgid之上的权限。</p>
<h4 id="lsattr：查看特殊权限"><a href="#lsattr：查看特殊权限" class="headerlink" title="lsattr：查看特殊权限"></a>lsattr：查看特殊权限</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@VM_0_9_centos ~]# lsattr /etc/passwd</span><br><span class="line">-------------e-- /etc/passwd</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<h4 id="chattr：设置特殊权限"><a href="#chattr：设置特殊权限" class="headerlink" title="chattr：设置特殊权限"></a>chattr：设置特殊权限</h4><table>
<thead>
<tr>
<th>权限说明</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>-i</td>
<td>锁定文件，不能编辑，不能修改，不能删除，不能移动，可以执行</td>
</tr>
<tr>
<td>-a</td>
<td>仅可以追加文件，不能编辑，不能删除，不能移动，可以执行</td>
</tr>
</tbody></table>
<p>防止系统中某个关键文件被修改：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@VM_0_9_centos ~]# chattr +i /etc/fstab</span><br><span class="line">[root@VM_0_9_centos ~]# lsattr /etc/fstab   </span><br><span class="line">----i--------e-- /etc/fstab</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<p>让某个文件只能往里面追加内容，不能删除，一些日志文件适用于这种操作：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@VM_0_9_centos ~]# chattr +a user_act.log</span><br><span class="line">[root@VM_0_9_centos ~]# lsattr user_act.log </span><br><span class="line">-----a-------e-- user_act.log</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<h3 id="掩码umask"><a href="#掩码umask" class="headerlink" title="掩码umask"></a>掩码umask</h3><h4 id="umask的作用"><a href="#umask的作用" class="headerlink" title="umask的作用"></a>umask的作用</h4><p>umask值用于设置用户在创建文件时的默认权限，当我们在系统中创建目录或文件时，目录或文件所具有的默认权限就是由umask值决定的。</p>
<p>对于root用户，系统默认的umask值是0022；对于普通用户，系统默认的umask值是0002。执行umask命令可以查看当前用户的umask值。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@VM_0_9_centos ~]# umask</span><br><span class="line">0022</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<h4 id="umask是如何改变新文件的权限"><a href="#umask是如何改变新文件的权限" class="headerlink" title="umask是如何改变新文件的权限"></a>umask是如何改变新文件的权限</h4><p>umask值一共有4组数字，其中第1组数字用于定义特殊权限，一般不予考虑，与一般权限有关的是后3组数字。</p>
<p>默认情况下，对于目录，用户所能拥有的最大权限是777；对于文件，用户所能拥有的最大权限是目录的最大权限去掉执行权限，即666。因为x执行权限对于目录是必须的，没有执行权限就无法进入目录，而对于文件则不必默认赋予x执行权限。</p>
<p>对于root用户，他的umask值是022。当root用户创建目录时，默认的权限就是用最大权限777去掉相应位置的umask值权限，即对于所有者不必去掉任何权限，对于所属组要去掉w权限，对于其他用户也要去掉w权限，所以目录的默认权限就是755；当root用户创建文件时，默认的权限则是用最大权限666去掉相应位置的umask值，即文件的默认权限是644。</p>
<p>通过umask命令可以修改umask值，比如将umask值设为0077。</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@VM_0_9_centos ~]# umask 0077</span><br><span class="line">[root@VM_0_9_centos ~]# umask</span><br><span class="line">0077</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<h4 id="永久修改umask"><a href="#永久修改umask" class="headerlink" title="永久修改umask"></a>永久修改umask</h4><p>umask命令只能临时修改umask值，系统重启之后umask将还原成默认值。如果要永久修改umask值，可修改<code>/etc/bashrc</code>或<code>/etc/profile</code>文件。</p>
<p>例如要将默认umask值设置为027，那么可以在文件中增加一行<code>umask 027</code>。</p>
<h2 id="linux软件安装"><a href="#linux软件安装" class="headerlink" title="linux软件安装"></a>linux软件安装</h2><h3 id="Ubuntu软件安装与卸载"><a href="#Ubuntu软件安装与卸载" class="headerlink" title="Ubuntu软件安装与卸载"></a>Ubuntu软件安装与卸载</h3><h4 id="更新Ubuntu软件下载地址"><a href="#更新Ubuntu软件下载地址" class="headerlink" title="更新Ubuntu软件下载地址"></a>更新Ubuntu软件下载地址</h4><p>开源软件镜像站 ：<a target="_blank" rel="noopener" href="https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/">https://mirrors.tuna.tsinghua.edu.cn/help/ubuntu/</a></p>
<p>Ubuntu 的软件源配置文件是 <code>/etc/apt/sources.list</code>。将系统自带的该文件做个备份，将该文件替换为下面内容，即可使用 TUNA 的软件源镜像。</p>
<p>ubuntu版本: 16.04 LTS</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># 默认注释了源码镜像以提高 apt update 速度，如有需要可自行取消注释</span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial main restricted universe multiverse</span><br><span class="line"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial main restricted universe multiverse</span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-updates main restricted universe multiverse</span><br><span class="line"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-updates main restricted universe multiverse</span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-backports main restricted universe multiverse</span><br><span class="line"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-backports main restricted universe multiverse</span><br><span class="line">deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-security main restricted universe multiverse</span><br><span class="line"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-security main restricted universe multiverse</span><br><span class="line"></span><br><span class="line"># 预发布软件源，不建议启用</span><br><span class="line"># deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-proposed main restricted universe multiverse</span><br><span class="line"># deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ xenial-proposed main restricted universe multiverse</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>然后</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo cp /etc/apt/sources.list /etc/apt/sources.list.backup</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>再sudo vim &#x2F;etc&#x2F;apt&#x2F;sources.list修改为以上内容</p>
<h4 id="Ubuntu软件操作的相关命令"><a href="#Ubuntu软件操作的相关命令" class="headerlink" title="Ubuntu软件操作的相关命令"></a>Ubuntu软件操作的相关命令</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get update  更新源</span><br><span class="line">sudo apt-get install package 安装包</span><br><span class="line">sudo apt-get remove package 删除包</span><br><span class="line">sudo apt-cache search package 搜索软件包</span><br><span class="line">sudo apt-cache show package  获取包的相关信息，如说明、大小、版本等</span><br><span class="line">sudo apt-get install package --reinstall   重新安装包</span><br><span class="line">sudo apt-get -f install   修复安装</span><br><span class="line">sudo apt-get remove package --purge 删除包，包括配置文件等</span><br><span class="line">sudo apt-get build-dep package 安装相关的编译环境</span><br><span class="line">sudo apt-get upgrade 更新已安装的包</span><br><span class="line">sudo apt-get dist-upgrade 升级系统</span><br><span class="line">sudo apt-cache depends package 了解使用该包依赖那些包</span><br><span class="line">sudo apt-cache rdepends package 查看该包被哪些包依赖</span><br><span class="line">sudo apt-get source package  下载该包的源代码</span><br><span class="line">sudo apt-get clean &amp;&amp; sudo apt-get autoclean 清理无用的包</span><br><span class="line">sudo apt-get check 检查是否有损坏的依赖</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="yum安装命令"><a href="#yum安装命令" class="headerlink" title="yum安装命令"></a>yum安装命令</h3><p>yum（ Yellow dog Updater, Modified）是一个在Fedora和RedHat以及SUSE中的Shell前端软件包管理器。</p>
<p>基於RPM包管理，能够从指定的服务器自动下载RPM包并且安装，可以自动处理依赖性关系，并且一次安装所有依赖的软体包，无须繁琐地一次次下载、安装。</p>
<p>yum提供了查找、安装、删除某一个、一组甚至全部软件包的命令，而且命令简洁而又好记。</p>
<h4 id="更新国内yum源"><a href="#更新国内yum源" class="headerlink" title="更新国内yum源"></a>更新国内yum源</h4><p>网易（163）yum源是国内最好的yum源之一 ，无论是速度还是软件版本，都非常的不错。</p>
<p>将yum源设置为163 yum，可以提升软件包安装和更新的速度，同时避免一些常见软件版本无法找到。</p>
<p><strong>首先备份&#x2F;etc&#x2F;yum.repos.d&#x2F;CentOS-Base.repo</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mv /etc/yum.repos.d/CentOS-Base.repo /etc/yum.repos.d/CentOS-Base.repo.backup</span><br></pre></td></tr></table></figure>

<p>下载对应版本 repo 文件, 放入 &#x2F;etc&#x2F;yum.repos.d&#x2F;</p>
<ul>
<li><a target="_blank" rel="noopener" href="http://mirrors.163.com/.help/CentOS5-Base-163.repo">CentOS5</a> ：<a target="_blank" rel="noopener" href="http://mirrors.163.com/.help/CentOS5-Base-163.repo">http://mirrors.163.com/.help/CentOS5-Base-163.repo</a></li>
<li><a target="_blank" rel="noopener" href="http://mirrors.163.com/.help/CentOS6-Base-163.repo">CentOS6</a> ：<a target="_blank" rel="noopener" href="http://mirrors.163.com/.help/CentOS6-Base-163.repo">http://mirrors.163.com/.help/CentOS6-Base-163.repo</a></li>
<li><a target="_blank" rel="noopener" href="http://mirrors.163.com/.help/CentOS7-Base-163.repo">CentOS7</a> ：<a target="_blank" rel="noopener" href="http://mirrors.163.com/.help/CentOS7-Base-163.repo">http://mirrors.163.com/.help/CentOS7-Base-163.repo</a></li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">wget http://mirrors.163.com/.help/CentOS7-Base-163.repo</span><br><span class="line">mv CentOS7-Base-163.repo /etc/yum.repos.d/CentOS-Base.repo</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p>运行以下命令生成缓存</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum clean all</span><br><span class="line">yum makecache</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p>除了网易之外，国内还有其他不错的 yum 源，比如中科大和搜狐。</p>
<p>中科大的 yum 源，安装方法查看：<a target="_blank" rel="noopener" href="https://lug.ustc.edu.cn/wiki/mirrors/help/centos">https://lug.ustc.edu.cn/wiki/mirrors/help/centos</a></p>
<p>sohu 的 yum 源安装方法查看: <a target="_blank" rel="noopener" href="http://mirrors.sohu.com/help/centos.html">http://mirrors.sohu.com/help/centos.html</a></p>
<h4 id="yum常用命令"><a href="#yum常用命令" class="headerlink" title="yum常用命令"></a>yum常用命令</h4><p>yum 语法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum [options] [command] [package ...]</span><br></pre></td></tr></table></figure>


<p>选项：</p>
<ul>
<li>**options：**可选，选项包括-h（帮助），-y（当安装过程提示选择全部为”yes”），-q（不显示安装的过程）等等。</li>
<li>**command：**要进行的操作。</li>
<li>**package：**操作的对象。</li>
</ul>
<p>实例：</p>
<ul>
<li>列出所有可更新的软件清单命令：<code>yum check-update</code></li>
<li>更新所有软件命令：<code>yum update</code></li>
<li>仅安装指定的软件命令：<code>yum install &lt;package_name&gt;</code></li>
<li>仅更新指定的软件命令：<code>yum update &lt;package_name&gt;</code></li>
<li>显示包信息：<code>yum info &lt;package_name&gt;</code></li>
<li>列出所有可安裝的软件清单命令：<code>yum list</code></li>
<li>删除软件包命令：<code>yum remove &lt;package_name&gt;</code></li>
<li>查找软件包 命令：<code>yum search &lt;keyword&gt;</code></li>
<li>清除缓存命令:<ul>
<li>yum clean packages: 清除缓存目录下的软件包</li>
<li>yum clean headers: 清除缓存目录下的 headers</li>
<li>yum clean oldheaders: 清除缓存目录下旧的 headers</li>
<li>yum clean, yum clean all (&#x3D; yum clean packages; yum clean oldheaders) :清除缓存目录下的软件包及旧的headers</li>
</ul>
</li>
</ul>
<h4 id="yum在线安装MySQL5-7"><a href="#yum在线安装MySQL5-7" class="headerlink" title="yum在线安装MySQL5.7"></a>yum在线安装MySQL5.7</h4><p>Step1: 检测系统是否自带安装mysql</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum list installed | grep mysql</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>Step2: 删除系统自带的mysql及其依赖</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum -y remove mysql-libs.x86_64</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>Step3: 给CentOS添加rpm源，并且选择较新的源</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">wget dev.mysql.com/get/mysql-community-release-el7-5.noarch.rpm</span><br><span class="line">yum localinstall mysql-community-release-el7-5.noarch.rpm</span><br><span class="line">yum repolist all | grep mysql</span><br><span class="line">yum-config-manager --disable mysql55-community</span><br><span class="line">yum-config-manager --disable mysql56-community</span><br><span class="line">yum-config-manager --enable mysql57-community-dmr</span><br><span class="line">yum repolist enabled | grep mysql</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>Step4:安装mysql 服务器</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">yum install mysql-community-server</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>Step5: 启动mysql</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">service mysqld start</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>grep “password” &#x2F;var&#x2F;log&#x2F;mysqld.log(查看临时密码)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SET PASSWORD = PASSWORD(&#x27;your new password&#x27;);</span><br><span class="line">ALTER USER &#x27;root&#x27;@&#x27;localhost&#x27; PASSWORD EXPIRE NEVER;</span><br><span class="line">flush privileges;</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<p>默认的要求必须的设置格式：<br><strong>包含数字、小写或大写字母以及特殊字符</strong></p>
<p>默认的要求必须的设置格式：<br><strong>包含数字、小写或大写字母以及特殊字符</strong></p>
<p>如果不想复杂，可以使用以下方式</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">set global validate_password_policy=0;</span><br><span class="line">set global validate_password_length=1;</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p>Step6: 查看mysql是否自启动,并且设置开启自启动</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># chkconfig --list | grep mysqld</span><br><span class="line"># chkconfig mysqld on</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p>Step7: mysql安全设置</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mysql_secure_installation</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<h4 id="rpm"><a href="#rpm" class="headerlink" title="rpm"></a>rpm</h4><p>RPM是Red Hat公司随Redhat Linux推出了一个软件包管理器，通过它能够更加轻松容易地实现软件的安装。</p>
<p>常见用法：</p>
<ul>
<li>rpm -ivh &lt;rpm包名&gt; 安装软件</li>
<li>rpm -e &lt;rpm包名&gt; 卸载安装</li>
<li>rpm -qi &lt;rpm包名&gt; 显示软件安装信息</li>
<li>rpm -qa | grep xxx 查询软件是否安装（包括相关依赖）</li>
<li>rpm -Uvh &lt;rpm包名&gt; 升级一个rpm</li>
</ul>
<p>具体参数详解：<br>-i, –install 安装包<br>-v, –verbose 列出更多详细信息，安装进度<br>-h, –hash 安装时列出hash标记 (与 -v连用)<br>-e, –erase 卸载安装包<br>-U, –upgrade&#x3D;+ 升级包<br>–replacepkge 无论软件包是否已被安装，都强行安装软件包<br>–test 安装测试，并不实际安装<br>–nodeps 忽略软件包的依赖关系强行安装<br>–force 忽略软件包及文件的冲突<br>-q,–query:<br>-a, –all 查询&#x2F;校验所有的安装包<br>-p, –package 查询&#x2F;校验一个安装文件<br>-l, –list 列出安装文件<br>-d, –docfiles 列出所有文档文件<br>-f, –file 查询&#x2F;校验安装包中所包含的文件</p>
<p>安装软件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># rpm -hvi dejagnu-1.4.2-10.noarch.rpm </span><br><span class="line">警告：dejagnu-1.4.2-10.noarch.rpm: V3 DSA 签名：NOKEY, key ID db42a60e</span><br><span class="line">准备...           </span><br><span class="line">########################################### [100%]</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>显示软件安装信息：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># rpm -qi dejagnu-1.4.2-10.noarch.rpm</span><br><span class="line"></span><br><span class="line">【第1次更新 教程、类似命令关联】</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://www.runoob.com/linux/linux-yum.html"></a><a target="_blank" rel="noopener" href="https://www.runoob.com/linux/linux-yum.html" title="linux yum 命令">linux yum 命令</a></p>
<p><a target="_blank" rel="noopener" href="https://www.runoob.com/linux/linux-shell.html" title="Shell 教程">Shell 教程</a><a target="_blank" rel="noopener" href="https://www.runoob.com/linux/linux-shell.html"></a></p>
<p>(adsbygoogle &#x3D; window.adsbygoogle || []).push({});</p>
<h3 id="Linux-apt-命令"><a href="#Linux-apt-命令" class="headerlink" title="Linux apt 命令"></a>Linux apt 命令</h3><p>apt（Advanced Packaging Tool）是一个在 Debian 和 Ubuntu 中的 Shell 前端软件包管理器。</p>
<p>apt 命令提供了查找、安装、升级、删除某一个、一组甚至全部软件包的命令，而且命令简洁而又好记。</p>
<p>apt 命令执行需要超级管理员权限(root)。</p>
<h5 id="apt-语法"><a href="#apt-语法" class="headerlink" title="apt 语法"></a>apt 语法</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt [options] [command] [package ...]</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>options：</strong>可选，选项包括 -h（帮助），-y（当安装过程提示选择全部为”yes”），-q（不显示安装的过程）等等。</li>
<li><strong>command：</strong>要进行的操作。</li>
<li><strong>package</strong>：安装的包名。</li>
</ul>
<hr>
<h4 id="apt-常用命令"><a href="#apt-常用命令" class="headerlink" title="apt 常用命令"></a>apt 常用命令</h4><ul>
<li><p>列出所有可更新的软件清单命令：sudo apt update</p>
</li>
<li><p>升级软件包：sudo apt upgrade</p>
<p>列出可更新的软件包及版本信息：apt list –upgradable</p>
<p>升级软件包，升级前先删除需要更新软件包：sudo apt full-upgrade</p>
</li>
<li><p>安装指定的软件命令：sudo apt install &lt;package_name&gt;</p>
<p>安装多个软件包：sudo apt install &lt;package_1&gt; &lt;package_2&gt; &lt;package_3&gt;</p>
</li>
<li><p>更新指定的软件命令：sudo apt update &lt;package_name&gt;</p>
</li>
<li><p>显示软件包具体信息,例如：版本号，安装大小，依赖关系等等：sudo apt show &lt;package_name&gt;</p>
</li>
<li><p>删除软件包命令：sudo apt remove &lt;package_name&gt;</p>
</li>
<li><p>清理不再使用的依赖和库文件: sudo apt autoremove</p>
</li>
<li><p>移除软件包及配置文件: sudo apt purge &lt;package_name&gt;</p>
</li>
<li><p>查找软件包命令： sudo apt search <keyword></p>
</li>
<li><p>列出所有已安装的包：apt list –installed</p>
</li>
<li><p>列出所有已安装的包的版本信息：apt list –all-versions</p>
</li>
</ul>
<h5 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h5><p>查看一些可更新的包：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update</span><br></pre></td></tr></table></figure>

<p>升级安装包：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt upgrade</span><br></pre></td></tr></table></figure>

<p>在以上交互式输入字母 <strong>Y</strong> 即可开始升级。</p>
<p>可以将以下两个命令组合起来，一键升级：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt update &amp;&amp; sudo apt upgrade -y</span><br></pre></td></tr></table></figure>

<p>安装 mplayer 包：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install mplayer</span><br></pre></td></tr></table></figure>

<p>如过不太记得完整的包名，我们可以只输入前半部分的包名，然后按下 Tab 键，会列出相关的包名：</p>
<p>以上实例我们输入来 <strong>reds</strong>，然后按下 Tab 键，输出来四个相关的包。</p>
<p>如果我们想安装一个软件包，但如果软件包已经存在，则不要升级它，可以使用 –no-upgrade 选项:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install &lt;package_name&gt; --no-upgrade</span><br></pre></td></tr></table></figure>

<p>安装 mplayer 如果存在则不要升级：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install mplayer --no-upgrade</span><br></pre></td></tr></table></figure>

<p>如果只想升级，不要安装可以使用 --only-upgrade 参数：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install &lt;package_name&gt; --only-upgrade</span><br></pre></td></tr></table></figure>

<p>只升级 mplayer，如果不存在就不要安装它：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install mplayer --only-upgrade</span><br></pre></td></tr></table></figure>

<p>如果需要设置指定版本，语法格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install &lt;package_name&gt;=&lt;version_number&gt;</span><br></pre></td></tr></table></figure>

<p><strong>package_name</strong> 为包名，<strong>version_number</strong> 为版本号。</p>
<p>移除包可以使用 remove 命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt remove mplayer</span><br></pre></td></tr></table></figure>

<p>查找名为 libimobile 的相关包：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt search libimobile</span><br></pre></td></tr></table></figure>

<p>查看 pinta 包的相关信息：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt show pinta</span><br></pre></td></tr></table></figure>

<p>列出可更新的软件包：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt list --upgradeable</span><br></pre></td></tr></table></figure>

<p>清理不再使用的依赖和库文件：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt autoremove</span><br></pre></td></tr></table></figure>

<p>在以上交互式输入字母 <strong>Y</strong> 即可开始清理。</p>
<h3 id="Linux的基本配置"><a href="#Linux的基本配置" class="headerlink" title="Linux的基本配置"></a>Linux的基本配置</h3><p>1.修改主机名</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/sysconfig/network</span><br><span class="line">NETWORKING=yes</span><br><span class="line">HOSTNAME=hadoop1</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<p>2.修改ip地址</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/sysconfig/network-scripts/ifcfg-eth0</span><br><span class="line">DEVICE=eth0</span><br><span class="line">TYPE=Ethernet</span><br><span class="line">ONBOOT=yes</span><br><span class="line">BOOTPROTO=static</span><br><span class="line">IPADDR=192.168.100.101</span><br><span class="line">NETMASK=255.255.255.0</span><br><span class="line"></span><br><span class="line">service network restart</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>3.修改ip地址和主机名的映射关系</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/hosts</span><br><span class="line">127.0.0.1   localhost localhost.localdomain localhost4 localhost4.localdomain4</span><br><span class="line">::1         localhost localhost.localdomain localhost6 localhost6.localdomain6</span><br><span class="line">192.168.100.101 hadoop1</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>4.关闭iptables并设置其开机启动&#x2F;不启动</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">service iptables stop</span><br><span class="line">chkconfig iptables on</span><br><span class="line">chkconfig iptables off</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<h4 id="安装JDK"><a href="#安装JDK" class="headerlink" title="安装JDK"></a>安装JDK</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">1.上传jdk-7u45-linux-x64.tar.gz到Linux上</span><br><span class="line">2.解压jdk到/usr/local目录</span><br><span class="line">tar -zxvf jdk-7u45-linux-x64.tar.gz -C /usr/local/</span><br><span class="line">3.设置环境变量，在/etc/profile文件最后追加相关内容(技巧r:!pwd)</span><br><span class="line">vi /etc/profile</span><br><span class="line">export JAVA_HOME=/usr/local/jdk1.7.0_45</span><br><span class="line">export PATH=$PATH:$JAVA_HOME/bin</span><br><span class="line">4.刷新环境变量</span><br><span class="line">source /etc/profile</span><br><span class="line">5.测试java命令是否可用</span><br><span class="line">java -version</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="制作本地YUM源"><a href="#制作本地YUM源" class="headerlink" title="制作本地YUM源"></a>制作本地YUM源</h4><p>上传CentOS-6.7-x86_64-bin-DVD1.iso到服务器</p>
<p>将CentOS-6.7-x86_64-bin-DVD1.iso镜像挂载到某个目录:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mkdir /var/iso</span><br><span class="line">mount -o loop CentOS-6.7-x86_64-bin-DVD1.iso /var/iso</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p>安装并启动Apache服务器：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yum install -y httpd</span><br><span class="line">service httpd start</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p>使用浏览器访问<a target="_blank" rel="noopener" href="http://192.168.100.101(如果访问不通,检查防火墙是否开启了80端口或关闭防火墙)/">http://192.168.100.101（如果访问不通，检查防火墙是否开启了80端口或关闭防火墙）</a></p>
<p>将YUM源配置到httpd中：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cp -r /var/iso/ /var/www/html/CentOS-6.7</span><br><span class="line">umount /var/iso</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p>在浏览器中访问<a target="_blank" rel="noopener" href="http://192.168.100.101/CentOS-6.7/">http://192.168.100.101/CentOS-6.7/</a></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/5c1df1e303458b97c3fcde9babdec6c8jpeg.jpg" alt="img"></p>
<p><strong>配置使用YUM源：</strong></p>
<p>备份原有的YUM源的配置文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd /etc/yum.repos.d/</span><br><span class="line">rename .repo .repo.bak *</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p>修改YUM源配置文件</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">vi CentOS-Local.repo</span><br><span class="line">[base]</span><br><span class="line">name=CentOS-Local</span><br><span class="line">baseurl=http://192.168.100.101/CentOS-6.7</span><br><span class="line">gpgcheck=1</span><br><span class="line">enabled=1   #很重要，1才启用</span><br><span class="line">gpgkey=file:///etc/pki/rpm-gpg/RPM-GPG-KEY-CentOS-6</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>重建yum缓存</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#清除yum缓存文件，重新新建</span><br><span class="line">yum clean all &amp;&amp; yum makecache</span><br><span class="line">#列出可用的YUM源</span><br><span class="line">yum repolist</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>rpm包生成yum源目录</strong></p>
<p>如果已经下载好了rpm包，可以自行制作一个yum源（yum仓库）。将下载的rpm包上传到centos服务器上（比如&#x2F;data&#x2F;rpm目录下），然后进入存放rpm包的目录，执行以下命令：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># cd /data/rpm</span><br><span class="line"># createrepo .</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p>这样，rpm包存放的目录就可以作为yum源目录使用。<br>如果提示找不到createrepo命令，可以使用yum install createrepo安装该程序。</p>
<h2 id="Shell编程"><a href="#Shell编程" class="headerlink" title="Shell编程"></a>Shell编程</h2><p>这里说的Shell 脚本（shell script），是在Linux 环境下运行的脚本程序</p>
<p>Shell 编程跟 JavaScript、php 编程一样，只要有一个能编写代码的文本编辑器和一个能解释执行的脚本解释器就可以了。</p>
<p>Linux 的 Shell 种类众多，常见的有：</p>
<ul>
<li>Bourne Shell（&#x2F;usr&#x2F;bin&#x2F;sh或&#x2F;bin&#x2F;sh）</li>
<li>Bourne Again Shell（&#x2F;bin&#x2F;bash）</li>
<li>C Shell（&#x2F;usr&#x2F;bin&#x2F;csh）</li>
<li>K Shell（&#x2F;usr&#x2F;bin&#x2F;ksh）</li>
<li>Shell for Root（&#x2F;sbin&#x2F;sh）</li>
<li>……</li>
</ul>
<p>Bash是大多数Linux 系统默认的 Shell，本文也仅关注Bash Shell。</p>
<p>在一般情况下，并不区分 Bourne Shell 和 Bourne Again Shell，所以，像 <strong>#!&#x2F;bin&#x2F;sh</strong>，它同样也可以改为 <strong>#!&#x2F;bin&#x2F;bash</strong>。</p>
<p><strong>#!</strong> 告诉系统其后路径所指定的程序即是解释此脚本文件的 Shell 程序。</p>
<h3 id="入门"><a href="#入门" class="headerlink" title="入门"></a>入门</h3><h4 id="运行Shell脚本"><a href="#运行Shell脚本" class="headerlink" title="运行Shell脚本"></a>运行Shell脚本</h4><p>编写shell脚本：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vi test.sh</span><br><span class="line"></span><br><span class="line">#!/bin/bash</span><br><span class="line">echo &quot;Hello World !&quot;</span><br></pre></td></tr></table></figure>

<p><strong>#!</strong> 是一个约定的标记，它告诉系统这个脚本需要什么解释器来执行，即使用哪一种 Shell。</p>
<p>echo 命令用于向窗口输出文本。</p>
<p>运行 Shell 脚本有两种方法：</p>
<p><strong>1、作为可执行程序</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">chmod +x ./test.sh  #使脚本具有执行权限</span><br><span class="line">./test.sh  #执行脚本</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>默认情况下，一定要写成 <strong>.&#x2F;test.sh</strong>，而不是 <strong>test.sh</strong>，运行其它二进制的程序也一样。</p>
<p>除非将当前目录.加入到PATH环境变量中，配置方法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo vi /etc/profile</span><br><span class="line">加入一行</span><br><span class="line">export PATH=$PATH:.</span><br><span class="line">保存之后，执行</span><br><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure>

<p><strong>2、作为解释器参数</strong></p>
<p>直接运行解释器，其参数就是 shell 脚本的文件名：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/bin/sh test.sh</span><br></pre></td></tr></table></figure>

<p>这种方式运行的脚本，不需要在第一行指定解释器信息，写了也没用。</p>
<h4 id="编写一个快捷创建shell脚本的命令"><a href="#编写一个快捷创建shell脚本的命令" class="headerlink" title="编写一个快捷创建shell脚本的命令"></a>编写一个快捷创建shell脚本的命令</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">if test -z $1;then</span><br><span class="line">  newfile=&quot;./script_`date +%m%d_%s`&quot;</span><br><span class="line">else</span><br><span class="line">  newfile=$1</span><br><span class="line">fi</span><br><span class="line">echo $newfile</span><br><span class="line">if  ! grep &quot;^#!&quot; $newfile &amp;&gt;/dev/null; then</span><br><span class="line">cat &gt;&gt; $newfile &lt;&lt; EOF</span><br><span class="line">#!/bin/bash</span><br><span class="line"># Author:</span><br><span class="line"># Date &amp; Time: `date +&quot;%F %T&quot;`</span><br><span class="line">#Description:</span><br><span class="line">EOF</span><br><span class="line">fi</span><br><span class="line">vim +5 $newfile</span><br><span class="line">chmod +x $newfile</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>将以上内容编写好之后保存为shell文件，然后执行</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">chmod u+x shell</span><br><span class="line">sudo mv shell /usr/bin/</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<h4 id="echo命令"><a href="#echo命令" class="headerlink" title="echo命令"></a>echo命令</h4><p>Shell 的 echo 指令与 PHP 的 echo 指令类似，都是用于字符串的输出。命令格式：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo string</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>显示普通字符串:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;It is a test&quot;</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>这里的双引号完全可以省略，以下命令与上面实例效果一致：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo It is a test</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>显示转义字符:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;\&quot;It is a test\&quot;&quot;</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>结果将是:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;It is a test&quot;</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>同样，双引号也可以省略</p>
<p>read 命令从标准输入中读取一行,并把输入行的每个字段的值指定给 shell 变量</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sh</span><br><span class="line">read name </span><br><span class="line">echo &quot;$name It is a test&quot;</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<p>以上代码保存为 test.sh，name 接收标准输入的变量，结果将是:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# sh test.sh</span><br><span class="line">OK                     #标准输入</span><br><span class="line">OK It is a test        #输出</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<h5 id="显示换行"><a href="#显示换行" class="headerlink" title="显示换行"></a>显示换行</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">echo -e &quot;OK! \n&quot; # -e 开启转义</span><br><span class="line">echo &quot;It is a test&quot;</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p>输出结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">OK!</span><br><span class="line"></span><br><span class="line">It is a test</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<h5 id="显示不换行"><a href="#显示不换行" class="headerlink" title="显示不换行"></a>显示不换行</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sh</span><br><span class="line">echo -e &quot;OK! \c&quot; # -e 开启转义 \c 不换行</span><br><span class="line">echo &quot;It is a test&quot;</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<p>输出结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">OK! It is a test</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<h4 id="printf-命令"><a href="#printf-命令" class="headerlink" title="printf 命令"></a>printf 命令</h4><p>printf 命令的语法：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">printf  format-string  [arguments...]</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p><strong>参数说明：</strong></p>
<ul>
<li><strong>format-string:</strong> 为格式控制字符串</li>
<li><strong>arguments:</strong> 为参数列表。</li>
</ul>
<p>实例如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"> </span><br><span class="line">printf &quot;%-10s %-8s %-4s\n&quot; 姓名 性别 体重kg  </span><br><span class="line">printf &quot;%-10s %-8s %-4.2f\n&quot; 郭靖 男 66. </span><br><span class="line">printf &quot;%-10s %-8s %-4.2f\n&quot; 杨过 男 48.6543 </span><br><span class="line">printf &quot;%-10s %-8s %-4.2f\n&quot; 郭芙 女 47.9876 </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>执行脚本，输出结果如下所示：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">姓名     性别   体重kg</span><br><span class="line">郭靖     男      66.12</span><br><span class="line">杨过     男      48.65</span><br><span class="line">郭芙     女      47.99</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>%s %c %d %f都是格式替代符</li>
<li>%-10s 指一个宽度为10个字符（-表示左对齐，没有则表示右对齐），任何字符都会被显示在10个字符宽的字符内，如果不足则自动以空格填充，超过也会将内容全部显示出来。</li>
<li>%-4.2f 指格式化为小数，其中.2指保留2位小数。</li>
</ul>
<p>printf的转义序列：</p>
<table>
<thead>
<tr>
<th align="left">序列</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">\a</td>
<td align="left">警告字符，通常为ASCII的BEL字符</td>
</tr>
<tr>
<td align="left">\b</td>
<td align="left">后退</td>
</tr>
<tr>
<td align="left">\c</td>
<td align="left">抑制（不显示）输出结果中任何结尾的换行字符（只在%b格式指示符控制下的参数字符串中有效），而且，任何留在参数里的字符、任何接下来的参数以及任何留在格式字符串中的字符，都被忽略</td>
</tr>
<tr>
<td align="left">\f</td>
<td align="left">换页（formfeed）</td>
</tr>
<tr>
<td align="left">\n</td>
<td align="left">换行</td>
</tr>
<tr>
<td align="left">\r</td>
<td align="left">回车（Carriage return）</td>
</tr>
<tr>
<td align="left">\t</td>
<td align="left">水平制表符</td>
</tr>
<tr>
<td align="left">\v</td>
<td align="left">垂直制表符</td>
</tr>
<tr>
<td align="left">\</td>
<td align="left">一个字面上的反斜杠字符</td>
</tr>
<tr>
<td align="left">\ddd</td>
<td align="left">表示1到3位数八进制值的字符。仅在格式字符串中有效</td>
</tr>
<tr>
<td align="left">\0ddd</td>
<td align="left">表示1到3位的八进制值字符</td>
</tr>
</tbody></table>
<p>例子：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/test$ printf &quot;a string, no processing:&lt;%s&gt;\n&quot; &quot;A\nB&quot;</span><br><span class="line">a string, no processing:&lt;A\nB&gt;</span><br><span class="line">python@ubuntu:~/test$ printf &quot;a string, no processing:&lt;%b&gt;\n&quot; &quot;A\nB&quot;</span><br><span class="line">a string, no processing:&lt;A</span><br><span class="line">B&gt;</span><br><span class="line">python@ubuntu:~/test$ printf &quot;www.runoob.com \a&quot;</span><br><span class="line">www.runoob.com python@ubuntu:~/test$ </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="Shell-注释"><a href="#Shell-注释" class="headerlink" title="Shell 注释"></a>Shell 注释</h4><p>以 <strong>#</strong> 开头的行就是注释，会被解释器忽略：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#--------------------------------------------</span><br><span class="line"># 这是一个注释</span><br><span class="line"># author：菜鸟教程</span><br><span class="line"># site：www.taobao.com</span><br><span class="line"># slogan：学的不仅是技术，更是梦想！</span><br><span class="line">#--------------------------------------------</span><br><span class="line">##### 用户配置区 开始 #####</span><br><span class="line">#</span><br><span class="line">#</span><br><span class="line"># 这里可以添加脚本描述信息</span><br><span class="line"># </span><br><span class="line">#</span><br><span class="line">##### 用户配置区 结束  #####</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>多行注释还可以使用以下格式：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">:&lt;&lt;EOF</span><br><span class="line">注释内容...</span><br><span class="line">注释内容...</span><br><span class="line">注释内容...</span><br><span class="line">EOF</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>EOF 也可以使用其他符号:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">:&lt;&lt;&#x27;</span><br><span class="line">注释内容...</span><br><span class="line">注释内容...</span><br><span class="line">注释内容...</span><br><span class="line">&#x27;</span><br><span class="line"></span><br><span class="line">:&lt;&lt;!</span><br><span class="line">注释内容...</span><br><span class="line">注释内容...</span><br><span class="line">注释内容...</span><br><span class="line">!</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="Shell变量"><a href="#Shell变量" class="headerlink" title="Shell变量"></a>Shell变量</h3><h4 id="定义变量"><a href="#定义变量" class="headerlink" title="定义变量"></a>定义变量</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">your_name=&quot;taobao.com&quot;</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>变量名的命名须遵循如下规则：</p>
<ul>
<li>命名只能使用英文字母，数字和下划线，首个字符不能以数字开头。</li>
<li>中间不能有空格，可以使用下划线（_）。</li>
<li>不能使用标点符号。</li>
<li>不能使用bash里的关键字（可用help命令查看保留关键字）。</li>
</ul>
<h4 id="使用变量"><a href="#使用变量" class="headerlink" title="使用变量"></a>使用变量</h4><p>在变量名前面加美元符号即可，如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">your_name=&quot;qinjx&quot;</span><br><span class="line">echo $your_name</span><br><span class="line">echo $&#123;your_name&#125;</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<p>加花括号可以帮助解释器识别变量的边界，比如：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for skill in Ada Coffe Action Java; do</span><br><span class="line">    echo &quot;I am good at $&#123;skill&#125;Script&quot;</span><br><span class="line">done</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<h4 id="只读变量"><a href="#只读变量" class="headerlink" title="只读变量"></a>只读变量</h4><p>使用 readonly 命令可以将变量定义为只读变量，只读变量的值不能被改变。</p>
<p>下面的例子尝试更改只读变量，结果报错：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/shell$ myUrl=&quot;http://www.google.com&quot;</span><br><span class="line">python@ubuntu:~/shell$ readonly myUrl</span><br><span class="line">python@ubuntu:~/shell$ myUrl=&quot;http://www.baidu.com&quot;</span><br><span class="line">-bash: myUrl: 只读变量</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="删除变量"><a href="#删除变量" class="headerlink" title="删除变量"></a>删除变量</h4><p>使用 unset 命令可以删除变量，但不能删除只读变量：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sh</span><br><span class="line">myUrl=&quot;http://www.baidu.com&quot;</span><br><span class="line">unset myUrl</span><br><span class="line">echo $myUrl</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="变量类型"><a href="#变量类型" class="headerlink" title="变量类型"></a>变量类型</h4><p>运行shell时，会同时存在三种变量：</p>
<ul>
<li><strong>1) 局部变量</strong> 局部变量在脚本或命令中定义，仅在当前shell实例中有效，其他shell启动的程序不能访问局部变量。</li>
<li><strong>2) 环境变量</strong> 所有的程序，包括shell启动的程序，都能访问环境变量，有些程序需要环境变量来保证其正常运行。必要的时候shell脚本也可以定义环境变量。</li>
<li><strong>3) shell变量</strong> shell变量是由shell程序设置的特殊变量。shell变量中有一部分是环境变量，有一部分是局部变量，这些变量保证了shell的正常运行</li>
</ul>
<h3 id="Shell-函数"><a href="#Shell-函数" class="headerlink" title="Shell 函数"></a>Shell 函数</h3><p>shell中函数的定义格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[ function ] funname [()]</span><br><span class="line">&#123;</span><br><span class="line">    action;</span><br><span class="line">    [return int;]</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>说明：</p>
<ul>
<li>1、可以带function fun() 定义，也可以直接fun() 定义,不带任何参数。</li>
<li>2、参数返回，可以显示加：return 返回，如果不加，将以最后一条命令运行结果，作为返回值。 return后跟数值n(0-255)</li>
</ul>
<p>示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">funWithReturn()&#123;</span><br><span class="line">    echo &quot;这个函数会对输入的两个数字进行相加运算...&quot;</span><br><span class="line">    echo &quot;输入第一个数字: &quot;</span><br><span class="line">    read aNum</span><br><span class="line">    echo &quot;输入第二个数字: &quot;</span><br><span class="line">    read anotherNum</span><br><span class="line">    echo &quot;两个数字分别为 $aNum 和 $anotherNum !&quot;</span><br><span class="line">    return $(($aNum+$anotherNum))</span><br><span class="line">&#125;</span><br><span class="line">funWithReturn</span><br><span class="line">echo &quot;输入的两个数字之和为 $? !&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>输出，类似下面：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">这个函数会对输入的两个数字进行相加运算...</span><br><span class="line">输入第一个数字: </span><br><span class="line">1</span><br><span class="line">输入第二个数字: </span><br><span class="line">2</span><br><span class="line">两个数字分别为 1 和 2 !</span><br><span class="line">输入的两个数字之和为 3 !</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>函数返回值在调用该函数后通过 $? 来获得。</p>
<p>注意：所有函数在使用前必须定义。这意味着必须将函数放在脚本开始部分，直至shell解释器首次发现它时，才可以使用。调用函数仅使用其函数名即可。</p>
<p>在Shell中，调用函数时可以向其传递参数。在函数体内部，通过 <code>$n</code> 的形式来获取参数的值，例如，<code>$1</code>表示第一个参数，<code>$2</code>表示第二个参数…</p>
<p>带参数的函数示例：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">funWithParam()&#123;</span><br><span class="line">    echo &quot;第一个参数为 $1 !&quot;</span><br><span class="line">    echo &quot;第二个参数为 $2 !&quot;</span><br><span class="line">    echo &quot;第十个参数为 $10 !&quot;</span><br><span class="line">    echo &quot;第十个参数为 $&#123;10&#125; !&quot;</span><br><span class="line">    echo &quot;第十一个参数为 $&#123;11&#125; !&quot;</span><br><span class="line">    echo &quot;参数总数有 $# 个!&quot;</span><br><span class="line">    echo &quot;作为一个字符串输出所有参数 $* !&quot;</span><br><span class="line">&#125;</span><br><span class="line">funWithParam 1 2 3 4 5 6 7 8 9 34 73</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>输出结果：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">第一个参数为 1 !</span><br><span class="line">第二个参数为 2 !</span><br><span class="line">第十个参数为 10 !</span><br><span class="line">第十个参数为 34 !</span><br><span class="line">第十一个参数为 73 !</span><br><span class="line">参数总数有 11 个!</span><br><span class="line">作为一个字符串输出所有参数 1 2 3 4 5 6 7 8 9 34 73 !</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>当n&gt;&#x3D;10时，需要使用<code>$&#123;n&#125;</code>来获取参数。</p>
<p>另外，还有几个特殊字符用来处理参数：</p>
<table>
<thead>
<tr>
<th align="left">参数处理</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="left">$#</td>
<td align="left">传递到脚本的参数个数</td>
</tr>
<tr>
<td align="left">$*</td>
<td align="left">以一个单字符串显示所有向脚本传递的参数</td>
</tr>
<tr>
<td align="left">$$</td>
<td align="left">脚本运行的当前进程ID号</td>
</tr>
<tr>
<td align="left">$!</td>
<td align="left">后台运行的最后一个进程的ID号</td>
</tr>
<tr>
<td align="left">$@</td>
<td align="left">与$*相同，但是使用时加引号，并在引号中返回每个参数。</td>
</tr>
<tr>
<td align="left">$-</td>
<td align="left">显示Shell使用的当前选项，与set命令功能相同。</td>
</tr>
<tr>
<td align="left">$?</td>
<td align="left">显示最后命令的退出状态。0表示没有错误，其他任何值表明有错误。</td>
</tr>
</tbody></table>
<h3 id="文件包含"><a href="#文件包含" class="headerlink" title="文件包含"></a>文件包含</h3><p>Shell 文件包含的语法格式如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">. filename   # 注意点号(.)和文件名中间有一空格</span><br><span class="line">或</span><br><span class="line">source filename</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<p><strong>实例</strong></p>
<p>创建两个 shell 脚本文件。</p>
<p>test1.sh 代码如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">url=&quot;http://www.baidu.com&quot;</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<p>test2.sh 代码如下：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">#使用 . 号来引用test1.sh 文件</span><br><span class="line">. ./test1.sh</span><br><span class="line"># 或者使用以下包含文件代码</span><br><span class="line"># source ./test1.sh</span><br><span class="line"></span><br><span class="line">echo &quot;url地址：$url&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>接下来，我们为 test2.sh 添加可执行权限并执行：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ chmod +x test2.sh </span><br><span class="line">$ ./test2.sh </span><br><span class="line">url地址：http://www.baidu.com</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<blockquote>
<p>**注：**被包含的文件 test1.sh 不需要可执行权限。</p>
</blockquote>
<h3 id="shell数据类型"><a href="#shell数据类型" class="headerlink" title="shell数据类型"></a>shell数据类型</h3><h4 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h4><p>字符串可以用单引号，也可以用双引号，也可以不用引号。</p>
<p>单引号：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">str=&#x27;this is a string&#x27;</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>单引号字符串的限制：</p>
<ul>
<li>单引号里的任何字符都会原样输出，单引号字符串中的变量是无效的；</li>
<li>单引号字串中不能出现单独一个的单引号（对单引号使用转义符后也不行），但可成对出现，作为字符串拼接使用。</li>
</ul>
<p>双引号：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">your_name=&#x27;taobao&#x27;</span><br><span class="line">str=&quot;Hello, I know you are \&quot;$your_name\&quot;! \n&quot;</span><br><span class="line">echo -e $str</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<p>输出结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Hello, I know you are &quot;taobao&quot;! </span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>双引号的优点：</p>
<ul>
<li>双引号里可以有变量</li>
<li>双引号里可以出现转义字符</li>
</ul>
<p>拼接字符串：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">your_name=&quot;taobao&quot;</span><br><span class="line"># 使用双引号拼接</span><br><span class="line">greeting=&quot;hello, &quot;$your_name&quot; !&quot;</span><br><span class="line">greeting_1=&quot;hello, $&#123;your_name&#125; !&quot;</span><br><span class="line">echo $greeting  $greeting_1</span><br><span class="line"># 使用单引号拼接</span><br><span class="line">greeting_2=&#x27;hello, &#x27;$your_name&#x27; !&#x27;</span><br><span class="line">greeting_3=&#x27;hello, $&#123;your_name&#125; !&#x27;</span><br><span class="line">echo $greeting_2  $greeting_3</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>输出结果为：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hello, taobao ! hello, taobao !</span><br><span class="line">hello, taobao ! hello, $&#123;your_name&#125; !</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p>**获取字符串长度&#96;$</p>
</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="头像"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/d20f536c64d06e5fcf4bfe2ec5dc25d.jpg" title="头像" alt="头像"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/d20f536c64d06e5fcf4bfe2ec5dc25d.jpg" title="头像" alt="头像"></a><div class="post-copyright__author_name">Smith</div><div class="post-copyright__author_desc">人生太短，要干的事太多，我要争分夺秒</div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="该文章为原创文章，注意版权协议" href="https://smithhs.cn/2021/10/30/2021-10-30-Linux/">原创</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('https://smithhs.cn/2021/10/30/2021-10-30-Linux/')">Linux到精通</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"><div class="post-reward" onclick="anzhiyu.addRewardMask()"><div class="reward-button button--animated" title="赞赏作者"><i class="anzhiyufont anzhiyu-icon-hand-heart-fill"></i>打赏作者</div><div class="reward-main"><div class="reward-all"><span class="reward-title">感谢你赐予我前进的力量</span><ul class="reward-group"><li class="reward-item"><a href="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/1.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/1.jpg" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/2.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/2.jpg" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul><a class="reward-main-btn" href="/about/#about-reward" target="_blank"><div class="reward-text">赞赏者名单</div><div class="reward-dec">因为你们的支持让我意识到写文章的价值🙏</div></a></div></div></div><div id="quit-box" onclick="anzhiyu.removeRewardMask()" style="display: none"></div></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="使用手机访问这篇文章"><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="https://smithhs.cn/2021/10/30/2021-10-30-Linux/"></div><div class="reward-dec">使用手机访问这篇文章</div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=Linux到精通&amp;url=https://smithhs.cn/2021/10/30/2021-10-30-Linux/&amp;pic=https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/Linux.png" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="复制链接" onclick="rm.copyPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://smithhs.cn" target="_blank">Smith</a>！</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/Linux/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>Linux<span class="tagsPageCount">2</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/DesignPatterns.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://lib.baomitu.com/social-share.js/1.0.16/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://lib.baomitu.com/social-share.js/1.0.16/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2021/10/28/2021-10-28-Linux%E5%91%BD%E4%BB%A4/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/Linux1.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">Linux常用命令汇总</div></div></a></div><div class="next-post pull-right"><a href="/2021/12/03/2021-12-03-nodejs%E4%B8%8B%E8%BD%BD%E3%80%81%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/Linux.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Nodejs下载、安装与配置详细教程</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size: 1.5rem; margin-right: 4px"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/2021/10/28/2021-10-28-Linux%E5%91%BD%E4%BB%A4/" title="Linux常用命令汇总"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/Linux1.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2021-10-28</div><div class="title">Linux常用命令汇总</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>文章目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E7%AB%A0%E7%9B%AE%E5%BD%95"><span class="toc-number">1.</span> <span class="toc-text">文章目录</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%8F%91%E5%B1%95%E5%8F%B2"><span class="toc-number"></span> <span class="toc-text">操作系统的发展史</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Unix"><span class="toc-number"></span> <span class="toc-text">Unix</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Minix"><span class="toc-number"></span> <span class="toc-text">Minix</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux"><span class="toc-number"></span> <span class="toc-text">Linux</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F%E7%9A%84%E5%8F%91%E5%B1%95"><span class="toc-number"></span> <span class="toc-text">操作系统的发展</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Minix%E6%B2%A1%E6%9C%89%E7%81%AB%E8%B5%B7%E6%9D%A5%E7%9A%84%E5%8E%9F%E5%9B%A0"><span class="toc-number"></span> <span class="toc-text">Minix没有火起来的原因</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux%E4%BB%8B%E7%BB%8D"><span class="toc-number"></span> <span class="toc-text">Linux介绍</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux%E5%86%85%E6%A0%B8-%E5%8F%91%E8%A1%8C%E7%89%88"><span class="toc-number"></span> <span class="toc-text">Linux内核&amp;发行版</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Linux%E5%86%85%E6%A0%B8%E7%89%88%E6%9C%AC"><span class="toc-number">1.</span> <span class="toc-text">Linux内核版本</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Linux%E5%8F%91%E8%A1%8C%E7%89%88%E6%9C%AC"><span class="toc-number">2.</span> <span class="toc-text">Linux发行版本</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Linux-%E5%85%B3%E6%9C%BA"><span class="toc-number">3.</span> <span class="toc-text">Linux 关机</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%88%E7%AB%AF%E5%88%A9%E7%94%A8ssh%E7%99%BB%E5%BD%95%E8%BF%9C%E7%A8%8B%E6%9C%8D%E5%8A%A1%E5%99%A8"><span class="toc-number">4.</span> <span class="toc-text">终端利用ssh登录远程服务器</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B1%BBUnix%E7%B3%BB%E7%BB%9F%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="toc-number"></span> <span class="toc-text">类Unix系统目录结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux%E7%9B%AE%E5%BD%95"><span class="toc-number"></span> <span class="toc-text">Linux目录</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%9B%AE%E5%BD%95"><span class="toc-number"></span> <span class="toc-text">用户目录</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4%E8%A1%8C%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C"><span class="toc-number"></span> <span class="toc-text">命令行基本操作</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number"></span> <span class="toc-text">命令使用方法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E5%B8%AE%E5%8A%A9%E6%96%87%E6%A1%A3"><span class="toc-number"></span> <span class="toc-text">查看帮助文档</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#help"><span class="toc-number">1.</span> <span class="toc-text">help</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#man-manual"><span class="toc-number">2.</span> <span class="toc-text">man(manual)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tab%E9%94%AE%E8%87%AA%E5%8A%A8%E8%A1%A5%E5%85%A8"><span class="toc-number"></span> <span class="toc-text">tab键自动补全</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#history%E6%B8%B8%E8%A7%88%E5%8E%86%E5%8F%B2"><span class="toc-number"></span> <span class="toc-text">history游览历史</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4%E8%A1%8C%E4%B8%AD%E7%9A%84ctrl%E7%BB%84%E5%90%88%E9%94%AE"><span class="toc-number"></span> <span class="toc-text">命令行中的ctrl组合键</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux%E5%91%BD%E4%BB%A4"><span class="toc-number"></span> <span class="toc-text">Linux命令</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%83%E9%99%90%E7%AE%A1%E7%90%86"><span class="toc-number"></span> <span class="toc-text">权限管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%97%E5%87%BA%E7%9B%AE%E5%BD%95%E7%9A%84%E5%86%85%E5%AE%B9%EF%BC%9Als"><span class="toc-number">1.</span> <span class="toc-text">列出目录的内容：ls</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%98%BE%E7%A4%BAinode%E7%9A%84%E5%86%85%E5%AE%B9%EF%BC%9Astat"><span class="toc-number">2.</span> <span class="toc-text">显示inode的内容：stat</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E8%AE%BF%E9%97%AE%E6%9D%83%E9%99%90"><span class="toc-number">3.</span> <span class="toc-text">文件访问权限</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E6%96%87%E4%BB%B6%E6%9D%83%E9%99%90%EF%BC%9Achmod"><span class="toc-number">4.</span> <span class="toc-text">修改文件权限：chmod</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E6%96%87%E4%BB%B6%E6%89%80%E6%9C%89%E8%80%85%EF%BC%9Achown"><span class="toc-number">5.</span> <span class="toc-text">修改文件所有者：chown</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E6%96%87%E4%BB%B6%E6%89%80%E5%B1%9E%E7%BB%84%EF%BC%9Achgrp"><span class="toc-number">6.</span> <span class="toc-text">修改文件所属组：chgrp</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9%E6%9F%A5%E7%9C%8B"><span class="toc-number"></span> <span class="toc-text">文件内容查看</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%98%BE%E7%A4%BA%EF%BC%9Acat%E3%80%81tac"><span class="toc-number">1.</span> <span class="toc-text">基本显示：cat、tac</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E8%A1%8C%E5%8F%B7%EF%BC%9Anl"><span class="toc-number">2.</span> <span class="toc-text">显示行号：nl</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E5%B1%8F%E6%98%BE%E7%A4%BA%EF%BC%9Amore%E3%80%81less"><span class="toc-number">3.</span> <span class="toc-text">分屏显示：more、less</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%96%E9%A6%96%E5%B0%BEn%E8%A1%8C%EF%BC%9Ahead%E3%80%81tail"><span class="toc-number">4.</span> <span class="toc-text">取首尾n行：head、tail</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E7%AE%A1%E7%90%86"><span class="toc-number"></span> <span class="toc-text">文件管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91%EF%BC%9A"><span class="toc-number">1.</span> <span class="toc-text">输出重定向：&gt;</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%A1%E9%81%93%EF%BC%9A"><span class="toc-number">2.</span> <span class="toc-text">管道：|</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B8%85%E5%B1%8F%EF%BC%9Aclear"><span class="toc-number">3.</span> <span class="toc-text">清屏：clear</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%87%E6%8D%A2%E5%B7%A5%E4%BD%9C%E7%9B%AE%E5%BD%95%EF%BC%9A-cd"><span class="toc-number">4.</span> <span class="toc-text">切换工作目录： cd</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E5%BD%93%E5%89%8D%E8%B7%AF%E5%BE%84%EF%BC%9Apwd"><span class="toc-number">5.</span> <span class="toc-text">显示当前路径：pwd</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E7%9B%AE%E5%BD%95%EF%BC%9Amkdir"><span class="toc-number">6.</span> <span class="toc-text">创建目录：mkdir</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6%EF%BC%9Arm"><span class="toc-number">7.</span> <span class="toc-text">删除文件：rm</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E7%A9%BA%E7%9A%84%E7%9B%AE%E5%BD%95%EF%BC%9Armdir"><span class="toc-number">8.</span> <span class="toc-text">删除空的目录：rmdir</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BB%BA%E7%AB%8B%E9%93%BE%E6%8E%A5%E6%96%87%E4%BB%B6%EF%BC%9Aln"><span class="toc-number">9.</span> <span class="toc-text">建立链接文件：ln</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E6%9C%AC%E6%90%9C%E7%B4%A2%EF%BC%9Agrep"><span class="toc-number">10.</span> <span class="toc-text">文本搜索：grep</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E6%89%BE%E6%96%87%E4%BB%B6%EF%BC%9Afind"><span class="toc-number">11.</span> <span class="toc-text">查找文件：find</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8B%B7%E8%B4%9D%E6%96%87%E4%BB%B6%EF%BC%9Acp"><span class="toc-number">12.</span> <span class="toc-text">拷贝文件：cp</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A7%BB%E5%8A%A8%E6%96%87%E4%BB%B6%EF%BC%9Amv"><span class="toc-number">13.</span> <span class="toc-text">移动文件：mv</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BD%92%E6%A1%A3%E7%AE%A1%E7%90%86%EF%BC%9Atar"><span class="toc-number">14.</span> <span class="toc-text">归档管理：tar</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%8E%8B%E7%BC%A9%E8%A7%A3%E5%8E%8B%EF%BC%9Agzip%E3%80%81bzip2"><span class="toc-number">15.</span> <span class="toc-text">文件压缩解压：gzip、bzip2</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%8E%8B%E7%BC%A9%E8%A7%A3%E5%8E%8B%EF%BC%9Azip%E3%80%81unzip"><span class="toc-number">16.</span> <span class="toc-text">文件压缩解压：zip、unzip</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E5%91%BD%E4%BB%A4%E4%BD%8D%E7%BD%AE%EF%BC%9Awhich"><span class="toc-number">17.</span> <span class="toc-text">查看命令位置：which</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E5%92%8C%E7%94%A8%E6%88%B7%E7%BB%84%E7%AE%A1%E7%90%86"><span class="toc-number"></span> <span class="toc-text">用户和用户组管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E7%94%A8%E6%88%B7%EF%BC%9Awhoami"><span class="toc-number">1.</span> <span class="toc-text">查看当前用户：whoami</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E7%99%BB%E5%BD%95%E7%94%A8%E6%88%B7%EF%BC%9Awho"><span class="toc-number">2.</span> <span class="toc-text">查看登录用户：who</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%80%E5%87%BA%E7%99%BB%E5%BD%95%E8%B4%A6%E6%88%B7%EF%BC%9A-exit"><span class="toc-number">3.</span> <span class="toc-text">退出登录账户： exit</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E7%94%A8%E6%88%B7%E8%B4%A6%E5%8F%B7%EF%BC%9Auseradd"><span class="toc-number">4.</span> <span class="toc-text">添加用户账号：useradd</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E7%94%A8%E6%88%B7%EF%BC%9Ausermod"><span class="toc-number">5.</span> <span class="toc-text">修改用户：usermod</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E7%94%A8%E6%88%B7%E5%AF%86%E7%A0%81%EF%BC%9Apasswd"><span class="toc-number">6.</span> <span class="toc-text">设置用户密码：passwd</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E7%94%A8%E6%88%B7%EF%BC%9Auserdel"><span class="toc-number">7.</span> <span class="toc-text">删除用户：userdel</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%87%E6%8D%A2%E7%94%A8%E6%88%B7%EF%BC%9Asu"><span class="toc-number">8.</span> <span class="toc-text">切换用户：su</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A5root%E8%BA%AB%E4%BB%BD%E6%89%A7%E8%A1%8C%E6%8C%87%E4%BB%A4%EF%BC%9Asudo"><span class="toc-number">9.</span> <span class="toc-text">以root身份执行指令：sudo</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E3%80%81%E5%88%A0%E9%99%A4%E7%BB%84%E8%B4%A6%E5%8F%B7%EF%BC%9Agroupadd%E3%80%81groupdel"><span class="toc-number">10.</span> <span class="toc-text">添加、删除组账号：groupadd、groupdel</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%BB%84%E7%AE%A1%E7%90%86%EF%BC%9Agroupmod"><span class="toc-number">11.</span> <span class="toc-text">用户组管理：groupmod</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E7%AE%A1%E7%90%86"><span class="toc-number"></span> <span class="toc-text">系统管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E5%BD%93%E5%89%8D%E6%97%A5%E5%8E%86%EF%BC%9Acal"><span class="toc-number">1.</span> <span class="toc-text">查看当前日历：cal</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E6%88%96%E8%AE%BE%E7%BD%AE%E6%97%B6%E9%97%B4%EF%BC%9Adate"><span class="toc-number">2.</span> <span class="toc-text">显示或设置时间：date</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E7%BD%91%E7%BB%9C%E7%8A%B6%E6%80%81%EF%BC%9Anetstat"><span class="toc-number">3.</span> <span class="toc-text">查看网络状态：netstat</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E8%BF%9B%E7%A8%8B%E4%BF%A1%E6%81%AF%EF%BC%9Aps"><span class="toc-number">4.</span> <span class="toc-text">查看进程信息：ps</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A5%E6%A0%91%E7%8A%B6%E5%9B%BE%E6%98%BE%E7%A4%BA%E8%BF%9B%E7%A8%8B%E5%85%B3%E7%B3%BB%EF%BC%9Apstree"><span class="toc-number">5.</span> <span class="toc-text">以树状图显示进程关系：pstree</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E6%98%BE%E7%A4%BA%E8%BF%9B%E7%A8%8B%EF%BC%9Atop"><span class="toc-number">6.</span> <span class="toc-text">动态显示进程：top</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%88%E6%AD%A2%E8%BF%9B%E7%A8%8B%EF%BC%9Akill"><span class="toc-number">7.</span> <span class="toc-text">终止进程：kill</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E6%9C%BA%E9%87%8D%E5%90%AF%EF%BC%9Areboot%E3%80%81shutdown%E3%80%81init"><span class="toc-number">8.</span> <span class="toc-text">关机重启：reboot、shutdown、init</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A3%80%E6%B5%8B%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4%EF%BC%9Adf"><span class="toc-number">9.</span> <span class="toc-text">检测磁盘空间：df</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A3%80%E6%B5%8B%E7%9B%AE%E5%BD%95%E6%89%80%E5%8D%A0%E7%A3%81%E7%9B%98%E7%A9%BA%E9%97%B4%EF%BC%9Adu"><span class="toc-number">10.</span> <span class="toc-text">检测目录所占磁盘空间：du</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%88%96%E9%85%8D%E7%BD%AE%E7%BD%91%E5%8D%A1%E4%BF%A1%E6%81%AF%EF%BC%9Aifconfig"><span class="toc-number">11.</span> <span class="toc-text">查看或配置网卡信息：ifconfig</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B5%8B%E8%AF%95%E8%BF%9C%E7%A8%8B%E4%B8%BB%E6%9C%BA%E8%BF%9E%E9%80%9A%E6%80%A7%EF%BC%9Aping"><span class="toc-number">12.</span> <span class="toc-text">测试远程主机连通性：ping</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux-%E7%A3%81%E7%9B%98%E7%AE%A1%E7%90%86"><span class="toc-number"></span> <span class="toc-text">Linux 磁盘管理</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#df"><span class="toc-number">1.</span> <span class="toc-text">df</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#du"><span class="toc-number">2.</span> <span class="toc-text">du</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#fdisk"><span class="toc-number">3.</span> <span class="toc-text">fdisk</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E6%A0%BC%E5%BC%8F%E5%8C%96"><span class="toc-number">4.</span> <span class="toc-text">磁盘格式化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E6%A3%80%E9%AA%8C"><span class="toc-number">5.</span> <span class="toc-text">磁盘检验</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A3%81%E7%9B%98%E6%8C%82%E8%BD%BD%E4%B8%8E%E5%8D%B8%E9%99%A4"><span class="toc-number">6.</span> <span class="toc-text">磁盘挂载与卸除</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux%E7%AE%A1%E9%81%93%E5%91%BD%E4%BB%A4"><span class="toc-number"></span> <span class="toc-text">Linux管道命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#wc-%E7%BB%9F%E8%AE%A1%E5%AD%97%E6%95%B0"><span class="toc-number">1.</span> <span class="toc-text">wc - 统计字数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#cut-%E5%88%97%E9%80%89%E5%8F%96%E5%91%BD%E4%BB%A4"><span class="toc-number">2.</span> <span class="toc-text">cut - 列选取命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#grep-%E8%A1%8C%E9%80%89%E5%8F%96%E5%91%BD%E4%BB%A4"><span class="toc-number">3.</span> <span class="toc-text">grep - 行选取命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sort-%E6%8E%92%E5%BA%8F"><span class="toc-number">4.</span> <span class="toc-text">sort - 排序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#uniq-%E5%8E%BB%E9%87%8D"><span class="toc-number">5.</span> <span class="toc-text">uniq - 去重</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#tee-%E5%90%8C%E6%97%B6%E8%BE%93%E5%87%BA%E5%A4%9A%E4%B8%AA%E6%96%87%E4%BB%B6"><span class="toc-number">6.</span> <span class="toc-text">tee - 同时输出多个文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#tr-%E6%9B%BF%E6%8D%A2%E6%8C%87%E5%AE%9A%E7%9A%84%E5%AD%97%E7%AC%A6"><span class="toc-number">7.</span> <span class="toc-text">tr - 替换指定的字符</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#join-%E6%96%87%E4%BB%B6%E6%8C%89%E8%A1%8C%E8%BF%9E%E6%8E%A5"><span class="toc-number">8.</span> <span class="toc-text">join - 文件按行连接</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#paste-%E5%B0%86%E5%A4%9A%E4%B8%AA%E6%96%87%E4%BB%B6%E5%AF%B9%E5%BA%94%E8%A1%8C%E9%93%BE%E6%8E%A5%E5%9C%A8%E4%B8%80%E8%B5%B7"><span class="toc-number">9.</span> <span class="toc-text">paste-将多个文件对应行链接在一起</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#split-%E6%96%87%E4%BB%B6%E5%88%87%E5%89%B2"><span class="toc-number">10.</span> <span class="toc-text">split - 文件切割</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#xargs-%E5%8F%82%E6%95%B0%E4%BB%A3%E6%8D%A2"><span class="toc-number">11.</span> <span class="toc-text">xargs - 参数代换</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#linux%E5%91%BD%E4%BB%A4%E7%BB%83%E4%B9%A0"><span class="toc-number"></span> <span class="toc-text">linux命令练习</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number"></span> <span class="toc-text">常用命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E5%91%BD%E4%BB%A4"><span class="toc-number"></span> <span class="toc-text">系统命令</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E5%92%8C%E7%BB%84"><span class="toc-number"></span> <span class="toc-text">用户和组</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9D%83%E9%99%90"><span class="toc-number"></span> <span class="toc-text">权限</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%AE%E5%8A%A9%E6%96%87%E6%A1%A3"><span class="toc-number"></span> <span class="toc-text">帮助文档</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vi-vim"><span class="toc-number"></span> <span class="toc-text">vi&#x2F;vim</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-vim%EF%BC%9F"><span class="toc-number">1.</span> <span class="toc-text">什么是 vim？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#vi-vim-%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">2.</span> <span class="toc-text">vi&#x2F;vim 的使用</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F"><span class="toc-number">2.1.</span> <span class="toc-text">命令模式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E6%A8%A1%E5%BC%8F"><span class="toc-number">2.2.</span> <span class="toc-text">输入模式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%BA%95%E7%BA%BF%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F"><span class="toc-number">2.3.</span> <span class="toc-text">底线命令模式</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#vi-vim-%E4%BD%BF%E7%94%A8%E5%AE%9E%E4%BE%8B"><span class="toc-number">3.</span> <span class="toc-text">vi&#x2F;vim 使用实例</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-vi-vim-%E8%BF%9B%E5%85%A5%E4%B8%80%E8%88%AC%E6%A8%A1%E5%BC%8F"><span class="toc-number">3.1.</span> <span class="toc-text">使用 vi&#x2F;vim 进入一般模式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8C%89%E4%B8%8B-i-%E8%BF%9B%E5%85%A5%E8%BE%93%E5%85%A5%E6%A8%A1%E5%BC%8F-%E4%B9%9F%E7%A7%B0%E4%B8%BA%E7%BC%96%E8%BE%91%E6%A8%A1%E5%BC%8F-%EF%BC%8C%E5%BC%80%E5%A7%8B%E7%BC%96%E8%BE%91%E6%96%87%E5%AD%97"><span class="toc-number">3.2.</span> <span class="toc-text">按下 i 进入输入模式(也称为编辑模式)，开始编辑文字</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8C%89%E4%B8%8B-ESC-%E6%8C%89%E9%92%AE%E5%9B%9E%E5%88%B0%E4%B8%80%E8%88%AC%E6%A8%A1%E5%BC%8F"><span class="toc-number">3.3.</span> <span class="toc-text">按下 ESC 按钮回到一般模式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9C%A8%E4%B8%80%E8%88%AC%E6%A8%A1%E5%BC%8F%E4%B8%AD%E6%8C%89%E4%B8%8B-wq-%E5%82%A8%E5%AD%98%E5%90%8E%E7%A6%BB%E5%BC%80-vi"><span class="toc-number">3.4.</span> <span class="toc-text">在一般模式中按下 :wq 储存后离开 vi</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#vi-vim-%E6%8C%89%E9%94%AE%E8%AF%B4%E6%98%8E"><span class="toc-number">4.</span> <span class="toc-text">vi&#x2F;vim 按键说明</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E9%83%A8%E5%88%86%EF%BC%9A%E4%B8%80%E8%88%AC%E6%A8%A1%E5%BC%8F%E5%8F%AF%E7%94%A8%E7%9A%84%E5%85%89%E6%A0%87%E7%A7%BB%E5%8A%A8%E3%80%81%E5%A4%8D%E5%88%B6%E7%B2%98%E8%B4%B4%E3%80%81%E6%90%9C%E7%B4%A2%E6%9B%BF%E6%8D%A2%E7%AD%89"><span class="toc-number">4.1.</span> <span class="toc-text">第一部分：一般模式可用的光标移动、复制粘贴、搜索替换等</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E9%83%A8%E5%88%86%EF%BC%9A%E4%B8%80%E8%88%AC%E6%A8%A1%E5%BC%8F%E5%88%87%E6%8D%A2%E5%88%B0%E7%BC%96%E8%BE%91%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%8F%AF%E7%94%A8%E7%9A%84%E6%8C%89%E9%92%AE%E8%AF%B4%E6%98%8E"><span class="toc-number">4.2.</span> <span class="toc-text">第二部分：一般模式切换到编辑模式的可用的按钮说明</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E9%83%A8%E5%88%86%EF%BC%9A%E4%B8%80%E8%88%AC%E6%A8%A1%E5%BC%8F%E5%88%87%E6%8D%A2%E5%88%B0%E6%8C%87%E4%BB%A4%E8%A1%8C%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%8F%AF%E7%94%A8%E7%9A%84%E6%8C%89%E9%92%AE%E8%AF%B4%E6%98%8E"><span class="toc-number">4.3.</span> <span class="toc-text">第三部分：一般模式切换到指令行模式的可用的按钮说明</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9F%A5%E6%89%BE"><span class="toc-number"></span> <span class="toc-text">查找</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%93%E5%8C%85%E4%B8%8E%E5%8E%8B%E7%BC%A9"><span class="toc-number"></span> <span class="toc-text">打包与压缩</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number"></span> <span class="toc-text">正则表达式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number"></span> <span class="toc-text">输入输出重定向</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E6%8E%A7%E5%88%B6"><span class="toc-number"></span> <span class="toc-text">进程控制</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E5%91%BD%E4%BB%A4"><span class="toc-number"></span> <span class="toc-text">其他命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9C%E7%A8%8B%E6%96%87%E4%BB%B6%E5%A4%8D%E5%88%B6%EF%BC%9Ascp"><span class="toc-number">1.</span> <span class="toc-text">远程文件复制：scp</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#locate%E6%9F%A5%E6%89%BE"><span class="toc-number">2.</span> <span class="toc-text">locate查找</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#which%E5%91%BD%E4%BB%A4"><span class="toc-number">3.</span> <span class="toc-text">which命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#echo"><span class="toc-number">4.</span> <span class="toc-text">echo</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E6%88%96%E6%98%BE%E7%A4%BA%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F%EF%BC%9Aexport"><span class="toc-number">5.</span> <span class="toc-text">设置或显示环境变量：export</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E4%B8%BB%E6%9C%BA%E5%90%8D-ip%E5%9C%B0%E5%9D%80"><span class="toc-number">6.</span> <span class="toc-text">修改主机名&amp;ip地址</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#mount%E6%8C%82%E8%BD%BD"><span class="toc-number">7.</span> <span class="toc-text">mount挂载</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ssh%E5%85%8D%E5%AF%86%E7%99%BB%E9%99%86"><span class="toc-number">8.</span> <span class="toc-text">ssh免密登陆</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%B9%E9%87%8F%E6%B7%BB%E5%8A%A0%E7%94%A8%E6%88%B7"><span class="toc-number"></span> <span class="toc-text">批量添加用户</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%8E%E7%94%A8%E6%88%B7%E8%B4%A6%E5%8F%B7%E6%9C%89%E5%85%B3%E7%9A%84%E7%B3%BB%E7%BB%9F%E6%96%87%E4%BB%B6"><span class="toc-number">1.</span> <span class="toc-text">与用户账号有关的系统文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E6%93%8D"><span class="toc-number">2.</span> <span class="toc-text">实操</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#crontab%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number"></span> <span class="toc-text">crontab的使用</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%89%B9%E6%AE%8A%E6%9D%83%E9%99%90"><span class="toc-number"></span> <span class="toc-text">特殊权限</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E7%A7%8D%E7%89%B9%E6%AE%8A%E7%9A%84%E6%9D%83%E9%99%90"><span class="toc-number"></span> <span class="toc-text">三种特殊的权限</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#SetUID-suid"><span class="toc-number">1.</span> <span class="toc-text">SetUID(suid)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#setGID%EF%BC%88sgid%EF%BC%89"><span class="toc-number">2.</span> <span class="toc-text">setGID（sgid）</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sticky-sbit-%E7%B2%98%E6%BB%9E%E4%BD%8D"><span class="toc-number">3.</span> <span class="toc-text">sticky(sbit)粘滞位</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#chattr%E6%9D%83%E9%99%90"><span class="toc-number"></span> <span class="toc-text">chattr权限</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#lsattr%EF%BC%9A%E6%9F%A5%E7%9C%8B%E7%89%B9%E6%AE%8A%E6%9D%83%E9%99%90"><span class="toc-number">1.</span> <span class="toc-text">lsattr：查看特殊权限</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#chattr%EF%BC%9A%E8%AE%BE%E7%BD%AE%E7%89%B9%E6%AE%8A%E6%9D%83%E9%99%90"><span class="toc-number">2.</span> <span class="toc-text">chattr：设置特殊权限</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%A9%E7%A0%81umask"><span class="toc-number"></span> <span class="toc-text">掩码umask</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#umask%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">1.</span> <span class="toc-text">umask的作用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#umask%E6%98%AF%E5%A6%82%E4%BD%95%E6%94%B9%E5%8F%98%E6%96%B0%E6%96%87%E4%BB%B6%E7%9A%84%E6%9D%83%E9%99%90"><span class="toc-number">2.</span> <span class="toc-text">umask是如何改变新文件的权限</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B0%B8%E4%B9%85%E4%BF%AE%E6%94%B9umask"><span class="toc-number">3.</span> <span class="toc-text">永久修改umask</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#linux%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85"><span class="toc-number"></span> <span class="toc-text">linux软件安装</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Ubuntu%E8%BD%AF%E4%BB%B6%E5%AE%89%E8%A3%85%E4%B8%8E%E5%8D%B8%E8%BD%BD"><span class="toc-number"></span> <span class="toc-text">Ubuntu软件安装与卸载</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0Ubuntu%E8%BD%AF%E4%BB%B6%E4%B8%8B%E8%BD%BD%E5%9C%B0%E5%9D%80"><span class="toc-number">1.</span> <span class="toc-text">更新Ubuntu软件下载地址</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Ubuntu%E8%BD%AF%E4%BB%B6%E6%93%8D%E4%BD%9C%E7%9A%84%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4"><span class="toc-number">2.</span> <span class="toc-text">Ubuntu软件操作的相关命令</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#yum%E5%AE%89%E8%A3%85%E5%91%BD%E4%BB%A4"><span class="toc-number"></span> <span class="toc-text">yum安装命令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9B%B4%E6%96%B0%E5%9B%BD%E5%86%85yum%E6%BA%90"><span class="toc-number">1.</span> <span class="toc-text">更新国内yum源</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#yum%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">2.</span> <span class="toc-text">yum常用命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#yum%E5%9C%A8%E7%BA%BF%E5%AE%89%E8%A3%85MySQL5-7"><span class="toc-number">3.</span> <span class="toc-text">yum在线安装MySQL5.7</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#rpm"><span class="toc-number">4.</span> <span class="toc-text">rpm</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux-apt-%E5%91%BD%E4%BB%A4"><span class="toc-number"></span> <span class="toc-text">Linux apt 命令</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#apt-%E8%AF%AD%E6%B3%95"><span class="toc-number">0.1.</span> <span class="toc-text">apt 语法</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#apt-%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">1.</span> <span class="toc-text">apt 常用命令</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B"><span class="toc-number">1.1.</span> <span class="toc-text">实例</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux%E7%9A%84%E5%9F%BA%E6%9C%AC%E9%85%8D%E7%BD%AE"><span class="toc-number"></span> <span class="toc-text">Linux的基本配置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%89%E8%A3%85JDK"><span class="toc-number">1.</span> <span class="toc-text">安装JDK</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%B6%E4%BD%9C%E6%9C%AC%E5%9C%B0YUM%E6%BA%90"><span class="toc-number">2.</span> <span class="toc-text">制作本地YUM源</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Shell%E7%BC%96%E7%A8%8B"><span class="toc-number"></span> <span class="toc-text">Shell编程</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A5%E9%97%A8"><span class="toc-number"></span> <span class="toc-text">入门</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%90%E8%A1%8CShell%E8%84%9A%E6%9C%AC"><span class="toc-number">1.</span> <span class="toc-text">运行Shell脚本</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%96%E5%86%99%E4%B8%80%E4%B8%AA%E5%BF%AB%E6%8D%B7%E5%88%9B%E5%BB%BAshell%E8%84%9A%E6%9C%AC%E7%9A%84%E5%91%BD%E4%BB%A4"><span class="toc-number">2.</span> <span class="toc-text">编写一个快捷创建shell脚本的命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#echo%E5%91%BD%E4%BB%A4"><span class="toc-number">3.</span> <span class="toc-text">echo命令</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E6%8D%A2%E8%A1%8C"><span class="toc-number">3.1.</span> <span class="toc-text">显示换行</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E4%B8%8D%E6%8D%A2%E8%A1%8C"><span class="toc-number">3.2.</span> <span class="toc-text">显示不换行</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#printf-%E5%91%BD%E4%BB%A4"><span class="toc-number">4.</span> <span class="toc-text">printf 命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Shell-%E6%B3%A8%E9%87%8A"><span class="toc-number">5.</span> <span class="toc-text">Shell 注释</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Shell%E5%8F%98%E9%87%8F"><span class="toc-number"></span> <span class="toc-text">Shell变量</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F"><span class="toc-number">1.</span> <span class="toc-text">定义变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%8F%98%E9%87%8F"><span class="toc-number">2.</span> <span class="toc-text">使用变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%AA%E8%AF%BB%E5%8F%98%E9%87%8F"><span class="toc-number">3.</span> <span class="toc-text">只读变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E5%8F%98%E9%87%8F"><span class="toc-number">4.</span> <span class="toc-text">删除变量</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E7%B1%BB%E5%9E%8B"><span class="toc-number">5.</span> <span class="toc-text">变量类型</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Shell-%E5%87%BD%E6%95%B0"><span class="toc-number"></span> <span class="toc-text">Shell 函数</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB"><span class="toc-number"></span> <span class="toc-text">文件包含</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#shell%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number"></span> <span class="toc-text">shell数据类型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">1.</span> <span class="toc-text">字符串</span></a></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2022 - 2024 By <a class="footer-bar-link" href="/" title="Smith" target="_blank">Smith</a></div></div><div id="footer-type-tips"></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/Smithhss/smithhs.github.io.git" title="Hexo">Hexo</a></div></div></div></footer></div></div></div><div id="sidebar"><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/d20f536c64d06e5fcf4bfe2ec5dc25d.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">文章</div><div class="length-num">75</div></a><a href="/tags/" title="tag"><div class="headline">标签</div><div class="length-num">53</div></a><a href="/categories/" title="category"><div class="headline">分类</div><div class="length-num">6</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> 文章</span></a><ul class="menus_item_child" style="left:-79px;"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> 隧道</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> 分类</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> 标签</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> 我的</span></a><ul class="menus_item_child" style="left:-31px;"><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> 相册集</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> 音乐馆</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> 关于</span></a><ul class="menus_item_child" style="left:-79px;"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> 关于我</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> 闲言碎语</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> 随便逛逛</span></a></li></ul></div></div></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">播放音乐</a><div id="console-music-bg"></div><meting-js id="8805965276" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random"></meting-js></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制选中文本</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>粘贴文本</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>引用到评论</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>复制链接地址</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>复制此图片</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>下载此图片</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>新窗口打开图片</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>站内搜索</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>百度搜索</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>播放音乐</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>切换到上一首</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>切换到下一首</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://music.163.com/#/my/m/music/playlist?id=464586318&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>查看所有歌曲</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制歌名</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>随便逛逛</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>博客分类</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>文章标签</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>复制地址</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">关闭热评</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">深色模式</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>轉為繁體</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn1.tianli0.top/npm/js-heo@1.0.6/translate/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.14/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/vanilla-lazyload/17.3.1/lazyload.iife.min.js"></script><script src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/node-snackbar/0.1.16/snackbar.min.js"></script><script>var meting_api = "https://meting.qjqq.cn/?server=:server&type=:type&id=:id&auth=:auth&r=:r";
</script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// 消除控制台打印
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //在恢复前输出日志
  const grt = new Date("07/01/2022 00:00:00"); //此处修改你的建站时间或者网站上线时间
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `欢迎使用安知鱼!`,
    `生活明朗, 万物可爱`,
    `
        
       █████╗ ███╗   ██╗███████╗██╗  ██╗██╗██╗   ██╗██╗   ██╗
      ██╔══██╗████╗  ██║╚══███╔╝██║  ██║██║╚██╗ ██╔╝██║   ██║
      ███████║██╔██╗ ██║  ███╔╝ ███████║██║ ╚████╔╝ ██║   ██║
      ██╔══██║██║╚██╗██║ ███╔╝  ██╔══██║██║  ╚██╔╝  ██║   ██║
      ██║  ██║██║ ╚████║███████╗██║  ██║██║   ██║   ╚██████╔╝
      ╚═╝  ╚═╝╚═╝  ╚═══╝╚══════╝╚═╝  ╚═╝╚═╝   ╚═╝    ╚═════╝
        
        `,
    "已上线",
    dnum,
    "天",
    "©2022 By 安知鱼 V1.5.3",
  ];
  const ascll2 = [`NCC2-036`, `调用前置摄像头拍照成功，识别为【小笨蛋】.`, `Photo captured: `, `🤪`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#3b70fc",
      "",
      "color:#3b70fc",
      "color:#3b70fc",
      "",
      "color:#3b70fc",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c 你好，小笨蛋.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c ⚡ Powered by 安知鱼 %c 你正在访问 Smith 的博客.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c 你已打开控制台.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c 你现在正处于监控中.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><div class="js-pjax"><input type="hidden" name="page-type" id="page-type" value="post"></div><script>var visitorMail = "visitor@anheyu.com";</script><script>//动态标题
let leaveTitle = '再看看嘛🌈！';
let backTitle = '欢迎回来✌️！';
let OriginTitile = document.title
let titleTime
document.addEventListener('visibilitychange', function () {
  if (document.hidden) {
    //离开当前页面时标签显示内容
    document.title = leaveTitle
    clearTimeout(titleTime)
  } else {
    //返回当前页面时标签显示内容
    document.title = backTitle + OriginTitile
    //两秒后变回正常标题
    titleTime = setTimeout(function () {
      document.title = OriginTitile
    }, 2000)
  }
})</script><script async data-pjax src="https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/waterfall.js/1.1.0/waterfall.min.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><script>// 初始化函数
let rm = {};

//禁止图片与超链接拖拽
let aElements = document.getElementsByTagName("a");
for (let i = 0; i < aElements.length; i++) {
  aElements[i].setAttribute("draggable", "false");
  let imgElements = aElements[i].getElementsByTagName("img");
  for (let j = 0; j < imgElements.length; j++) {
    imgElements[j].setAttribute("draggable", "false");
  }
}

// 显示菜单
rm.showRightMenu = function (isTrue, x = 0, y = 0) {
  console.info(x, y)
  let rightMenu = document.getElementById("rightMenu");
  rightMenu.style.top = x + "px";
  rightMenu.style.left = y + "px";
  if (isTrue) {
    rightMenu.style.display = "block";
    stopMaskScroll();
  } else {
    rightMenu.style.display = "none";
  }
};

// 隐藏菜单
rm.hideRightMenu = function () {
  rm.showRightMenu(false);
  let rightMenuMask = document.querySelector("#rightmenu-mask");
  rightMenuMask.style.display = "none";
};

// 尺寸
let rmWidth = document.getElementById("rightMenu").offsetWidth;
let rmHeight = document.getElementById("rightMenu").offsetHeight;

// 重新定义尺寸
rm.reloadrmSize = function () {
  rightMenu.style.visibility = "hidden";
  rightMenu.style.display = "block";
  // 获取宽度和高度
  rmWidth = document.getElementById("rightMenu").offsetWidth;
  rmHeight = document.getElementById("rightMenu").offsetHeight;
  rightMenu.style.visibility = "visible";
};

// 获取点击的href
let domhref = "";
let domImgSrc = "";
let globalEvent = null;

var oncontextmenuFunction = function (event) {
  if (document.body.clientWidth > 768) {
    let pageX = event.clientX + 10; //加10是为了防止显示时鼠标遮在菜单上
    let pageY = event.clientY;

    //其他额外菜单
    const $rightMenuOther = document.querySelector(".rightMenuOther");
    const $rightMenuPlugin = document.querySelector(".rightMenuPlugin");
    const $rightMenuCopyText = document.querySelector("#menu-copytext");
    const $rightMenuPasteText = document.querySelector("#menu-pastetext");
    const $rightMenuCommentText = document.querySelector("#menu-commenttext");
    const $rightMenuNewWindow = document.querySelector("#menu-newwindow");
    const $rightMenuNewWindowImg = document.querySelector("#menu-newwindowimg");
    const $rightMenuCopyLink = document.querySelector("#menu-copylink");
    const $rightMenuCopyImg = document.querySelector("#menu-copyimg");
    const $rightMenuDownloadImg = document.querySelector("#menu-downloadimg");
    const $rightMenuSearch = document.querySelector("#menu-search");
    const $rightMenuSearchBaidu = document.querySelector("#menu-searchBaidu");
    const $rightMenuMusicToggle = document.querySelector("#menu-music-toggle");
    const $rightMenuMusicBack = document.querySelector("#menu-music-back");
    const $rightMenuMusicForward = document.querySelector("#menu-music-forward");
    const $rightMenuMusicPlaylist = document.querySelector("#menu-music-playlist");
    const $rightMenuMusicCopyMusicName = document.querySelector("#menu-music-copyMusicName");

    let href = event.target.href;
    let imgsrc = event.target.currentSrc;

    // 判断模式 扩展模式为有事件
    let pluginMode = false;
    $rightMenuOther.style.display = "block";
    globalEvent = event;

    // 检查是否需要复制 是否有选中文本
    if (selectTextNow && window.getSelection()) {
      pluginMode = true;
      $rightMenuCopyText.style.display = "block";
      $rightMenuCommentText.style.display = "block";
      $rightMenuSearch.style.display = "block";
      $rightMenuSearchBaidu.style.display = "block";
    } else {
      $rightMenuCopyText.style.display = "none";
      $rightMenuCommentText.style.display = "none";
      $rightMenuSearchBaidu.style.display = "none";
      $rightMenuSearch.style.display = "none";
    }

    //检查是否右键点击了链接a标签
    if (href) {
      pluginMode = true;
      $rightMenuNewWindow.style.display = "block";
      $rightMenuCopyLink.style.display = "block";
      domhref = href;
    } else {
      $rightMenuNewWindow.style.display = "none";
      $rightMenuCopyLink.style.display = "none";
    }

    //检查是否需要复制图片
    if (imgsrc) {
      pluginMode = true;
      $rightMenuCopyImg.style.display = "block";
      $rightMenuDownloadImg.style.display = "block";
      $rightMenuNewWindowImg.style.display = "block";
      document.getElementById("rightMenu").style.width="12rem"
      domImgSrc = imgsrc;
    } else {
      $rightMenuCopyImg.style.display = "none";
      $rightMenuDownloadImg.style.display = "none";
      $rightMenuNewWindowImg.style.display = "none";
    }

    // 判断是否为输入框
    if (event.target.tagName.toLowerCase() === "input" || event.target.tagName.toLowerCase() === "textarea") {
      pluginMode = true;
      $rightMenuPasteText.style.display = "block";
    } else {
      $rightMenuPasteText.style.display = "none";
    }
    const navMusicEl = document.querySelector("#nav-music");
    //判断是否是音乐
    if (navMusicEl && navMusicEl.contains(event.target)) {
      pluginMode = true;
      $rightMenuMusicToggle.style.display = "block";
      $rightMenuMusicBack.style.display = "block";
      $rightMenuMusicForward.style.display = "block";
      $rightMenuMusicPlaylist.style.display = "block";
      $rightMenuMusicCopyMusicName.style.display = "block";
    } else {
      $rightMenuMusicToggle.style.display = "none";
      $rightMenuMusicBack.style.display = "none";
      $rightMenuMusicForward.style.display = "none";
      $rightMenuMusicPlaylist.style.display = "none";
      $rightMenuMusicCopyMusicName.style.display = "none";
    }

    // 如果不是扩展模式则隐藏扩展模块
    if (pluginMode) {
      $rightMenuOther.style.display = "none";
      $rightMenuPlugin.style.display = "block";
    } else {
      $rightMenuPlugin.style.display = "none";
    }

    rm.reloadrmSize();

    // 鼠标默认显示在鼠标右下方，当鼠标靠右或靠下时，将菜单显示在鼠标左方\上方
    if (pageX + rmWidth > window.innerWidth) {
      pageX -= rmWidth + 10;
    }
    if (pageY + rmHeight > window.innerHeight) {
      pageY -= pageY + rmHeight - window.innerHeight;
    }

    rm.showRightMenu(true, pageY, pageX);
    document.getElementById("rightmenu-mask").style.display = "flex";
    return false;
  }
};

// 监听右键初始化
window.oncontextmenu = oncontextmenuFunction

// 下载图片状态
rm.downloadimging = false;

// 复制图片到剪贴板
rm.writeClipImg = function (imgsrc) {
  console.log("按下复制");
  rm.hideRightMenu();
  anzhiyu.snackbarShow("正在下载中，请稍后", false, 10000);
  if (rm.downloadimging == false) {
    rm.downloadimging = true;
    setTimeout(function () {
      copyImage(imgsrc);
      anzhiyu.snackbarShow("复制成功！图片已添加盲水印，请遵守版权协议");
      rm.downloadimging = false;
    }, "10000");
  }
};

function imageToBlob(imageURL) {
  const img = new Image();
  const c = document.createElement("canvas");
  const ctx = c.getContext("2d");
  img.crossOrigin = "";
  img.src = imageURL;
  return new Promise(resolve => {
    img.onload = function () {
      c.width = this.naturalWidth;
      c.height = this.naturalHeight;
      ctx.drawImage(this, 0, 0);
      c.toBlob(
        blob => {
          // here the image is a blob
          resolve(blob);
        },
        "image/png",
        0.75
      );
    };
  });
}

async function copyImage(imageURL) {
  const blob = await imageToBlob(imageURL);
  const item = new ClipboardItem({ "image/png": blob });
  navigator.clipboard.write([item]);
}

rm.copyUrl = function (id) {
  const input = document.createElement("input"); // Create a new <input> element
  input.id = "copyVal"; // Set the id of the new element to "copyVal"
  document.body.appendChild(input); // Append the new element to the end of the <body> element
  
  const text = id;
  input.value = text;
  input.select();
  input.setSelectionRange(0, input.value.length);
  document.execCommand("copy");
  
  input.remove(); // Remove the <input> element from the DOM
};

function stopMaskScroll() {
  if (document.getElementById("rightmenu-mask")) {
    let xscroll = document.getElementById("rightmenu-mask");
    xscroll.addEventListener(
      "mousewheel",
      function (e) {
        //阻止浏览器默认方法
        rm.hideRightMenu();
        // e.preventDefault();
      },
      { passive: true }
    );
  }
  if (document.getElementById("rightMenu")) {
    let xscroll = document.getElementById("rightMenu");
    xscroll.addEventListener(
      "mousewheel",
      function (e) {
        //阻止浏览器默认方法
        rm.hideRightMenu();
        // e.preventDefault();
      },
      { passive: true }
    );
  }
}

rm.rightmenuCopyText = function (txt) {
  if (navigator.clipboard) {
    navigator.clipboard.writeText(txt);
  }
  rm.hideRightMenu();
};

rm.copyPageUrl = function (url) {
  if (!url) {
    url = window.location.href;
  }
  rm.copyUrl(url);
  anzhiyu.snackbarShow("复制链接地址成功", false, 2000);
  rm.hideRightMenu();
};

rm.sharePage = function () {
  var content = window.location.href;
  rm.copyUrl(url);
  anzhiyu.snackbarShow("复制链接地址成功", false, 2000);
  rm.hideRightMenu();
};

// 复制当前选中文本
var selectTextNow = "";
document.onmouseup = document.ondblclick = selceText;

function selceText() {
  var txt;
  if (document.selection) {
    txt = document.selection.createRange().text;
  } else {
    txt = window.getSelection().toString();
  }
  selectTextNow = txt !== "" ? txt : "";
}

// 读取剪切板
rm.readClipboard = function () {
  if (navigator.clipboard) {
    navigator.clipboard.readText().then(clipText => rm.insertAtCaret(globalEvent.target, clipText));
  }
};

// 粘贴文本到焦点
rm.insertAtCaret = function (elemt, value) {
  const startPos = elemt.selectionStart,
    endPos = elemt.selectionEnd;
  if (document.selection) {
    elemt.focus();
    var sel = document.selection.createRange();
    sel.text = value;
    elemt.focus();
  } else {
    if (startPos || startPos == "0") {
      var scrollTop = elemt.scrollTop;
      elemt.value = elemt.value.substring(0, startPos) + value + elemt.value.substring(endPos, elemt.value.length);
      elemt.focus();
      elemt.selectionStart = startPos + value.length;
      elemt.selectionEnd = startPos + value.length;
      elemt.scrollTop = scrollTop;
    } else {
      elemt.value += value;
      elemt.focus();
    }
  }
};

//粘贴文本
rm.pasteText = function () {
  const result = rm.readClipboard() || "";
  rm.hideRightMenu();
};

//引用到评论
rm.rightMenuCommentText = function (txt) {
  rm.hideRightMenu();
  const postCommentDom = document.getElementById("post-comment");
  var domTop = postCommentDom.offsetTop;
  window.scrollTo(0, domTop - 80);
  if (txt == "undefined" || txt == "null") txt = "好棒！";
  function setText() {
    setTimeout(() => {
      var input = document.getElementsByClassName("el-textarea__inner")[0];
      if (!input) setText();
      let evt = document.createEvent("HTMLEvents");
      evt.initEvent("input", true, true);
      let inputValue = replaceAll(txt, "\n", "\n> ");
      input.value = "> " + inputValue + "\n\n";
      input.dispatchEvent(evt);
      input.focus();
      input.setSelectionRange(-1, -1);
      if (document.getElementById("comment-tips")) {
        document.getElementById("comment-tips").classList.add("show");
      }
    }, 100);
  }
  setText();
};

//替换所有内容
function replaceAll(string, search, replace) {
  return string.split(search).join(replace);
}

// 百度搜索
rm.searchBaidu = function () {
  anzhiyu.snackbarShow("即将跳转到百度搜索", false, 2000);
  setTimeout(function () {
    window.open("https://www.baidu.com/s?wd=" + selectTextNow);
  }, "2000");
  rm.hideRightMenu();
};

//分享链接
rm.copyLink = function () {
  rm.rightmenuCopyText(domhref);
  anzhiyu.snackbarShow("已复制链接地址");
};

function addRightMenuClickEvent() {
  // 添加点击事件
  document.getElementById("menu-backward").addEventListener("click", function () {
  window.history.back();
    rm.hideRightMenu();
  });

  document.getElementById("menu-forward").addEventListener("click", function () {
    window.history.forward();
    rm.hideRightMenu();
  });

  document.getElementById("menu-refresh").addEventListener("click", function () {
    window.location.reload();
  });

  document.getElementById("menu-top").addEventListener("click", function () {
    anzhiyu.scrollToDest(0, 500);
    rm.hideRightMenu();
  });

  const menuLinks = document.querySelectorAll(".menu-link");
  menuLinks.forEach(function (link) {
    link.addEventListener("click", rm.hideRightMenu);
  });

  document.getElementById("menu-darkmode").addEventListener("click", anzhiyu.switchDarkMode);

  document.getElementById("menu-home") && document.getElementById("menu-home").addEventListener("click", function () {
    window.location.href = window.location.origin;
  });

  document.getElementById("menu-randomPost").addEventListener("click", function () {
    toRandomPost();
  });

  document.getElementById("menu-commentBarrage").addEventListener("click", anzhiyu.switchCommentBarrage);

  document.getElementById("rightmenu-mask").addEventListener("click", rm.hideRightMenu);

  document.getElementById("rightmenu-mask").addEventListener("contextmenu", function (event) {
    rm.hideRightMenu();
    event.preventDefault(); // Prevent the default context menu from appearing
  });

  document.getElementById("menu-copy").addEventListener("click", rm.copyPageUrl);

  document.getElementById("menu-pastetext").addEventListener("click", rm.pasteText);

  document.getElementById("menu-copytext").addEventListener("click", function () {
    rm.rightmenuCopyText(selectTextNow);
    anzhiyu.snackbarShow("复制成功，复制和转载请标注本文地址");
  });

  document.getElementById("menu-commenttext").addEventListener("click", function () {
    rm.rightMenuCommentText(selectTextNow);
  });

  document.getElementById("menu-newwindow").addEventListener("click", function () {
    window.open(domhref, "_blank");
    rm.hideRightMenu();
  });

  document.getElementById("menu-copylink").addEventListener("click", rm.copyLink);

  document.getElementById("menu-downloadimg").addEventListener("click", function () {
    anzhiyu.downloadImage(domImgSrc, "anzhiyu");
  });

  document.getElementById("menu-newwindowimg").addEventListener("click", function () {
    window.open(domImgSrc, "_blank");
    rm.hideRightMenu();
  });

  document.getElementById("menu-copyimg").addEventListener("click", function () {
    rm.writeClipImg(domImgSrc);
  });

  document.getElementById("menu-searchBaidu").addEventListener("click", rm.searchBaidu);

  //音乐
  document.getElementById("menu-music-toggle").addEventListener("click", anzhiyu.musicToggle);

  document.getElementById("menu-music-back").addEventListener("click", anzhiyu.musicSkipBack);

  document.getElementById("menu-music-forward").addEventListener("click", anzhiyu.musicSkipForward);

  document.getElementById("menu-music-copyMusicName").addEventListener("click", function () {
    rm.rightmenuCopyText(anzhiyu.musicGetName());
    anzhiyu.snackbarShow("复制歌曲名称成功", false, 3000);
  });

}

addRightMenuClickEvent();</script><script data-pjax>var themeColorMeta = document.querySelector('meta[name="theme-color"]');
var pageHeaderEl = document.getElementById("page-header");
var navMusicEl = document.getElementById("nav-music");
var consoleEl = document.getElementById("console");
// 已随机的歌曲
var selectRandomSong = [];
// 音乐默认声音大小
var musicVolume = 0.8;
// 是否切换了周杰伦音乐列表
var changeMusicListFlag = false;
// 当前默认播放列表
var defaultPlayMusicList = [];

document.getElementById("page-name").innerText = document.title.split(" | Smith")[0];
anzhiyu.initIndexEssay();
anzhiyu.changeTimeInEssay();
anzhiyu.removeBodyPaceClass();
anzhiyu.qrcodeCreate();
anzhiyu.changeTimeInAlbumDetail();
anzhiyu.reflashEssayWaterFall();
anzhiyu.sayhi();
anzhiyu.stopImgRightDrag();
anzhiyu.addNavBackgroundInit();
anzhiyu.setValueToBodyType();
anzhiyu.catalogActive();
anzhiyu.tagsPageActive();
anzhiyu.categoriesBarActive();
anzhiyu.topCategoriesBarScroll();
anzhiyu.switchRightClickMenuHotReview();
anzhiyu.getCustomPlayList();
anzhiyu.addEventListenerConsoleMusicList(false);
setTimeout(() => {if (typeof addFriendLinksInFooter === "function") {addFriendLinksInFooter();}}, 200)</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.js"></script><script src="https://npm.elemecdn.com/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://lib.baomitu.com/pjax/0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div></body></html>