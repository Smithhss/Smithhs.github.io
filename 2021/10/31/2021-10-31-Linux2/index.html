<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>Linuxåˆ°ç²¾é€š2 | Smith</title><meta name="keywords" content="Linux"><meta name="author" content="Smith"><meta name="copyright" content="Smith"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="Linuxåˆ°ç²¾é€š2"><meta name="application-name" content="Linuxåˆ°ç²¾é€š2"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="Linuxåˆ°ç²¾é€š2"><meta property="og:url" content="https://smithhs.cn/2021/10/31/2021-10-31-Linux2/index.html"><meta property="og:site_name" content="Smith"><meta property="og:description" content="Shellç¼–ç¨‹è¿™é‡Œè¯´çš„Shell è„šæœ¬ï¼ˆshell scriptï¼‰ï¼Œæ˜¯åœ¨Linux ç¯å¢ƒä¸‹è¿è¡Œçš„è„šæœ¬ç¨‹åº Shell ç¼–ç¨‹è·Ÿ JavaScriptã€php ç¼–ç¨‹ä¸€æ ·ï¼Œåªè¦æœ‰ä¸€ä¸ªèƒ½ç¼–å†™ä»£ç çš„æ–‡æœ¬ç¼–è¾‘å™¨å’Œä¸€ä¸ªèƒ½è§£é‡Šæ‰§è¡Œçš„è„šæœ¬è§£é‡Šå™¨å°±å¯ä»¥äº†ã€‚ Linux çš„ Shell ç§ç±»ä¼—å¤šï¼Œå¸¸è§çš„æœ‰ï¼š  Bourn"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/Linux.png"><meta property="article:author" content="Smith"><meta property="article:tag"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/Linux.png"><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="https://smithhs.cn/2021/10/31/2021-10-31-Linux2/"><link rel="preconnect" href="//npm.elemecdn.com"/><link rel="preconnect" href="//npm.onmicrosoft.cn"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/node-snackbar/0.1.16/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.14/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/swiper/swiper.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: true,
  mainTone: undefined,
  authorStatus: {"skills":["ğŸ¤–ï¸ æ•°ç ç§‘æŠ€çˆ±å¥½è€…","ğŸ” åˆ†äº«ä¸çƒ­å¿ƒå¸®åŠ©","ğŸ  æ™ºèƒ½å®¶å±…å°èƒ½æ‰‹","ğŸ”¨ è®¾è®¡å¼€å‘ä¸€æ¡é¾™","ğŸ¤ ä¸“ä¿®äº¤äº’ä¸è®¾è®¡","ğŸƒ è„šè¸å®åœ°è¡ŒåŠ¨æ´¾","ğŸ§± å›¢é˜Ÿå°ç»„å‘åŠ¨æœº","ğŸ’¢ å£®æ±‰äººç‹ è¯ä¸å¤š"]},
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç®€","rightMenuMsgToTraditionalChinese":"è½¬ä¸ºç¹ä½“","rightMenuMsgToSimplifiedChinese":"è½¬ä¸ºç®€ä½“"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":240},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: true,
    post: false
  },
  runtime: 'å¤©',
  date_suffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"ä½ å·²åˆ‡æ¢ä¸ºç¹ä½“","cht_to_chs":"ä½ å·²åˆ‡æ¢ä¸ºç®€ä½“","day_to_night":"ä½ å·²åˆ‡æ¢ä¸ºæ·±è‰²æ¨¡å¼","night_to_day":"ä½ å·²åˆ‡æ¢ä¸ºæµ…è‰²æ¨¡å¼","bgLight":"#3b70fc","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Linuxåˆ°ç²¾é€š2',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-12-04 19:42:27',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="åŠ è½½å¤´åƒ" src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/d20f536c64d06e5fcf4bfe2ec5dc25d.jpg"/><div class="loading-image-dot"></div><div id="loading-percentage">0%</div></div></div><script>if (GLOBAL_CONFIG.preloader.source == "2" || GLOBAL_CONFIG.preloader.source == "3") {
  const loadingPercentage = document.getElementById("loading-percentage");
  let loadingPercentageTimer = setInterval(function() {
    var progressBar = document.querySelector(".pace-progress");
    if (!progressBar) return
    var currentValue = progressBar.getAttribute("data-progress-text");
    if (currentValue !== loadingPercentage.textContent) {
      loadingPercentage.textContent = currentValue;
      if (currentValue === "100%") {
        clearInterval(loadingPercentageTimer);
      }
    }
  }, 100);
}

const preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div id="web_box"><div id="web_container"><div id="menu-mask"></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">ç½‘é¡µ</div><div class="back-menu-list"><a class="back-menu-item" href="https://smithhs.cn/" title="åšå®¢" target="_blank"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.png" alt="åšå®¢"/><span class="back-menu-item-text">åšå®¢</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">é¡¹ç›®</div><div class="back-menu-list"><a class="back-menu-item" href="http://robot.onliu.cn/" title="Robot" target="_blank"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/cupfox.png" alt="Robot"/><span class="back-menu-item-text">Robot</span></a><a class="back-menu-item" href="http://res.onliu.cn" title="Sale" target="_blank"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://alandodo-1315761622.cos.ap-beijing.myqcloud.com/blog-tuce/tubiao.jpg" alt="Sale"/><span class="back-menu-item-text">Sale</span></a><a class="back-menu-item" href="http://se.onliu.cn/" title="èµ„æºå…±äº«" target="_blank"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://alandodo-1315761622.cos.ap-beijing.myqcloud.com/blog/x126.png" alt="èµ„æºå…±äº«"/><span class="back-menu-item-text">èµ„æºå…±äº«</span></a><a class="back-menu-item" href="https://github.com/Smithhss" title="Github" target="_blank"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/GitHub.png" alt="Github"/><span class="back-menu-item-text">Github</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">Smith</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> æ–‡ç« </span></a><ul class="menus_item_child" style="left:-79px;"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> éš§é“</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> åˆ†ç±»</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> æ ‡ç­¾</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> æˆ‘çš„</span></a><ul class="menus_item_child" style="left:-31px;"><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> ç›¸å†Œé›†</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> éŸ³ä¹é¦†</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> å…³äº</span></a><ul class="menus_item_child" style="left:-79px;"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> å…³äºæˆ‘</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> é—²è¨€ç¢è¯­</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> éšä¾¿é€›é€›</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button only-home" id="travellings_button" title="éšæœºå‰å¾€ä¸€ä¸ªå¼€å¾€é¡¹ç›®ç½‘ç«™"><a class="site-page" onclick="anzhiyu.totraveling()" title="éšæœºå‰å¾€ä¸€ä¸ªå¼€å¾€é¡¹ç›®ç½‘ç«™" href="javascript:void(0);" rel="external nofollow" data-pjax-state="external"><i class="anzhiyufont anzhiyu-icon-train"></i></a></div><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="éšæœºå‰å¾€ä¸€ä¸ªæ–‡ç« " href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="ä¸­æ§å°" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/1.jpg" target="_blank"><img class="post-qr-code-img" alt="wechat" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/1.jpg"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/2.jpg" target="_blank"><img class="post-qr-code-img" alt="alipay" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/2.jpg"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">äº’åŠ¨</div><span class="author-content-item-title"> <span>æœ€æ–°è¯„è®º</span></span></div><div class="aside-list"><span>æ­£åœ¨åŠ è½½ä¸­...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">å…´è¶£ç‚¹</div><span class="author-content-item-title">å¯»æ‰¾ä½ æ„Ÿå…´è¶£çš„é¢†åŸŸ</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Android-Studio/" style="font-size: 1.05rem;">Android Studio<sup>1</sup></a><a href="/tags/App/" style="font-size: 1.05rem;">App<sup>2</sup></a><a href="/tags/Butterfly/" style="font-size: 1.05rem;">Butterfly<sup>1</sup></a><a href="/tags/C/" style="font-size: 1.05rem;">C++<sup>1</sup></a><a href="/tags/CSS/" style="font-size: 1.05rem;">CSS<sup>1</sup></a><a href="/tags/Cisco-Packet-Tracer/" style="font-size: 1.05rem;">Cisco Packet Tracer<sup>1</sup></a><a href="/tags/Easypan/" style="font-size: 1.05rem;">Easypan<sup>2</sup></a><a href="/tags/FurtherMathematics/" style="font-size: 1.05rem;">FurtherMathematics<sup>1</sup></a><a href="/tags/GPT/" style="font-size: 1.05rem;">GPT<sup>1</sup></a><a href="/tags/Git2/" style="font-size: 1.05rem;">Git2<sup>1</sup></a><a href="/tags/HTML/" style="font-size: 1.05rem;">HTML<sup>1</sup></a><a href="/tags/Hexo/" style="font-size: 1.05rem;">Hexo<sup>1</sup></a><a href="/tags/Java/" style="font-size: 1.05rem;">Java<sup>6</sup></a><a href="/tags/JavaScript/" style="font-size: 1.05rem;">JavaScript<sup>1</sup></a><a href="/tags/JavaWeb/" style="font-size: 1.05rem;">JavaWeb<sup>2</sup></a><a href="/tags/Jrebel/" style="font-size: 1.05rem;">Jrebel<sup>1</sup></a><a href="/tags/LeetCode/" style="font-size: 1.05rem;">LeetCode<sup>1</sup></a><a href="/tags/Linux/" style="font-size: 1.05rem;">Linux<sup>3</sup></a><a href="/tags/Markdown/" style="font-size: 1.05rem;">Markdown<sup>2</sup></a><a href="/tags/Maven/" style="font-size: 1.05rem;">Maven<sup>2</sup></a><a href="/tags/Mysql/" style="font-size: 1.05rem;">Mysql<sup>1</sup></a><a href="/tags/NoSql/" style="font-size: 1.05rem;">NoSql<sup>1</sup></a><a href="/tags/Nodejs/" style="font-size: 1.05rem;">Nodejs<sup>2</sup></a><a href="/tags/Python/" style="font-size: 1.05rem;">Python<sup>4</sup></a><a href="/tags/Spring/" style="font-size: 1.05rem;">Spring<sup>2</sup></a><a href="/tags/VMware/" style="font-size: 1.05rem;">VMware<sup>2</sup></a><a href="/tags/Vue/" style="font-size: 1.05rem;">Vue<sup>1</sup></a><a href="/tags/YouHou/" style="font-size: 1.05rem;">YouHou<sup>1</sup></a><a href="/tags/books/" style="font-size: 1.05rem;">books<sup>1</sup></a><a href="/tags/butterfly/" style="font-size: 1.05rem;">butterfly<sup>1</sup></a><a href="/tags/clash/" style="font-size: 1.05rem;">clash<sup>1</sup></a><a href="/tags/project/" style="font-size: 1.05rem;">project<sup>4</sup></a><a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 1.05rem;">å‰ç«¯<sup>1</sup></a><a href="/tags/%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/" style="font-size: 1.05rem;">å¼€å‘æ¡†æ¶<sup>1</sup></a><a href="/tags/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/" style="font-size: 1.05rem;">å¼€å‘ç¯å¢ƒ<sup>1</sup></a><a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" style="font-size: 1.05rem;">æ“ä½œç³»ç»Ÿ<sup>1</sup></a><a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" style="font-size: 1.05rem;">æ•°æ®ç»“æ„ä¸ç®—æ³•<sup>1</sup></a><a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/" style="font-size: 1.05rem;">è®¡ç®—æœºç»„æˆåŸç†<sup>1</sup></a><a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size: 1.05rem;">è®¡ç®—æœºç½‘ç»œ<sup>1</sup></a><a href="/tags/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/" style="font-size: 1.05rem;">è½¯ä»¶å·¥ç¨‹<sup>1</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>æ–‡ç« </span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>å½’æ¡£</span><a class="card-more-btn" href="/archives/" title="æŸ¥çœ‹æ›´å¤š">
    <i class="anzhiyufont anzhiyu-icon-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/11/"><span class="card-archive-list-date">åä¸€æœˆ 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">3</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/10/"><span class="card-archive-list-date">åæœˆ 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/09/"><span class="card-archive-list-date">ä¹æœˆ 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">6</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/07/"><span class="card-archive-list-date">ä¸ƒæœˆ 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/06/"><span class="card-archive-list-date">å…­æœˆ 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">7</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/05/"><span class="card-archive-list-date">äº”æœˆ 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">17</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/04/"><span class="card-archive-list-date">å››æœˆ 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/06/"><span class="card-archive-list-date">å…­æœˆ 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>ç¯‡</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" onclick="anzhiyu.switchDarkMode()" title="æ˜¾ç¤ºæ¨¡å¼åˆ‡æ¢" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="è¾¹æ æ˜¾ç¤ºæ§åˆ¶"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item on" id="consoleCommentBarrage" onclick="anzhiyu.switchCommentBarrage()" title="çƒ­è¯„å¼€å…³"><a class="commentBarrage"><i class="anzhiyufont anzhiyu-icon-message"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="éŸ³ä¹å¼€å…³"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">åŸåˆ›</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/Programming/">Programming</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/Linux/" tabindex="-1"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>Linux</span></a></span></div></div><h1 class="post-title">Linuxåˆ°ç²¾é€š2</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="post-meta-icon anzhiyufont anzhiyu-icon-calendar-days"></i><span class="post-meta-label">å‘è¡¨äº</span><time datetime="2021-10-31T01:51:15.000Z" title="å‘è¡¨äº 2021-10-31 09:51:15">2021-10-31</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-wordcount"><i class="anzhiyufont anzhiyu-icon-file-word post-meta-icon" title="æ–‡ç« å­—æ•°"></i><span class="post-meta-label" title="æ–‡ç« å­—æ•°">å­—æ•°æ€»è®¡:</span><span class="word-count" title="æ–‡ç« å­—æ•°">27.8k</span><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-clock post-meta-icon" title="é˜…è¯»æ—¶é•¿"></i><span class="post-meta-label" title="é˜…è¯»æ—¶é•¿">é˜…è¯»æ—¶é•¿:</span><span>110åˆ†é’Ÿ</span></span><span class="post-meta-separator"></span><span class="post-meta-pv-cv" id="" data-flag-title="Linuxåˆ°ç²¾é€š2"><i class="anzhiyufont anzhiyu-icon-fw-eye post-meta-icon"></i><span class="post-meta-label" title="é˜…è¯»é‡">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></span><span class="post-meta-separator">       </span><span class="post-meta-position" title="ä½œè€…IPå±åœ°ä¸ºçŸ³å®¶åº„"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>çŸ³å®¶åº„</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/Linux.png"></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="Shellç¼–ç¨‹"><a href="#Shellç¼–ç¨‹" class="headerlink" title="Shellç¼–ç¨‹"></a>Shellç¼–ç¨‹</h2><p>è¿™é‡Œè¯´çš„Shell è„šæœ¬ï¼ˆshell scriptï¼‰ï¼Œæ˜¯åœ¨Linux ç¯å¢ƒä¸‹è¿è¡Œçš„è„šæœ¬ç¨‹åº</p>
<p>Shell ç¼–ç¨‹è·Ÿ JavaScriptã€php ç¼–ç¨‹ä¸€æ ·ï¼Œåªè¦æœ‰ä¸€ä¸ªèƒ½ç¼–å†™ä»£ç çš„æ–‡æœ¬ç¼–è¾‘å™¨å’Œä¸€ä¸ªèƒ½è§£é‡Šæ‰§è¡Œçš„è„šæœ¬è§£é‡Šå™¨å°±å¯ä»¥äº†ã€‚</p>
<p>Linux çš„ Shell ç§ç±»ä¼—å¤šï¼Œå¸¸è§çš„æœ‰ï¼š</p>
<ul>
<li>Bourne Shellï¼ˆ&#x2F;usr&#x2F;bin&#x2F;shæˆ–&#x2F;bin&#x2F;shï¼‰</li>
<li>Bourne Again Shellï¼ˆ&#x2F;bin&#x2F;bashï¼‰</li>
<li>C Shellï¼ˆ&#x2F;usr&#x2F;bin&#x2F;cshï¼‰</li>
<li>K Shellï¼ˆ&#x2F;usr&#x2F;bin&#x2F;kshï¼‰</li>
<li>Shell for Rootï¼ˆ&#x2F;sbin&#x2F;shï¼‰</li>
<li>â€¦â€¦</li>
</ul>
<p>Bashæ˜¯å¤§å¤šæ•°Linux ç³»ç»Ÿé»˜è®¤çš„ Shellï¼Œæœ¬æ–‡ä¹Ÿä»…å…³æ³¨Bash Shellã€‚</p>
<p>åœ¨ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¹¶ä¸åŒºåˆ† Bourne Shell å’Œ Bourne Again Shellï¼Œæ‰€ä»¥ï¼Œåƒ <strong>#!&#x2F;bin&#x2F;sh</strong>ï¼Œå®ƒåŒæ ·ä¹Ÿå¯ä»¥æ”¹ä¸º <strong>#!&#x2F;bin&#x2F;bash</strong>ã€‚</p>
<p><strong>#!</strong> å‘Šè¯‰ç³»ç»Ÿå…¶åè·¯å¾„æ‰€æŒ‡å®šçš„ç¨‹åºå³æ˜¯è§£é‡Šæ­¤è„šæœ¬æ–‡ä»¶çš„ Shell ç¨‹åºã€‚</p>
<h3 id="å…¥é—¨"><a href="#å…¥é—¨" class="headerlink" title="å…¥é—¨"></a>å…¥é—¨</h3><h4 id="è¿è¡ŒShellè„šæœ¬"><a href="#è¿è¡ŒShellè„šæœ¬" class="headerlink" title="è¿è¡ŒShellè„šæœ¬"></a>è¿è¡ŒShellè„šæœ¬</h4><p>ç¼–å†™shellè„šæœ¬ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">vi test.sh</span><br><span class="line"></span><br><span class="line">#!/bin/bash</span><br><span class="line">echo &quot;Hello World !&quot;</span><br></pre></td></tr></table></figure>

<p><strong>#!</strong> æ˜¯ä¸€ä¸ªçº¦å®šçš„æ ‡è®°ï¼Œå®ƒå‘Šè¯‰ç³»ç»Ÿè¿™ä¸ªè„šæœ¬éœ€è¦ä»€ä¹ˆè§£é‡Šå™¨æ¥æ‰§è¡Œï¼Œå³ä½¿ç”¨å“ªä¸€ç§ Shellã€‚</p>
<p>echo å‘½ä»¤ç”¨äºå‘çª—å£è¾“å‡ºæ–‡æœ¬ã€‚</p>
<p>è¿è¡Œ Shell è„šæœ¬æœ‰ä¸¤ç§æ–¹æ³•ï¼š</p>
<p><strong>1ã€ä½œä¸ºå¯æ‰§è¡Œç¨‹åº</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">chmod +x ./test.sh  #ä½¿è„šæœ¬å…·æœ‰æ‰§è¡Œæƒé™</span><br><span class="line">./test.sh  #æ‰§è¡Œè„šæœ¬</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œä¸€å®šè¦å†™æˆ <strong>.&#x2F;test.sh</strong>ï¼Œè€Œä¸æ˜¯ <strong>test.sh</strong>ï¼Œè¿è¡Œå…¶å®ƒäºŒè¿›åˆ¶çš„ç¨‹åºä¹Ÿä¸€æ ·ã€‚</p>
<p>é™¤éå°†å½“å‰ç›®å½•.åŠ å…¥åˆ°PATHç¯å¢ƒå˜é‡ä¸­ï¼Œé…ç½®æ–¹æ³•ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo vi /etc/profile</span><br><span class="line">åŠ å…¥ä¸€è¡Œ</span><br><span class="line">export PATH=$PATH:.</span><br><span class="line">ä¿å­˜ä¹‹åï¼Œæ‰§è¡Œ</span><br><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure>

<p><strong>2ã€ä½œä¸ºè§£é‡Šå™¨å‚æ•°</strong></p>
<p>ç›´æ¥è¿è¡Œè§£é‡Šå™¨ï¼Œå…¶å‚æ•°å°±æ˜¯ shell è„šæœ¬çš„æ–‡ä»¶åï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/bin/sh test.sh</span><br></pre></td></tr></table></figure>

<p>è¿™ç§æ–¹å¼è¿è¡Œçš„è„šæœ¬ï¼Œä¸éœ€è¦åœ¨ç¬¬ä¸€è¡ŒæŒ‡å®šè§£é‡Šå™¨ä¿¡æ¯ï¼Œå†™äº†ä¹Ÿæ²¡ç”¨ã€‚</p>
<h4 id="ç¼–å†™ä¸€ä¸ªå¿«æ·åˆ›å»ºshellè„šæœ¬çš„å‘½ä»¤"><a href="#ç¼–å†™ä¸€ä¸ªå¿«æ·åˆ›å»ºshellè„šæœ¬çš„å‘½ä»¤" class="headerlink" title="ç¼–å†™ä¸€ä¸ªå¿«æ·åˆ›å»ºshellè„šæœ¬çš„å‘½ä»¤"></a>ç¼–å†™ä¸€ä¸ªå¿«æ·åˆ›å»ºshellè„šæœ¬çš„å‘½ä»¤</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">if test -z $1;then</span><br><span class="line">  newfile=&quot;./script_`date +%m%d_%s`&quot;</span><br><span class="line">else</span><br><span class="line">  newfile=$1</span><br><span class="line">fi</span><br><span class="line">echo $newfile</span><br><span class="line">if  ! grep &quot;^#!&quot; $newfile &amp;&gt;/dev/null; then</span><br><span class="line">cat &gt;&gt; $newfile &lt;&lt; EOF</span><br><span class="line">#!/bin/bash</span><br><span class="line"># Author:</span><br><span class="line"># Date &amp; Time: `date +&quot;%F %T&quot;`</span><br><span class="line">#Description:</span><br><span class="line">EOF</span><br><span class="line">fi</span><br><span class="line">vim +5 $newfile</span><br><span class="line">chmod +x $newfile</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å°†ä»¥ä¸Šå†…å®¹ç¼–å†™å¥½ä¹‹åä¿å­˜ä¸ºshellæ–‡ä»¶ï¼Œç„¶åæ‰§è¡Œ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod u+x shell</span><br><span class="line">sudo mv shell /usr/bin/</span><br></pre></td></tr></table></figure>

<h4 id="echoå‘½ä»¤"><a href="#echoå‘½ä»¤" class="headerlink" title="echoå‘½ä»¤"></a>echoå‘½ä»¤</h4><p>Shell çš„ echo æŒ‡ä»¤ä¸ PHP çš„ echo æŒ‡ä»¤ç±»ä¼¼ï¼Œéƒ½æ˜¯ç”¨äºå­—ç¬¦ä¸²çš„è¾“å‡ºã€‚å‘½ä»¤æ ¼å¼ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo string</span><br></pre></td></tr></table></figure>

<p>æ˜¾ç¤ºæ™®é€šå­—ç¬¦ä¸²:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;It is a test&quot;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œçš„åŒå¼•å·å®Œå…¨å¯ä»¥çœç•¥ï¼Œä»¥ä¸‹å‘½ä»¤ä¸ä¸Šé¢å®ä¾‹æ•ˆæœä¸€è‡´ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo It is a test</span><br></pre></td></tr></table></figure>

<p>æ˜¾ç¤ºè½¬ä¹‰å­—ç¬¦:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo &quot;\&quot;It is a test\&quot;&quot;</span><br></pre></td></tr></table></figure>

<p>ç»“æœå°†æ˜¯:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&quot;It is a test&quot;</span><br></pre></td></tr></table></figure>

<p>åŒæ ·ï¼ŒåŒå¼•å·ä¹Ÿå¯ä»¥çœç•¥</p>
<p>read å‘½ä»¤ä»æ ‡å‡†è¾“å…¥ä¸­è¯»å–ä¸€è¡Œ,å¹¶æŠŠè¾“å…¥è¡Œçš„æ¯ä¸ªå­—æ®µçš„å€¼æŒ‡å®šç»™ shell å˜é‡</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sh</span><br><span class="line">read name </span><br><span class="line">echo &quot;$name It is a test&quot;</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šä»£ç ä¿å­˜ä¸º test.shï¼Œname æ¥æ”¶æ ‡å‡†è¾“å…¥çš„å˜é‡ï¼Œç»“æœå°†æ˜¯:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# sh test.sh</span><br><span class="line">OK                     #æ ‡å‡†è¾“å…¥</span><br><span class="line">OK It is a test        #è¾“å‡º</span><br></pre></td></tr></table></figure>

<h5 id="æ˜¾ç¤ºæ¢è¡Œ"><a href="#æ˜¾ç¤ºæ¢è¡Œ" class="headerlink" title="æ˜¾ç¤ºæ¢è¡Œ"></a>æ˜¾ç¤ºæ¢è¡Œ</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">echo -e &quot;OK! \n&quot; # -e å¼€å¯è½¬ä¹‰</span><br><span class="line">echo &quot;It is a test&quot;</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">OK!</span><br><span class="line"></span><br><span class="line">It is a test</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<h5 id="æ˜¾ç¤ºä¸æ¢è¡Œ"><a href="#æ˜¾ç¤ºä¸æ¢è¡Œ" class="headerlink" title="æ˜¾ç¤ºä¸æ¢è¡Œ"></a>æ˜¾ç¤ºä¸æ¢è¡Œ</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sh</span><br><span class="line">echo -e &quot;OK! \c&quot; # -e å¼€å¯è½¬ä¹‰ \c ä¸æ¢è¡Œ</span><br><span class="line">echo &quot;It is a test&quot;</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">OK! It is a test</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<h4 id="printf-å‘½ä»¤"><a href="#printf-å‘½ä»¤" class="headerlink" title="printf å‘½ä»¤"></a>printf å‘½ä»¤</h4><p>printf å‘½ä»¤çš„è¯­æ³•ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">printf  format-string  [arguments...]</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p><strong>å‚æ•°è¯´æ˜ï¼š</strong></p>
<ul>
<li><strong>format-string:</strong> ä¸ºæ ¼å¼æ§åˆ¶å­—ç¬¦ä¸²</li>
<li><strong>arguments:</strong> ä¸ºå‚æ•°åˆ—è¡¨ã€‚</li>
</ul>
<p>å®ä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"> </span><br><span class="line">printf &quot;%-10s %-8s %-4s\n&quot; å§“å æ€§åˆ« ä½“é‡kg  </span><br><span class="line">printf &quot;%-10s %-8s %-4.2f\n&quot; éƒ­é– ç”· 66. </span><br><span class="line">printf &quot;%-10s %-8s %-4.2f\n&quot; æ¨è¿‡ ç”· 48.6543 </span><br><span class="line">printf &quot;%-10s %-8s %-4.2f\n&quot; éƒ­èŠ™ å¥³ 47.9876 </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œè„šæœ¬ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">å§“å     æ€§åˆ«   ä½“é‡kg</span><br><span class="line">éƒ­é–     ç”·      66.12</span><br><span class="line">æ¨è¿‡     ç”·      48.65</span><br><span class="line">éƒ­èŠ™     å¥³      47.99</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>%s %c %d %féƒ½æ˜¯æ ¼å¼æ›¿ä»£ç¬¦</li>
<li>%-10s æŒ‡ä¸€ä¸ªå®½åº¦ä¸º10ä¸ªå­—ç¬¦ï¼ˆ-è¡¨ç¤ºå·¦å¯¹é½ï¼Œæ²¡æœ‰åˆ™è¡¨ç¤ºå³å¯¹é½ï¼‰ï¼Œä»»ä½•å­—ç¬¦éƒ½ä¼šè¢«æ˜¾ç¤ºåœ¨10ä¸ªå­—ç¬¦å®½çš„å­—ç¬¦å†…ï¼Œå¦‚æœä¸è¶³åˆ™è‡ªåŠ¨ä»¥ç©ºæ ¼å¡«å……ï¼Œè¶…è¿‡ä¹Ÿä¼šå°†å†…å®¹å…¨éƒ¨æ˜¾ç¤ºå‡ºæ¥ã€‚</li>
<li>%-4.2f æŒ‡æ ¼å¼åŒ–ä¸ºå°æ•°ï¼Œå…¶ä¸­.2æŒ‡ä¿ç•™2ä½å°æ•°ã€‚</li>
</ul>
<p>printfçš„è½¬ä¹‰åºåˆ—ï¼š</p>
<table>
<thead>
<tr>
<th align="left">åºåˆ—</th>
<th align="left">è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="left">\a</td>
<td align="left">è­¦å‘Šå­—ç¬¦ï¼Œé€šå¸¸ä¸ºASCIIçš„BELå­—ç¬¦</td>
</tr>
<tr>
<td align="left">\b</td>
<td align="left">åé€€</td>
</tr>
<tr>
<td align="left">\c</td>
<td align="left">æŠ‘åˆ¶ï¼ˆä¸æ˜¾ç¤ºï¼‰è¾“å‡ºç»“æœä¸­ä»»ä½•ç»“å°¾çš„æ¢è¡Œå­—ç¬¦ï¼ˆåªåœ¨%bæ ¼å¼æŒ‡ç¤ºç¬¦æ§åˆ¶ä¸‹çš„å‚æ•°å­—ç¬¦ä¸²ä¸­æœ‰æ•ˆï¼‰ï¼Œè€Œä¸”ï¼Œä»»ä½•ç•™åœ¨å‚æ•°é‡Œçš„å­—ç¬¦ã€ä»»ä½•æ¥ä¸‹æ¥çš„å‚æ•°ä»¥åŠä»»ä½•ç•™åœ¨æ ¼å¼å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ï¼Œéƒ½è¢«å¿½ç•¥</td>
</tr>
<tr>
<td align="left">\f</td>
<td align="left">æ¢é¡µï¼ˆformfeedï¼‰</td>
</tr>
<tr>
<td align="left">\n</td>
<td align="left">æ¢è¡Œ</td>
</tr>
<tr>
<td align="left">\r</td>
<td align="left">å›è½¦ï¼ˆCarriage returnï¼‰</td>
</tr>
<tr>
<td align="left">\t</td>
<td align="left">æ°´å¹³åˆ¶è¡¨ç¬¦</td>
</tr>
<tr>
<td align="left">\v</td>
<td align="left">å‚ç›´åˆ¶è¡¨ç¬¦</td>
</tr>
<tr>
<td align="left">\</td>
<td align="left">ä¸€ä¸ªå­—é¢ä¸Šçš„åæ–œæ å­—ç¬¦</td>
</tr>
<tr>
<td align="left">\ddd</td>
<td align="left">è¡¨ç¤º1åˆ°3ä½æ•°å…«è¿›åˆ¶å€¼çš„å­—ç¬¦ã€‚ä»…åœ¨æ ¼å¼å­—ç¬¦ä¸²ä¸­æœ‰æ•ˆ</td>
</tr>
<tr>
<td align="left">\0ddd</td>
<td align="left">è¡¨ç¤º1åˆ°3ä½çš„å…«è¿›åˆ¶å€¼å­—ç¬¦</td>
</tr>
</tbody></table>
<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/test$ printf &quot;a string, no processing:&lt;%s&gt;\n&quot; &quot;A\nB&quot;</span><br><span class="line">a string, no processing:&lt;A\nB&gt;</span><br><span class="line">python@ubuntu:~/test$ printf &quot;a string, no processing:&lt;%b&gt;\n&quot; &quot;A\nB&quot;</span><br><span class="line">a string, no processing:&lt;A</span><br><span class="line">B&gt;</span><br><span class="line">python@ubuntu:~/test$ printf &quot;www.runoob.com \a&quot;</span><br><span class="line">www.runoob.com python@ubuntu:~/test$ </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="Shell-æ³¨é‡Š"><a href="#Shell-æ³¨é‡Š" class="headerlink" title="Shell æ³¨é‡Š"></a>Shell æ³¨é‡Š</h4><p>ä»¥ <strong>#</strong> å¼€å¤´çš„è¡Œå°±æ˜¯æ³¨é‡Šï¼Œä¼šè¢«è§£é‡Šå™¨å¿½ç•¥ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#--------------------------------------------</span><br><span class="line"># è¿™æ˜¯ä¸€ä¸ªæ³¨é‡Š</span><br><span class="line"># authorï¼šèœé¸Ÿæ•™ç¨‹</span><br><span class="line"># siteï¼šwww.taobao.com</span><br><span class="line"># sloganï¼šå­¦çš„ä¸ä»…æ˜¯æŠ€æœ¯ï¼Œæ›´æ˜¯æ¢¦æƒ³ï¼</span><br><span class="line">#--------------------------------------------</span><br><span class="line">##### ç”¨æˆ·é…ç½®åŒº å¼€å§‹ #####</span><br><span class="line">#</span><br><span class="line">#</span><br><span class="line"># è¿™é‡Œå¯ä»¥æ·»åŠ è„šæœ¬æè¿°ä¿¡æ¯</span><br><span class="line"># </span><br><span class="line">#</span><br><span class="line">##### ç”¨æˆ·é…ç½®åŒº ç»“æŸ  #####</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å¤šè¡Œæ³¨é‡Šè¿˜å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ ¼å¼ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">:&lt;&lt;EOF</span><br><span class="line">æ³¨é‡Šå†…å®¹...</span><br><span class="line">æ³¨é‡Šå†…å®¹...</span><br><span class="line">æ³¨é‡Šå†…å®¹...</span><br><span class="line">EOF</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>EOF ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–ç¬¦å·:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">:&lt;&lt;&#x27;</span><br><span class="line">æ³¨é‡Šå†…å®¹...</span><br><span class="line">æ³¨é‡Šå†…å®¹...</span><br><span class="line">æ³¨é‡Šå†…å®¹...</span><br><span class="line">&#x27;</span><br><span class="line"></span><br><span class="line">:&lt;&lt;!</span><br><span class="line">æ³¨é‡Šå†…å®¹...</span><br><span class="line">æ³¨é‡Šå†…å®¹...</span><br><span class="line">æ³¨é‡Šå†…å®¹...</span><br><span class="line">!</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="Shellå˜é‡"><a href="#Shellå˜é‡" class="headerlink" title="Shellå˜é‡"></a>Shellå˜é‡</h3><h4 id="å®šä¹‰å˜é‡"><a href="#å®šä¹‰å˜é‡" class="headerlink" title="å®šä¹‰å˜é‡"></a>å®šä¹‰å˜é‡</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">your_name=&quot;taobao.com&quot;</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>å˜é‡åçš„å‘½åé¡»éµå¾ªå¦‚ä¸‹è§„åˆ™ï¼š</p>
<ul>
<li>å‘½ååªèƒ½ä½¿ç”¨è‹±æ–‡å­—æ¯ï¼Œæ•°å­—å’Œä¸‹åˆ’çº¿ï¼Œé¦–ä¸ªå­—ç¬¦ä¸èƒ½ä»¥æ•°å­—å¼€å¤´ã€‚</li>
<li>ä¸­é—´ä¸èƒ½æœ‰ç©ºæ ¼ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹åˆ’çº¿ï¼ˆ_ï¼‰ã€‚</li>
<li>ä¸èƒ½ä½¿ç”¨æ ‡ç‚¹ç¬¦å·ã€‚</li>
<li>ä¸èƒ½ä½¿ç”¨bashé‡Œçš„å…³é”®å­—ï¼ˆå¯ç”¨helpå‘½ä»¤æŸ¥çœ‹ä¿ç•™å…³é”®å­—ï¼‰ã€‚</li>
</ul>
<h4 id="ä½¿ç”¨å˜é‡"><a href="#ä½¿ç”¨å˜é‡" class="headerlink" title="ä½¿ç”¨å˜é‡"></a>ä½¿ç”¨å˜é‡</h4><p>åœ¨å˜é‡åå‰é¢åŠ ç¾å…ƒç¬¦å·å³å¯ï¼Œå¦‚ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">your_name=&quot;qinjx&quot;</span><br><span class="line">echo $your_name</span><br><span class="line">echo $&#123;your_name&#125;</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<p>åŠ èŠ±æ‹¬å·å¯ä»¥å¸®åŠ©è§£é‡Šå™¨è¯†åˆ«å˜é‡çš„è¾¹ç•Œï¼Œæ¯”å¦‚ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">for skill in Ada Coffe Action Java; do</span><br><span class="line">    echo &quot;I am good at $&#123;skill&#125;Script&quot;</span><br><span class="line">done</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<h4 id="åªè¯»å˜é‡"><a href="#åªè¯»å˜é‡" class="headerlink" title="åªè¯»å˜é‡"></a>åªè¯»å˜é‡</h4><p>ä½¿ç”¨ readonly å‘½ä»¤å¯ä»¥å°†å˜é‡å®šä¹‰ä¸ºåªè¯»å˜é‡ï¼Œåªè¯»å˜é‡çš„å€¼ä¸èƒ½è¢«æ”¹å˜ã€‚</p>
<p>ä¸‹é¢çš„ä¾‹å­å°è¯•æ›´æ”¹åªè¯»å˜é‡ï¼Œç»“æœæŠ¥é”™ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/shell$ myUrl=&quot;http://www.google.com&quot;</span><br><span class="line">python@ubuntu:~/shell$ readonly myUrl</span><br><span class="line">python@ubuntu:~/shell$ myUrl=&quot;http://www.baidu.com&quot;</span><br><span class="line">-bash: myUrl: åªè¯»å˜é‡</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="åˆ é™¤å˜é‡"><a href="#åˆ é™¤å˜é‡" class="headerlink" title="åˆ é™¤å˜é‡"></a>åˆ é™¤å˜é‡</h4><p>ä½¿ç”¨ unset å‘½ä»¤å¯ä»¥åˆ é™¤å˜é‡ï¼Œä½†ä¸èƒ½åˆ é™¤åªè¯»å˜é‡ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/sh</span><br><span class="line">myUrl=&quot;http://www.baidu.com&quot;</span><br><span class="line">unset myUrl</span><br><span class="line">echo $myUrl</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="å˜é‡ç±»å‹"><a href="#å˜é‡ç±»å‹" class="headerlink" title="å˜é‡ç±»å‹"></a>å˜é‡ç±»å‹</h4><p>è¿è¡Œshellæ—¶ï¼Œä¼šåŒæ—¶å­˜åœ¨ä¸‰ç§å˜é‡ï¼š</p>
<ul>
<li><strong>1) å±€éƒ¨å˜é‡</strong> å±€éƒ¨å˜é‡åœ¨è„šæœ¬æˆ–å‘½ä»¤ä¸­å®šä¹‰ï¼Œä»…åœ¨å½“å‰shellå®ä¾‹ä¸­æœ‰æ•ˆï¼Œå…¶ä»–shellå¯åŠ¨çš„ç¨‹åºä¸èƒ½è®¿é—®å±€éƒ¨å˜é‡ã€‚</li>
<li><strong>2) ç¯å¢ƒå˜é‡</strong> æ‰€æœ‰çš„ç¨‹åºï¼ŒåŒ…æ‹¬shellå¯åŠ¨çš„ç¨‹åºï¼Œéƒ½èƒ½è®¿é—®ç¯å¢ƒå˜é‡ï¼Œæœ‰äº›ç¨‹åºéœ€è¦ç¯å¢ƒå˜é‡æ¥ä¿è¯å…¶æ­£å¸¸è¿è¡Œã€‚å¿…è¦çš„æ—¶å€™shellè„šæœ¬ä¹Ÿå¯ä»¥å®šä¹‰ç¯å¢ƒå˜é‡ã€‚</li>
<li><strong>3) shellå˜é‡</strong> shellå˜é‡æ˜¯ç”±shellç¨‹åºè®¾ç½®çš„ç‰¹æ®Šå˜é‡ã€‚shellå˜é‡ä¸­æœ‰ä¸€éƒ¨åˆ†æ˜¯ç¯å¢ƒå˜é‡ï¼Œæœ‰ä¸€éƒ¨åˆ†æ˜¯å±€éƒ¨å˜é‡ï¼Œè¿™äº›å˜é‡ä¿è¯äº†shellçš„æ­£å¸¸è¿è¡Œ</li>
</ul>
<h3 id="Shell-å‡½æ•°"><a href="#Shell-å‡½æ•°" class="headerlink" title="Shell å‡½æ•°"></a>Shell å‡½æ•°</h3><p>shellä¸­å‡½æ•°çš„å®šä¹‰æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[ function ] funname [()]</span><br><span class="line">&#123;</span><br><span class="line">    action;</span><br><span class="line">    [return int;]</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¯´æ˜ï¼š</p>
<ul>
<li>1ã€å¯ä»¥å¸¦function fun() å®šä¹‰ï¼Œä¹Ÿå¯ä»¥ç›´æ¥fun() å®šä¹‰,ä¸å¸¦ä»»ä½•å‚æ•°ã€‚</li>
<li>2ã€å‚æ•°è¿”å›ï¼Œå¯ä»¥æ˜¾ç¤ºåŠ ï¼šreturn è¿”å›ï¼Œå¦‚æœä¸åŠ ï¼Œå°†ä»¥æœ€åä¸€æ¡å‘½ä»¤è¿è¡Œç»“æœï¼Œä½œä¸ºè¿”å›å€¼ã€‚ returnåè·Ÿæ•°å€¼n(0-255)</li>
</ul>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">funWithReturn()&#123;</span><br><span class="line">    echo &quot;è¿™ä¸ªå‡½æ•°ä¼šå¯¹è¾“å…¥çš„ä¸¤ä¸ªæ•°å­—è¿›è¡Œç›¸åŠ è¿ç®—...&quot;</span><br><span class="line">    echo &quot;è¾“å…¥ç¬¬ä¸€ä¸ªæ•°å­—: &quot;</span><br><span class="line">    read aNum</span><br><span class="line">    echo &quot;è¾“å…¥ç¬¬äºŒä¸ªæ•°å­—: &quot;</span><br><span class="line">    read anotherNum</span><br><span class="line">    echo &quot;ä¸¤ä¸ªæ•°å­—åˆ†åˆ«ä¸º $aNum å’Œ $anotherNum !&quot;</span><br><span class="line">    return $(($aNum+$anotherNum))</span><br><span class="line">&#125;</span><br><span class="line">funWithReturn</span><br><span class="line">echo &quot;è¾“å…¥çš„ä¸¤ä¸ªæ•°å­—ä¹‹å’Œä¸º $? !&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºï¼Œç±»ä¼¼ä¸‹é¢ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">è¿™ä¸ªå‡½æ•°ä¼šå¯¹è¾“å…¥çš„ä¸¤ä¸ªæ•°å­—è¿›è¡Œç›¸åŠ è¿ç®—...</span><br><span class="line">è¾“å…¥ç¬¬ä¸€ä¸ªæ•°å­—: </span><br><span class="line">1</span><br><span class="line">è¾“å…¥ç¬¬äºŒä¸ªæ•°å­—: </span><br><span class="line">2</span><br><span class="line">ä¸¤ä¸ªæ•°å­—åˆ†åˆ«ä¸º 1 å’Œ 2 !</span><br><span class="line">è¾“å…¥çš„ä¸¤ä¸ªæ•°å­—ä¹‹å’Œä¸º 3 !</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å‡½æ•°è¿”å›å€¼åœ¨è°ƒç”¨è¯¥å‡½æ•°åé€šè¿‡ $? æ¥è·å¾—ã€‚</p>
<p>æ³¨æ„ï¼šæ‰€æœ‰å‡½æ•°åœ¨ä½¿ç”¨å‰å¿…é¡»å®šä¹‰ã€‚è¿™æ„å‘³ç€å¿…é¡»å°†å‡½æ•°æ”¾åœ¨è„šæœ¬å¼€å§‹éƒ¨åˆ†ï¼Œç›´è‡³shellè§£é‡Šå™¨é¦–æ¬¡å‘ç°å®ƒæ—¶ï¼Œæ‰å¯ä»¥ä½¿ç”¨ã€‚è°ƒç”¨å‡½æ•°ä»…ä½¿ç”¨å…¶å‡½æ•°åå³å¯ã€‚</p>
<p>åœ¨Shellä¸­ï¼Œè°ƒç”¨å‡½æ•°æ—¶å¯ä»¥å‘å…¶ä¼ é€’å‚æ•°ã€‚åœ¨å‡½æ•°ä½“å†…éƒ¨ï¼Œé€šè¿‡ <code>$n</code> çš„å½¢å¼æ¥è·å–å‚æ•°çš„å€¼ï¼Œä¾‹å¦‚ï¼Œ<code>$1</code>è¡¨ç¤ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œ<code>$2</code>è¡¨ç¤ºç¬¬äºŒä¸ªå‚æ•°â€¦</p>
<p>å¸¦å‚æ•°çš„å‡½æ•°ç¤ºä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">funWithParam()&#123;</span><br><span class="line">    echo &quot;ç¬¬ä¸€ä¸ªå‚æ•°ä¸º $1 !&quot;</span><br><span class="line">    echo &quot;ç¬¬äºŒä¸ªå‚æ•°ä¸º $2 !&quot;</span><br><span class="line">    echo &quot;ç¬¬åä¸ªå‚æ•°ä¸º $10 !&quot;</span><br><span class="line">    echo &quot;ç¬¬åä¸ªå‚æ•°ä¸º $&#123;10&#125; !&quot;</span><br><span class="line">    echo &quot;ç¬¬åä¸€ä¸ªå‚æ•°ä¸º $&#123;11&#125; !&quot;</span><br><span class="line">    echo &quot;å‚æ•°æ€»æ•°æœ‰ $# ä¸ª!&quot;</span><br><span class="line">    echo &quot;ä½œä¸ºä¸€ä¸ªå­—ç¬¦ä¸²è¾“å‡ºæ‰€æœ‰å‚æ•° $* !&quot;</span><br><span class="line">&#125;</span><br><span class="line">funWithParam 1 2 3 4 5 6 7 8 9 34 73</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ç¬¬ä¸€ä¸ªå‚æ•°ä¸º 1 !</span><br><span class="line">ç¬¬äºŒä¸ªå‚æ•°ä¸º 2 !</span><br><span class="line">ç¬¬åä¸ªå‚æ•°ä¸º 10 !</span><br><span class="line">ç¬¬åä¸ªå‚æ•°ä¸º 34 !</span><br><span class="line">ç¬¬åä¸€ä¸ªå‚æ•°ä¸º 73 !</span><br><span class="line">å‚æ•°æ€»æ•°æœ‰ 11 ä¸ª!</span><br><span class="line">ä½œä¸ºä¸€ä¸ªå­—ç¬¦ä¸²è¾“å‡ºæ‰€æœ‰å‚æ•° 1 2 3 4 5 6 7 8 9 34 73 !</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å½“n&gt;&#x3D;10æ—¶ï¼Œéœ€è¦ä½¿ç”¨<code>$&#123;n&#125;</code>æ¥è·å–å‚æ•°ã€‚</p>
<p>å¦å¤–ï¼Œè¿˜æœ‰å‡ ä¸ªç‰¹æ®Šå­—ç¬¦ç”¨æ¥å¤„ç†å‚æ•°ï¼š</p>
<table>
<thead>
<tr>
<th align="left">å‚æ•°å¤„ç†</th>
<th align="left">è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="left">$#</td>
<td align="left">ä¼ é€’åˆ°è„šæœ¬çš„å‚æ•°ä¸ªæ•°</td>
</tr>
<tr>
<td align="left">$*</td>
<td align="left">ä»¥ä¸€ä¸ªå•å­—ç¬¦ä¸²æ˜¾ç¤ºæ‰€æœ‰å‘è„šæœ¬ä¼ é€’çš„å‚æ•°</td>
</tr>
<tr>
<td align="left">$$</td>
<td align="left">è„šæœ¬è¿è¡Œçš„å½“å‰è¿›ç¨‹IDå·</td>
</tr>
<tr>
<td align="left">$!</td>
<td align="left">åå°è¿è¡Œçš„æœ€åä¸€ä¸ªè¿›ç¨‹çš„IDå·</td>
</tr>
<tr>
<td align="left">$@</td>
<td align="left">ä¸$*ç›¸åŒï¼Œä½†æ˜¯ä½¿ç”¨æ—¶åŠ å¼•å·ï¼Œå¹¶åœ¨å¼•å·ä¸­è¿”å›æ¯ä¸ªå‚æ•°ã€‚</td>
</tr>
<tr>
<td align="left">$-</td>
<td align="left">æ˜¾ç¤ºShellä½¿ç”¨çš„å½“å‰é€‰é¡¹ï¼Œä¸setå‘½ä»¤åŠŸèƒ½ç›¸åŒã€‚</td>
</tr>
<tr>
<td align="left">$?</td>
<td align="left">æ˜¾ç¤ºæœ€åå‘½ä»¤çš„é€€å‡ºçŠ¶æ€ã€‚0è¡¨ç¤ºæ²¡æœ‰é”™è¯¯ï¼Œå…¶ä»–ä»»ä½•å€¼è¡¨æ˜æœ‰é”™è¯¯ã€‚</td>
</tr>
</tbody></table>
<h3 id="æ–‡ä»¶åŒ…å«"><a href="#æ–‡ä»¶åŒ…å«" class="headerlink" title="æ–‡ä»¶åŒ…å«"></a>æ–‡ä»¶åŒ…å«</h3><p>Shell æ–‡ä»¶åŒ…å«çš„è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">. filename   # æ³¨æ„ç‚¹å·(.)å’Œæ–‡ä»¶åä¸­é—´æœ‰ä¸€ç©ºæ ¼</span><br><span class="line">æˆ–</span><br><span class="line">source filename</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<p><strong>å®ä¾‹</strong></p>
<p>åˆ›å»ºä¸¤ä¸ª shell è„šæœ¬æ–‡ä»¶ã€‚</p>
<p>test1.sh ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">url=&quot;http://www.baidu.com&quot;</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<p>test2.sh ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">#ä½¿ç”¨ . å·æ¥å¼•ç”¨test1.sh æ–‡ä»¶</span><br><span class="line">. ./test1.sh</span><br><span class="line"># æˆ–è€…ä½¿ç”¨ä»¥ä¸‹åŒ…å«æ–‡ä»¶ä»£ç </span><br><span class="line"># source ./test1.sh</span><br><span class="line"></span><br><span class="line">echo &quot;urlåœ°å€ï¼š$url&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä¸º test2.sh æ·»åŠ å¯æ‰§è¡Œæƒé™å¹¶æ‰§è¡Œï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ chmod +x test2.sh </span><br><span class="line">$ ./test2.sh </span><br><span class="line">urlåœ°å€ï¼šhttp://www.baidu.com</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<blockquote>
<p>**æ³¨ï¼š**è¢«åŒ…å«çš„æ–‡ä»¶ test1.sh ä¸éœ€è¦å¯æ‰§è¡Œæƒé™ã€‚</p>
</blockquote>
<h3 id="shellæ•°æ®ç±»å‹"><a href="#shellæ•°æ®ç±»å‹" class="headerlink" title="shellæ•°æ®ç±»å‹"></a>shellæ•°æ®ç±»å‹</h3><h4 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h4><p>å­—ç¬¦ä¸²å¯ä»¥ç”¨å•å¼•å·ï¼Œä¹Ÿå¯ä»¥ç”¨åŒå¼•å·ï¼Œä¹Ÿå¯ä»¥ä¸ç”¨å¼•å·ã€‚</p>
<p>å•å¼•å·ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">str=&#x27;this is a string&#x27;</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>å•å¼•å·å­—ç¬¦ä¸²çš„é™åˆ¶ï¼š</p>
<ul>
<li>å•å¼•å·é‡Œçš„ä»»ä½•å­—ç¬¦éƒ½ä¼šåŸæ ·è¾“å‡ºï¼Œå•å¼•å·å­—ç¬¦ä¸²ä¸­çš„å˜é‡æ˜¯æ— æ•ˆçš„ï¼›</li>
<li>å•å¼•å·å­—ä¸²ä¸­ä¸èƒ½å‡ºç°å•ç‹¬ä¸€ä¸ªçš„å•å¼•å·ï¼ˆå¯¹å•å¼•å·ä½¿ç”¨è½¬ä¹‰ç¬¦åä¹Ÿä¸è¡Œï¼‰ï¼Œä½†å¯æˆå¯¹å‡ºç°ï¼Œä½œä¸ºå­—ç¬¦ä¸²æ‹¼æ¥ä½¿ç”¨ã€‚</li>
</ul>
<p>åŒå¼•å·ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">your_name=&#x27;taobao&#x27;</span><br><span class="line">str=&quot;Hello, I know you are \&quot;$your_name\&quot;! \n&quot;</span><br><span class="line">echo -e $str</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœä¸ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Hello, I know you are &quot;taobao&quot;! </span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>åŒå¼•å·çš„ä¼˜ç‚¹ï¼š</p>
<ul>
<li>åŒå¼•å·é‡Œå¯ä»¥æœ‰å˜é‡</li>
<li>åŒå¼•å·é‡Œå¯ä»¥å‡ºç°è½¬ä¹‰å­—ç¬¦</li>
</ul>
<p>æ‹¼æ¥å­—ç¬¦ä¸²ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">your_name=&quot;taobao&quot;</span><br><span class="line"># ä½¿ç”¨åŒå¼•å·æ‹¼æ¥</span><br><span class="line">greeting=&quot;hello, &quot;$your_name&quot; !&quot;</span><br><span class="line">greeting_1=&quot;hello, $&#123;your_name&#125; !&quot;</span><br><span class="line">echo $greeting  $greeting_1</span><br><span class="line"># ä½¿ç”¨å•å¼•å·æ‹¼æ¥</span><br><span class="line">greeting_2=&#x27;hello, &#x27;$your_name&#x27; !&#x27;</span><br><span class="line">greeting_3=&#x27;hello, $&#123;your_name&#125; !&#x27;</span><br><span class="line">echo $greeting_2  $greeting_3</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœä¸ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">hello, taobao ! hello, taobao !</span><br><span class="line">hello, taobao ! hello, $&#123;your_name&#125; !</span><br></pre></td></tr></table></figure>

<p>è·å–å­—ç¬¦ä¸²é•¿åº¦</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">string=&quot;abcd&quot;</span><br><span class="line">echo $&#123;#string&#125; #è¾“å‡º 4</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p><strong>æˆªå–å­—ç¬¦ä¸²${s:n1:n2}</strong></p>
<p>ä»¥ä¸‹å®ä¾‹ä»å­—ç¬¦ä¸²ç¬¬ <strong>2</strong> ä¸ªå­—ç¬¦å¼€å§‹æˆªå– <strong>4</strong> ä¸ªå­—ç¬¦ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">string=&quot;taobao is a great site&quot;</span><br><span class="line">echo $&#123;string:1:4&#125; # è¾“å‡º unoo</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p><strong>æŸ¥æ‰¾å­—ç¬¦å‡ºç°çš„ä½ç½®<code>expr index</code></strong></p>
<p>æŸ¥æ‰¾å­—ç¬¦ <strong>i</strong> æˆ– <strong>o</strong> çš„ä½ç½®(å“ªä¸ªå­—æ¯å…ˆå‡ºç°å°±è®¡ç®—å“ªä¸ª)ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">string=&quot;taobao is a great site&quot;</span><br><span class="line">echo `expr index &quot;$string&quot; io`  # è¾“å‡º 3</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼š</strong> ä»¥ä¸Šè„šæœ¬ä¸­ <strong>`</strong> æ˜¯åå¼•å·ï¼Œè€Œä¸æ˜¯å•å¼•å· **â€™**ã€‚</p>
<h4 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h4><p>bashæ”¯æŒä¸€ç»´æ•°ç»„ï¼ˆä¸æ”¯æŒå¤šç»´æ•°ç»„ï¼‰ï¼Œå¹¶ä¸”æ²¡æœ‰é™å®šæ•°ç»„çš„å¤§å°ã€‚</p>
<p>æ•°ç»„å…ƒç´ çš„ä¸‹æ ‡ç”± 0 å¼€å§‹ç¼–å·ã€‚</p>
<h5 id="å®šä¹‰æ•°ç»„"><a href="#å®šä¹‰æ•°ç»„" class="headerlink" title="å®šä¹‰æ•°ç»„"></a>å®šä¹‰æ•°ç»„</h5><p>åœ¨ Shell ä¸­ï¼Œç”¨æ‹¬å·æ¥è¡¨ç¤ºæ•°ç»„ï¼Œæ•°ç»„å…ƒç´ ç”¨â€ç©ºæ ¼â€ç¬¦å·åˆ†å‰²å¼€ã€‚å®šä¹‰æ•°ç»„çš„ä¸€èˆ¬å½¢å¼ä¸ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">array_name=(value0 value1 value2 value3)</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>æˆ–è€…</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">array_name=(</span><br><span class="line">value0</span><br><span class="line">value1</span><br><span class="line">value2</span><br><span class="line">value3</span><br><span class="line">)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æˆ–å•ç‹¬å®šä¹‰æ•°ç»„çš„å„ä¸ªåˆ†é‡ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">array_name[0]=value0</span><br><span class="line">array_name[1]=value1</span><br><span class="line">array_name[n]=valuen</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<p>å¯ä»¥ä¸ä½¿ç”¨è¿ç»­çš„ä¸‹æ ‡ï¼Œè€Œä¸”ä¸‹æ ‡çš„èŒƒå›´æ²¡æœ‰é™åˆ¶ã€‚</p>
<h5 id="è¯»å–æ•°ç»„"><a href="#è¯»å–æ•°ç»„" class="headerlink" title="è¯»å–æ•°ç»„"></a>è¯»å–æ•°ç»„</h5><p>è¯»å–æ•°ç»„å…ƒç´ å€¼çš„ä¸€èˆ¬æ ¼å¼æ˜¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">valuen=$&#123;array_name[n]&#125;</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">my_array=(A B &quot;C&quot; D)</span><br><span class="line"></span><br><span class="line">echo &quot;ç¬¬ä¸€ä¸ªå…ƒç´ ä¸º: $&#123;my_array[0]&#125;&quot;</span><br><span class="line">echo &quot;ç¬¬äºŒä¸ªå…ƒç´ ä¸º: $&#123;my_array[1]&#125;&quot;</span><br><span class="line">echo &quot;ç¬¬ä¸‰ä¸ªå…ƒç´ ä¸º: $&#123;my_array[2]&#125;&quot;</span><br><span class="line">echo &quot;ç¬¬å››ä¸ªå…ƒç´ ä¸º: $&#123;my_array[3]&#125;&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œè„šæœ¬ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ chmod +x test.sh </span><br><span class="line">$ ./test.sh</span><br><span class="line">ç¬¬ä¸€ä¸ªå…ƒç´ ä¸º: A</span><br><span class="line">ç¬¬äºŒä¸ªå…ƒç´ ä¸º: B</span><br><span class="line">ç¬¬ä¸‰ä¸ªå…ƒç´ ä¸º: C</span><br><span class="line">ç¬¬å››ä¸ªå…ƒç´ ä¸º: D</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨ <code>@</code>æˆ–<code>*</code> ç¬¦å·å¯ä»¥è·å–æ•°ç»„ä¸­çš„æ‰€æœ‰å…ƒç´ ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">echo $&#123;array_name[@]&#125;</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">my_array[0]=A</span><br><span class="line">my_array[1]=B</span><br><span class="line">my_array[2]=C</span><br><span class="line">my_array[3]=D</span><br><span class="line"></span><br><span class="line">echo &quot;æ•°ç»„çš„å…ƒç´ ä¸º: $&#123;my_array[*]&#125;&quot;</span><br><span class="line">echo &quot;æ•°ç»„çš„å…ƒç´ ä¸º: $&#123;my_array[@]&#125;&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œè„šæœ¬ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ chmod +x test.sh </span><br><span class="line">$ ./test.sh</span><br><span class="line">æ•°ç»„çš„å…ƒç´ ä¸º: A B C D</span><br><span class="line">æ•°ç»„çš„å…ƒç´ ä¸º: A B C D</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="è·å–æ•°ç»„çš„é•¿åº¦"><a href="#è·å–æ•°ç»„çš„é•¿åº¦" class="headerlink" title="è·å–æ•°ç»„çš„é•¿åº¦"></a>è·å–æ•°ç»„çš„é•¿åº¦</h5><p>è·å–æ•°ç»„é•¿åº¦çš„æ–¹æ³•ä¸è·å–å­—ç¬¦ä¸²é•¿åº¦çš„æ–¹æ³•ç›¸åŒï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># å–å¾—æ•°ç»„å…ƒç´ çš„ä¸ªæ•°</span><br><span class="line">length=$&#123;#array_name[@]&#125;</span><br><span class="line"># æˆ–è€…</span><br><span class="line">length=$&#123;#array_name[*]&#125;</span><br><span class="line"># å–å¾—æ•°ç»„å•ä¸ªå…ƒç´ çš„é•¿åº¦</span><br><span class="line">lengthn=$&#123;#array_name[n]&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">my_array[0]=A</span><br><span class="line">my_array[1]=B</span><br><span class="line">my_array[2]=C</span><br><span class="line">my_array[3]=D</span><br><span class="line"></span><br><span class="line">echo &quot;æ•°ç»„å…ƒç´ ä¸ªæ•°ä¸º: $&#123;#my_array[*]&#125;&quot;</span><br><span class="line">echo &quot;æ•°ç»„å…ƒç´ ä¸ªæ•°ä¸º: $&#123;#my_array[@]&#125;&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œè„šæœ¬ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ chmod +x test.sh </span><br><span class="line">$ ./test.sh</span><br><span class="line">æ•°ç»„å…ƒç´ ä¸ªæ•°ä¸º: 4</span><br><span class="line">æ•°ç»„å…ƒç´ ä¸ªæ•°ä¸º: 4</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="Shellä¼ é€’å‚æ•°"><a href="#Shellä¼ é€’å‚æ•°" class="headerlink" title="Shellä¼ é€’å‚æ•°"></a>Shellä¼ é€’å‚æ•°</h4><p>æ‰§è¡Œ Shell è„šæœ¬æ—¶ï¼Œå‘è„šæœ¬ä¼ é€’å‚æ•°ï¼Œè„šæœ¬å†…è·å–å‚æ•°çš„æ ¼å¼ä¸ºï¼š**$n**ã€‚</p>
<p><strong>n</strong> ä»£è¡¨ä¸€ä¸ªæ•°å­—ï¼Œ1 ä¸ºæ‰§è¡Œè„šæœ¬çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œ2 ä¸ºæ‰§è¡Œè„šæœ¬çš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œä»¥æ­¤ç±»æ¨â€¦â€¦</p>
<p><strong>$0</strong> ä¸ºæ‰§è¡Œçš„æ–‡ä»¶å</p>
<p>test.shæ–‡ä»¶å†…å®¹å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">vi test.sh</span><br><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">echo &quot;Shell ä¼ é€’å‚æ•°å®ä¾‹ï¼&quot;;</span><br><span class="line">echo &quot;æ‰§è¡Œçš„æ–‡ä»¶åï¼š$0&quot;;</span><br><span class="line">echo &quot;ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºï¼š$1&quot;;</span><br><span class="line">echo &quot;ç¬¬äºŒä¸ªå‚æ•°ä¸ºï¼š$2&quot;;</span><br><span class="line">echo &quot;ç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºï¼š$3&quot;;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/test$ sh test.sh 1 2 3</span><br><span class="line">Shell ä¼ é€’å‚æ•°å®ä¾‹ï¼</span><br><span class="line">æ‰§è¡Œçš„æ–‡ä»¶åï¼štest.sh</span><br><span class="line">ç¬¬ä¸€ä¸ªå‚æ•°ä¸ºï¼š1</span><br><span class="line">ç¬¬äºŒä¸ªå‚æ•°ä¸ºï¼š2</span><br><span class="line">ç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºï¼š3</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å‚æ•°è·å–ï¼š</p>
<table>
<thead>
<tr>
<th align="left">å‚æ•°å¤„ç†</th>
<th align="left">è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="left">$#</td>
<td align="left">ä¼ é€’åˆ°è„šæœ¬çš„å‚æ•°ä¸ªæ•°</td>
</tr>
<tr>
<td align="left"><code>$*</code></td>
<td align="left">ä¼ é€’çš„å‚æ•°ä½œä¸ºä¸€ä¸ªå­—ç¬¦ä¸²æ˜¾ç¤º</td>
</tr>
<tr>
<td align="left">$$</td>
<td align="left">è„šæœ¬è¿è¡Œçš„å½“å‰è¿›ç¨‹IDå·</td>
</tr>
<tr>
<td align="left">$!</td>
<td align="left">åå°è¿è¡Œçš„æœ€åä¸€ä¸ªè¿›ç¨‹çš„IDå·</td>
</tr>
<tr>
<td align="left"><code>$@</code></td>
<td align="left">ä¸<code>$*</code>ç›¸åŒï¼Œä½†æ˜¯ä½¿ç”¨æ—¶åŠ å¼•å·</td>
</tr>
<tr>
<td align="left">$?</td>
<td align="left">æ˜¾ç¤ºæœ€åå‘½ä»¤çš„é€€å‡ºçŠ¶æ€ã€‚0è¡¨ç¤ºæ²¡æœ‰é”™è¯¯ï¼Œå…¶ä»–ä»»ä½•å€¼è¡¨æ˜æœ‰é”™è¯¯ã€‚</td>
</tr>
</tbody></table>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">echo &quot;å‚æ•°ä¸ªæ•°ä¸ºï¼š$#&quot;;</span><br><span class="line">echo &quot;$*ä¼ é€’çš„å‚æ•°ä½œä¸ºä¸€ä¸ªå­—ç¬¦ä¸²æ˜¾ç¤ºï¼š$*&quot;;</span><br><span class="line">echo &quot;$@ä¼ é€’çš„å‚æ•°ä½œä¸ºä¸€ä¸ªå­—ç¬¦ä¸²æ˜¾ç¤ºï¼š$@&quot;;</span><br><span class="line">echo &quot;è„šæœ¬è¿è¡Œçš„å½“å‰è¿›ç¨‹IDå·ï¼š$$&quot;;</span><br><span class="line">echo &quot;åå°è¿è¡Œçš„æœ€åä¸€ä¸ªè¿›ç¨‹çš„IDå·ï¼š$!&quot;;</span><br><span class="line">echo &quot;$?&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œè„šæœ¬ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/test$ ./test.sh 1 2 3</span><br><span class="line">å‚æ•°ä¸ªæ•°ä¸ºï¼š3</span><br><span class="line">1 2 3ä¼ é€’çš„å‚æ•°ä½œä¸ºä¸€ä¸ªå­—ç¬¦ä¸²æ˜¾ç¤ºï¼š1 2 3</span><br><span class="line">1 2 3ä¼ é€’çš„å‚æ•°ä½œä¸ºä¸€ä¸ªå­—ç¬¦ä¸²æ˜¾ç¤ºï¼š1 2 3</span><br><span class="line">è„šæœ¬è¿è¡Œçš„å½“å‰è¿›ç¨‹IDå·ï¼š5059</span><br><span class="line">åå°è¿è¡Œçš„æœ€åä¸€ä¸ªè¿›ç¨‹çš„IDå·ï¼š</span><br><span class="line">0</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><code>$*</code>ä¸<code>$@</code>çš„åŒºåˆ«ï¼š</p>
<ul>
<li>åªæœ‰åœ¨åŒå¼•å·ä¸­ä½“ç°å‡ºæ¥ã€‚å‡è®¾åœ¨è„šæœ¬è¿è¡Œæ—¶å†™äº†ä¸‰ä¸ªå‚æ•° 1ã€2ã€3ï¼Œï¼Œåˆ™<code>$*</code> ç­‰ä»·äº â€œ1 2 3â€ï¼ˆä¼ é€’äº†ä¸€ä¸ªå‚æ•°ï¼‰ï¼Œè€Œ<code>$@</code>ç­‰ä»·äº â€œ1â€ â€œ2â€ â€œ3â€ï¼ˆä¼ é€’äº†ä¸‰ä¸ªå‚æ•°ï¼‰ã€‚</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">echo &quot;-- \&quot;\$*\&quot; æ¼”ç¤º ---&quot;</span><br><span class="line">for i in &quot;$*&quot;; do</span><br><span class="line">    echo $i</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">echo &quot;-- \&quot;\$@\&quot; æ¼”ç¤º ---&quot;</span><br><span class="line">for i in &quot;$@&quot;; do</span><br><span class="line">    echo $i</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">echo &quot;-- \$* æ¼”ç¤º ---&quot;</span><br><span class="line">for i in $*; do</span><br><span class="line">    echo $i</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">echo &quot;-- \$@ æ¼”ç¤º ---&quot;</span><br><span class="line">for i in $@; do</span><br><span class="line">    echo $i</span><br><span class="line">done</span><br><span class="line">21</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œè„šæœ¬ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/test$ sh test 1 2 3</span><br><span class="line">-- &quot;$*&quot; æ¼”ç¤º ---</span><br><span class="line">1 2 3</span><br><span class="line">-- &quot;$@&quot; æ¼”ç¤º ---</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">-- $* æ¼”ç¤º ---</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">-- $@ æ¼”ç¤º ---</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="ShellåŸºæœ¬è¿ç®—ç¬¦"><a href="#ShellåŸºæœ¬è¿ç®—ç¬¦" class="headerlink" title="ShellåŸºæœ¬è¿ç®—ç¬¦"></a>ShellåŸºæœ¬è¿ç®—ç¬¦</h3><p>Shell å’Œå…¶ä»–ç¼–ç¨‹è¯­è¨€ä¸€æ ·ï¼Œæ”¯æŒå¤šç§è¿ç®—ç¬¦ï¼ŒåŒ…æ‹¬ï¼š</p>
<ul>
<li>ç®—æ•°è¿ç®—ç¬¦</li>
<li>å…³ç³»è¿ç®—ç¬¦</li>
<li>å¸ƒå°”è¿ç®—ç¬¦</li>
<li>å­—ç¬¦ä¸²è¿ç®—ç¬¦</li>
<li>æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦</li>
</ul>
<p>åŸç”Ÿbashä¸æ”¯æŒç®€å•çš„æ•°å­¦è¿ç®—ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡å…¶ä»–å‘½ä»¤æ¥å®ç°ï¼Œä¾‹å¦‚ awk å’Œ exprï¼Œexpr æœ€å¸¸ç”¨ã€‚</p>
<p>expr æ˜¯ä¸€æ¬¾è¡¨è¾¾å¼è®¡ç®—å·¥å…·ï¼Œä½¿ç”¨å®ƒèƒ½å®Œæˆè¡¨è¾¾å¼çš„æ±‚å€¼æ“ä½œã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">val=`expr 2 + 2`</span><br><span class="line">echo &quot;ä¸¤æ•°ä¹‹å’Œä¸º : $val&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œè„šæœ¬ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ä¸¤æ•°ä¹‹å’Œä¸º : 4</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>ä¸¤ç‚¹æ³¨æ„ï¼š</p>
<ul>
<li>è¡¨è¾¾å¼å’Œè¿ç®—ç¬¦ä¹‹é—´è¦æœ‰ç©ºæ ¼ï¼Œä¾‹å¦‚ 2+2 æ˜¯ä¸å¯¹çš„ï¼Œå¿…é¡»å†™æˆ 2 + 2ã€‚</li>
<li>å®Œæ•´çš„è¡¨è¾¾å¼è¦è¢« ` ` åŒ…å«ï¼Œè¿™ä¸ªå­—ç¬¦æ˜¯<strong>åå¼•å·</strong>åœ¨ Esc é”®ä¸‹è¾¹ã€‚</li>
</ul>
<h4 id="ç®—æœ¯è¿ç®—ç¬¦"><a href="#ç®—æœ¯è¿ç®—ç¬¦" class="headerlink" title="ç®—æœ¯è¿ç®—ç¬¦"></a>ç®—æœ¯è¿ç®—ç¬¦</h4><p>ä¸‹è¡¨åˆ—å‡ºäº†å¸¸ç”¨çš„ç®—æœ¯è¿ç®—ç¬¦ï¼Œå‡å®šå˜é‡ a ä¸º 10ï¼Œå˜é‡ b ä¸º 20ï¼š</p>
<table>
<thead>
<tr>
<th align="left">è¿ç®—ç¬¦</th>
<th align="left">è¯´æ˜</th>
<th align="left">ä¸¾ä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td align="left">+</td>
<td align="left">åŠ æ³•</td>
<td align="left"><code>expr $a + $b</code> ç»“æœä¸º 30ã€‚</td>
</tr>
<tr>
<td align="left">-</td>
<td align="left">å‡æ³•</td>
<td align="left"><code>expr $a - $b</code> ç»“æœä¸º -10ã€‚</td>
</tr>
<tr>
<td align="left">*</td>
<td align="left">ä¹˜æ³•</td>
<td align="left"><code>expr $a \* $b</code> ç»“æœä¸º 200ã€‚</td>
</tr>
<tr>
<td align="left">&#x2F;</td>
<td align="left">é™¤æ³•</td>
<td align="left"><code>expr $b / $a</code> ç»“æœä¸º 2ã€‚</td>
</tr>
<tr>
<td align="left">%</td>
<td align="left">å–ä½™</td>
<td align="left"><code>expr $b % $a</code> ç»“æœä¸º 0ã€‚</td>
</tr>
<tr>
<td align="left">=</td>
<td align="left">èµ‹å€¼</td>
<td align="left">a&#x3D;$b å°†æŠŠå˜é‡ b çš„å€¼èµ‹ç»™ aã€‚</td>
</tr>
<tr>
<td align="left">=&#x3D;</td>
<td align="left">ç›¸ç­‰ã€‚ç”¨äºæ¯”è¾ƒä¸¤ä¸ªæ•°å­—ï¼Œç›¸åŒåˆ™è¿”å› trueã€‚</td>
<td align="left"><code>[ $a == $b ]</code> è¿”å› falseã€‚</td>
</tr>
<tr>
<td align="left">!&#x3D;</td>
<td align="left">ä¸ç›¸ç­‰ã€‚ç”¨äºæ¯”è¾ƒä¸¤ä¸ªæ•°å­—ï¼Œä¸ç›¸åŒåˆ™è¿”å› trueã€‚</td>
<td align="left"><code>[ $a != $b ]</code> è¿”å› trueã€‚</td>
</tr>
</tbody></table>
<p>ç®—æœ¯è¿ç®—ç¬¦å®ä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">a=10</span><br><span class="line">b=20</span><br><span class="line"></span><br><span class="line">val=`expr $a + $b`</span><br><span class="line">echo &quot;a + b : $val&quot;</span><br><span class="line"></span><br><span class="line">val=`expr $a - $b`</span><br><span class="line">echo &quot;a - b : $val&quot;</span><br><span class="line"></span><br><span class="line">val=`expr $a \* $b`</span><br><span class="line">echo &quot;a * b : $val&quot;</span><br><span class="line"></span><br><span class="line">val=`expr $b / $a`</span><br><span class="line">echo &quot;b / a : $val&quot;</span><br><span class="line"></span><br><span class="line">val=`expr $b % $a`</span><br><span class="line">echo &quot;b % a : $val&quot;</span><br><span class="line"></span><br><span class="line">if [ $a == $b ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;a ç­‰äº b&quot;</span><br><span class="line">fi</span><br><span class="line">if [ $a != $b ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;a ä¸ç­‰äº b&quot;</span><br><span class="line">fi</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œè„šæœ¬ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a + b : 30</span><br><span class="line">a - b : -10</span><br><span class="line">a * b : 200</span><br><span class="line">b / a : 2</span><br><span class="line">b % a : 0</span><br><span class="line">a ä¸ç­‰äº b</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼š</strong></p>
<ul>
<li>ä¹˜å·(*)å‰è¾¹å¿…é¡»åŠ åæ–œæ <code>\</code>æ‰èƒ½å®ç°ä¹˜æ³•è¿ç®—ï¼›</li>
<li>ifâ€¦thenâ€¦fi æ˜¯æ¡ä»¶è¯­å¥ï¼Œåç»­å°†ä¼šè®²è§£ã€‚</li>
<li>åœ¨ MAC ä¸­ shell çš„ expr è¯­æ³•æ˜¯ï¼š**$((è¡¨è¾¾å¼))**ï¼Œæ­¤å¤„è¡¨è¾¾å¼ä¸­çš„ â€œ*â€ ä¸éœ€è¦è½¬ä¹‰ç¬¦å· <code>\</code> ã€‚</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">let varName=ç®—æœ¯è¡¨è¾¾å¼</span><br><span class="line">varName=$[ç®—æœ¯è¡¨è¾¾å¼]</span><br><span class="line">varName=$((ç®—æœ¯è¡¨è¾¾å¼))</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<h4 id="å…³ç³»è¿ç®—ç¬¦"><a href="#å…³ç³»è¿ç®—ç¬¦" class="headerlink" title="å…³ç³»è¿ç®—ç¬¦"></a>å…³ç³»è¿ç®—ç¬¦</h4><p>å…³ç³»è¿ç®—ç¬¦åªæ”¯æŒæ•°å­—ï¼Œä¸æ”¯æŒå­—ç¬¦ä¸²ï¼Œé™¤éå­—ç¬¦ä¸²çš„å€¼æ˜¯æ•°å­—ã€‚</p>
<p>ä¸‹è¡¨åˆ—å‡ºäº†å¸¸ç”¨çš„å…³ç³»è¿ç®—ç¬¦ï¼Œå‡å®šå˜é‡ a ä¸º 10ï¼Œå˜é‡ b ä¸º 20ï¼š</p>
<table>
<thead>
<tr>
<th align="left">è¿ç®—ç¬¦</th>
<th align="left">è¯´æ˜</th>
<th align="left">ä¸¾ä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td align="left">-eq</td>
<td align="left">æ£€æµ‹ä¸¤ä¸ªæ•°æ˜¯å¦ç›¸ç­‰ï¼Œç›¸ç­‰è¿”å› trueã€‚</td>
<td align="left"><code>[ $a -eq $b ]</code> è¿”å› falseã€‚</td>
</tr>
<tr>
<td align="left">-ne</td>
<td align="left">æ£€æµ‹ä¸¤ä¸ªæ•°æ˜¯å¦ä¸ç›¸ç­‰ï¼Œä¸ç›¸ç­‰è¿”å› trueã€‚</td>
<td align="left"><code>[ $a -ne $b ]</code> è¿”å› trueã€‚</td>
</tr>
<tr>
<td align="left">-gt</td>
<td align="left">æ£€æµ‹å·¦è¾¹çš„æ•°æ˜¯å¦å¤§äºå³è¾¹çš„ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td>
<td align="left"><code>[ $a -gt $b ]</code> è¿”å› falseã€‚</td>
</tr>
<tr>
<td align="left">-lt</td>
<td align="left">æ£€æµ‹å·¦è¾¹çš„æ•°æ˜¯å¦å°äºå³è¾¹çš„ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td>
<td align="left"><code>[ $a -lt $b ]</code> è¿”å› trueã€‚</td>
</tr>
<tr>
<td align="left">-ge</td>
<td align="left">æ£€æµ‹å·¦è¾¹çš„æ•°æ˜¯å¦å¤§äºç­‰äºå³è¾¹çš„ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td>
<td align="left"><code>[ $a -ge $b ]</code>è¿”å› falseã€‚</td>
</tr>
<tr>
<td align="left">-le</td>
<td align="left">æ£€æµ‹å·¦è¾¹çš„æ•°æ˜¯å¦å°äºç­‰äºå³è¾¹çš„ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td>
<td align="left"><code>[ $a -le $b ]</code> è¿”å› trueã€‚</td>
</tr>
</tbody></table>
<p>å…³ç³»è¿ç®—ç¬¦å®ä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">a=10</span><br><span class="line">b=20</span><br><span class="line"></span><br><span class="line">if [ $a -eq $b ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;$a -eq $b : a ç­‰äº b&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;$a -eq $b: a ä¸ç­‰äº b&quot;</span><br><span class="line">fi</span><br><span class="line">if [ $a -ne $b ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;$a -ne $b: a ä¸ç­‰äº b&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;$a -ne $b : a ç­‰äº b&quot;</span><br><span class="line">fi</span><br><span class="line">if [ $a -gt $b ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;$a -gt $b: a å¤§äº b&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;$a -gt $b: a ä¸å¤§äº b&quot;</span><br><span class="line">fi</span><br><span class="line">if [ $a -lt $b ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;$a -lt $b: a å°äº b&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;$a -lt $b: a ä¸å°äº b&quot;</span><br><span class="line">fi</span><br><span class="line">if [ $a -ge $b ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;$a -ge $b: a å¤§äºæˆ–ç­‰äº b&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;$a -ge $b: a å°äº b&quot;</span><br><span class="line">fi</span><br><span class="line">if [ $a -le $b ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;$a -le $b: a å°äºæˆ–ç­‰äº b&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;$a -le $b: a å¤§äº b&quot;</span><br><span class="line">fi</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œè„šæœ¬ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">10 -eq 20: a ä¸ç­‰äº b</span><br><span class="line">10 -ne 20: a ä¸ç­‰äº b</span><br><span class="line">10 -gt 20: a ä¸å¤§äº b</span><br><span class="line">10 -lt 20: a å°äº b</span><br><span class="line">10 -ge 20: a å°äº b</span><br><span class="line">10 -le 20: a å°äºæˆ–ç­‰äº b</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="å¸ƒå°”è¿ç®—ç¬¦"><a href="#å¸ƒå°”è¿ç®—ç¬¦" class="headerlink" title="å¸ƒå°”è¿ç®—ç¬¦"></a>å¸ƒå°”è¿ç®—ç¬¦</h4><p>ä¸‹è¡¨åˆ—å‡ºäº†å¸¸ç”¨çš„å¸ƒå°”è¿ç®—ç¬¦ï¼Œå‡å®šå˜é‡ a ä¸º 10ï¼Œå˜é‡ b ä¸º 20ï¼š</p>
<table>
<thead>
<tr>
<th align="left">è¿ç®—ç¬¦</th>
<th align="left">è¯´æ˜</th>
<th align="left">ä¸¾ä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td align="left">!</td>
<td align="left">éè¿ç®—ï¼Œè¡¨è¾¾å¼ä¸º true åˆ™è¿”å› falseï¼Œå¦åˆ™è¿”å› trueã€‚</td>
<td align="left"><code>[ ! false ]</code> è¿”å› trueã€‚</td>
</tr>
<tr>
<td align="left">-o</td>
<td align="left">æˆ–è¿ç®—ï¼Œæœ‰ä¸€ä¸ªè¡¨è¾¾å¼ä¸º true åˆ™è¿”å› trueã€‚</td>
<td align="left"><code>[ $a -lt 20 -o $b -gt 100 ]</code> è¿”å› trueã€‚</td>
</tr>
<tr>
<td align="left">-a</td>
<td align="left">ä¸è¿ç®—ï¼Œä¸¤ä¸ªè¡¨è¾¾å¼éƒ½ä¸º true æ‰è¿”å› trueã€‚</td>
<td align="left"><code>[ $a -lt 20 -a $b -gt 100 ]</code> è¿”å› falseã€‚</td>
</tr>
</tbody></table>
<p>å¸ƒå°”è¿ç®—ç¬¦å®ä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">a=10</span><br><span class="line">b=20</span><br><span class="line"></span><br><span class="line">if [ $a != $b ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;$a != $b : a ä¸ç­‰äº b&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;$a == $b: a ç­‰äº b&quot;</span><br><span class="line">fi</span><br><span class="line">if [ $a -lt 100 -a $b -gt 15 ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;$a å°äº 100 ä¸” $b å¤§äº 15 : è¿”å› true&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;$a å°äº 100 ä¸” $b å¤§äº 15 : è¿”å› false&quot;</span><br><span class="line">fi</span><br><span class="line">if [ $a -lt 100 -o $b -gt 100 ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;$a å°äº 100 æˆ– $b å¤§äº 100 : è¿”å› true&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;$a å°äº 100 æˆ– $b å¤§äº 100 : è¿”å› false&quot;</span><br><span class="line">fi</span><br><span class="line">if [ $a -lt 5 -o $b -gt 100 ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;$a å°äº 5 æˆ– $b å¤§äº 100 : è¿”å› true&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;$a å°äº 5 æˆ– $b å¤§äº 100 : è¿”å› false&quot;</span><br><span class="line">fi</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œè„šæœ¬ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">10 != 20 : a ä¸ç­‰äº b</span><br><span class="line">10 å°äº 100 ä¸” 20 å¤§äº 15 : è¿”å› true</span><br><span class="line">10 å°äº 100 æˆ– 20 å¤§äº 100 : è¿”å› true</span><br><span class="line">10 å°äº 5 æˆ– 20 å¤§äº 100 : è¿”å› false</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="é€»è¾‘è¿ç®—ç¬¦"><a href="#é€»è¾‘è¿ç®—ç¬¦" class="headerlink" title="é€»è¾‘è¿ç®—ç¬¦"></a>é€»è¾‘è¿ç®—ç¬¦</h4><p>ä»¥ä¸‹ä»‹ç» Shell çš„é€»è¾‘è¿ç®—ç¬¦ï¼Œå‡å®šå˜é‡ a ä¸º 10ï¼Œå˜é‡ b ä¸º 20:</p>
<table>
<thead>
<tr>
<th align="left">è¿ç®—ç¬¦</th>
<th align="left">è¯´æ˜</th>
<th align="left">ä¸¾ä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td align="left">&amp;&amp;</td>
<td align="left">é€»è¾‘çš„ AND</td>
<td align="left"><code>[[ $a -lt 100 &amp;&amp; $b -gt 100 ]]</code> è¿”å› false</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
<td align="left"></td>
</tr>
</tbody></table>
<p>é€»è¾‘è¿ç®—ç¬¦å®ä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">a=10</span><br><span class="line">b=20</span><br><span class="line"></span><br><span class="line">if [[ $a -lt 100 &amp;&amp; $b -gt 100 ]]</span><br><span class="line">then</span><br><span class="line">   echo &quot;è¿”å› true&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;è¿”å› false&quot;</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">if [[ $a -lt 100 || $b -gt 100 ]]</span><br><span class="line">then</span><br><span class="line">   echo &quot;è¿”å› true&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;è¿”å› false&quot;</span><br><span class="line">fi</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œè„šæœ¬ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¿”å› false</span><br><span class="line">è¿”å› true</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<h4 id="å­—ç¬¦ä¸²è¿ç®—ç¬¦"><a href="#å­—ç¬¦ä¸²è¿ç®—ç¬¦" class="headerlink" title="å­—ç¬¦ä¸²è¿ç®—ç¬¦"></a>å­—ç¬¦ä¸²è¿ç®—ç¬¦</h4><p>ä¸‹è¡¨åˆ—å‡ºäº†å¸¸ç”¨çš„å­—ç¬¦ä¸²è¿ç®—ç¬¦ï¼Œå‡å®šå˜é‡ a ä¸º â€œabcâ€ï¼Œå˜é‡ b ä¸º â€œefgâ€ï¼š</p>
<table>
<thead>
<tr>
<th align="left">è¿ç®—ç¬¦</th>
<th align="left">è¯´æ˜</th>
<th align="left">ä¸¾ä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td align="left">=</td>
<td align="left">æ£€æµ‹ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ï¼Œç›¸ç­‰è¿”å› trueã€‚</td>
<td align="left"><code>[ $a = $b ]</code> è¿”å› falseã€‚</td>
</tr>
<tr>
<td align="left">!&#x3D;</td>
<td align="left">æ£€æµ‹ä¸¤ä¸ªå­—ç¬¦ä¸²æ˜¯å¦ç›¸ç­‰ï¼Œä¸ç›¸ç­‰è¿”å› trueã€‚</td>
<td align="left"><code>[ $a != $b ]</code> è¿”å› trueã€‚</td>
</tr>
<tr>
<td align="left">-z</td>
<td align="left">æ£€æµ‹å­—ç¬¦ä¸²é•¿åº¦æ˜¯å¦ä¸º0ï¼Œä¸º0è¿”å› trueã€‚</td>
<td align="left"><code>[ -z $a ]</code> è¿”å› falseã€‚</td>
</tr>
<tr>
<td align="left">-n</td>
<td align="left">æ£€æµ‹å­—ç¬¦ä¸²é•¿åº¦æ˜¯å¦ä¸º0ï¼Œä¸ä¸º0è¿”å› trueã€‚</td>
<td align="left"><code>[ -n &quot;$a&quot; ]</code> è¿”å› trueã€‚</td>
</tr>
<tr>
<td align="left">$</td>
<td align="left">æ£€æµ‹å­—ç¬¦ä¸²æ˜¯å¦ä¸ºç©ºï¼Œä¸ä¸ºç©ºè¿”å› trueã€‚</td>
<td align="left"><code>[ $a ]</code> è¿”å› trueã€‚</td>
</tr>
</tbody></table>
<p>å­—ç¬¦ä¸²è¿ç®—ç¬¦å®ä¾‹å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">a=&quot;abc&quot;</span><br><span class="line">b=&quot;efg&quot;</span><br><span class="line"></span><br><span class="line">if [ $a = $b ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;$a = $b : a ç­‰äº b&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;$a = $b: a ä¸ç­‰äº b&quot;</span><br><span class="line">fi</span><br><span class="line">if [ $a != $b ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;$a != $b : a ä¸ç­‰äº b&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;$a != $b: a ç­‰äº b&quot;</span><br><span class="line">fi</span><br><span class="line">if [ -z $a ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;-z $a : å­—ç¬¦ä¸²é•¿åº¦ä¸º 0&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;-z $a : å­—ç¬¦ä¸²é•¿åº¦ä¸ä¸º 0&quot;</span><br><span class="line">fi</span><br><span class="line">if [ -n &quot;$a&quot; ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;-n $a : å­—ç¬¦ä¸²é•¿åº¦ä¸ä¸º 0&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;-n $a : å­—ç¬¦ä¸²é•¿åº¦ä¸º 0&quot;</span><br><span class="line">fi</span><br><span class="line">if [ $a ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;$a : å­—ç¬¦ä¸²ä¸ä¸ºç©º&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;$a : å­—ç¬¦ä¸²ä¸ºç©º&quot;</span><br><span class="line">fi</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œè„šæœ¬ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">abc = efg: a ä¸ç­‰äº b</span><br><span class="line">abc != efg : a ä¸ç­‰äº b</span><br><span class="line">-z abc : å­—ç¬¦ä¸²é•¿åº¦ä¸ä¸º 0</span><br><span class="line">-n abc : å­—ç¬¦ä¸²é•¿åº¦ä¸ä¸º 0</span><br><span class="line">abc : å­—ç¬¦ä¸²ä¸ä¸ºç©º</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦"><a href="#æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦" class="headerlink" title="æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦"></a>æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦</h4><p>æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦ç”¨äºæ£€æµ‹ Unix æ–‡ä»¶çš„å„ç§å±æ€§ã€‚</p>
<p>å±æ€§æ£€æµ‹æè¿°å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th align="left">æ“ä½œç¬¦</th>
<th align="left">è¯´æ˜</th>
<th align="left">ä¸¾ä¾‹</th>
</tr>
</thead>
<tbody><tr>
<td align="left">-b file</td>
<td align="left">æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯å—è®¾å¤‡æ–‡ä»¶ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td>
<td align="left">[ -b $file ] è¿”å› falseã€‚</td>
</tr>
<tr>
<td align="left">-c file</td>
<td align="left">æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯å­—ç¬¦è®¾å¤‡æ–‡ä»¶ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td>
<td align="left">[ -c $file ] è¿”å› falseã€‚</td>
</tr>
<tr>
<td align="left">-d file</td>
<td align="left">æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯ç›®å½•ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td>
<td align="left">[ -d $file ] è¿”å› falseã€‚</td>
</tr>
<tr>
<td align="left">-f file</td>
<td align="left">æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯æ™®é€šæ–‡ä»¶ï¼ˆæ—¢ä¸æ˜¯ç›®å½•ï¼Œä¹Ÿä¸æ˜¯è®¾å¤‡æ–‡ä»¶ï¼‰ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td>
<td align="left">[ -f $file ] è¿”å› trueã€‚</td>
</tr>
<tr>
<td align="left">-g file</td>
<td align="left">æ£€æµ‹æ–‡ä»¶æ˜¯å¦è®¾ç½®äº† SGID ä½ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td>
<td align="left">[ -g $file ] è¿”å› falseã€‚</td>
</tr>
<tr>
<td align="left">-k file</td>
<td align="left">æ£€æµ‹æ–‡ä»¶æ˜¯å¦è®¾ç½®äº†ç²˜ç€ä½(Sticky Bit)ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td>
<td align="left">[ -k $file ] è¿”å› falseã€‚</td>
</tr>
<tr>
<td align="left">-p file</td>
<td align="left">æ£€æµ‹æ–‡ä»¶æ˜¯å¦æ˜¯æœ‰åç®¡é“ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td>
<td align="left">[ -p $file ] è¿”å› falseã€‚</td>
</tr>
<tr>
<td align="left">-u file</td>
<td align="left">æ£€æµ‹æ–‡ä»¶æ˜¯å¦è®¾ç½®äº† SUID ä½ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td>
<td align="left">[ -u $file ] è¿”å› falseã€‚</td>
</tr>
<tr>
<td align="left">-r file</td>
<td align="left">æ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯è¯»ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td>
<td align="left">[ -r $file ] è¿”å› trueã€‚</td>
</tr>
<tr>
<td align="left">-w file</td>
<td align="left">æ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯å†™ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td>
<td align="left">[ -w $file ] è¿”å› trueã€‚</td>
</tr>
<tr>
<td align="left">-x file</td>
<td align="left">æ£€æµ‹æ–‡ä»¶æ˜¯å¦å¯æ‰§è¡Œï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td>
<td align="left">[ -x $file ] è¿”å› trueã€‚</td>
</tr>
<tr>
<td align="left">-s file</td>
<td align="left">æ£€æµ‹æ–‡ä»¶æ˜¯å¦ä¸ºç©ºï¼ˆæ–‡ä»¶å¤§å°æ˜¯å¦å¤§äº0ï¼‰ï¼Œä¸ä¸ºç©ºè¿”å› trueã€‚</td>
<td align="left">[ -s $file ] è¿”å› trueã€‚</td>
</tr>
<tr>
<td align="left">-e file</td>
<td align="left">æ£€æµ‹æ–‡ä»¶ï¼ˆåŒ…æ‹¬ç›®å½•ï¼‰æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœæ˜¯ï¼Œåˆ™è¿”å› trueã€‚</td>
<td align="left">[ -e $file ] è¿”å› trueã€‚</td>
</tr>
</tbody></table>
<p>å…¶ä»–æ£€æŸ¥ç¬¦ï¼š</p>
<ul>
<li><strong>-S</strong>: åˆ¤æ–­æŸæ–‡ä»¶æ˜¯å¦ socketã€‚</li>
<li><strong>-L</strong>: æ£€æµ‹æ–‡ä»¶æ˜¯å¦å­˜åœ¨å¹¶ä¸”æ˜¯ä¸€ä¸ªç¬¦å·é“¾æ¥ã€‚</li>
</ul>
<p>å˜é‡ file è¡¨ç¤ºæ–‡ä»¶ <strong>&#x2F;var&#x2F;www&#x2F;runoob&#x2F;test.sh</strong>ï¼Œå®ƒçš„å¤§å°ä¸º 100 å­—èŠ‚ï¼Œå…·æœ‰ <strong>rwx</strong> æƒé™ã€‚ä¸‹é¢çš„ä»£ç ï¼Œå°†æ£€æµ‹è¯¥æ–‡ä»¶çš„å„ç§å±æ€§ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">file=&quot;/var/www/runoob/test.sh&quot;</span><br><span class="line">if [ -r $file ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;æ–‡ä»¶å¯è¯»&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;æ–‡ä»¶ä¸å¯è¯»&quot;</span><br><span class="line">fi</span><br><span class="line">if [ -w $file ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;æ–‡ä»¶å¯å†™&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;æ–‡ä»¶ä¸å¯å†™&quot;</span><br><span class="line">fi</span><br><span class="line">if [ -x $file ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;æ–‡ä»¶å¯æ‰§è¡Œ&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;æ–‡ä»¶ä¸å¯æ‰§è¡Œ&quot;</span><br><span class="line">fi</span><br><span class="line">if [ -f $file ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;æ–‡ä»¶ä¸ºæ™®é€šæ–‡ä»¶&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;æ–‡ä»¶ä¸ºç‰¹æ®Šæ–‡ä»¶&quot;</span><br><span class="line">fi</span><br><span class="line">if [ -d $file ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;æ–‡ä»¶æ˜¯ä¸ªç›®å½•&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;æ–‡ä»¶ä¸æ˜¯ä¸ªç›®å½•&quot;</span><br><span class="line">fi</span><br><span class="line">if [ -s $file ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;æ–‡ä»¶ä¸ä¸ºç©º&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;æ–‡ä»¶ä¸ºç©º&quot;</span><br><span class="line">fi</span><br><span class="line">if [ -e $file ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;æ–‡ä»¶å­˜åœ¨&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;æ–‡ä»¶ä¸å­˜åœ¨&quot;</span><br><span class="line">fi</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œè„šæœ¬ï¼Œè¾“å‡ºç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">æ–‡ä»¶å¯è¯»</span><br><span class="line">æ–‡ä»¶å¯å†™</span><br><span class="line">æ–‡ä»¶å¯æ‰§è¡Œ</span><br><span class="line">æ–‡ä»¶ä¸ºæ™®é€šæ–‡ä»¶</span><br><span class="line">æ–‡ä»¶ä¸æ˜¯ä¸ªç›®å½•</span><br><span class="line">æ–‡ä»¶ä¸ä¸ºç©º</span><br><span class="line">æ–‡ä»¶å­˜åœ¨</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="testå‘½ä»¤"><a href="#testå‘½ä»¤" class="headerlink" title="testå‘½ä»¤"></a>testå‘½ä»¤</h3><p>Shellä¸­çš„ test å‘½ä»¤ç”¨äºæ£€æŸ¥æŸä¸ªæ¡ä»¶æ˜¯å¦æˆç«‹ï¼Œå®ƒå¯ä»¥è¿›è¡Œæ•°å€¼ã€å­—ç¬¦å’Œæ–‡ä»¶ä¸‰ä¸ªæ–¹é¢çš„æµ‹è¯•ã€‚</p>
<h4 id="æ•°å€¼æµ‹è¯•"><a href="#æ•°å€¼æµ‹è¯•" class="headerlink" title="æ•°å€¼æµ‹è¯•"></a>æ•°å€¼æµ‹è¯•</h4><table>
<thead>
<tr>
<th align="left">å‚æ•°</th>
<th align="left">è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="left">-eq</td>
<td align="left">ç­‰äºåˆ™ä¸ºçœŸ</td>
</tr>
<tr>
<td align="left">-ne</td>
<td align="left">ä¸ç­‰äºåˆ™ä¸ºçœŸ</td>
</tr>
<tr>
<td align="left">-gt</td>
<td align="left">å¤§äºåˆ™ä¸ºçœŸ</td>
</tr>
<tr>
<td align="left">-ge</td>
<td align="left">å¤§äºç­‰äºåˆ™ä¸ºçœŸ</td>
</tr>
<tr>
<td align="left">-lt</td>
<td align="left">å°äºåˆ™ä¸ºçœŸ</td>
</tr>
<tr>
<td align="left">-le</td>
<td align="left">å°äºç­‰äºåˆ™ä¸ºçœŸ</td>
</tr>
</tbody></table>
<p>å®ä¾‹æ¼”ç¤ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">num1=100</span><br><span class="line">num2=100</span><br><span class="line">if test $[num1] -eq $[num2]</span><br><span class="line">then</span><br><span class="line">    echo &#x27;ä¸¤ä¸ªæ•°ç›¸ç­‰ï¼&#x27;</span><br><span class="line">else</span><br><span class="line">    echo &#x27;ä¸¤ä¸ªæ•°ä¸ç›¸ç­‰ï¼&#x27;</span><br><span class="line">fi</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ä¸¤ä¸ªæ•°ç›¸ç­‰ï¼</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>ä»£ç ä¸­çš„ [] æ‰§è¡ŒåŸºæœ¬çš„ç®—æ•°è¿ç®—ï¼Œå¦‚ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">a=5</span><br><span class="line">b=6</span><br><span class="line"></span><br><span class="line">result=$[a+b] # æ³¨æ„ç­‰å·ä¸¤è¾¹ä¸èƒ½æœ‰ç©ºæ ¼</span><br><span class="line">echo &quot;result ä¸ºï¼š $result&quot;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ç»“æœä¸º:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">result ä¸ºï¼š 11</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<h4 id="å­—ç¬¦ä¸²æµ‹è¯•"><a href="#å­—ç¬¦ä¸²æµ‹è¯•" class="headerlink" title="å­—ç¬¦ä¸²æµ‹è¯•"></a>å­—ç¬¦ä¸²æµ‹è¯•</h4><table>
<thead>
<tr>
<th align="left">å‚æ•°</th>
<th align="left">è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="left">=</td>
<td align="left">ç­‰äºåˆ™ä¸ºçœŸ</td>
</tr>
<tr>
<td align="left">!&#x3D;</td>
<td align="left">ä¸ç›¸ç­‰åˆ™ä¸ºçœŸ</td>
</tr>
<tr>
<td align="left">-z å­—ç¬¦ä¸²</td>
<td align="left">å­—ç¬¦ä¸²çš„é•¿åº¦ä¸ºé›¶åˆ™ä¸ºçœŸ</td>
</tr>
<tr>
<td align="left">-n å­—ç¬¦ä¸²</td>
<td align="left">å­—ç¬¦ä¸²çš„é•¿åº¦ä¸ä¸ºé›¶åˆ™ä¸ºçœŸ</td>
</tr>
</tbody></table>
<p>å®ä¾‹æ¼”ç¤ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">num1=&quot;ru1noob&quot;</span><br><span class="line">num2=&quot;runoob&quot;</span><br><span class="line">if test $num1 = $num2</span><br><span class="line">then</span><br><span class="line">    echo &#x27;ä¸¤ä¸ªå­—ç¬¦ä¸²ç›¸ç­‰!&#x27;</span><br><span class="line">else</span><br><span class="line">    echo &#x27;ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸ç›¸ç­‰!&#x27;</span><br><span class="line">fi</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ä¸¤ä¸ªå­—ç¬¦ä¸²ä¸ç›¸ç­‰!</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<h4 id="æ–‡ä»¶æµ‹è¯•"><a href="#æ–‡ä»¶æµ‹è¯•" class="headerlink" title="æ–‡ä»¶æµ‹è¯•"></a>æ–‡ä»¶æµ‹è¯•</h4><table>
<thead>
<tr>
<th align="left">å‚æ•°</th>
<th align="left">è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="left">-e æ–‡ä»¶å</td>
<td align="left">å¦‚æœæ–‡ä»¶å­˜åœ¨åˆ™ä¸ºçœŸ</td>
</tr>
<tr>
<td align="left">-r æ–‡ä»¶å</td>
<td align="left">å¦‚æœæ–‡ä»¶å­˜åœ¨ä¸”å¯è¯»åˆ™ä¸ºçœŸ</td>
</tr>
<tr>
<td align="left">-w æ–‡ä»¶å</td>
<td align="left">å¦‚æœæ–‡ä»¶å­˜åœ¨ä¸”å¯å†™åˆ™ä¸ºçœŸ</td>
</tr>
<tr>
<td align="left">-x æ–‡ä»¶å</td>
<td align="left">å¦‚æœæ–‡ä»¶å­˜åœ¨ä¸”å¯æ‰§è¡Œåˆ™ä¸ºçœŸ</td>
</tr>
<tr>
<td align="left">-s æ–‡ä»¶å</td>
<td align="left">å¦‚æœæ–‡ä»¶å­˜åœ¨ä¸”è‡³å°‘æœ‰ä¸€ä¸ªå­—ç¬¦åˆ™ä¸ºçœŸ</td>
</tr>
<tr>
<td align="left">-d æ–‡ä»¶å</td>
<td align="left">å¦‚æœæ–‡ä»¶å­˜åœ¨ä¸”ä¸ºç›®å½•åˆ™ä¸ºçœŸ</td>
</tr>
<tr>
<td align="left">-f æ–‡ä»¶å</td>
<td align="left">å¦‚æœæ–‡ä»¶å­˜åœ¨ä¸”ä¸ºæ™®é€šæ–‡ä»¶åˆ™ä¸ºçœŸ</td>
</tr>
<tr>
<td align="left">-c æ–‡ä»¶å</td>
<td align="left">å¦‚æœæ–‡ä»¶å­˜åœ¨ä¸”ä¸ºå­—ç¬¦å‹ç‰¹æ®Šæ–‡ä»¶åˆ™ä¸ºçœŸ</td>
</tr>
<tr>
<td align="left">-b æ–‡ä»¶å</td>
<td align="left">å¦‚æœæ–‡ä»¶å­˜åœ¨ä¸”ä¸ºå—ç‰¹æ®Šæ–‡ä»¶åˆ™ä¸ºçœŸ</td>
</tr>
</tbody></table>
<p>å®ä¾‹æ¼”ç¤ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">cd /bin</span><br><span class="line">if test -e ./bash</span><br><span class="line">then</span><br><span class="line">    echo &#x27;æ–‡ä»¶å·²å­˜åœ¨!&#x27;</span><br><span class="line">else</span><br><span class="line">    echo &#x27;æ–‡ä»¶ä¸å­˜åœ¨!&#x27;</span><br><span class="line">fi</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">æ–‡ä»¶å·²å­˜åœ¨!</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>å¦å¤–ï¼ŒShellè¿˜æä¾›äº†ä¸( -a )ã€æˆ–( -o )ã€é( ! )ä¸‰ä¸ªé€»è¾‘æ“ä½œç¬¦ç”¨äºå°†æµ‹è¯•æ¡ä»¶è¿æ¥èµ·æ¥ï¼Œå…¶ä¼˜å…ˆçº§ä¸ºï¼šâ€!â€œæœ€é«˜ï¼Œâ€-aâ€æ¬¡ä¹‹ï¼Œâ€-oâ€æœ€ä½ã€‚ä¾‹å¦‚ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">cd /bin</span><br><span class="line">if test -e ./notFile -o -e ./bash</span><br><span class="line">then</span><br><span class="line">    echo &#x27;è‡³å°‘æœ‰ä¸€ä¸ªæ–‡ä»¶å­˜åœ¨!&#x27;</span><br><span class="line">else</span><br><span class="line">    echo &#x27;ä¸¤ä¸ªæ–‡ä»¶éƒ½ä¸å­˜åœ¨&#x27;</span><br><span class="line">fi</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">è‡³å°‘æœ‰ä¸€ä¸ªæ–‡ä»¶å­˜åœ¨!</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<h3 id="Shell-æµç¨‹æ§åˆ¶"><a href="#Shell-æµç¨‹æ§åˆ¶" class="headerlink" title="Shell æµç¨‹æ§åˆ¶"></a>Shell æµç¨‹æ§åˆ¶</h3><h4 id="if-elseåˆ¤æ–­è¯­å¥"><a href="#if-elseåˆ¤æ–­è¯­å¥" class="headerlink" title="if elseåˆ¤æ–­è¯­å¥"></a>if elseåˆ¤æ–­è¯­å¥</h4><p>if è¯­å¥è¯­æ³•æ ¼å¼ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">if condition</span><br><span class="line">then</span><br><span class="line">    command1 </span><br><span class="line">    command2</span><br><span class="line">    ...</span><br><span class="line">    commandN </span><br><span class="line">fi</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å†™æˆä¸€è¡Œï¼ˆé€‚ç”¨äºç»ˆç«¯å‘½ä»¤æç¤ºç¬¦ï¼‰ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">if [ $(ps -ef | grep -c &quot;ssh&quot;) -gt 1 ]; then echo &quot;true&quot;; fi</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>if else è¯­æ³•æ ¼å¼ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">if condition</span><br><span class="line">then</span><br><span class="line">    command1 </span><br><span class="line">    command2</span><br><span class="line">    ...</span><br><span class="line">    commandN</span><br><span class="line">else</span><br><span class="line">    command</span><br><span class="line">fi</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>if else-if else è¯­æ³•æ ¼å¼ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">if condition1</span><br><span class="line">then</span><br><span class="line">    command1</span><br><span class="line">elif condition2 </span><br><span class="line">then </span><br><span class="line">    command2</span><br><span class="line">else</span><br><span class="line">    commandN</span><br><span class="line">fi</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸‹å®ä¾‹åˆ¤æ–­ä¸¤ä¸ªå˜é‡æ˜¯å¦ç›¸ç­‰ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">a=10</span><br><span class="line">b=20</span><br><span class="line">if [ $a == $b ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;a ç­‰äº b&quot;</span><br><span class="line">elif [ $a -gt $b ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;a å¤§äº b&quot;</span><br><span class="line">elif [ $a -lt $b ]</span><br><span class="line">then</span><br><span class="line">   echo &quot;a å°äº b&quot;</span><br><span class="line">else</span><br><span class="line">   echo &quot;æ²¡æœ‰ç¬¦åˆçš„æ¡ä»¶&quot;</span><br><span class="line">fi</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a å°äº b</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>if elseè¯­å¥ç»å¸¸ä¸testå‘½ä»¤ç»“åˆä½¿ç”¨ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">num1=$[2*3]</span><br><span class="line">num2=$[1+5]</span><br><span class="line">if test $[num1] -eq $[num2]</span><br><span class="line">then</span><br><span class="line">    echo &#x27;ä¸¤ä¸ªæ•°å­—ç›¸ç­‰!&#x27;</span><br><span class="line">else</span><br><span class="line">    echo &#x27;ä¸¤ä¸ªæ•°å­—ä¸ç›¸ç­‰!&#x27;</span><br><span class="line">fi</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ä¸¤ä¸ªæ•°å­—ç›¸ç­‰!</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<h4 id="forå¾ªç¯"><a href="#forå¾ªç¯" class="headerlink" title="forå¾ªç¯"></a>forå¾ªç¯</h4><p>forå¾ªç¯ä¸€èˆ¬æ ¼å¼ä¸ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">for var in item1 item2 ... itemN</span><br><span class="line">do</span><br><span class="line">    command1</span><br><span class="line">    command2</span><br><span class="line">    ...</span><br><span class="line">    commandN</span><br><span class="line">done</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å†™æˆä¸€è¡Œï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">for var in item1 item2 ... itemN; do command1; command2â€¦ done;</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>ä¾‹å¦‚ï¼Œé¡ºåºè¾“å‡ºå½“å‰åˆ—è¡¨ä¸­çš„æ•°å­—ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">for loop in 1 2 3 4 5</span><br><span class="line">do</span><br><span class="line">    echo &quot;The value is: $loop&quot;</span><br><span class="line">done</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">The value is: 1</span><br><span class="line">The value is: 2</span><br><span class="line">The value is: 3</span><br><span class="line">The value is: 4</span><br><span class="line">The value is: 5</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>é¡ºåºè¾“å‡ºå­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">for str in &#x27;This is a string&#x27;</span><br><span class="line">do</span><br><span class="line">    echo $str</span><br><span class="line">done</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">This is a string</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<h4 id="whileå¾ªç¯"><a href="#whileå¾ªç¯" class="headerlink" title="whileå¾ªç¯"></a>whileå¾ªç¯</h4><p>whileå¾ªç¯æ ¼å¼ä¸ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">while condition</span><br><span class="line">do</span><br><span class="line">    command</span><br><span class="line">done</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">int=1</span><br><span class="line">while(( $int&lt;=5 ))</span><br><span class="line">do</span><br><span class="line">    echo $int</span><br><span class="line">    let &quot;int++&quot;</span><br><span class="line">done</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¿è¡Œè„šæœ¬ï¼Œè¾“å‡ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>whileå¾ªç¯å¯ç”¨äºè¯»å–é”®ç›˜ä¿¡æ¯ã€‚ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œè¾“å…¥ä¿¡æ¯è¢«è®¾ç½®ä¸ºå˜é‡FILMï¼ŒæŒ‰<code>Ctrl-D</code>ç»“æŸå¾ªç¯ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">echo &#x27;æŒ‰ä¸‹ &lt;CTRL-D&gt; é€€å‡º&#x27;</span><br><span class="line">echo -n &#x27;è¾“å…¥ä½ æœ€å–œæ¬¢çš„ç½‘ç«™å: &#x27;</span><br><span class="line">while read FILM</span><br><span class="line">do</span><br><span class="line">    echo &quot;æ˜¯çš„ï¼$FILM æ˜¯ä¸€ä¸ªå¥½ç½‘ç«™&quot;</span><br><span class="line">done</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¿è¡Œè„šæœ¬ï¼Œè¾“å‡ºç±»ä¼¼ä¸‹é¢ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">æŒ‰ä¸‹ &lt;CTRL-D&gt; é€€å‡º</span><br><span class="line">è¾“å…¥ä½ æœ€å–œæ¬¢çš„ç½‘ç«™å:æ·˜å®</span><br><span class="line">æ˜¯çš„ï¼æ·˜å® æ˜¯ä¸€ä¸ªå¥½ç½‘ç«™</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<h4 id="æ— é™å¾ªç¯"><a href="#æ— é™å¾ªç¯" class="headerlink" title="æ— é™å¾ªç¯"></a>æ— é™å¾ªç¯</h4><p>æ— é™å¾ªç¯è¯­æ³•æ ¼å¼ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">while :</span><br><span class="line">do</span><br><span class="line">    command</span><br><span class="line">done</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æˆ–è€…</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">while true</span><br><span class="line">do</span><br><span class="line">    command</span><br><span class="line">done</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æˆ–è€…</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">for (( ; ; ))</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<h4 id="until-å¾ªç¯"><a href="#until-å¾ªç¯" class="headerlink" title="until å¾ªç¯"></a>until å¾ªç¯</h4><p>until å¾ªç¯æ‰§è¡Œä¸€ç³»åˆ—å‘½ä»¤ç›´è‡³æ¡ä»¶ä¸º true æ—¶åœæ­¢ã€‚</p>
<p>until å¾ªç¯ä¸ while å¾ªç¯åœ¨å¤„ç†æ–¹å¼ä¸Šåˆšå¥½ç›¸åã€‚</p>
<p>ä¸€èˆ¬ while å¾ªç¯ä¼˜äº until å¾ªç¯ï¼Œä½†åœ¨æŸäº›æ—¶å€™â€”ä¹Ÿåªæ˜¯æå°‘æ•°æƒ…å†µä¸‹ï¼Œuntil å¾ªç¯æ›´åŠ æœ‰ç”¨ã€‚</p>
<p>until è¯­æ³•æ ¼å¼:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">until condition</span><br><span class="line">do</span><br><span class="line">    command</span><br><span class="line">done</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>condition ä¸€èˆ¬ä¸ºæ¡ä»¶è¡¨è¾¾å¼ï¼Œå¦‚æœè¿”å›å€¼ä¸º falseï¼Œåˆ™ç»§ç»­æ‰§è¡Œå¾ªç¯ä½“å†…çš„è¯­å¥ï¼Œå¦åˆ™è·³å‡ºå¾ªç¯ã€‚</p>
<p>ä»¥ä¸‹å®ä¾‹æˆ‘ä»¬ä½¿ç”¨ until å‘½ä»¤æ¥è¾“å‡º 0 ~ 9 çš„æ•°å­—ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">a=0</span><br><span class="line"></span><br><span class="line">until [ ! $a -lt 10 ]</span><br><span class="line">do</span><br><span class="line">   echo $a</span><br><span class="line">   a=`expr $a + 1`</span><br><span class="line">done</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç»“æœï¼š</p>
<p>è¾“å‡ºç»“æœä¸ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">0</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td></tr></table></figure>

<h4 id="case"><a href="#case" class="headerlink" title="case"></a>case</h4><p>Shell caseè¯­å¥ä¸ºå¤šé€‰æ‹©è¯­å¥ã€‚å¯ä»¥ç”¨caseè¯­å¥åŒ¹é…ä¸€ä¸ªå€¼ä¸ä¸€ä¸ªæ¨¡å¼ï¼Œå¦‚æœåŒ¹é…æˆåŠŸï¼Œæ‰§è¡Œç›¸åŒ¹é…çš„å‘½ä»¤ã€‚caseè¯­å¥æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">case å€¼ in</span><br><span class="line">æ¨¡å¼1)</span><br><span class="line">    command1</span><br><span class="line">    command2</span><br><span class="line">    ...</span><br><span class="line">    commandN</span><br><span class="line">    ;;</span><br><span class="line">æ¨¡å¼2ï¼‰</span><br><span class="line">    command1</span><br><span class="line">    command2</span><br><span class="line">    ...</span><br><span class="line">    commandN</span><br><span class="line">    ;;</span><br><span class="line">esac</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢çš„è„šæœ¬æç¤ºè¾“å…¥1åˆ°4ï¼Œä¸æ¯ä¸€ç§æ¨¡å¼è¿›è¡ŒåŒ¹é…ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">echo &#x27;è¾“å…¥ 1 åˆ° 4 ä¹‹é—´çš„æ•°å­—:&#x27;</span><br><span class="line">echo &#x27;ä½ è¾“å…¥çš„æ•°å­—ä¸º:&#x27;</span><br><span class="line">read aNum</span><br><span class="line">case $aNum in</span><br><span class="line">    1)  echo &#x27;ä½ é€‰æ‹©äº† 1&#x27;</span><br><span class="line">    ;;</span><br><span class="line">    2)  echo &#x27;ä½ é€‰æ‹©äº† 2&#x27;</span><br><span class="line">    ;;</span><br><span class="line">    3)  echo &#x27;ä½ é€‰æ‹©äº† 3&#x27;</span><br><span class="line">    ;;</span><br><span class="line">    4)  echo &#x27;ä½ é€‰æ‹©äº† 4&#x27;</span><br><span class="line">    ;;</span><br><span class="line">    *)  echo &#x27;ä½ æ²¡æœ‰è¾“å…¥ 1 åˆ° 4 ä¹‹é—´çš„æ•°å­—&#x27;</span><br><span class="line">    ;;</span><br><span class="line">esac</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¾“å…¥ä¸åŒçš„å†…å®¹ï¼Œä¼šæœ‰ä¸åŒçš„ç»“æœï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ 1 åˆ° 4 ä¹‹é—´çš„æ•°å­—:</span><br><span class="line">ä½ è¾“å…¥çš„æ•°å­—ä¸º:</span><br><span class="line">3</span><br><span class="line">ä½ é€‰æ‹©äº† 3</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="è·³å‡ºå¾ªç¯"><a href="#è·³å‡ºå¾ªç¯" class="headerlink" title="è·³å‡ºå¾ªç¯"></a>è·³å‡ºå¾ªç¯</h4><p>åœ¨å¾ªç¯è¿‡ç¨‹ä¸­ï¼Œæœ‰æ—¶å€™éœ€è¦åœ¨æœªè¾¾åˆ°å¾ªç¯ç»“æŸæ¡ä»¶æ—¶å¼ºåˆ¶è·³å‡ºå¾ªç¯ï¼ŒShellä½¿ç”¨ä¸¤ä¸ªå‘½ä»¤æ¥å®ç°è¯¥åŠŸèƒ½ï¼šbreakå’Œcontinueã€‚</p>
<p>breakå‘½ä»¤å…è®¸è·³å‡ºæ‰€æœ‰å¾ªç¯ï¼ˆç»ˆæ­¢æ‰§è¡Œåé¢çš„æ‰€æœ‰å¾ªç¯ï¼‰ã€‚</p>
<p>ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œè„šæœ¬è¿›å…¥æ­»å¾ªç¯ç›´è‡³ç”¨æˆ·è¾“å…¥æ•°å­—å¤§äº5ã€‚è¦è·³å‡ºè¿™ä¸ªå¾ªç¯ï¼Œè¿”å›åˆ°shellæç¤ºç¬¦ä¸‹ï¼Œéœ€è¦ä½¿ç”¨breakå‘½ä»¤ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">while :</span><br><span class="line">do</span><br><span class="line">    echo -n &quot;è¾“å…¥ 1 åˆ° 5 ä¹‹é—´çš„æ•°å­—:&quot;</span><br><span class="line">    read aNum</span><br><span class="line">    case $aNum in</span><br><span class="line">        1|2|3|4|5) echo &quot;ä½ è¾“å…¥çš„æ•°å­—ä¸º $aNum!&quot;</span><br><span class="line">        ;;</span><br><span class="line">        *) echo &quot;ä½ è¾“å…¥çš„æ•°å­—ä¸æ˜¯ 1 åˆ° 5 ä¹‹é—´çš„! æ¸¸æˆç»“æŸ&quot;</span><br><span class="line">            break</span><br><span class="line">        ;;</span><br><span class="line">    esac</span><br><span class="line">done</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œä»¥ä¸Šä»£ç ï¼Œè¾“å‡ºç»“æœä¸ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">è¾“å…¥ 1 åˆ° 5 ä¹‹é—´çš„æ•°å­—:3</span><br><span class="line">ä½ è¾“å…¥çš„æ•°å­—ä¸º 3!</span><br><span class="line">è¾“å…¥ 1 åˆ° 5 ä¹‹é—´çš„æ•°å­—:7</span><br><span class="line">ä½ è¾“å…¥çš„æ•°å­—ä¸æ˜¯ 1 åˆ° 5 ä¹‹é—´çš„! æ¸¸æˆç»“æŸ</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>continueå‘½ä»¤ä¸breakå‘½ä»¤ç±»ä¼¼ï¼Œåªæœ‰ä¸€ç‚¹å·®åˆ«ï¼Œå®ƒä¸ä¼šè·³å‡ºæ‰€æœ‰å¾ªç¯ï¼Œä»…ä»…è·³å‡ºå½“å‰å¾ªç¯ã€‚</p>
<h3 id="Shellè¾“å…¥-è¾“å‡ºé‡å®šå‘"><a href="#Shellè¾“å…¥-è¾“å‡ºé‡å®šå‘" class="headerlink" title="Shellè¾“å…¥&#x2F;è¾“å‡ºé‡å®šå‘"></a>Shellè¾“å…¥&#x2F;è¾“å‡ºé‡å®šå‘</h3><p>é‡å®šå‘å‘½ä»¤åˆ—è¡¨å¦‚ä¸‹ï¼š</p>
<table>
<thead>
<tr>
<th align="left">å‘½ä»¤</th>
<th align="left">è¯´æ˜</th>
</tr>
</thead>
<tbody><tr>
<td align="left">command &gt; file</td>
<td align="left">å°†è¾“å‡ºé‡å®šå‘åˆ° fileã€‚</td>
</tr>
<tr>
<td align="left">command &lt; file</td>
<td align="left">å°†è¾“å…¥é‡å®šå‘åˆ° fileã€‚</td>
</tr>
<tr>
<td align="left">command &gt;&gt; file</td>
<td align="left">å°†è¾“å‡ºä»¥è¿½åŠ çš„æ–¹å¼é‡å®šå‘åˆ° fileã€‚</td>
</tr>
<tr>
<td align="left">n &gt; file</td>
<td align="left">å°†æ–‡ä»¶æè¿°ç¬¦ä¸º n çš„æ–‡ä»¶é‡å®šå‘åˆ° fileã€‚</td>
</tr>
<tr>
<td align="left">n &gt;&gt; file</td>
<td align="left">å°†æ–‡ä»¶æè¿°ç¬¦ä¸º n çš„æ–‡ä»¶ä»¥è¿½åŠ çš„æ–¹å¼é‡å®šå‘åˆ° fileã€‚</td>
</tr>
<tr>
<td align="left">n &gt;&amp; m</td>
<td align="left">å°†è¾“å‡ºæ–‡ä»¶ m å’Œ n åˆå¹¶ã€‚</td>
</tr>
<tr>
<td align="left">n &lt;&amp; m</td>
<td align="left">å°†è¾“å…¥æ–‡ä»¶ m å’Œ n åˆå¹¶ã€‚</td>
</tr>
<tr>
<td align="left">&lt;&lt; tag</td>
<td align="left">å°†å¼€å§‹æ ‡è®° tag å’Œç»“æŸæ ‡è®° tag ä¹‹é—´çš„å†…å®¹ä½œä¸ºè¾“å…¥ã€‚</td>
</tr>
</tbody></table>
<blockquote>
<p>éœ€è¦æ³¨æ„çš„æ˜¯æ–‡ä»¶æè¿°ç¬¦ 0 é€šå¸¸æ˜¯æ ‡å‡†è¾“å…¥ï¼ˆSTDINï¼‰ï¼Œ1 æ˜¯æ ‡å‡†è¾“å‡ºï¼ˆSTDOUTï¼‰ï¼Œ2 æ˜¯æ ‡å‡†é”™è¯¯è¾“å‡ºï¼ˆSTDERRï¼‰ã€‚</p>
</blockquote>
<hr>
<h4 id="è¾“å‡ºé‡å®šå‘"><a href="#è¾“å‡ºé‡å®šå‘" class="headerlink" title="è¾“å‡ºé‡å®šå‘"></a>è¾“å‡ºé‡å®šå‘</h4><p>é‡å®šå‘ä¸€èˆ¬é€šè¿‡åœ¨å‘½ä»¤é—´æ’å…¥ç‰¹å®šçš„ç¬¦å·æ¥å®ç°ã€‚ç‰¹åˆ«çš„ï¼Œè¿™äº›ç¬¦å·çš„è¯­æ³•å¦‚ä¸‹æ‰€ç¤º:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">command1 &gt; file1</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢è¿™ä¸ªå‘½ä»¤æ‰§è¡Œcommand1ç„¶åå°†è¾“å‡ºçš„å†…å®¹å­˜å…¥file1ã€‚</p>
<p>æ³¨æ„ä»»ä½•file1å†…çš„å·²ç»å­˜åœ¨çš„å†…å®¹å°†è¢«æ–°å†…å®¹æ›¿ä»£ã€‚å¦‚æœè¦å°†æ–°å†…å®¹æ·»åŠ åœ¨æ–‡ä»¶æœ«å°¾ï¼Œè¯·ä½¿ç”¨&gt;&gt;æ“ä½œç¬¦ã€‚</p>
<p>è¾“å‡ºé‡å®šå‘ä¼šè¦†ç›–æ–‡ä»¶å†…å®¹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ echo &quot;www.baidu.com&quot; &gt; users</span><br><span class="line">$ cat users</span><br><span class="line">www.baidu.com</span><br><span class="line">$</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å¦‚æœä¸å¸Œæœ›æ–‡ä»¶å†…å®¹è¢«è¦†ç›–ï¼Œå¯ä»¥ä½¿ç”¨ &gt;&gt; è¿½åŠ åˆ°æ–‡ä»¶æœ«å°¾ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ echo &quot;www.baidu.com&quot; &gt;&gt; users</span><br><span class="line">$ cat users</span><br><span class="line">www.baidu.com</span><br><span class="line">www.baidu.com</span><br><span class="line">$</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="è¾“å…¥é‡å®šå‘"><a href="#è¾“å…¥é‡å®šå‘" class="headerlink" title="è¾“å…¥é‡å®šå‘"></a>è¾“å…¥é‡å®šå‘</h4><p>å’Œè¾“å‡ºé‡å®šå‘ä¸€æ ·ï¼ŒUnix å‘½ä»¤ä¹Ÿå¯ä»¥ä»æ–‡ä»¶è·å–è¾“å…¥ï¼Œè¯­æ³•ä¸ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">command1 &lt; file1</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·ï¼Œæœ¬æ¥éœ€è¦ä»é”®ç›˜è·å–è¾“å…¥çš„å‘½ä»¤ä¼šè½¬ç§»åˆ°æ–‡ä»¶è¯»å–å†…å®¹ã€‚</p>
<p>æ³¨æ„ï¼šè¾“å‡ºé‡å®šå‘æ˜¯å¤§äºå·(&gt;)ï¼Œè¾“å…¥é‡å®šå‘æ˜¯å°äºå·(&lt;)ã€‚</p>
<p>ç»Ÿè®¡ users æ–‡ä»¶çš„è¡Œæ•°,æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/test$ wc -l test </span><br><span class="line">4 test</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥å°†è¾“å…¥é‡å®šå‘åˆ° users æ–‡ä»¶ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/test$ wc -l &lt;test</span><br><span class="line">4</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼šä¸Šé¢ä¸¤ä¸ªä¾‹å­çš„ç»“æœä¸åŒï¼šç¬¬ä¸€ä¸ªä¾‹å­ï¼Œä¼šè¾“å‡ºæ–‡ä»¶åï¼›ç¬¬äºŒä¸ªä¸ä¼šï¼Œå› ä¸ºå®ƒä»…ä»…çŸ¥é“ä»æ ‡å‡†è¾“å…¥è¯»å–å†…å®¹ã€‚</p>
<p>åŒæ—¶æ›¿æ¢è¾“å…¥å’Œè¾“å‡ºï¼Œæ‰§è¡Œcommand1ï¼Œä»æ–‡ä»¶infileè¯»å–å†…å®¹ï¼Œç„¶åå°†è¾“å‡ºå†™å…¥åˆ°outfileä¸­:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">command1 &lt; infile &gt; outfile</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<h4 id="é‡å®šå‘æ·±å…¥è®²è§£"><a href="#é‡å®šå‘æ·±å…¥è®²è§£" class="headerlink" title="é‡å®šå‘æ·±å…¥è®²è§£"></a>é‡å®šå‘æ·±å…¥è®²è§£</h4><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œæ¯ä¸ª Unix&#x2F;Linux å‘½ä»¤è¿è¡Œæ—¶éƒ½ä¼šæ‰“å¼€ä¸‰ä¸ªæ–‡ä»¶ï¼š</p>
<ul>
<li>æ ‡å‡†è¾“å…¥æ–‡ä»¶(stdin)ï¼šstdinçš„æ–‡ä»¶æè¿°ç¬¦ä¸º0ï¼ŒUnixç¨‹åºé»˜è®¤ä»stdinè¯»å–æ•°æ®ã€‚</li>
<li>æ ‡å‡†è¾“å‡ºæ–‡ä»¶(stdout)ï¼šstdout çš„æ–‡ä»¶æè¿°ç¬¦ä¸º1ï¼ŒUnixç¨‹åºé»˜è®¤å‘stdoutè¾“å‡ºæ•°æ®ã€‚</li>
<li>æ ‡å‡†é”™è¯¯æ–‡ä»¶(stderr)ï¼šstderrçš„æ–‡ä»¶æè¿°ç¬¦ä¸º2ï¼ŒUnixç¨‹åºä¼šå‘stderræµä¸­å†™å…¥é”™è¯¯ä¿¡æ¯ã€‚</li>
</ul>
<p>é»˜è®¤æƒ…å†µä¸‹ï¼Œcommand &gt; file å°† stdout é‡å®šå‘åˆ° fileï¼Œcommand &lt; file å°†stdin é‡å®šå‘åˆ° fileã€‚</p>
<p>å¦‚æœå¸Œæœ› stderr é‡å®šå‘åˆ° fileï¼Œå¯ä»¥è¿™æ ·å†™ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ command 2 &gt; file</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>å¦‚æœå¸Œæœ› stderr è¿½åŠ åˆ° file æ–‡ä»¶æœ«å°¾ï¼Œå¯ä»¥è¿™æ ·å†™ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ command 2 &gt;&gt; file</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p><strong>2</strong> è¡¨ç¤ºæ ‡å‡†é”™è¯¯æ–‡ä»¶(stderr)ã€‚</p>
<p>å¦‚æœå¸Œæœ›å°† stdout å’Œ stderr åˆå¹¶åé‡å®šå‘åˆ° fileï¼Œå¯ä»¥è¿™æ ·å†™ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ command &gt; file 2&gt;&amp;1</span><br><span class="line">æˆ–è€…</span><br><span class="line">$ command &gt;&gt; file 2&gt;&amp;1</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<p>å¦‚æœå¸Œæœ›å¯¹ stdin å’Œ stdout éƒ½é‡å®šå‘ï¼Œå¯ä»¥è¿™æ ·å†™ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ command &lt; file1 &gt;file2</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>command å‘½ä»¤å°† stdin é‡å®šå‘åˆ° file1ï¼Œå°† stdout é‡å®šå‘åˆ° file2ã€‚</p>
<h4 id="Here-Document"><a href="#Here-Document" class="headerlink" title="Here Document"></a>Here Document</h4><p>Here Document æ˜¯ Shell ä¸­çš„ä¸€ç§ç‰¹æ®Šçš„é‡å®šå‘æ–¹å¼ï¼Œç”¨æ¥å°†è¾“å…¥é‡å®šå‘åˆ°ä¸€ä¸ªäº¤äº’å¼ Shell è„šæœ¬æˆ–ç¨‹åºã€‚</p>
<p>å®ƒçš„åŸºæœ¬çš„å½¢å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">command &lt;&lt; delimiter</span><br><span class="line">    document</span><br><span class="line">delimiter</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<p>å®ƒçš„ä½œç”¨æ˜¯å°†ä¸¤ä¸ª delimiter ä¹‹é—´çš„å†…å®¹(document) ä½œä¸ºè¾“å…¥ä¼ é€’ç»™ commandã€‚</p>
<p>æ³¨æ„ï¼šç»“å°¾çš„delimiter ä¸€å®šè¦é¡¶æ ¼å†™ï¼Œå‰é¢ä¸èƒ½æœ‰ä»»ä½•å­—ç¬¦ï¼Œåé¢ä¹Ÿä¸èƒ½æœ‰ä»»ä½•å­—ç¬¦ï¼ŒåŒ…æ‹¬ç©ºæ ¼å’Œ tab ç¼©è¿›ã€‚</p>
<p>åœ¨å‘½ä»¤è¡Œä¸­é€šè¿‡ wc -l å‘½ä»¤è®¡ç®— Here Document çš„è¡Œæ•°ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ wc -l &lt;&lt; EOF</span><br><span class="line">    æ¬¢è¿æ¥åˆ°</span><br><span class="line">    èœé¸Ÿæ•™ç¨‹</span><br><span class="line">    www.runoob.com</span><br><span class="line">EOF</span><br><span class="line">3          # è¾“å‡ºç»“æœä¸º 3 è¡Œ</span><br><span class="line">$</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="dev-null-æ–‡ä»¶"><a href="#dev-null-æ–‡ä»¶" class="headerlink" title="&#x2F;dev&#x2F;null æ–‡ä»¶"></a>&#x2F;dev&#x2F;null æ–‡ä»¶</h4><p>å¦‚æœå¸Œæœ›æ‰§è¡ŒæŸä¸ªå‘½ä»¤ï¼Œä½†åˆä¸å¸Œæœ›åœ¨å±å¹•ä¸Šæ˜¾ç¤ºè¾“å‡ºç»“æœï¼Œé‚£ä¹ˆå¯ä»¥å°†è¾“å‡ºé‡å®šå‘åˆ° &#x2F;dev&#x2F;nullï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ command &gt; /dev/null</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>&#x2F;dev&#x2F;null æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„æ–‡ä»¶ï¼Œå†™å…¥åˆ°å®ƒçš„å†…å®¹éƒ½ä¼šè¢«ä¸¢å¼ƒï¼›å¦‚æœå°è¯•ä»è¯¥æ–‡ä»¶è¯»å–å†…å®¹ï¼Œé‚£ä¹ˆä»€ä¹ˆä¹Ÿè¯»ä¸åˆ°ã€‚ä½†æ˜¯ &#x2F;dev&#x2F;null æ–‡ä»¶éå¸¸æœ‰ç”¨ï¼Œå°†å‘½ä»¤çš„è¾“å‡ºé‡å®šå‘åˆ°å®ƒï¼Œä¼šèµ·åˆ°â€ç¦æ­¢è¾“å‡ºâ€çš„æ•ˆæœã€‚</p>
<p>å¦‚æœå¸Œæœ›å±è”½ stdout å’Œ stderrï¼Œå¯ä»¥è¿™æ ·å†™ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ command &gt; /dev/null 2&gt;&amp;1</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>0 æ˜¯æ ‡å‡†è¾“å…¥ï¼ˆSTDINï¼‰ï¼Œ1 æ˜¯æ ‡å‡†è¾“å‡ºï¼ˆSTDOUTï¼‰ï¼Œ2 æ˜¯æ ‡å‡†é”™è¯¯è¾“å‡ºï¼ˆSTDERRï¼‰ã€‚</p>
<h3 id="å®ä¾‹"><a href="#å®ä¾‹" class="headerlink" title="å®ä¾‹"></a>å®ä¾‹</h3><h4 id="æ¨è¾‰ä¸‰è§’ï¼š"><a href="#æ¨è¾‰ä¸‰è§’ï¼š" class="headerlink" title="æ¨è¾‰ä¸‰è§’ï¼š"></a>æ¨è¾‰ä¸‰è§’ï¼š</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">if (test -z $1) ;then </span><br><span class="line"> read -p &quot;Input high Int Lines:&quot; high </span><br><span class="line">else </span><br><span class="line"> high=$1 </span><br><span class="line">fi </span><br><span class="line">if (test -z $2) ;then </span><br><span class="line"> space=4</span><br><span class="line">else </span><br><span class="line"> space=$2</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">printspace()&#123;</span><br><span class="line">  #ç©ºä½å¡«å……</span><br><span class="line">  for((z=1;z&lt;=$1;z++));do</span><br><span class="line">    echo -n &quot; &quot;</span><br><span class="line">  done</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">a[0]=1     </span><br><span class="line">for((i=0;i&lt;=high;i++));do</span><br><span class="line">  #äº§ç”Ÿå½“å‰åˆ—æ•°æ®æ•°ç»„</span><br><span class="line">  for ((j=$i;j&gt;0;j--));do </span><br><span class="line">    ((a[$j]+=a[$j-1])) </span><br><span class="line">  done</span><br><span class="line">  printspace $((($high-$i)*$space/2))</span><br><span class="line">  for ((j=0;j&lt;=$i;j++));do</span><br><span class="line">    num=$(($space-$&#123;#a[$j]&#125;))</span><br><span class="line">    printspace $(($num/2))</span><br><span class="line">    echo -n $&#123;a[$j]&#125;</span><br><span class="line">    printspace $(($num-$num/2))</span><br><span class="line">  done</span><br><span class="line">  echo &quot;&quot;</span><br><span class="line">done</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="sum-max"><a href="#sum-max" class="headerlink" title="sum()&amp;max():"></a>sum()&amp;max():</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">echo &quot;shellçš„å‡½æ•°è¿”å›å€¼åªèƒ½ä¸º0~255çš„æ•´æ•°ï¼Œé«˜ä½è‡ªåŠ¨ä¸¢å¼ƒ&quot;</span><br><span class="line">sum()&#123;</span><br><span class="line"> sum=0</span><br><span class="line"> for i in $@</span><br><span class="line"> do</span><br><span class="line">  if test $i -ne $1;then</span><br><span class="line">   echo -n &quot;+&quot;</span><br><span class="line">  fi</span><br><span class="line">  echo -n &quot;$i&quot;</span><br><span class="line">  sum=$(($sum+$i))</span><br><span class="line"> done</span><br><span class="line"> echo &quot;=$sum&quot;</span><br><span class="line"> return $(($sum))</span><br><span class="line">&#125;</span><br><span class="line">sum $@</span><br><span class="line">echo &quot;â€˜sum()â€™å‡½æ•°è¿”å›å€¼ï¼š&quot;$?</span><br><span class="line"></span><br><span class="line">max()&#123;</span><br><span class="line"> max=0</span><br><span class="line"> for i in $@;do</span><br><span class="line">  if test $i -ge $max;then</span><br><span class="line">    max=$i</span><br><span class="line">  fi</span><br><span class="line"> done</span><br><span class="line"> echo &quot;å‚æ•°æœ€å¤§å€¼ï¼š$max&quot;</span><br><span class="line"> return $(($max))</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">max $@</span><br><span class="line"></span><br><span class="line">echo &quot;â€˜max()â€™å‡½æ•°è¿”å›å€¼ï¼š&quot;$?</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="99ä¹˜æ³•è¡¨ï¼š"><a href="#99ä¹˜æ³•è¡¨ï¼š" class="headerlink" title="99ä¹˜æ³•è¡¨ï¼š"></a>99ä¹˜æ³•è¡¨ï¼š</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line"></span><br><span class="line">for i in &#123;1..9&#125;;do</span><br><span class="line"> for((j=1;j&lt;=i;j++));do</span><br><span class="line">  echo -en &quot;$i*$j=$(($i*$j))\t&quot;</span><br><span class="line"> done</span><br><span class="line"> echo &quot;&quot;</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line">for a in &#123;1..9&#125;;do</span><br><span class="line">    for b in &#123;0..9&#125;;do</span><br><span class="line">        for c in &#123;0..9&#125;;do</span><br><span class="line">            number1=$((a*100+b*10+c))</span><br><span class="line">            number2=$((a**3+b**3+c**3))</span><br><span class="line">            if test $number1 -eq $number2; then</span><br><span class="line">                echo &quot;Found number $number1&quot;</span><br><span class="line">            fi</span><br><span class="line">        done</span><br><span class="line">    done</span><br><span class="line">done</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="æ–‡æœ¬ç¼–è¾‘å‘½ä»¤"><a href="#æ–‡æœ¬ç¼–è¾‘å‘½ä»¤" class="headerlink" title="æ–‡æœ¬ç¼–è¾‘å‘½ä»¤"></a>æ–‡æœ¬ç¼–è¾‘å‘½ä»¤</h2><h3 id="cutå‘½ä»¤"><a href="#cutå‘½ä»¤" class="headerlink" title="cutå‘½ä»¤"></a>cutå‘½ä»¤</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">é€‰é¡¹ä¸å‚æ•°ï¼š</span><br><span class="line">-d  ï¼šåé¢æ¥åˆ†éš”å­—ç¬¦ã€‚ä¸ -f ä¸€èµ·ä½¿ç”¨ï¼›</span><br><span class="line">-f  ï¼šä¾æ® -d çš„åˆ†éš”å­—ç¬¦å°†ä¸€æ®µä¿¡æ¯åˆ†å‰²æˆä¸ºæ•°æ®µï¼Œç”¨ -f å–å‡ºç¬¬å‡ æ®µçš„æ„æ€ï¼›</span><br><span class="line">-c  ï¼šä»¥å­—ç¬¦ (characters) çš„å•ä½å–å‡ºå›ºå®šå­—ç¬¦åŒºé—´ï¼›</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>cutä»¥è¡Œä¸ºå•ä½ï¼Œæ ¹æ®åˆ†éš”ç¬¦æŠŠè¡Œåˆ†æˆè‹¥å¹²åˆ—ï¼Œè¿™æ ·å°±å¯ä»¥æŒ‡å®šé€‰å–å“ªäº›åˆ—äº†ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">cut -d &#x27;åˆ†éš”å­—ç¬¦&#x27; -f é€‰å–çš„åˆ—æ•°</span><br><span class="line">echo $PATH|cut -d &#x27;:&#x27; -f 2  	--é€‰å–ç¬¬2åˆ—</span><br><span class="line">echo $PATH|cut -d &#x27;:&#x27; -f 3,5  	--é€‰å–ç¬¬3åˆ—å’Œç¬¬5åˆ—</span><br><span class="line">echo $PATH|cut -d &#x27;:&#x27; -f 3-5  	--é€‰å–ç¬¬3åˆ—åˆ°ç¬¬5åˆ—</span><br><span class="line">echo $PATH|cut -d &#x27;:&#x27; -f 3-   	--é€‰å–ç¬¬3åˆ—åˆ°æœ€å1åˆ—</span><br><span class="line">echo $PATH|cut -d &#x27;:&#x27; -f 1-3,5	--é€‰å–ç¬¬1åˆ°ç¬¬3åˆ—è¿˜æœ‰ç¬¬5åˆ—</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>åªæ˜¾ç¤º&#x2F;etc&#x2F;passwdçš„ç”¨æˆ·å’Œshellï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#cat /etc/passwd | cut -d &#x27;:&#x27; -f 1,7 </span><br><span class="line">root:/bin/bash</span><br><span class="line">daemon:/bin/sh</span><br><span class="line">bin:/bin/sh</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="sedå‘½ä»¤"><a href="#sedå‘½ä»¤" class="headerlink" title="sedå‘½ä»¤"></a>sedå‘½ä»¤</h3><p>sed å¯ä¾ç…§è„šæœ¬çš„æŒ‡ä»¤æ¥å¤„ç†ã€ç¼–è¾‘æ–‡æœ¬æ–‡ä»¶ã€‚</p>
<p>Sed ä¸»è¦ç”¨æ¥è‡ªåŠ¨ç¼–è¾‘ä¸€ä¸ªæˆ–å¤šä¸ªæ–‡ä»¶ã€ç®€åŒ–å¯¹æ–‡ä»¶çš„åå¤æ“ä½œã€ç¼–å†™è½¬æ¢ç¨‹åºç­‰ã€‚</p>
<p>è¯­æ³•:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sed [-e&lt;script&gt;][-f&lt;scriptæ–‡ä»¶&gt;][æ–‡æœ¬æ–‡ä»¶]</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p><strong>å‚æ•°è¯´æ˜</strong>ï¼š</p>
<ul>
<li><code>-e &lt;script&gt;</code>ä»¥æŒ‡å®šçš„scriptæ¥å¤„ç†è¾“å…¥çš„æ–‡æœ¬æ–‡ä»¶ã€‚</li>
<li><code>-f&lt;scriptæ–‡ä»¶&gt;</code>ä»¥æŒ‡å®šçš„scriptæ–‡ä»¶æ¥å¤„ç†è¾“å…¥çš„æ–‡æœ¬æ–‡ä»¶ã€‚</li>
<li><code>-n</code>ä»…æ˜¾ç¤ºscriptå¤„ç†åçš„ç»“æœï¼Œä¸€èˆ¬è·ŸpåŠ¨ä½œæ­é…ä½¿ç”¨ã€‚</li>
<li><code>-i</code>ä½¿ç”¨å¤„ç†åçš„ç»“æœä¿®æ”¹æ–‡ä»¶ã€‚</li>
</ul>
<p><strong>åŠ¨ä½œè¯´æ˜</strong>ï¼š</p>
<ul>
<li>aï¼šåœ¨æŒ‡å®šè¡Œåé¢æ’å…¥å†…å®¹</li>
<li>iï¼šåœ¨æŒ‡å®šè¡Œå‰é¢æ’å…¥å†…å®¹</li>
<li>dï¼šåˆ é™¤æŒ‡å®šè¡Œ</li>
<li>c ï¼šæ›¿æ¢æŒ‡å®šè¡Œ</li>
<li>p ï¼šæ‰“å°æŒ‡å®šè¡Œçš„æ•°æ®ï¼Œé€šå¸¸éœ€è¦è·Ÿ<code>-n</code>é€‰é¡¹æ­é…ä½¿ç”¨</li>
<li>s ï¼šæ›¿æ¢æŒ‡å®šå­—ç¬¦ï¼Œå…¼å®¹vimçš„æ›¿æ¢è¯­æ³•ï¼Œä¾‹å¦‚ 1,20s&#x2F;old&#x2F;new&#x2F;g</li>
</ul>
<h4 id="å…ƒå­—ç¬¦é›†"><a href="#å…ƒå­—ç¬¦é›†" class="headerlink" title="å…ƒå­—ç¬¦é›†"></a>å…ƒå­—ç¬¦é›†</h4><p>sedæ”¯æŒä¸€èˆ¬çš„æ­£åˆ™è¡¨è¾¾å¼ï¼Œä¸‹é¢æ˜¯æ”¯æŒçš„æ­£åˆ™è¯­æ³•ï¼š<br><code>^</code>è¡Œçš„å¼€å§‹ å¦‚ï¼š&#x2F;^sed&#x2F;åŒ¹é…æ‰€æœ‰ä»¥sedå¼€å¤´çš„è¡Œã€‚<br><code>$</code>è¡Œçš„ç»“æŸ å¦‚ï¼š&#x2F;sed$&#x2F;åŒ¹é…æ‰€æœ‰ä»¥sedç»“å°¾çš„è¡Œã€‚<br><code>.</code>åŒ¹é…ä¸€ä¸ªéæ¢è¡Œç¬¦çš„ä»»æ„å­—ç¬¦ å¦‚ï¼š&#x2F;s.d&#x2F;åŒ¹é…såæ¥ä¸€ä¸ªä»»æ„å­—ç¬¦ï¼Œç„¶åæ˜¯dã€‚<br><code>*</code>åŒ¹é…é›¶æˆ–å¤šä¸ªå­—ç¬¦ å¦‚ï¼š&#x2F;*sed&#x2F;åŒ¹é…æ‰€æœ‰æ¨¡æ¿æ˜¯ä¸€ä¸ªæˆ–å¤šä¸ªç©ºæ ¼åç´§è·Ÿsedçš„è¡Œã€‚<br><code>[]</code>åŒ¹é…ä¸€ä¸ªæŒ‡å®šèŒƒå›´å†…çš„å­—ç¬¦ï¼Œå¦‚<code>/[Ss]ed/</code>åŒ¹é…sedå’ŒSedã€‚<br><code>[^]</code>åŒ¹é…ä¸€ä¸ªä¸åœ¨æŒ‡å®šèŒƒå›´å†…çš„å­—ç¬¦ï¼Œå¦‚ï¼š<code>/[^A-RT-Z]ed/</code>åŒ¹é…ä¸åŒ…å«A-Rå’ŒT-Zçš„ä¸€ä¸ªå­—æ¯å¼€å¤´ï¼Œç´§è·Ÿedçš„è¡Œã€‚<br><code>\(..\)</code>ä¿å­˜åŒ¹é…çš„å­—ç¬¦ï¼Œå¦‚s&#x2F;(love)able&#x2F;\1rsï¼Œloveableè¢«æ›¿æ¢æˆloversã€‚<br><code>&amp;</code>ä¿å­˜æœç´¢å­—ç¬¦ç”¨æ¥æ›¿æ¢å…¶ä»–å­—ç¬¦ï¼Œå¦‚<code>s/love/**&amp;**/</code>ï¼Œloveè¿™æˆ<code>**love**</code>ã€‚<br><code>\&lt;</code>å•è¯çš„å¼€å§‹ï¼Œå¦‚:&#x2F;&lt;love&#x2F;åŒ¹é…åŒ…å«ä»¥loveå¼€å¤´çš„å•è¯çš„è¡Œã€‚<br><code>\&gt;</code>å•è¯çš„ç»“æŸï¼Œå¦‚&#x2F;love&gt;&#x2F;åŒ¹é…åŒ…å«ä»¥loveç»“å°¾çš„å•è¯çš„è¡Œã€‚<br><code>x\+</code>é‡å¤å­—ç¬¦xï¼Œè‡³å°‘1æ¬¡ï¼Œå¦‚ï¼š<code>/o\+/</code>åŒ¹é…è‡³å°‘æœ‰1ä¸ªoçš„è¡Œã€‚<br><code>x\&#123;m\&#125;</code>é‡å¤å­—ç¬¦xï¼Œmæ¬¡ï¼Œå¦‚ï¼š<code>/o\&#123;5\&#125;/</code>åŒ¹é…åŒ…å«5ä¸ªoçš„è¡Œã€‚<br><code>x\&#123;m,\&#125;</code>é‡å¤å­—ç¬¦x,è‡³å°‘mæ¬¡ï¼Œå¦‚ï¼š<code>/o\&#123;5,\&#125;/</code>åŒ¹é…è‡³å°‘æœ‰5ä¸ªoçš„è¡Œã€‚<br><code>x\&#123;m,n\&#125;</code>é‡å¤å­—ç¬¦xï¼Œè‡³å°‘mæ¬¡ï¼Œä¸å¤šäºnæ¬¡ï¼Œå¦‚ï¼š<code>/o\&#123;5,10\&#125;/</code>åŒ¹é…5-10ä¸ªoçš„è¡Œã€‚</p>
<h4 id="a-i-åœ¨æŒ‡å®šè¡Œä½ç½®æ·»åŠ è¡Œ"><a href="#a-i-åœ¨æŒ‡å®šè¡Œä½ç½®æ·»åŠ è¡Œ" class="headerlink" title="a|i:åœ¨æŒ‡å®šè¡Œä½ç½®æ·»åŠ è¡Œ"></a>a|i:åœ¨æŒ‡å®šè¡Œä½ç½®æ·»åŠ è¡Œ</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">python@xxx:~/test$ cat testfile              </span><br><span class="line"> LINUX!  </span><br><span class="line"> Linux is a free unix-type opterating system.  </span><br><span class="line"> This is a linux testfile!  </span><br><span class="line"> Linux test </span><br><span class="line"></span><br><span class="line">python@xxx:~/test$ sed -e 2a\newline testfile </span><br><span class="line"> LINUX!  </span><br><span class="line"> Linux is a free unix-type opterating system.  </span><br><span class="line">newline</span><br><span class="line"> This is a linux testfile!  </span><br><span class="line"> Linux test </span><br><span class="line"> </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>é»˜è®¤æƒ…å†µä¸‹<code>-e</code>å‚æ•°å¯ä»¥çœç•¥ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">python@xxx:~/test$ cat testfile|sed &#x27;2a\newline&#x27;</span><br><span class="line"> LINUX!  </span><br><span class="line"> Linux is a free unix-type opterating system.  </span><br><span class="line">newline</span><br><span class="line"> This is a linux testfile!  </span><br><span class="line"> Linux test </span><br><span class="line"></span><br><span class="line">python@xxx:~/test$ sed &#x27;2a newline&#x27; testfile</span><br><span class="line"> LINUX!  </span><br><span class="line"> Linux is a free unix-type opterating system.  </span><br><span class="line">newline</span><br><span class="line"> This is a linux testfile!  </span><br><span class="line"> Linux test </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><code>&lt;script&gt;</code>ä¸­çš„å†…å®¹æœ€å¥½ç”¨å•å¼•å·æ‹¬èµ·æ¥ï¼Œå¦‚æœè„šæœ¬å†…å®¹ä¸å­˜åœ¨ç©ºç™½å­—ç¬¦ä¹Ÿå¯ä»¥çœç•¥å•å¼•å·ã€‚</p>
<p>åœ¨ç¬¬äºŒè¡Œä¹‹å‰æ·»åŠ ä¸€è¡Œï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">python@xxx:~/test$ sed &#x27;2i newline&#x27; testfile </span><br><span class="line"> LINUX!  </span><br><span class="line">newline</span><br><span class="line"> Linux is a free unix-type opterating system.  </span><br><span class="line"> This is a linux testfile!  </span><br><span class="line"> Linux test </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æœ€åä¸€è¡ŒåŠ å…¥ <code># This is a test</code>:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">python@xxx:~/test$ sed &#x27;$a # This is a test&#x27; testfile </span><br><span class="line"> LINUX!  </span><br><span class="line"> Linux is a free unix-type opterating system.  </span><br><span class="line"> This is a linux testfile!  </span><br><span class="line"> Linux test </span><br><span class="line"># This is a test</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>åŒæ—¶æ·»åŠ å¤šè¡Œï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">python@xxx:~/test$ cat testfile|sed &#x27;2a\newline1\</span><br><span class="line">&gt; newline2&#x27;</span><br><span class="line"> LINUX!  </span><br><span class="line"> Linux is a free unix-type opterating system.  </span><br><span class="line">newline1</span><br><span class="line">newline2</span><br><span class="line"> This is a linux testfile!  </span><br><span class="line"> Linux test </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="d-åˆ é™¤æŒ‡å®šè¡Œ"><a href="#d-åˆ é™¤æŒ‡å®šè¡Œ" class="headerlink" title="d:åˆ é™¤æŒ‡å®šè¡Œ"></a>d:åˆ é™¤æŒ‡å®šè¡Œ</h4><p>å°† &#x2F;etc&#x2F;passwd çš„å†…å®¹åˆ—å‡ºè¡Œå·ï¼Œå¹¶å°†ç¬¬ 2~5 è¡Œåˆ é™¤ï¼</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# nl /etc/passwd | sed &#x27;2,5d&#x27;</span><br><span class="line">1 root:x:0:0:root:/root:/bin/bash</span><br><span class="line">6 sync:x:5:0:sync:/sbin:/bin/sync</span><br><span class="line">7 shutdown:x:6:0:shutdown:/sbin:/sbin/shutdown</span><br><span class="line">.....(åé¢çœç•¥).....</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>åªåˆ é™¤ç¬¬2è¡Œï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nl /etc/passwd | sed &#x27;2d&#x27; </span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>åˆ é™¤ç¬¬3åˆ°æœ€åä¸€è¡Œï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">nl /etc/passwd | sed &#x27;3,$d&#x27; </span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>åˆ é™¤&#x2F;etc&#x2F;passwdæ‰€æœ‰åŒ…å«<code>/usr/sbin/nologin</code>çš„è¡Œï¼Œå…¶ä»–è¡Œè¾“å‡ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">python@xxx:~/test$ nl /etc/passwd | sed  &#x27;/\/usr\/sbin\/nologin/d&#x27;</span><br><span class="line">1  root:x:0:0:root:/root:/bin/bash</span><br><span class="line">5  sync:x:4:65534:sync:/bin:/bin/sync</span><br><span class="line">19  systemd-timesync:x:100:102:systemd Time Synchronization,,,:/run/systemd:/bin/false</span><br><span class="line">20  systemd-network:x:101:103:systemd Network Management,,,:/run/systemd/netif:/bin/false</span><br><span class="line">....ä¸‹é¢å¿½ç•¥</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="c-æ›¿æ¢æŒ‡å®šè¡Œ"><a href="#c-æ›¿æ¢æŒ‡å®šè¡Œ" class="headerlink" title="c:æ›¿æ¢æŒ‡å®šè¡Œ"></a>c:æ›¿æ¢æŒ‡å®šè¡Œ</h4><p>å°†ç¬¬2-5è¡Œçš„å†…å®¹æ›¿æ¢æˆä¸ºã€No 2-5 numberã€ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">python@xxx:~/test$ nl /etc/passwd | sed &#x27;2,5c No 2-5 number&#x27;</span><br><span class="line">1  root:x:0:0:root:/root:/bin/bash</span><br><span class="line">No 2-5 number</span><br><span class="line">6  games:x:5:60:games:/usr/games:/usr/sbin/nologin</span><br><span class="line">.....(åé¢çœç•¥).....</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="p-ä»…æ˜¾ç¤ºæŒ‡å®šè¡Œ"><a href="#p-ä»…æ˜¾ç¤ºæŒ‡å®šè¡Œ" class="headerlink" title="p:ä»…æ˜¾ç¤ºæŒ‡å®šè¡Œ"></a>p:ä»…æ˜¾ç¤ºæŒ‡å®šè¡Œ</h4><p>ä¸åŠ <code>-n</code>é€‰é¡¹æ—¶ï¼Œé™¤äº†è¾“å‡ºåŒ¹é…è¡Œï¼Œè¿˜åŒæ—¶ä¼šè¾“å‡ºæ‰€æœ‰è¡Œï¼Œæ‰€ä»¥éœ€è¦åŠ <code>-n</code>é€‰é¡¹ã€‚</p>
<p>ä»…åˆ—å‡º &#x2F;etc&#x2F;passwd æ–‡ä»¶å†…çš„ç¬¬ 5-7 è¡Œï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">python@xxx:~/test$ nl /etc/passwd | sed -n &#x27;5,7p&#x27;</span><br><span class="line">5  sync:x:4:65534:sync:/bin:/bin/sync</span><br><span class="line">6  games:x:5:60:games:/usr/games:/usr/sbin/nologin</span><br><span class="line">7  man:x:6:12:man:/var/cache/man:/usr/sbin/nologin</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æœç´¢ &#x2F;etc&#x2F;passwdæœ‰rootå…³é”®å­—çš„è¡Œï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">python@xxx:~/test$ cat /etc/passwd | sed -n &#x27;/root/p&#x27;  </span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">python@xxx:~/test$ sed -n &#x27;/root/p&#x27; /etc/passwd      </span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æ‰“å°&#x2F;etc&#x2F;passwdæœ‰ä»¥rootå’Œbinå¼€å¤´ä¹‹é—´çš„è¡Œï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">python@xxx:~/test$ cat /etc/passwd | sed -n &#x27;/^root/,/^bin/p&#x27;</span><br><span class="line">root:x:0:0:root:/root:/bin/bash</span><br><span class="line">daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin</span><br><span class="line">bin:x:2:2:bin:/bin:/usr/sbin/nologin</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æ‰“å°ä»ç¬¬äº”è¡Œå¼€å§‹åˆ°ç¬¬ä¸€ä¸ªåŒ…å«ä»¥<code>/var/mail</code>å¼€å§‹çš„è¡Œä¹‹é—´çš„æ‰€æœ‰è¡Œï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">python@xxx:~/test$ nl /etc/passwd | sed -n &#x27;5,\/var\/mail/p&#x27;   </span><br><span class="line">     5  sync:x:4:65534:sync:/bin:/bin/sync</span><br><span class="line">     6  games:x:5:60:games:/usr/games:/usr/sbin/nologin</span><br><span class="line">     7  man:x:6:12:man:/var/cache/man:/usr/sbin/nologin</span><br><span class="line">     8  lp:x:7:7:lp:/var/spool/lpd:/usr/sbin/nologin</span><br><span class="line">     9  mail:x:8:8:mail:/var/mail:/usr/sbin/nologin</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="s-å­—ç¬¦ä¸²æ›¿æ¢"><a href="#s-å­—ç¬¦ä¸²æ›¿æ¢" class="headerlink" title="s:å­—ç¬¦ä¸²æ›¿æ¢"></a>s:å­—ç¬¦ä¸²æ›¿æ¢</h4><p>è¯­æ³•ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sed &#x27;s/è¦è¢«å–ä»£çš„å­—ä¸²/æ–°çš„å­—ä¸²/g&#x27;</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>ä¸è®ºä»€ä¹ˆå­—ç¬¦ï¼Œç´§è·Ÿç€så‘½ä»¤çš„éƒ½è¢«è®¤ä¸ºæ˜¯æ–°çš„åˆ†éš”ç¬¦.</p>
<p><code>sed &#39;s#10#100#g&#39;</code>è¡¨ç¤ºæŠŠæ‰€æœ‰10æ›¿æ¢æˆ100ï¼Œâ€œ#â€åœ¨è¿™é‡Œæ˜¯åˆ†éš”ç¬¦ï¼Œä»£æ›¿äº†é»˜è®¤çš„â€œ&#x2F;â€åˆ†éš”ç¬¦ã€‚</p>
<p>æå–æœ¬æœºæ‰€æœ‰çš„ipåœ°å€ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">[root@VM_0_9_centos ~]# ifconfig | grep &#x27;inet &#x27;</span><br><span class="line">        inet 172.16.0.9  netmask 255.255.240.0  broadcast 172.16.15.255</span><br><span class="line">        inet 127.0.0.1  netmask 255.0.0.0</span><br><span class="line">[root@VM_0_9_centos ~]# ifconfig | grep &#x27;inet &#x27;|sed &#x27;s/^[^0-9]*\([0-9\.]*\).*$/\1/g&#x27;</span><br><span class="line">172.16.0.9</span><br><span class="line">127.0.0.1</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å¯¹äºä»¥rootå’Œbinå¼€å¤´ä¹‹é—´çš„è¡Œï¼Œæ¯è¡Œçš„æœ«å°¾æ·»åŠ sed testï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">python@xxx:~/test$ cat /etc/passwd | sed &#x27;/^root/,/^bin/s/$/--sed test/&#x27;  </span><br><span class="line">root:x:0:0:root:/root:/bin/bash--sed test</span><br><span class="line">daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin--sed test</span><br><span class="line">bin:x:2:2:bin:/bin:/usr/sbin/nologin--sed test</span><br><span class="line">sys:x:3:3:sys:/dev:/usr/sbin/nologin</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="y-å•å­—ç¬¦æ›¿æ¢"><a href="#y-å•å­—ç¬¦æ›¿æ¢" class="headerlink" title="y:å•å­—ç¬¦æ›¿æ¢"></a>y:å•å­—ç¬¦æ›¿æ¢</h4><p>è·Ÿsä¸€æ ·ä¹Ÿç”¨äºæ›¿æ¢ï¼Œä¸è¿‡sæ›¿æ¢çš„æ˜¯æ•´ä½“ï¼Œyæ›¿æ¢çš„æ˜¯æ¯ä¸€å­—æ¯å¯¹åº”çš„å•ä¸ªå­—æ¯</p>
<p>æŠŠdataä¸­çš„ç¬¬ä¸€è¡Œè‡³ç¬¬ä¸‰è¡Œä¸­çš„aæ›¿æ¢æˆAï¼Œbæ›¿æ¢æˆBï¼Œcæ›¿æ¢æˆCï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sed &#x27;1,3y/abc/ABC/&#x27; data </span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/test$ echo &quot;123&quot; | sed &#x27;y/13/34/&#x27; </span><br><span class="line">324</span><br><span class="line">python@ubuntu:~/test$ echo &quot;axxbxxcxx&quot; | sed &#x27;y/abc/123/&#x27;</span><br><span class="line">1xx2xx3xx</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="hHgGæ¨¡å¼ç©ºé—´-ä¿æŒç©ºé—´"><a href="#hHgGæ¨¡å¼ç©ºé—´-ä¿æŒç©ºé—´" class="headerlink" title="hHgGæ¨¡å¼ç©ºé—´&amp;ä¿æŒç©ºé—´"></a><code>hHgG</code>æ¨¡å¼ç©ºé—´&amp;ä¿æŒç©ºé—´</h4><p>hå‘½ä»¤æ˜¯å°†å½“å‰æ¨¡å¼ç©ºé—´ä¸­å†…å®¹è¦†ç›–è‡³ä¿æŒç©ºé—´ï¼ŒHå‘½ä»¤æ˜¯å°†å½“å‰æ¨¡å¼ç©ºé—´ä¸­çš„å†…å®¹è¿½åŠ è‡³ä¿æŒç©ºé—´</p>
<p>gå‘½ä»¤æ˜¯å°†å½“å‰ä¿æŒç©ºé—´ä¸­å†…å®¹è¦†ç›–è‡³æ¨¡å¼ç©ºé—´ï¼ŒGå‘½ä»¤æ˜¯å°†å½“å‰ä¿æŒç©ºé—´ä¸­çš„å†…å®¹è¿½åŠ è‡³æ¨¡å¼ç©ºé—´</p>
<p>æ¨¡æ‹Ÿtacå‘½ä»¤ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/test$ cat log.txt </span><br><span class="line">2 this is a test</span><br><span class="line">3 Are you like awk</span><br><span class="line">This&#x27;s a test</span><br><span class="line">10 There are orange,apple,mongo</span><br><span class="line">python@ubuntu:~/test$ cat log.txt |sed &#x27;1!G;h;$!d&#x27;</span><br><span class="line">10 There are orange,apple,mongo</span><br><span class="line">This&#x27;s a test</span><br><span class="line">3 Are you like awk</span><br><span class="line">2 this is a test</span><br><span class="line">10</span><br></pre></td></tr></table></figure>

<p>1!Gç¬¬1è¡Œä¸ æ‰§è¡Œâ€œGâ€å‘½ä»¤ï¼Œä»ç¬¬2è¡Œå¼€å§‹æ‰§è¡Œã€‚</p>
<p>$!dï¼Œæœ€åä¸€è¡Œä¸åˆ é™¤ï¼ˆä¿ç•™æœ€å1è¡Œï¼‰</p>
<p>ä¸‹å›¾Pè¡¨ç¤ºæ¨¡å¼ç©ºé—´ï¼ŒHä»£è¡¨ä¿æŒç©ºé—´ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/91dbc444c51cbbae15cad1803b3c078bpng.jpg" alt="img"></p>
<p>é€’å¢åºåˆ—ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/test$ seq 3</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">python@ubuntu:~/test$ seq 3|sed &#x27;H;g&#x27;</span><br><span class="line">1</span><br><span class="line"></span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line"></span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="å¤šæ¬¡æŒ‡å®š-eé€‰é¡¹è¿›è¡Œå¤šç‚¹ç¼–è¾‘"><a href="#å¤šæ¬¡æŒ‡å®š-eé€‰é¡¹è¿›è¡Œå¤šç‚¹ç¼–è¾‘" class="headerlink" title="å¤šæ¬¡æŒ‡å®š-eé€‰é¡¹è¿›è¡Œå¤šç‚¹ç¼–è¾‘"></a>å¤šæ¬¡æŒ‡å®š<code>-e</code>é€‰é¡¹è¿›è¡Œå¤šç‚¹ç¼–è¾‘</h4><p>åˆ é™¤&#x2F;etc&#x2F;passwdç¬¬ä¸‰è¡Œåˆ°æœ«å°¾çš„æ•°æ®ï¼Œå¹¶æŠŠbashæ›¿æ¢ä¸ºblueshellï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">nl /etc/passwd | sed -e &#x27;3,$d&#x27; -e &#x27;s/bash/blueshell/&#x27;</span><br><span class="line">1  root:x:0:0:root:/root:/bin/blueshell</span><br><span class="line">2  daemon:x:1:1:daemon:/usr/sbin:/bin/sh</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<p>åˆ é™¤ä¸€ä¸ªæ–‡ä»¶ä»¥#å¼€å¤´çš„è¡Œå’Œç©ºè¡Œï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">python@xxx:~/test$ nl abc -ba</span><br><span class="line">     1</span><br><span class="line">     2  b</span><br><span class="line">     3  a</span><br><span class="line">     4</span><br><span class="line">     5  # aaaa</span><br><span class="line">     6</span><br><span class="line">     7  ddd</span><br><span class="line">     8</span><br><span class="line">     9  # sss</span><br><span class="line">    10  eeee</span><br><span class="line">    11</span><br><span class="line">python@xxx:~/test$ sed -e &#x27;/^#/d&#x27; -e &#x27;/^$/d&#x27; abc</span><br><span class="line">b</span><br><span class="line">a</span><br><span class="line">ddd</span><br><span class="line">eeee</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥é€šè¿‡<code>;</code>å®ç°</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/test$ nl /etc/passwd | sed &#x27;3,$d;s/bash/blueshell/&#x27;</span><br><span class="line">     1  root:x:0:0:root:/root:/bin/blueshell</span><br><span class="line">     2  daemon:x:1:1:daemon:/usr/sbin:/usr/sbin/nologin</span><br><span class="line">python@ubuntu:~/test$ sed &#x27;/^#/d;/^$/d&#x27; abc</span><br><span class="line">b</span><br><span class="line">a</span><br><span class="line">ddd</span><br><span class="line">eeee</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="é€‰é¡¹-iç›´æ¥ä¿®æ”¹æ–‡ä»¶å†…å®¹"><a href="#é€‰é¡¹-iç›´æ¥ä¿®æ”¹æ–‡ä»¶å†…å®¹" class="headerlink" title="é€‰é¡¹-iç›´æ¥ä¿®æ”¹æ–‡ä»¶å†…å®¹"></a>é€‰é¡¹<code>-i</code>ç›´æ¥ä¿®æ”¹æ–‡ä»¶å†…å®¹</h4><p>é»˜è®¤æƒ…å†µä¸‹sedå‘½ä»¤ä»…ä»…åªæ˜¯å°†å¤„ç†ç»“æœæ˜¾ç¤ºåœ¨æ§åˆ¶å°ï¼ŒåŠ <code>-i</code>é€‰é¡¹åˆ™ä¼šä¿®æ”¹æ–‡ä»¶å†…å®¹ã€‚</p>
<p>å°† regular_express.txt å†…æ¯ä¸€è¡Œç»“å°¾è‹¥ä¸º . åˆ™æ¢æˆ !</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@www ~]# cat regular_express.txt </span><br><span class="line">taobao.</span><br><span class="line">google.</span><br><span class="line">taobao.</span><br><span class="line">facebook.</span><br><span class="line">zhihu-</span><br><span class="line">weibo-</span><br><span class="line">[root@www ~]# sed -i &#x27;s/\.$/\!/g&#x27; regular_express.txt</span><br><span class="line">[root@www ~]# cat regular_express.txt </span><br><span class="line">taobao!</span><br><span class="line">google!</span><br><span class="line">taobao!</span><br><span class="line">facebook!</span><br><span class="line">zhihu-</span><br><span class="line">weibo-</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="awkå‘½ä»¤"><a href="#awkå‘½ä»¤" class="headerlink" title="awkå‘½ä»¤"></a>awkå‘½ä»¤</h3><p>AWKæ˜¯ä¸€ç§å¤„ç†æ–‡æœ¬æ–‡ä»¶çš„è¯­è¨€ï¼Œæ˜¯ä¸€ä¸ªå¼ºå¤§çš„æ–‡æœ¬åˆ†æå·¥å…·ã€‚</p>
<p>ä¹‹æ‰€ä»¥å«AWKæ˜¯å› ä¸ºå…¶å–äº†ä¸‰ä½åˆ›å§‹äºº Alfred Ahoï¼ŒPeter Weinberger, å’Œ Brian Kernighan çš„ Family Name çš„é¦–å­—ç¬¦ã€‚</p>
<p>è¯­æ³•ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">awk [é€‰é¡¹å‚æ•°] &#x27;script&#x27; var=value file(s)</span><br><span class="line">æˆ–</span><br><span class="line">awk [é€‰é¡¹å‚æ•°] -f scriptfile var=value file(s)</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<p><strong>é€‰é¡¹å‚æ•°è¯´æ˜ï¼š</strong></p>
<ul>
<li>-F fs or â€“field-separator fs<br>æŒ‡å®šè¾“å…¥æ–‡ä»¶æŠ˜åˆ†éš”ç¬¦ï¼Œfsæ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²æˆ–è€…æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œå¦‚-F:ã€‚</li>
<li>-v var&#x3D;value or â€“asign var&#x3D;value<br>èµ‹å€¼ä¸€ä¸ªç”¨æˆ·å®šä¹‰å˜é‡ã€‚</li>
<li>-f scripfile or â€“file scriptfile<br>ä»è„šæœ¬æ–‡ä»¶ä¸­è¯»å–awkå‘½ä»¤ã€‚</li>
</ul>
<h4 id="åŸºæœ¬ç”¨æ³•"><a href="#åŸºæœ¬ç”¨æ³•" class="headerlink" title="åŸºæœ¬ç”¨æ³•"></a>åŸºæœ¬ç”¨æ³•</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">awk &#x27;&#123;[pattern] action&#125;&#x27; file</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>æ¯è¡ŒæŒ‰ç©ºæ ¼æˆ–TABåˆ†å‰²ï¼Œè¾“å‡ºæ–‡æœ¬ä¸­çš„1ã€4åˆ—ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/test$ cat log.txt </span><br><span class="line">2 this is a test</span><br><span class="line">3 Are you like awk</span><br><span class="line">This&#x27;s a test</span><br><span class="line">10 There are orange,apple,mongo</span><br><span class="line">python@ubuntu:~/test$ awk &#x27;&#123;print $1,$4&#125;&#x27; log.txt</span><br><span class="line">2 a</span><br><span class="line">3 like</span><br><span class="line">This&#x27;s </span><br><span class="line">10 orange,apple,mongo</span><br><span class="line">10</span><br></pre></td></tr></table></figure>

<p>æ ¼å¼åŒ–è¾“å‡ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/test$ awk &#x27;&#123;printf &quot;%-8s %-10s\n&quot;,$1,$4&#125;&#x27; log.txt</span><br><span class="line">2        a         </span><br><span class="line">3        like      </span><br><span class="line">This&#x27;s             </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="FæŒ‡å®šåˆ†å‰²å­—ç¬¦"><a href="#FæŒ‡å®šåˆ†å‰²å­—ç¬¦" class="headerlink" title="-FæŒ‡å®šåˆ†å‰²å­—ç¬¦"></a><code>-F</code>æŒ‡å®šåˆ†å‰²å­—ç¬¦</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">awk -F  #-Fç›¸å½“äºå†…ç½®å˜é‡FS, æŒ‡å®šåˆ†å‰²å­—ç¬¦</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨:åˆ†å‰²,å–&#x2F;etc&#x2F;passwdæ–‡ä»¶æ¯ä¸ªç”¨æˆ·å¯¹åº”shellï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/test$ awk -F: &#x27;&#123;print $1,$7&#125;&#x27;  /etc/passwd </span><br><span class="line">root /bin/bash</span><br><span class="line">daemon /usr/sbin/nologin</span><br><span class="line">bin /usr/sbin/nologin</span><br><span class="line">sys /usr/sbin/nologin</span><br><span class="line">sync /bin/sync</span><br><span class="line"># æˆ–è€…ä½¿ç”¨å†…å»ºå˜é‡</span><br><span class="line">python@ubuntu:~/test$ awk &#x27;BEGIN&#123;FS=&quot;:&quot;&#125; &#123;print $1,$7&#125;&#x27;  /etc/passwd  </span><br><span class="line">root /bin/bash</span><br><span class="line">daemon /usr/sbin/nologin</span><br><span class="line">bin /usr/sbin/nologin</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>åŒæ—¶ä½¿ç”¨:å’Œ&#x2F;lä¸¤ä¸ªåˆ†éš”ç¬¦åˆ†å‰²&#x2F;etc&#x2F;passwdæ–‡ä»¶</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/test$ awk -F &#x27;[:\/]&#x27; &#x27;&#123;print $1,$7&#125;&#x27;  /etc/passwd      </span><br><span class="line">root root</span><br><span class="line">daemon usr</span><br><span class="line">bin bin</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="vè®¾ç½®å˜é‡"><a href="#vè®¾ç½®å˜é‡" class="headerlink" title="-vè®¾ç½®å˜é‡"></a><code>-v</code>è®¾ç½®å˜é‡</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">awk -v  # è®¾ç½®å˜é‡</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/test$ cat log.txt </span><br><span class="line">2 this is a test</span><br><span class="line">3 Are you like awk</span><br><span class="line">This&#x27;s a test</span><br><span class="line">10 There are orange,apple,mongo</span><br><span class="line">python@ubuntu:~/test$ awk -va=1 &#x27;&#123;print $1,$1+a&#125;&#x27; log.txt</span><br><span class="line">2 3</span><br><span class="line">3 4</span><br><span class="line">This&#x27;s 1</span><br><span class="line">10 11</span><br><span class="line">python@ubuntu:~/test$ awk -va=1 -vb=s &#x27;&#123;print $1,$1+a,$1b&#125;&#x27; log.txt</span><br><span class="line">2 3 2s</span><br><span class="line">3 4 3s</span><br><span class="line">This&#x27;s 1 This&#x27;ss</span><br><span class="line">10 11 10s</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="fæŒ‡å®šawkè„šæœ¬"><a href="#fæŒ‡å®šawkè„šæœ¬" class="headerlink" title="-fæŒ‡å®šawkè„šæœ¬"></a><code>-f</code>æŒ‡å®šawkè„šæœ¬</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">awk -f &#123;awkè„šæœ¬&#125; &#123;æ–‡ä»¶å&#125;</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>è„šæœ¬æ¨¡å—ï¼š</p>
<ul>
<li>BEGIN{ è¿™é‡Œé¢æ”¾çš„æ˜¯æ‰§è¡Œå‰çš„è¯­å¥ }</li>
<li>END {è¿™é‡Œé¢æ”¾çš„æ˜¯å¤„ç†å®Œæ‰€æœ‰çš„è¡Œåè¦æ‰§è¡Œçš„è¯­å¥ }</li>
<li>{è¿™é‡Œé¢æ”¾çš„æ˜¯å¤„ç†æ¯ä¸€è¡Œæ—¶è¦æ‰§è¡Œçš„è¯­å¥}</li>
</ul>
<p>å‡è®¾æœ‰è¿™ä¹ˆä¸€ä¸ªæ–‡ä»¶ï¼ˆå­¦ç”Ÿæˆç»©è¡¨ï¼‰ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ cat score.txt</span><br><span class="line">Marry   2143 78 84 77</span><br><span class="line">Jack    2321 66 78 45</span><br><span class="line">Tom     2122 48 77 71</span><br><span class="line">Mike    2537 87 97 95</span><br><span class="line">Bob     2415 40 57 62</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>awkè„šæœ¬å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">$ cat cal.awk</span><br><span class="line">#!/bin/awk -f</span><br><span class="line">#è¿è¡Œå‰</span><br><span class="line">BEGIN &#123;</span><br><span class="line">    math = 0</span><br><span class="line">    english = 0</span><br><span class="line">    computer = 0</span><br><span class="line"> </span><br><span class="line">    printf &quot;NAME    NO.   MATH  ENGLISH  COMPUTER   TOTAL\n&quot;</span><br><span class="line">    printf &quot;---------------------------------------------\n&quot;</span><br><span class="line">&#125;</span><br><span class="line">#è¿è¡Œä¸­</span><br><span class="line">&#123;</span><br><span class="line">    math+=$3</span><br><span class="line">    english+=$4</span><br><span class="line">    computer+=$5</span><br><span class="line">    printf &quot;%-6s %-6s %4d %8d %8d %8d\n&quot;, $1,$2,$3,$4,$5,$3+$4+$5</span><br><span class="line">&#125;</span><br><span class="line">#è¿è¡Œå</span><br><span class="line">END &#123;</span><br><span class="line">    printf &quot;---------------------------------------------\n&quot;</span><br><span class="line">    printf &quot;  TOTAL:%10d %8d %8d \n&quot;, math, english, computer</span><br><span class="line">    printf &quot;AVERAGE:%10.2f %8.2f %8.2f\n&quot;, math/NR, english/NR, computer/NR</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹æ‰§è¡Œç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">$ awk -f cal.awk score.txt</span><br><span class="line">NAME    NO.   MATH  ENGLISH  COMPUTER   TOTAL</span><br><span class="line">---------------------------------------------</span><br><span class="line">Marry  2143     78       84       77      239</span><br><span class="line">Jack   2321     66       78       45      189</span><br><span class="line">Tom    2122     48       77       71      196</span><br><span class="line">Mike   2537     87       97       95      279</span><br><span class="line">Bob    2415     40       57       62      159</span><br><span class="line">---------------------------------------------</span><br><span class="line">  TOTAL:       319      393      350</span><br><span class="line">AVERAGE:     63.80    78.60    70.00</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="AWKå·¥ä½œåŸç†"><a href="#AWKå·¥ä½œåŸç†" class="headerlink" title="AWKå·¥ä½œåŸç†"></a>AWKå·¥ä½œåŸç†</h4><p>AWK å·¥ä½œæµç¨‹å¯åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼š</p>
<ul>
<li>è¯»è¾“å…¥æ–‡ä»¶ä¹‹å‰æ‰§è¡Œçš„ä»£ç æ®µï¼ˆç”±BEGINå…³é”®å­—æ ‡è¯†ï¼‰ã€‚</li>
<li>ä¸»å¾ªç¯æ‰§è¡Œè¾“å…¥æ–‡ä»¶çš„ä»£ç æ®µã€‚</li>
<li>è¯»è¾“å…¥æ–‡ä»¶ä¹‹åçš„ä»£ç æ®µï¼ˆç”±ENDå…³é”®å­—æ ‡è¯†ï¼‰ã€‚</li>
</ul>
<p>å‘½ä»¤ç»“æ„:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">awk &#x27;BEGIN&#123; commands &#125; pattern&#123; commands &#125; END&#123; commands &#125;&#x27;</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢çš„æµç¨‹å›¾æè¿°å‡ºäº† AWK çš„å·¥ä½œæµç¨‹ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/d45d394db034998c8059e647e321a13dpng.jpg" alt="img"></p>
<ul>
<li>1ã€é€šè¿‡å…³é”®å­— BEGIN æ‰§è¡Œ BEGIN å—çš„å†…å®¹ï¼Œå³ BEGIN åèŠ±æ‹¬å· <strong>{}</strong> çš„å†…å®¹ã€‚</li>
<li>2ã€å®Œæˆ BEGIN å—çš„æ‰§è¡Œï¼Œå¼€å§‹æ‰§è¡Œbodyå—ã€‚</li>
<li>3ã€è¯»å…¥æœ‰ <strong>\n</strong> æ¢è¡Œç¬¦åˆ†å‰²çš„è®°å½•ã€‚</li>
<li>4ã€å°†è®°å½•æŒ‰æŒ‡å®šçš„åŸŸåˆ†éš”ç¬¦åˆ’åˆ†åŸŸï¼Œå¡«å……åŸŸï¼Œ**$0** åˆ™è¡¨ç¤ºæ‰€æœ‰åŸŸ(å³ä¸€è¡Œå†…å®¹)ï¼Œ <strong>1 âˆ— âˆ— è¡¨ ç¤º ç¬¬ ä¸€ ä¸ª åŸŸ ï¼Œ âˆ— âˆ— 1** è¡¨ç¤ºç¬¬ä¸€ä¸ªåŸŸï¼Œ** 1âˆ—âˆ—è¡¨ç¤ºç¬¬ä¸€ä¸ªåŸŸï¼Œâˆ—âˆ—n</strong> è¡¨ç¤ºç¬¬ n ä¸ªåŸŸã€‚</li>
<li>5ã€ä¾æ¬¡æ‰§è¡Œå„ BODY å—ï¼Œpattern éƒ¨åˆ†åŒ¹é…è¯¥è¡Œå†…å®¹æˆåŠŸåï¼Œæ‰ä¼šæ‰§è¡Œ awk-commands çš„å†…å®¹ã€‚</li>
<li>6ã€å¾ªç¯è¯»å–å¹¶æ‰§è¡Œå„è¡Œç›´åˆ°æ–‡ä»¶ç»“æŸï¼Œå®Œæˆbodyå—æ‰§è¡Œã€‚</li>
<li>7ã€å¼€å§‹ END å—æ‰§è¡Œï¼ŒEND å—å¯ä»¥è¾“å‡ºæœ€ç»ˆç»“æœã€‚</li>
</ul>
<h5 id="è¿ç®—ç¬¦"><a href="#è¿ç®—ç¬¦" class="headerlink" title="è¿ç®—ç¬¦"></a>è¿ç®—ç¬¦</h5><table>
<thead>
<tr>
<th align="left">è¿ç®—ç¬¦</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">= +&#x3D; -&#x3D; *&#x3D; &#x2F;&#x3D; %&#x3D; ^&#x3D; **&#x3D;</td>
<td align="left">èµ‹å€¼</td>
</tr>
<tr>
<td align="left">?:</td>
<td align="left">Cæ¡ä»¶è¡¨è¾¾å¼</td>
</tr>
<tr>
<td align="left"></td>
<td align="left"></td>
</tr>
<tr>
<td align="left">&amp;&amp;</td>
<td align="left">é€»è¾‘ä¸</td>
</tr>
<tr>
<td align="left">~ å’Œ !~</td>
<td align="left">åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼å’Œä¸åŒ¹é…æ­£åˆ™è¡¨è¾¾å¼</td>
</tr>
<tr>
<td align="left">&lt; &lt;&#x3D; &gt; &gt;&#x3D; !&#x3D; &#x3D;&#x3D;</td>
<td align="left">å…³ç³»è¿ç®—ç¬¦</td>
</tr>
<tr>
<td align="left">ç©ºæ ¼</td>
<td align="left">è¿æ¥</td>
</tr>
<tr>
<td align="left">+ -</td>
<td align="left">åŠ ï¼Œå‡</td>
</tr>
<tr>
<td align="left">* &#x2F; %</td>
<td align="left">ä¹˜ï¼Œé™¤ä¸æ±‚ä½™</td>
</tr>
<tr>
<td align="left">+ - !</td>
<td align="left">ä¸€å…ƒåŠ ï¼Œå‡å’Œé€»è¾‘é</td>
</tr>
<tr>
<td align="left">^ ***</td>
<td align="left">æ±‚å¹‚</td>
</tr>
<tr>
<td align="left">++ â€“</td>
<td align="left">å¢åŠ æˆ–å‡å°‘ï¼Œä½œä¸ºå‰ç¼€æˆ–åç¼€</td>
</tr>
<tr>
<td align="left">$</td>
<td align="left">å­—æ®µå¼•ç”¨</td>
</tr>
<tr>
<td align="left">in</td>
<td align="left">æ•°ç»„æˆå‘˜</td>
</tr>
</tbody></table>
<p><strong>è¿‡æ»¤ç¬¬ä¸€åˆ—å¤§äº2çš„è¡Œ</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ awk &#x27;$1&gt;2&#x27; log.txt    #å‘½ä»¤</span><br><span class="line">3 Are you like awk</span><br><span class="line">This&#x27;s a test</span><br><span class="line">10 There are orange,apple,mongo</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>è¿‡æ»¤ç¬¬ä¸€åˆ—ç­‰äº2çš„è¡Œ</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ awk &#x27;$1==2 &#123;print $1,$3&#125;&#x27; log.txt    #å‘½ä»¤</span><br><span class="line">#è¾“å‡º</span><br><span class="line">2 is</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<p><strong>è¿‡æ»¤ç¬¬ä¸€åˆ—å¤§äº2å¹¶ä¸”ç¬¬äºŒåˆ—ç­‰äºâ€™Areâ€™çš„è¡Œ</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ awk &#x27;$1&gt;2 &amp;&amp; $2==&quot;Are&quot; &#123;print $1,$2,$3&#125;&#x27; log.txt    #å‘½ä»¤</span><br><span class="line">#è¾“å‡º</span><br><span class="line">3 Are you</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<p><strong>å†…å»ºå˜é‡</strong></p>
<table>
<thead>
<tr>
<th align="left">å˜é‡</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">$n</td>
<td align="left">å½“å‰è®°å½•çš„ç¬¬nä¸ªå­—æ®µï¼Œå­—æ®µé—´ç”±FSåˆ†éš”</td>
</tr>
<tr>
<td align="left">$0</td>
<td align="left">å®Œæ•´çš„è¾“å…¥è®°å½•</td>
</tr>
<tr>
<td align="left">ARGC</td>
<td align="left">å‘½ä»¤è¡Œå‚æ•°çš„æ•°ç›®</td>
</tr>
<tr>
<td align="left">ARGIND</td>
<td align="left">å‘½ä»¤è¡Œä¸­å½“å‰æ–‡ä»¶çš„ä½ç½®(ä»0å¼€å§‹ç®—)</td>
</tr>
<tr>
<td align="left">ARGV</td>
<td align="left">åŒ…å«å‘½ä»¤è¡Œå‚æ•°çš„æ•°ç»„</td>
</tr>
<tr>
<td align="left">CONVFMT</td>
<td align="left">æ•°å­—è½¬æ¢æ ¼å¼(é»˜è®¤å€¼ä¸º%.6g)ENVIRONç¯å¢ƒå˜é‡å…³è”æ•°ç»„</td>
</tr>
<tr>
<td align="left">ERRNO</td>
<td align="left">æœ€åä¸€ä¸ªç³»ç»Ÿé”™è¯¯çš„æè¿°</td>
</tr>
<tr>
<td align="left">FIELDWIDTHS</td>
<td align="left">å­—æ®µå®½åº¦åˆ—è¡¨(ç”¨ç©ºæ ¼é”®åˆ†éš”)</td>
</tr>
<tr>
<td align="left">FILENAME</td>
<td align="left">å½“å‰æ–‡ä»¶å</td>
</tr>
<tr>
<td align="left">FNR</td>
<td align="left">å„æ–‡ä»¶åˆ†åˆ«è®¡æ•°çš„è¡Œå·</td>
</tr>
<tr>
<td align="left">FS</td>
<td align="left">å­—æ®µåˆ†éš”ç¬¦(é»˜è®¤æ˜¯ä»»ä½•ç©ºæ ¼)</td>
</tr>
<tr>
<td align="left">IGNORECASE</td>
<td align="left">å¦‚æœä¸ºçœŸï¼Œåˆ™è¿›è¡Œå¿½ç•¥å¤§å°å†™çš„åŒ¹é…</td>
</tr>
<tr>
<td align="left">NF</td>
<td align="left">ä¸€æ¡è®°å½•çš„å­—æ®µçš„æ•°ç›®</td>
</tr>
<tr>
<td align="left">NR</td>
<td align="left">å·²ç»è¯»å‡ºçš„è®°å½•æ•°ï¼Œå°±æ˜¯è¡Œå·ï¼Œä»1å¼€å§‹</td>
</tr>
<tr>
<td align="left">OFMT</td>
<td align="left">æ•°å­—çš„è¾“å‡ºæ ¼å¼(é»˜è®¤å€¼æ˜¯%.6g)</td>
</tr>
<tr>
<td align="left">OFS</td>
<td align="left">è¾“å‡ºè®°å½•åˆ†éš”ç¬¦ï¼ˆè¾“å‡ºæ¢è¡Œç¬¦ï¼‰ï¼Œè¾“å‡ºæ—¶ç”¨æŒ‡å®šçš„ç¬¦å·ä»£æ›¿æ¢è¡Œç¬¦</td>
</tr>
<tr>
<td align="left">ORS</td>
<td align="left">è¾“å‡ºè®°å½•åˆ†éš”ç¬¦(é»˜è®¤å€¼æ˜¯ä¸€ä¸ªæ¢è¡Œç¬¦)</td>
</tr>
<tr>
<td align="left">RLENGTH</td>
<td align="left">ç”±matchå‡½æ•°æ‰€åŒ¹é…çš„å­—ç¬¦ä¸²çš„é•¿åº¦</td>
</tr>
<tr>
<td align="left">RS</td>
<td align="left">è®°å½•åˆ†éš”ç¬¦(é»˜è®¤æ˜¯ä¸€ä¸ªæ¢è¡Œç¬¦)</td>
</tr>
<tr>
<td align="left">RSTART</td>
<td align="left">ç”±matchå‡½æ•°æ‰€åŒ¹é…çš„å­—ç¬¦ä¸²çš„ç¬¬ä¸€ä¸ªä½ç½®</td>
</tr>
<tr>
<td align="left">SUBSEP</td>
<td align="left">æ•°ç»„ä¸‹æ ‡åˆ†éš”ç¬¦(é»˜è®¤å€¼æ˜¯&#x2F;034)</td>
</tr>
</tbody></table>
<p>æ ¼å¼åŒ–å˜é‡è¯´æ˜ï¼š</p>
<ul>
<li>%s è¾“å‡ºå­—ç¬¦ä¸²</li>
<li>%i è¾“å‡ºæ•´æ•°</li>
<li>%f è¾“å‡ºæµ®ç‚¹æ•°</li>
</ul>
<p>%-5s æ ¼å¼ä¸ºå·¦å¯¹é½ä¸”å®½åº¦ä¸º5çš„å­—ç¬¦ä¸²ä»£æ›¿ï¼ˆ-è¡¨ç¤ºå·¦å¯¹é½ï¼‰ï¼Œä¸ä½¿ç”¨åˆ™æ˜¯åˆå¯¹é½ã€‚<br>%-4.2f æ ¼å¼ä¸ºå·¦å¯¹é½å®½åº¦ä¸º4ï¼Œä¿ç•™ä¸¤ä½å°æ•°ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/test$ awk &#x27;BEGIN&#123;printf &quot;%4s %4s %4s %4s %4s %4s %4s %4s %4s\n&quot;,&quot;FILENAME&quot;,&quot;ARGC&quot;,&quot;FNR&quot;,&quot;FS&quot;,&quot;NF&quot;,&quot;NR&quot;,&quot;OFS&quot;,&quot;ORS&quot;,&quot;RS&quot;;printf &quot;---------------------------------------------\n&quot;&#125; &#123;printf &quot;%4s %4s %4s %4s %4s %4s %4s %4s %4s\n&quot;,FILENAME,ARGC,FNR,FS,NF,NR,OFS,ORS,RS&#125;&#x27;  log.txt</span><br><span class="line">FILENAME ARGC  FNR   FS   NF   NR  OFS  ORS   RS</span><br><span class="line">---------------------------------------------</span><br><span class="line">log.txt    2    1         5    1         </span><br><span class="line">log.txt    2    2         5    2         </span><br><span class="line">log.txt    2    3         3    3          </span><br><span class="line">log.txt    2    4         4    4         </span><br><span class="line"></span><br><span class="line">python@ubuntu:~/test$ awk -F: &#x27;BEGIN&#123;printf &quot;%4s %4s %4s %4s %4s %4s %4s %4s %4s\n&quot;,&quot;FILENAME&quot;,&quot;ARGC&quot;,&quot;FNR&quot;,&quot;FS&quot;,&quot;NF&quot;,&quot;NR&quot;,&quot;OFS&quot;,&quot;ORS&quot;,&quot;RS&quot;;printf &quot;---------------------------------------------\n&quot;&#125; &#123;printf &quot;%4s %4s %4s %4s %4s %4s %4s %4s %4s\n&quot;,FILENAME,ARGC,FNR,FS,NF,NR,OFS,ORS,RS&#125;&#x27;  log.txt</span><br><span class="line">FILENAME ARGC  FNR   FS   NF   NR  OFS  ORS   RS</span><br><span class="line">---------------------------------------------</span><br><span class="line">log.txt    2    1    :    1    1         </span><br><span class="line">log.txt    2    2    :    1    2         </span><br><span class="line">log.txt    2    3    :    1    3         </span><br><span class="line">log.txt    2    4    :    1    4    </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="è¾“å‡ºé¡ºåºå·-NR-åŒ¹é…æ–‡æœ¬è¡Œå·"><a href="#è¾“å‡ºé¡ºåºå·-NR-åŒ¹é…æ–‡æœ¬è¡Œå·" class="headerlink" title="è¾“å‡ºé¡ºåºå· NR, åŒ¹é…æ–‡æœ¬è¡Œå·"></a>è¾“å‡ºé¡ºåºå· NR, åŒ¹é…æ–‡æœ¬è¡Œå·</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/test$ awk &#x27;&#123;print NR,FNR,$1,$2,$3&#125;&#x27; log.txt</span><br><span class="line">1 1 2 this is</span><br><span class="line">2 2 3 Are you</span><br><span class="line">3 3 This&#x27;s a test</span><br><span class="line">4 4 10 There are</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="æŒ‡å®šè¾“å‡ºåˆ†å‰²ç¬¦"><a href="#æŒ‡å®šè¾“å‡ºåˆ†å‰²ç¬¦" class="headerlink" title="æŒ‡å®šè¾“å‡ºåˆ†å‰²ç¬¦"></a>æŒ‡å®šè¾“å‡ºåˆ†å‰²ç¬¦</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/test$ cat log.txt </span><br><span class="line">2 this is a test</span><br><span class="line">3 Are you like awk</span><br><span class="line">This&#x27;s a test</span><br><span class="line">10 There are orange,apple,mongo</span><br><span class="line">python@ubuntu:~/test$ awk &#x27;&#123;print $1,$2,$5&#125;&#x27; OFS=&quot; $ &quot;  log.txt</span><br><span class="line">2 $ this $ test</span><br><span class="line">3 $ Are $ awk</span><br><span class="line">This&#x27;s $ a $ </span><br><span class="line">10 $ There $ </span><br><span class="line">10</span><br></pre></td></tr></table></figure>

<h5 id="å¿½ç•¥å¤§å°å†™"><a href="#å¿½ç•¥å¤§å°å†™" class="headerlink" title="å¿½ç•¥å¤§å°å†™"></a>å¿½ç•¥å¤§å°å†™</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ awk &#x27;BEGIN&#123;IGNORECASE=1&#125; /this/&#x27; log.txt</span><br><span class="line">---------------------------------------------</span><br><span class="line">2 this is a test</span><br><span class="line">This&#x27;s a test</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="æ­£åˆ™å­—ç¬¦ä¸²åŒ¹é…"><a href="#æ­£åˆ™å­—ç¬¦ä¸²åŒ¹é…" class="headerlink" title="æ­£åˆ™å­—ç¬¦ä¸²åŒ¹é…"></a>æ­£åˆ™å­—ç¬¦ä¸²åŒ¹é…</h4><p><strong>~ è¡¨ç¤ºæ¨¡å¼å¼€å§‹ã€‚&#x2F;&#x2F; ä¸­æ˜¯æ¨¡å¼ã€‚</strong></p>
<p>è¾“å‡ºç¬¬äºŒåˆ—åŒ…å« â€œthâ€ï¼Œå¹¶æ‰“å°ç¬¬äºŒåˆ—ä¸ç¬¬å››åˆ—ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/test$ awk &#x27;$2 ~ /th/ &#123;print $2,$4&#125;&#x27; log.txt</span><br><span class="line">this a</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºåŒ…å«â€reâ€çš„è¡Œï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/test$ awk &#x27;/re/&#x27; log.txt</span><br><span class="line">3 Are you like awk</span><br><span class="line">10 There are orange,apple,mongo</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<p><strong>!è¡¨ç¤ºå–å</strong></p>
<p>è¾“å‡ºç¬¬äºŒåˆ—ä¸åŒ…å« â€œthâ€ï¼Œå¹¶æ‰“å°ç¬¬äºŒåˆ—ä¸ç¬¬å››åˆ—ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/test$ awk &#x27;$2 !~ /th/ &#123;print $2,$4&#125;&#x27; log.txt</span><br><span class="line">Are like</span><br><span class="line">a </span><br><span class="line">There orange,apple,mongo</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºä¸åŒ…å«â€reâ€çš„è¡Œï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/test$ awk &#x27;!/re/&#x27; log.txt</span><br><span class="line">2 this is a test</span><br><span class="line">This&#x27;s a test</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<h4 id="ä¸€äº›å®ä¾‹"><a href="#ä¸€äº›å®ä¾‹" class="headerlink" title="ä¸€äº›å®ä¾‹"></a>ä¸€äº›å®ä¾‹</h4><p><strong>è®¡ç®—æ–‡ä»¶å¤§å°</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ ls -l *.txt | awk &#x27;&#123;sum+=$6&#125; END &#123;print sum&#125;&#x27;</span><br><span class="line">--------------------------------------------------</span><br><span class="line">666581</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<p><strong>ä»æ–‡ä»¶ä¸­æ‰¾å‡ºé•¿åº¦å¤§äº80çš„è¡Œ</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">awk &#x27;length&gt;80&#x27; log.txt</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p><strong>æ‰“å°ä¹ä¹ä¹˜æ³•è¡¨</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">seq 9 | sed &#x27;H;g&#x27; | awk -v RS=&#x27;&#x27; &#x27;&#123;for(i=1;i&lt;=NF;i++)printf(&quot;%dx%d=%d%s&quot;, i, NR, i*NR, i==NR?&quot;\n&quot;:&quot;\t&quot;)&#125;&#x27;</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p><strong>è®¿é—®æ—¥å¿—åˆ†æ</strong></p>
<p>æ—¥å¿—æ ¼å¼</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/test$ head access.log -n1</span><br><span class="line">42.236.10.75 &quot;changtou.xiaoxiaoming.xyz&quot; [14/Oct/2019:12:47:18 +0800] &quot;GET /logo/8@3x.png HTTP/1.1&quot; 200 26053 &quot;https://changtou.xiaoxiaoming.xyz/&quot; &quot;Mozilla/5.0 (Linux; U; Android 8.1.0; zh-CN; EML-AL00 Build/HUAWEIEML-AL00) AppleWebKit/537.36 (KHTML, like Gecko) Version/4.0 Chrome/57.0.2987.108 baidu.sogo.uc.UCBrowser/11.9.4.974 UWS/2.13.1.48 Mobile Safari/537.36 AliApp(DingTalk/4.5.11) com.alibaba.android.rimet/10487439 Channel/227200 language/zh-CN&quot; &quot;42.236.10.75&quot; rt=&quot;0.000&quot; uct=&quot;-&quot; uht=&quot;-&quot; urt=&quot;-&quot;</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">1.æ•°æ®æ¸…æ´—</span><br><span class="line">awk &#x27;($6 ~ /.html/) &amp;&amp; ($8 ~ /200/)  &#123;print $0&#125;&#x27; access.log &gt; clean.log</span><br><span class="line"></span><br><span class="line">2.ç»Ÿè®¡PV</span><br><span class="line">python@ubuntu:~/test$ awk &#x27;&#123;print $0&#125;&#x27;  clean.log | wc -l</span><br><span class="line">700</span><br><span class="line">python@ubuntu:~/test$ cut -d &#x27; &#x27; -f 1 clean.log|wc -l    </span><br><span class="line">700</span><br><span class="line"></span><br><span class="line">3:UV</span><br><span class="line">python@ubuntu:~/test$ awk &#x27;&#123;print $1&#125;&#x27;  clean.log |sort|uniq| wc -l</span><br><span class="line">155</span><br><span class="line">python@ubuntu:~/test$ cut -d &#x27; &#x27; -f 1 clean.log|sort|uniq| wc -l</span><br><span class="line">155</span><br><span class="line"></span><br><span class="line">4:è·å–æ¯å¤©è®¿é—®ç½‘ç«™æœ€å¤šçš„å‰10åç”¨æˆ·</span><br><span class="line">awk &#x27;&#123;print $1&#125;&#x27; clean.log|sort|uniq -c|sort -k 1nr|head</span><br><span class="line">æˆ–</span><br><span class="line">cut -d &#x27; &#x27; -f 1 clean.log|sort|uniq -c|sort -k 1nr|head</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="awkç¼–ç¨‹"><a href="#awkç¼–ç¨‹" class="headerlink" title="awkç¼–ç¨‹"></a>awkç¼–ç¨‹</h3><h4 id="æ¡ä»¶è¯­å¥IF-ELSE"><a href="#æ¡ä»¶è¯­å¥IF-ELSE" class="headerlink" title="æ¡ä»¶è¯­å¥IF&amp;ELSE"></a>æ¡ä»¶è¯­å¥IF&amp;ELSE</h4><p>IF æ¡ä»¶è¯­å¥è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">if (condition)</span><br><span class="line">    action</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p>ä¹Ÿå¯ä»¥ä½¿ç”¨èŠ±æ‹¬å·æ¥æ‰§è¡Œä¸€ç»„æ“ä½œï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">if (condition)</span><br><span class="line">&#123;</span><br><span class="line">    action-1</span><br><span class="line">    action-1</span><br><span class="line">    .</span><br><span class="line">    .</span><br><span class="line">    action-n</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>åˆ¤æ–­æ•°å­—æ˜¯å¥‡æ•°è¿˜æ˜¯å¶æ•°ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/test$ awk &#x27;BEGIN &#123;num = 10; if (num % 2 == 0) printf &quot;%d æ˜¯å¶æ•°\n&quot;, num &#125;&#x27;</span><br><span class="line">10 æ˜¯å¶æ•°</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p>IF - ELSE æ¡ä»¶è¯­å¥è¯­æ³•æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">if (condition)</span><br><span class="line">    action-1</span><br><span class="line">else</span><br><span class="line">    action-2</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>åœ¨æ¡ä»¶è¯­å¥ condition ä¸º true æ—¶åªéœ€ action-1ï¼Œå¦åˆ™æ‰§è¡Œ action-2ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/test$ awk &#x27;BEGIN &#123;</span><br><span class="line">&gt;     num = 11; </span><br><span class="line">&gt;     if (num % 2 == 0) printf &quot;%d æ˜¯å¶æ•°\n&quot;, num; </span><br><span class="line">&gt;     else printf &quot;%d æ˜¯å¥‡æ•°\n&quot;, num </span><br><span class="line">&gt; &#125;&#x27;</span><br><span class="line">11 æ˜¯å¥‡æ•°</span><br><span class="line">python@ubuntu:~/test$ awk &#x27;BEGIN &#123;num = 11; if (num % 2 == 0) printf &quot;%d æ˜¯å¶æ•°\n&quot;, num; else printf &quot;%d æ˜¯å¥‡æ•°\n&quot;, num &#125;&#x27;</span><br><span class="line">11 æ˜¯å¥‡æ•°</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å¯ä»¥åˆ›å»ºå¤šä¸ª IF - ELSE æ ¼å¼çš„åˆ¤æ–­è¯­å¥æ¥å®ç°å¤šä¸ªæ¡ä»¶çš„åˆ¤æ–­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$ awk &#x27;BEGIN &#123;</span><br><span class="line">a=30;</span><br><span class="line">if (a==10)</span><br><span class="line">  print &quot;a = 10&quot;;</span><br><span class="line">else if (a == 20)</span><br><span class="line">  print &quot;a = 20&quot;;</span><br><span class="line">else if (a == 30)</span><br><span class="line">  print &quot;a = 30&quot;;</span><br><span class="line">&#125;&#x27;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/test$ awk &#x27;BEGIN &#123;</span><br><span class="line">&gt; a=30;</span><br><span class="line">&gt; if (a==10)</span><br><span class="line">&gt;   print &quot;a = 10&quot;;</span><br><span class="line">&gt; else if (a == 20)</span><br><span class="line">&gt;   print &quot;a = 20&quot;;</span><br><span class="line">&gt; else if (a == 30)</span><br><span class="line">&gt;   print &quot;a = 30&quot;;</span><br><span class="line">&gt; &#125;&#x27;</span><br><span class="line">a = 30</span><br><span class="line">10</span><br></pre></td></tr></table></figure>

<h4 id="å¾ªç¯è¯­å¥For-While"><a href="#å¾ªç¯è¯­å¥For-While" class="headerlink" title="å¾ªç¯è¯­å¥For&amp;While"></a>å¾ªç¯è¯­å¥For&amp;While</h4><p>For å¾ªç¯çš„è¯­æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">for (initialisation; condition; increment/decrement)</span><br><span class="line">    action</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢çš„ä¾‹å­ä½¿ç”¨ For å¾ªç¯è¾“å‡ºæ•°å­— 1 è‡³ 5ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/test$ awk &#x27;BEGIN &#123; for (i = 1; i &lt;= 5; ++i) print i &#125;&#x27;</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>While å¾ªç¯çš„è¯­æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">while (condition)</span><br><span class="line">    action</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ˜¯ä½¿ç”¨ While å¾ªç¯è¾“å‡ºæ•°å­— 1 åˆ° 5 çš„ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/test$ awk &#x27;BEGIN &#123;i = 1; while (i &lt; 6) &#123; print i; ++i &#125; &#125;&#x27;</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>åœ¨ä¸‹é¢çš„ç¤ºä¾‹å­ä¸­ï¼Œå½“è®¡ç®—çš„å’Œå¤§äº 50 çš„æ—¶å€™ä½¿ç”¨ break ç»“æŸå¾ªç¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ awk &#x27;BEGIN &#123;</span><br><span class="line">   sum = 0; for (i = 0; i &lt; 20; ++i) &#123; </span><br><span class="line">      sum += i; if (sum &gt; 50) break; else print &quot;Sum =&quot;, sum </span><br><span class="line">   &#125; </span><br><span class="line">&#125;&#x27;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœä¸ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/test$ awk &#x27;BEGIN &#123;</span><br><span class="line">&gt;    sum = 0; for (i = 0; i &lt; 20; ++i) &#123; </span><br><span class="line">&gt;       sum += i; if (sum &gt; 50) break; else print &quot;Sum =&quot;, sum </span><br><span class="line">&gt;    &#125; </span><br><span class="line">&gt; &#125;&#x27;</span><br><span class="line">Sum = 0</span><br><span class="line">Sum = 1</span><br><span class="line">Sum = 3</span><br><span class="line">Sum = 6</span><br><span class="line">Sum = 10</span><br><span class="line">Sum = 15</span><br><span class="line">Sum = 21</span><br><span class="line">Sum = 28</span><br><span class="line">Sum = 36</span><br><span class="line">Sum = 45</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>Continue è¯­å¥ç”¨äºåœ¨å¾ªç¯ä½“å†…éƒ¨ç»“æŸæœ¬æ¬¡å¾ªç¯ï¼Œä»è€Œç›´æ¥è¿›å…¥ä¸‹ä¸€æ¬¡å¾ªç¯è¿­ä»£ã€‚</p>
<p>ä¸‹é¢çš„ä¾‹å­è¾“å‡º 1 åˆ° 20 ä¹‹é—´çš„å¶æ•°ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/test$ awk &#x27;BEGIN &#123;for (i = 1; i &lt;= 20; ++i) &#123;if (i % 2 == 0) print i ; else continue&#125; &#125;&#x27;</span><br><span class="line">2</span><br><span class="line">4</span><br><span class="line">6</span><br><span class="line">8</span><br><span class="line">10</span><br><span class="line">12</span><br><span class="line">14</span><br><span class="line">16</span><br><span class="line">18</span><br><span class="line">20</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>Exit ç”¨äºç»“æŸè„šæœ¬ç¨‹åºçš„æ‰§è¡Œã€‚</p>
<p>è¯¥å‡½æ•°æ¥å—ä¸€ä¸ªæ•´æ•°ä½œä¸ºå‚æ•°è¡¨ç¤º AWK è¿›ç¨‹ç»“æŸçŠ¶æ€ã€‚ å¦‚æœæ²¡æœ‰æä¾›è¯¥å‚æ•°ï¼Œå…¶é»˜è®¤çŠ¶æ€ä¸º 0ã€‚</p>
<p>ä¸‹é¢ä¾‹å­ä¸­å½“å’Œå¤§äº 50 æ—¶ç»“æŸ AWK ç¨‹åºã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ awk &#x27;BEGIN &#123;</span><br><span class="line">   sum = 0; for (i = 0; i &lt; 20; ++i) &#123;</span><br><span class="line">      sum += i; if (sum &gt; 50) exit(10); else print &quot;Sum =&quot;, sum </span><br><span class="line">   &#125; </span><br><span class="line">&#125;&#x27;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>è¾“å‡ºç»“æœä¸ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">python@ubuntu:~/test$ awk &#x27;BEGIN &#123;</span><br><span class="line">&gt;    sum = 0; for (i = 0; i &lt; 20; ++i) &#123;</span><br><span class="line">&gt;       sum += i; if (sum &gt; 50) exit(10); else print &quot;Sum =&quot;, sum </span><br><span class="line">&gt;    &#125; </span><br><span class="line">&gt; &#125;&#x27;</span><br><span class="line">Sum = 0</span><br><span class="line">Sum = 1</span><br><span class="line">Sum = 3</span><br><span class="line">Sum = 6</span><br><span class="line">Sum = 10</span><br><span class="line">Sum = 15</span><br><span class="line">Sum = 21</span><br><span class="line">Sum = 28</span><br><span class="line">Sum = 36</span><br><span class="line">Sum = 45</span><br><span class="line">python@ubuntu:~/test$ echo $?</span><br><span class="line">10</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="awkæ•°ç»„"><a href="#awkæ•°ç»„" class="headerlink" title="awkæ•°ç»„"></a>awkæ•°ç»„</h4><p>AWKçš„æ•°ç»„åº•å±‚æ•°æ®ç»“æ„æ˜¯æ•£åˆ—è¡¨ï¼Œç´¢å¼•å¯ä»¥æ˜¯æ•°å­—æˆ–å­—ç¬¦ä¸²ã€‚</p>
<p>æ•°ç»„ä½¿ç”¨çš„è¯­æ³•æ ¼å¼ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">array_name[index]=value</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>åˆ›å»ºæ•°ç»„å¹¶è®¿é—®æ•°ç»„å…ƒç´ ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ awk &#x27;BEGIN &#123;</span><br><span class="line">sites[&quot;taobao&quot;]=&quot;www.taobao.com&quot;;</span><br><span class="line">sites[&quot;google&quot;]=&quot;www.google.com&quot;</span><br><span class="line">print sites[&quot;taobao&quot;] &quot;\n&quot; sites[&quot;google&quot;]</span><br><span class="line">&#125;&#x27;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>åˆ é™¤æ•°ç»„å…ƒç´ è¯­æ³•æ ¼å¼ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">delete array_name[index]</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢çš„ä¾‹å­ä¸­ï¼Œæ•°ç»„ä¸­çš„ google å…ƒç´ è¢«åˆ é™¤ï¼ˆåˆ é™¤å‘½ä»¤æ²¡æœ‰è¾“å‡ºï¼‰ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ awk &#x27;BEGIN &#123;</span><br><span class="line">sites[&quot;taobao&quot;]=&quot;www.taobao.com&quot;;</span><br><span class="line">sites[&quot;google&quot;]=&quot;www.google.com&quot;</span><br><span class="line">delete sites[&quot;google&quot;];</span><br><span class="line">print sites[&quot;google&quot;]</span><br><span class="line">&#125;&#x27;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>AWK æœ¬èº«ä¸æ”¯æŒå¤šç»´æ•°ç»„ï¼Œä¸è¿‡æˆ‘ä»¬å¯ä»¥å¾ˆå®¹æ˜“åœ°ä½¿ç”¨ä¸€ç»´æ•°ç»„æ¨¡æ‹Ÿå®ç°å¤šç»´æ•°ç»„ã€‚</p>
<p>å¦‚ä¸‹ç¤ºä¾‹ä¸ºä¸€ä¸ª 3x3 çš„ä¸‰ç»´æ•°ç»„ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">100 200 300</span><br><span class="line">400 500 600</span><br><span class="line">700 800 900</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šå®ä¾‹ä¸­ï¼Œ<code>array[0][0]</code> å­˜å‚¨ 100ï¼Œ<code>array[0][1]</code> å­˜å‚¨ 200 ï¼Œä¾æ¬¡ç±»æ¨ã€‚ä¸ºäº†åœ¨ <code>array[0][0]</code> å¤„å­˜å‚¨ 100, å¯ä»¥ä½¿ç”¨å­—ç¬¦ä¸²0,0 ä½œä¸ºç´¢å¼•ï¼š array[â€œ0,0â€] &#x3D; 100ã€‚</p>
<p>ä¸‹é¢æ˜¯æ¨¡æ‹ŸäºŒç»´æ•°ç»„çš„ä¾‹å­ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">$ awk &#x27;BEGIN &#123;</span><br><span class="line">array[&quot;0,0&quot;] = 100;</span><br><span class="line">array[&quot;0,1&quot;] = 200;</span><br><span class="line">array[&quot;0,2&quot;] = 300;</span><br><span class="line">array[&quot;1,0&quot;] = 400;</span><br><span class="line">array[&quot;1,1&quot;] = 500;</span><br><span class="line">array[&quot;1,2&quot;] = 600;</span><br><span class="line"># è¾“å‡ºæ•°ç»„å…ƒç´ </span><br><span class="line">print &quot;array[0,0] = &quot; array[&quot;0,0&quot;];</span><br><span class="line">print &quot;array[0,1] = &quot; array[&quot;0,1&quot;];</span><br><span class="line">print &quot;array[0,2] = &quot; array[&quot;0,2&quot;];</span><br><span class="line">print &quot;array[1,0] = &quot; array[&quot;1,0&quot;];</span><br><span class="line">print &quot;array[1,1] = &quot; array[&quot;1,1&quot;];</span><br><span class="line">print &quot;array[1,2] = &quot; array[&quot;1,2&quot;];</span><br><span class="line">&#125;&#x27;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œä¸Šé¢çš„å‘½ä»¤å¯ä»¥å¾—åˆ°å¦‚ä¸‹ç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">array[0,0] = 100</span><br><span class="line">array[0,1] = 200</span><br><span class="line">array[0,2] = 300</span><br><span class="line">array[1,0] = 400</span><br><span class="line">array[1,1] = 500</span><br><span class="line">array[1,2] = 600</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>åœ¨æ•°ç»„ä¸Šå¯ä»¥æ‰§è¡Œå¾ˆå¤šæ“ä½œï¼Œæ¯”å¦‚ï¼Œä½¿ç”¨ asort å®Œæˆæ•°ç»„å…ƒç´ çš„æ’åºï¼Œæˆ–è€…ä½¿ç”¨ asorti å®ç°æ•°ç»„ç´¢å¼•çš„æ’åºç­‰ç­‰ã€‚</p>
<h4 id="AWK-ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°"><a href="#AWK-ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°" class="headerlink" title="AWK ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°"></a>AWK ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°</h4><p>è‡ªå®šä¹‰å‡½æ•°çš„è¯­æ³•æ ¼å¼ä¸ºï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function function_name(argument1, argument2, ...)</span><br><span class="line">&#123;</span><br><span class="line">    function body</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸‹å®ä¾‹å®ç°äº†ä¸¤ä¸ªç®€å•å‡½æ•°ï¼Œå®ƒä»¬åˆ†åˆ«è¿”å›ä¸¤ä¸ªæ•°å€¼ä¸­çš„æœ€å°å€¼å’Œæœ€å¤§å€¼ã€‚</p>
<p>æ–‡ä»¶ functions.awk ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"># è¿”å›æœ€å°å€¼</span><br><span class="line">function find_min(num1, num2)</span><br><span class="line">&#123;</span><br><span class="line">  if (num1 &lt; num2)</span><br><span class="line">    return num1</span><br><span class="line">  return num2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># è¿”å›æœ€å¤§å€¼</span><br><span class="line">function find_max(num1, num2)</span><br><span class="line">&#123;</span><br><span class="line">  if (num1 &gt; num2)</span><br><span class="line">    return num1</span><br><span class="line">  return num2</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># ä¸»å‡½æ•°</span><br><span class="line">function main(num1, num2)</span><br><span class="line">&#123;</span><br><span class="line">  # æŸ¥æ‰¾æœ€å°å€¼</span><br><span class="line">  result = find_min(10, 20)</span><br><span class="line">  print &quot;Minimum =&quot;, result</span><br><span class="line"></span><br><span class="line">  # æŸ¥æ‰¾æœ€å¤§å€¼</span><br><span class="line">  result = find_max(10, 20)</span><br><span class="line">  print &quot;Maximum =&quot;, result</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># è„šæœ¬ä»è¿™é‡Œå¼€å§‹æ‰§è¡Œ</span><br><span class="line">BEGIN &#123;</span><br><span class="line">  main(10, 20)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œ functions.awk æ–‡ä»¶ï¼Œå¯ä»¥å¾—åˆ°å¦‚ä¸‹çš„ç»“æœï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ awk -f functions.awk </span><br><span class="line">Minimum = 10</span><br><span class="line">Maximum = 20</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<h4 id="AWK-å†…ç½®å‡½æ•°"><a href="#AWK-å†…ç½®å‡½æ•°" class="headerlink" title="AWK å†…ç½®å‡½æ•°"></a>AWK å†…ç½®å‡½æ•°</h4><p>AWK å†…ç½®å‡½æ•°ä¸»è¦æœ‰ä»¥ä¸‹å‡ ç§ï¼š</p>
<ul>
<li>ç®—æ•°å‡½æ•°</li>
<li>å­—ç¬¦ä¸²å‡½æ•°</li>
<li>æ—¶é—´å‡½æ•°</li>
<li>ä½æ“ä½œå‡½æ•°</li>
<li>å…¶å®ƒå‡½æ•°</li>
</ul>
<h4 id="ç®—æ•°å‡½æ•°"><a href="#ç®—æ•°å‡½æ•°" class="headerlink" title="ç®—æ•°å‡½æ•°"></a>ç®—æ•°å‡½æ•°</h4><table>
<thead>
<tr>
<th align="left"><strong>å‡½æ•°å</strong></th>
<th align="left"><strong>è¯´æ˜</strong></th>
<th align="left"><strong>å®ä¾‹</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left">atan2( y, x )</td>
<td align="left">è¿”å› y&#x2F;x çš„åæ­£åˆ‡ã€‚</td>
<td align="left"><code>$ awk &#39;BEGIN &#123; PI = 3.14159265 x = -10 y = 10 result = atan2 (y,x) * 180 / PI; printf &quot;The arc tangent for (x=%f, y=%f) is %f degrees\n&quot;, x, y, result &#125;&#39;</code>è¾“å‡ºç»“æœä¸ºï¼š<code>The arc tangent for (x=-10.000000, y=10.000000) is 135.000000 degrees</code></td>
</tr>
<tr>
<td align="left">cos( x )</td>
<td align="left">è¿”å› x çš„ä½™å¼¦ï¼›x æ˜¯å¼§åº¦ã€‚</td>
<td align="left"><code>$ awk &#39;BEGIN &#123; PI = 3.14159265 param = 60 result = cos(param * PI / 180.0); printf &quot;The cosine of %f degrees is %f.\n&quot;, param, result &#125;&#39;</code>è¾“å‡ºç»“æœä¸ºï¼š<code>The cosine of 60.000000 degrees is 0.500000.</code></td>
</tr>
<tr>
<td align="left">sin( x )</td>
<td align="left">è¿”å› x çš„æ­£å¼¦ï¼›x æ˜¯å¼§åº¦ã€‚</td>
<td align="left"><code>$ awk &#39;BEGIN &#123; PI = 3.14159265 param = 30.0 result = sin(param * PI /180) printf &quot;The sine of %f degrees is %f.\n&quot;, param, result &#125;&#39;</code>è¾“å‡ºç»“æœä¸ºï¼š<code>The sine of 30.000000 degrees is 0.500000.</code></td>
</tr>
<tr>
<td align="left">exp( x )</td>
<td align="left">è¿”å› x å¹‚å‡½æ•°ã€‚</td>
<td align="left"><code>$ awk &#39;BEGIN &#123; param = 5 result = exp(param); printf &quot;The exponential value of %f is %f.\n&quot;, param, result &#125;&#39;</code>è¾“å‡ºç»“æœä¸ºï¼š<code>The exponential value of 5.000000 is 148.413159.</code></td>
</tr>
<tr>
<td align="left">log( x )</td>
<td align="left">è¿”å› x çš„è‡ªç„¶å¯¹æ•°ã€‚</td>
<td align="left"><code>$ awk &#39;BEGIN &#123; param = 5.5 result = log (param) printf &quot;log(%f) = %f\n&quot;, param, result &#125;&#39;</code>è¾“å‡ºç»“æœä¸ºï¼š<code>log(5.500000) = 1.704748</code></td>
</tr>
<tr>
<td align="left">sqrt( x )</td>
<td align="left">è¿”å› x å¹³æ–¹æ ¹ã€‚</td>
<td align="left"><code>$ awk &#39;BEGIN &#123; param = 1024.0 result = sqrt(param) printf &quot;sqrt(%f) = %f\n&quot;, param, result &#125;&#39;</code>è¾“å‡ºç»“æœä¸ºï¼š<code>sqrt(1024.000000) = 32.000000</code></td>
</tr>
<tr>
<td align="left">int( x )</td>
<td align="left">è¿”å› x çš„æˆªæ–­è‡³æ•´æ•°çš„å€¼ã€‚</td>
<td align="left"><code>$ awk &#39;BEGIN &#123; param = 5. result = int(param) print &quot;Truncated value =&quot;, result &#125;&#39;</code>è¾“å‡ºç»“æœä¸ºï¼š<code>Truncated value = 5</code></td>
</tr>
<tr>
<td align="left">rand( )</td>
<td align="left">è¿”å›ä»»æ„æ•°å­— nï¼Œå…¶ä¸­ 0 &lt;&#x3D; n &lt; 1ã€‚</td>
<td align="left"><code>$ awk &#39;BEGIN &#123; print &quot;Random num1 =&quot; , rand() print &quot;Random num2 =&quot; , rand() print &quot;Random num3 =&quot; , rand() &#125;&#39;</code>è¾“å‡ºç»“æœä¸ºï¼š<code>Random num1 = 0.237788 Random num2 = 0.291066 Random num3 = 0.845814</code></td>
</tr>
<tr>
<td align="left">srand( [Expr] )</td>
<td align="left">å°† rand å‡½æ•°çš„ç§å­å€¼è®¾ç½®ä¸º Expr å‚æ•°çš„å€¼ï¼Œæˆ–å¦‚æœçœç•¥ Expr å‚æ•°åˆ™ä½¿ç”¨æŸå¤©çš„æ—¶é—´ã€‚è¿”å›å…ˆå‰çš„ç§å­å€¼ã€‚</td>
<td align="left"><code>$ awk &#39;BEGIN &#123; param = 10 printf &quot;srand() = %d\n&quot;, srand() printf &quot;srand(%d) = %d\n&quot;, param, srand(param) &#125;&#39;</code>è¾“å‡ºç»“æœä¸ºï¼š<code>srand() = 1 srand(10) = 1417959587</code></td>
</tr>
</tbody></table>
<h5 id="å­—ç¬¦ä¸²å‡½æ•°"><a href="#å­—ç¬¦ä¸²å‡½æ•°" class="headerlink" title="å­—ç¬¦ä¸²å‡½æ•°"></a>å­—ç¬¦ä¸²å‡½æ•°</h5><table>
<thead>
<tr>
<th align="left"><strong>å‡½æ•°</strong></th>
<th align="left"><strong>è¯´æ˜</strong></th>
<th align="left"><strong>å®ä¾‹</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left">gsub( Ere, Repl, [ In ] )</td>
<td align="left">gsub æ˜¯å…¨å±€æ›¿æ¢( global substitution )çš„ç¼©å†™ã€‚é™¤äº†æ­£åˆ™è¡¨è¾¾å¼æ‰€æœ‰å…·ä½“å€¼è¢«æ›¿ä»£è¿™ç‚¹ï¼Œå®ƒå’Œ sub å‡½æ•°å®Œå…¨ä¸€æ ·åœ°æ‰§è¡Œã€‚</td>
<td align="left"><code>$ awk &#39;BEGIN &#123; str = &quot;Hello, World&quot; print &quot;String before replacement = &quot; str gsub(&quot;World&quot;, &quot;Jerry&quot;, str) print &quot;String after replacement = &quot; str &#125;&#39;</code>è¾“å‡ºç»“æœä¸ºï¼š<code>String before replacement = Hello, World String after replacement = Hello, Jerry</code></td>
</tr>
<tr>
<td align="left">sub(regex,sub,string)</td>
<td align="left">sub å‡½æ•°æ‰§è¡Œä¸€æ¬¡å­ä¸²æ›¿æ¢ã€‚å®ƒå°†ç¬¬ä¸€æ¬¡å‡ºç°çš„å­ä¸²ç”¨ regex æ›¿æ¢ã€‚ç¬¬ä¸‰ä¸ªå‚æ•°æ˜¯å¯é€‰çš„ï¼Œé»˜è®¤ä¸º $0ã€‚</td>
<td align="left"><code>$ awk &#39;BEGIN &#123; str = &quot;Hello, World&quot; print &quot;String before replacement = &quot; str sub(&quot;World&quot;, &quot;Jerry&quot;, str) print &quot;String after replacement = &quot; str &#125;&#39;</code>è¾“å‡ºç»“æœä¸ºï¼š<code>String before replacement = Hello, World String after replacement = Hello, Jerry</code></td>
</tr>
<tr>
<td align="left">substr(str, start, l)</td>
<td align="left">substr å‡½æ•°è¿”å› str å­—ç¬¦ä¸²ä¸­ä»ç¬¬ start ä¸ªå­—ç¬¦å¼€å§‹é•¿åº¦ä¸º l çš„å­ä¸²ã€‚å¦‚æœæ²¡æœ‰æŒ‡å®š l çš„å€¼ï¼Œè¿”å› str ä»ç¬¬ start ä¸ªå­—ç¬¦å¼€å§‹çš„åç¼€å­ä¸²ã€‚</td>
<td align="left"><code>$ awk &#39;BEGIN &#123; str = &quot;Hello, World !!!&quot; subs = substr(str, 1, 5) print &quot;Substring = &quot; subs &#125;&#39;</code>è¾“å‡ºç»“æœä¸ºï¼š<code>Substring = Hello</code></td>
</tr>
<tr>
<td align="left">index( String1, String2 )</td>
<td align="left">åœ¨ç”± String1 å‚æ•°æŒ‡å®šçš„å­—ç¬¦ä¸²ï¼ˆå…¶ä¸­æœ‰å‡ºç° String2 æŒ‡å®šçš„å‚æ•°ï¼‰ä¸­ï¼Œè¿”å›ä½ç½®ï¼Œä» 1 å¼€å§‹ç¼–å·ã€‚å¦‚æœ String2 å‚æ•°ä¸åœ¨ String1 å‚æ•°ä¸­å‡ºç°ï¼Œåˆ™è¿”å› 0ï¼ˆé›¶ï¼‰ã€‚</td>
<td align="left"><code>$ awk &#39;BEGIN &#123; str = &quot;One Two Three&quot; subs = &quot;Two&quot; ret = index(str, subs) printf &quot;Substring \&quot;%s\&quot; found at %d location.\n&quot;, subs, ret &#125;&#39;</code>è¾“å‡ºç»“æœä¸ºï¼š<code>Substring &quot;Two&quot; found at 5 location.</code></td>
</tr>
<tr>
<td align="left">length [(String)]</td>
<td align="left">è¿”å› String å‚æ•°æŒ‡å®šçš„å­—ç¬¦ä¸²çš„é•¿åº¦ï¼ˆå­—ç¬¦å½¢å¼ï¼‰ã€‚å¦‚æœæœªç»™å‡º String å‚æ•°ï¼Œåˆ™è¿”å›æ•´ä¸ªè®°å½•çš„é•¿åº¦ï¼ˆ$0 è®°å½•å˜é‡ï¼‰ã€‚</td>
<td align="left"><code>$ awk &#39;BEGIN &#123; str = &quot;Hello, World !!!&quot; print &quot;Length = &quot;, length(str) &#125;&#39;</code>è¾“å‡ºç»“æœä¸ºï¼š<code>Substring &quot;Two&quot; found at 5 location.</code></td>
</tr>
<tr>
<td align="left">blength [(String)]</td>
<td align="left">è¿”å› String å‚æ•°æŒ‡å®šçš„å­—ç¬¦ä¸²çš„é•¿åº¦ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰ã€‚å¦‚æœæœªç»™å‡º String å‚æ•°ï¼Œåˆ™è¿”å›æ•´ä¸ªè®°å½•çš„é•¿åº¦ï¼ˆ$0 è®°å½•å˜é‡ï¼‰ã€‚</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">substr( String, M, [ N ] )</td>
<td align="left">è¿”å›å…·æœ‰ N å‚æ•°æŒ‡å®šçš„å­—ç¬¦æ•°é‡å­ä¸²ã€‚å­ä¸²ä» String å‚æ•°æŒ‡å®šçš„å­—ç¬¦ä¸²å–å¾—ï¼Œå…¶å­—ç¬¦ä»¥ M å‚æ•°æŒ‡å®šçš„ä½ç½®å¼€å§‹ã€‚M å‚æ•°æŒ‡å®šä¸ºå°† String å‚æ•°ä¸­çš„ç¬¬ä¸€ä¸ªå­—ç¬¦ä½œä¸ºç¼–å· 1ã€‚å¦‚æœæœªæŒ‡å®š N å‚æ•°ï¼Œåˆ™å­ä¸²çš„é•¿åº¦å°†æ˜¯ M å‚æ•°æŒ‡å®šçš„ä½ç½®åˆ° String å‚æ•°çš„æœ«å°¾ çš„é•¿åº¦ã€‚</td>
<td align="left"><code>$ awk &#39;BEGIN &#123; str = &quot;Hello, World !!!&quot; subs = substr(str, 1, 5) print &quot;Substring = &quot; subs &#125;&#39;</code>è¾“å‡ºç»“æœä¸ºï¼š<code>Substring = Hello</code></td>
</tr>
<tr>
<td align="left">match( String, Ere )</td>
<td align="left">åœ¨ String å‚æ•°æŒ‡å®šçš„å­—ç¬¦ä¸²ï¼ˆEre å‚æ•°æŒ‡å®šçš„æ‰©å±•æ­£åˆ™è¡¨è¾¾å¼å‡ºç°åœ¨å…¶ä¸­ï¼‰ä¸­è¿”å›ä½ç½®ï¼ˆå­—ç¬¦å½¢å¼ï¼‰ï¼Œä» 1 å¼€å§‹ç¼–å·ï¼Œæˆ–å¦‚æœ Ere å‚æ•°ä¸å‡ºç°ï¼Œåˆ™è¿”å› 0ï¼ˆé›¶ï¼‰ã€‚RSTART ç‰¹æ®Šå˜é‡è®¾ç½®ä¸ºè¿”å›å€¼ã€‚RLENGTH ç‰¹æ®Šå˜é‡è®¾ç½®ä¸ºåŒ¹é…çš„å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œæˆ–å¦‚æœæœªæ‰¾åˆ°ä»»ä½•åŒ¹é…ï¼Œåˆ™è®¾ç½®ä¸º -1ï¼ˆè´Ÿä¸€ï¼‰ã€‚</td>
<td align="left"><code>$ awk &#39;BEGIN &#123; str = &quot;One Two Three&quot; subs = &quot;Two&quot; ret = match(str, subs) printf &quot;Substring \&quot;%s\&quot; found at %d location.\n&quot;, subs, ret &#125;&#39;</code>è¾“å‡ºç»“æœä¸ºï¼š<code>Substring &quot;Two&quot; found at 5 location.</code></td>
</tr>
<tr>
<td align="left">split( String, A, [Ere] )</td>
<td align="left">å°† String å‚æ•°æŒ‡å®šçš„å‚æ•°åˆ†å‰²ä¸ºæ•°ç»„å…ƒç´  A[1], A[2], . . ., A[n]ï¼Œå¹¶è¿”å› n å˜é‡çš„å€¼ã€‚æ­¤åˆ†éš”å¯ä»¥é€šè¿‡ Ere å‚æ•°æŒ‡å®šçš„æ‰©å±•æ­£åˆ™è¡¨è¾¾å¼è¿›è¡Œï¼Œæˆ–ç”¨å½“å‰å­—æ®µåˆ†éš”ç¬¦ï¼ˆFS ç‰¹æ®Šå˜é‡ï¼‰æ¥è¿›è¡Œï¼ˆå¦‚æœæ²¡æœ‰ç»™å‡º Ere å‚æ•°ï¼‰ã€‚é™¤éä¸Šä¸‹æ–‡æŒ‡æ˜ç‰¹å®šçš„å…ƒç´ è¿˜åº”å…·æœ‰ä¸€ä¸ªæ•°å­—å€¼ï¼Œå¦åˆ™ A æ•°ç»„ä¸­çš„å…ƒç´ ç”¨å­—ç¬¦ä¸²å€¼æ¥åˆ›å»ºã€‚</td>
<td align="left"><code>$ awk &#39;BEGIN &#123; str = &quot;One,Two,Three,Four&quot; split(str, arr, &quot;,&quot;) print &quot;Array contains following values&quot; for (i in arr) &#123; print arr[i] &#125; &#125;&#39;</code>è¾“å‡ºç»“æœä¸ºï¼š<code>Array contains following values One Two Three Four</code></td>
</tr>
<tr>
<td align="left">tolower( String )</td>
<td align="left">è¿”å› String å‚æ•°æŒ‡å®šçš„å­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²ä¸­æ¯ä¸ªå¤§å†™å­—ç¬¦å°†æ›´æ”¹ä¸ºå°å†™ã€‚å¤§å†™å’Œå°å†™çš„æ˜ å°„ç”±å½“å‰è¯­è¨€ç¯å¢ƒçš„ LC_CTYPE èŒƒç•´å®šä¹‰ã€‚</td>
<td align="left"><code>$ awk &#39;BEGIN &#123; str = &quot;HELLO, WORLD !!!&quot; print &quot;Lowercase string = &quot; tolower(str) &#125;&#39;</code>è¾“å‡ºç»“æœä¸ºï¼š<code>Lowercase string = hello, world !!!</code></td>
</tr>
<tr>
<td align="left">toupper( String )</td>
<td align="left">è¿”å› String å‚æ•°æŒ‡å®šçš„å­—ç¬¦ä¸²ï¼Œå­—ç¬¦ä¸²ä¸­æ¯ä¸ªå°å†™å­—ç¬¦å°†æ›´æ”¹ä¸ºå¤§å†™ã€‚å¤§å†™å’Œå°å†™çš„æ˜ å°„ç”±å½“å‰è¯­è¨€ç¯å¢ƒçš„ LC_CTYPE èŒƒç•´å®šä¹‰ã€‚</td>
<td align="left"><code>$ awk &#39;BEGIN &#123; str = &quot;hello, world !!!&quot; print &quot;Uppercase string = &quot; toupper(str) &#125;&#39;</code>è¾“å‡ºç»“æœä¸ºï¼š<code>Uppercase string = HELLO, WORLD !!!</code></td>
</tr>
<tr>
<td align="left">sprintf(Format, Expr, Expr, . . . )</td>
<td align="left">æ ¹æ® Format å‚æ•°æŒ‡å®šçš„ printf å­ä¾‹ç¨‹æ ¼å¼å­—ç¬¦ä¸²æ¥æ ¼å¼åŒ– Expr å‚æ•°æŒ‡å®šçš„è¡¨è¾¾å¼å¹¶è¿”å›æœ€åç”Ÿæˆçš„å­—ç¬¦ä¸²ã€‚</td>
<td align="left"><code>$ awk &#39;BEGIN &#123; str = sprintf(&quot;%s&quot;, &quot;Hello, World !!!&quot;) print str &#125;&#39;</code>è¾“å‡ºç»“æœä¸ºï¼š<code>Hello, World !!!</code></td>
</tr>
<tr>
<td align="left">strtonum(str)</td>
<td align="left">strtonum å°†å­—ç¬¦ä¸² str è½¬æ¢ä¸ºæ•°å€¼ã€‚ å¦‚æœå­—ç¬¦ä¸²ä»¥ 0 å¼€å§‹ï¼Œåˆ™å°†å…¶å½“ä½œåè¿›åˆ¶æ•°ï¼›å¦‚æœå­—ç¬¦ä¸²ä»¥ 0x æˆ– 0X å¼€å§‹ï¼Œåˆ™å°†å…¶å½“ä½œåå…­è¿›åˆ¶æ•°ï¼›å¦åˆ™ï¼Œå°†å…¶å½“ä½œæµ®ç‚¹æ•°ã€‚</td>
<td align="left"><code>$ awk &#39;BEGIN &#123; print &quot;Decimal num = &quot; strtonum(&quot;123&quot;) print &quot;Octal num = &quot; strtonum(&quot;0123&quot;) print &quot;Hexadecimal num = &quot; strtonum(&quot;0x123&quot;) &#125;&#39;</code>è¾“å‡ºç»“æœä¸ºï¼š<code>Decimal num = 123 Octal num = 83 Hexadecimal num = 291</code></td>
</tr>
</tbody></table>
<p>**æ³¨ï¼š**<strong>Ere</strong> éƒ¨åˆ†å¯ä»¥æ˜¯æ­£åˆ™è¡¨è¾¾å¼ã€‚</p>
<p><strong>1ã€gsubã€sub ä½¿ç”¨</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ awk &#x27;BEGIN&#123;info=&quot;this is a test2012test!&quot;;gsub(/[0-9]+/,&quot;||&quot;,info);print info&#125;&#x27;</span><br><span class="line">this is a test||test!</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p><strong>2ã€æŸ¥æ‰¾å­—ç¬¦ä¸²ï¼ˆindex ä½¿ç”¨ï¼‰</strong></p>
<p>ä½¿ç”¨äº†ä¸‰å…ƒè¿ç®—ç¬¦: <strong>è¡¨è¾¾å¼ ? åŠ¨ä½œ1 : åŠ¨ä½œ2</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ awk &#x27;BEGIN&#123;info=&quot;this is a test2012test!&quot;;print index(info,&quot;11111&quot;)?&quot;ok&quot;:&quot;no found&quot;;&#125;&#x27;</span><br><span class="line">no found</span><br><span class="line">$ awk &#x27;BEGIN&#123;info=&quot;this is a test2012test!&quot;;print index(info,&quot;is&quot;)?&quot;ok&quot;:&quot;no found&quot;;&#125;&#x27;</span><br><span class="line">ok</span><br><span class="line">$ awk &#x27;BEGIN&#123;info=&quot;this is a test2012test!&quot;;print index(info,&quot;test&quot;)?&quot;ok&quot;:&quot;no found&quot;;&#125;&#x27;</span><br><span class="line">ok</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>3ã€æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…æŸ¥æ‰¾(match ä½¿ç”¨ï¼‰</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ awk &#x27;BEGIN&#123;info=&quot;this is a test2012test!&quot;;print match(info,/[0-9]+/)?&quot;ok&quot;:&quot;no found&quot;;&#125;&#x27;</span><br><span class="line">ok</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p><strong>4ã€æˆªå–å­—ç¬¦ä¸²(substrä½¿ç”¨ï¼‰</strong></p>
<p>ä»ç¬¬ 4 ä¸ª å­—ç¬¦å¼€å§‹ï¼Œæˆªå– 10 ä¸ªé•¿åº¦å­—ç¬¦ä¸²ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ awk &#x27;BEGIN&#123;info=&quot;this is a test2012test!&quot;;print substr(info,4,10);&#125;&#x27;</span><br><span class="line">s is a tes</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p><strong>5ã€å­—ç¬¦ä¸²åˆ†å‰²ï¼ˆsplitä½¿ç”¨ï¼‰</strong></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ awk &#x27;BEGIN&#123;info=&quot;this is a test&quot;;split(info,tA,&quot; &quot;);print length(tA);for(k in tA)&#123;print k,tA[k];&#125;&#125;&#x27;</span><br><span class="line">4</span><br><span class="line">2 is</span><br><span class="line">3 a</span><br><span class="line">4 test</span><br><span class="line">1 this</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>åˆ†å‰² infoï¼Œå°† info å­—ç¬¦ä¸²ä½¿ç”¨ç©ºæ ¼åˆ‡åˆ†ä¸ºåŠ¨æ€æ•°ç»„ tAã€‚æ³¨æ„ awk for â€¦in å¾ªç¯ï¼Œæ˜¯ä¸€ä¸ªæ— åºçš„å¾ªç¯ã€‚ å¹¶ä¸æ˜¯ä»æ•°ç»„ä¸‹æ ‡ 1â€¦n ï¼Œå› æ­¤ä½¿ç”¨æ—¶å€™éœ€è¦ç‰¹åˆ«æ³¨æ„ã€‚</p>
<h5 id="æ—¶é—´å‡½æ•°"><a href="#æ—¶é—´å‡½æ•°" class="headerlink" title="æ—¶é—´å‡½æ•°"></a>æ—¶é—´å‡½æ•°</h5><table>
<thead>
<tr>
<th align="left"><strong>å‡½æ•°å</strong></th>
<th align="left"><strong>è¯´æ˜</strong></th>
<th align="left"><strong>å®ä¾‹</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left">mktime( YYYY MM DD HH MM SS[ DST])</td>
<td align="left">ç”Ÿæˆæ—¶é—´æ ¼å¼</td>
<td align="left"><code>$ awk &#39;BEGIN &#123; print &quot;Number of seconds since the Epoch = &quot; mktime(&quot;2014 12 14 30 20 10&quot;) &#125;&#39;</code>è¾“å‡ºç»“æœä¸ºï¼š<code>Number of seconds since the Epoch = 1418604610</code></td>
</tr>
<tr>
<td align="left">strftime([format [, timestamp]])</td>
<td align="left">æ ¼å¼åŒ–æ—¶é—´è¾“å‡ºï¼Œå°†æ—¶é—´æˆ³è½¬ä¸ºæ—¶é—´å­—ç¬¦ä¸² å…·ä½“æ ¼å¼ï¼Œè§ä¸‹è¡¨.</td>
<td align="left"><code>$ awk &#39;BEGIN &#123; print strftime(&quot;Time = %m/%d/%Y %H:%M:%S&quot;, systime()) &#125;&#39;</code>è¾“å‡ºç»“æœä¸ºï¼š<code>Time = 12/14/2014 22:08:42</code></td>
</tr>
<tr>
<td align="left">systime()</td>
<td align="left">å¾—åˆ°æ—¶é—´æˆ³,è¿”å›ä»1970å¹´1æœˆ1æ—¥å¼€å§‹åˆ°å½“å‰æ—¶é—´(ä¸è®¡é—°å¹´)çš„æ•´ç§’æ•°</td>
<td align="left"><code>awk &#39;BEGIN&#123;now=systime();print now&#125;&#39;</code>è¾“å‡ºç»“æœä¸ºï¼š<code>1343210982</code></td>
</tr>
</tbody></table>
<p>strftime æ—¥æœŸå’Œæ—¶é—´æ ¼å¼è¯´æ˜ç¬¦:</p>
<table>
<thead>
<tr>
<th align="left">åºå·</th>
<th align="left">æè¿°</th>
</tr>
</thead>
<tbody><tr>
<td align="left">%a</td>
<td align="left">æ˜ŸæœŸç¼©å†™(Mon-Sun)ã€‚</td>
</tr>
<tr>
<td align="left">%A</td>
<td align="left">æ˜ŸæœŸå…¨ç§°ï¼ˆMonday-Sundayï¼‰ã€‚</td>
</tr>
<tr>
<td align="left">%b</td>
<td align="left">æœˆä»½ç¼©å†™ï¼ˆJanï¼‰ã€‚</td>
</tr>
<tr>
<td align="left">%B</td>
<td align="left">æœˆä»½å…¨ç§°ï¼ˆJanuaryï¼‰ã€‚</td>
</tr>
<tr>
<td align="left">%c</td>
<td align="left">æœ¬åœ°æ—¥æœŸä¸æ—¶é—´ã€‚</td>
</tr>
<tr>
<td align="left">%C</td>
<td align="left">å¹´ä»½ä¸­çš„ä¸–çºªéƒ¨åˆ†ï¼Œå…¶å€¼ä¸ºå¹´ä»½æ•´é™¤100ã€‚</td>
</tr>
<tr>
<td align="left">%d</td>
<td align="left">åè¿›åˆ¶æ—¥æœŸ(01-31)</td>
</tr>
<tr>
<td align="left">%D</td>
<td align="left">ç­‰ä»·äº %m&#x2F;%d&#x2F;%y.</td>
</tr>
<tr>
<td align="left">%e</td>
<td align="left">æ—¥æœŸï¼Œå¦‚æœåªæœ‰ä¸€ä½æ•°å­—åˆ™ç”¨ç©ºæ ¼è¡¥é½</td>
</tr>
<tr>
<td align="left">%F</td>
<td align="left">ç­‰ä»·äº %Y-%m-%dï¼Œè¿™ä¹Ÿæ˜¯ ISO 8601 æ ‡å‡†æ—¥æœŸæ ¼å¼ã€‚</td>
</tr>
<tr>
<td align="left">%g</td>
<td align="left">ISO8610 æ ‡å‡†å‘¨æ‰€åœ¨çš„å¹´ä»½æ¨¡é™¤ 100ï¼ˆ00-99)ã€‚æ¯”å¦‚ï¼Œ1993 å¹´ 1 æœˆ 1 æ—¥å±äº 1992 å¹´çš„ç¬¬ 53 å‘¨ã€‚æ‰€ä»¥ï¼Œè™½ç„¶å®ƒæ˜¯ 1993 å¹´ç¬¬ 1 å¤©ï¼Œä½†æ˜¯å…¶ã€€ISO8601 æ ‡å‡†å‘¨æ‰€åœ¨å¹´ä»½å´æ˜¯ 1992ã€‚åŒæ ·ï¼Œå°½ç®¡ 1973 å¹´ 12 æœˆ 31 æ—¥å±äº 1973 å¹´ä½†æ˜¯å®ƒå´å±äº 1994 å¹´çš„ç¬¬ä¸€å‘¨ã€‚æ‰€ä»¥ 1973 å¹´ 12 æœˆ 31 æ—¥çš„ ISO8610ã€€æ ‡å‡†å‘¨æ‰€åœ¨çš„å¹´æ˜¯ 1974 è€Œä¸æ˜¯ 1973ã€‚</td>
</tr>
<tr>
<td align="left">%G</td>
<td align="left">ISO æ ‡å‡†å‘¨æ‰€åœ¨å¹´ä»½çš„å…¨ç§°ã€‚</td>
</tr>
<tr>
<td align="left">%h</td>
<td align="left">ç­‰ä»·äº %b.</td>
</tr>
<tr>
<td align="left">%H</td>
<td align="left">ç”¨åè¿›åˆ¶è¡¨ç¤ºçš„ 24 å°æ—¶æ ¼å¼çš„å°æ—¶(00-23)</td>
</tr>
<tr>
<td align="left">%I</td>
<td align="left">ç”¨åè¿›åˆ¶è¡¨ç¤ºçš„ 12 å°æ—¶æ ¼å¼çš„å°æ—¶ï¼ˆ00-12ï¼‰</td>
</tr>
<tr>
<td align="left">%j</td>
<td align="left">ä¸€å¹´ä¸­çš„ç¬¬å‡ å¤©ï¼ˆ001-366ï¼‰</td>
</tr>
<tr>
<td align="left">%m</td>
<td align="left">æœˆä»½ï¼ˆ01-12ï¼‰</td>
</tr>
<tr>
<td align="left">%M</td>
<td align="left">åˆ†é’Ÿæ•°ï¼ˆ00-59)</td>
</tr>
<tr>
<td align="left">%n</td>
<td align="left">æ¢è¡Œç¬¦ (ASCII LF)</td>
</tr>
<tr>
<td align="left">%p</td>
<td align="left">åäºŒè¿›åˆ¶è¡¨ç¤ºæ³•ï¼ˆAM&#x2F;PMï¼‰</td>
</tr>
<tr>
<td align="left">%r</td>
<td align="left">åäºŒè¿›åˆ¶è¡¨ç¤ºæ³•çš„æ—¶é—´ï¼ˆç­‰ä»·äº %I:%M:%S %pï¼‰ã€‚</td>
</tr>
<tr>
<td align="left">%R</td>
<td align="left">ç­‰ä»·äº %H:%Mã€‚</td>
</tr>
<tr>
<td align="left">%S</td>
<td align="left">æ—¶é—´çš„ç§’æ•°å€¼ï¼ˆ00-60ï¼‰</td>
</tr>
<tr>
<td align="left">%t</td>
<td align="left">åˆ¶è¡¨ç¬¦ (tab)</td>
</tr>
<tr>
<td align="left">%T</td>
<td align="left">ç­‰ä»·äº %H:%M:%Sã€‚</td>
</tr>
<tr>
<td align="left">%u</td>
<td align="left">ä»¥æ•°å­—è¡¨ç¤ºçš„æ˜ŸæœŸ(1-7),1 è¡¨ç¤ºæ˜ŸæœŸä¸€ã€‚</td>
</tr>
<tr>
<td align="left">%U</td>
<td align="left">ä¸€å¹´ä¸­çš„ç¬¬å‡ ä¸ªæ˜ŸæœŸï¼ˆç¬¬ä¸€ä¸ªæ˜ŸæœŸå¤©ä½œä¸ºç¬¬ä¸€å‘¨çš„å¼€å§‹ï¼‰ï¼Œ00-53</td>
</tr>
<tr>
<td align="left">%V</td>
<td align="left">ä¸€å¹´ä¸­çš„ç¬¬å‡ ä¸ªæ˜ŸæœŸï¼ˆç¬¬ä¸€ä¸ªæ˜ŸæœŸä¸€ä½œä¸ºç¬¬ä¸€å‘¨çš„å¼€å§‹ï¼‰ï¼Œ01-53ã€‚</td>
</tr>
<tr>
<td align="left">%w</td>
<td align="left">ä»¥æ•°å­—è¡¨ç¤ºçš„æ˜ŸæœŸï¼ˆ0-6ï¼‰ï¼Œ0è¡¨ç¤ºæ˜ŸæœŸæ—¥ ã€‚</td>
</tr>
<tr>
<td align="left">%W</td>
<td align="left">åè¿›åˆ¶è¡¨ç¤ºçš„ä¸€å¹´ä¸­çš„ç¬¬å‡ ä¸ªæ˜ŸæœŸï¼ˆç¬¬ä¸€ä¸ªæ˜ŸæœŸä¸€ä½œä¸ºç¬¬ä¸€å‘¨çš„å¼€å§‹ï¼‰ï¼Œ00-53ã€‚</td>
</tr>
<tr>
<td align="left">%x</td>
<td align="left">æœ¬åœ°æ—¥æœŸè¡¨ç¤º</td>
</tr>
<tr>
<td align="left">%X</td>
<td align="left">æœ¬åœ°æ—¶é—´è¡¨ç¤º</td>
</tr>
<tr>
<td align="left">%y</td>
<td align="left">å¹´ä»½æ¨¡é™¤ 100ã€‚</td>
</tr>
<tr>
<td align="left">%Y</td>
<td align="left">åè¿›åˆ¶è¡¨ç¤ºçš„å®Œæ•´å¹´ä»½ã€‚</td>
</tr>
<tr>
<td align="left">%z</td>
<td align="left">æ—¶åŒºï¼Œè¡¨ç¤ºæ ¼å¼ä¸º+HHMMï¼ˆä¾‹å¦‚ï¼Œæ ¼å¼è¦æ±‚ç”Ÿæˆçš„ RFC 822æˆ–è€… RFC 1036 æ—¶é—´å¤´ï¼‰</td>
</tr>
<tr>
<td align="left">%Z</td>
<td align="left">æ—¶åŒºåç§°æˆ–ç¼©å†™ï¼Œå¦‚æœæ—¶åŒºå¾…å®šåˆ™æ— è¾“å‡ºã€‚</td>
</tr>
</tbody></table>
<h5 id="ä½æ“ä½œå‡½æ•°"><a href="#ä½æ“ä½œå‡½æ•°" class="headerlink" title="ä½æ“ä½œå‡½æ•°"></a>ä½æ“ä½œå‡½æ•°</h5><table>
<thead>
<tr>
<th align="left"><strong>å‡½æ•°å</strong></th>
<th align="left"><strong>è¯´æ˜</strong></th>
<th align="left"><strong>å®ä¾‹</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left">and</td>
<td align="left">ä½ä¸æ“ä½œã€‚</td>
<td align="left"><code>$ awk &#39;BEGIN &#123; num1 = 10 num2 = 6 printf &quot;(%d AND %d) = %d\n&quot;, num1, num2, and(num1, num2) &#125;&#39;</code>è¾“å‡ºç»“æœä¸ºï¼š<code>(10 AND 6) = 2</code></td>
</tr>
<tr>
<td align="left">compl</td>
<td align="left">æŒ‰ä½æ±‚è¡¥ã€‚</td>
<td align="left"><code>$ awk &#39;BEGIN &#123; num1 = 10 printf &quot;compl(%d) = %d\n&quot;, num1, compl(num1) &#125;&#39;</code>è¾“å‡ºç»“æœä¸ºï¼š<code>compl(10) = 9007199254740981</code></td>
</tr>
<tr>
<td align="left">lshift</td>
<td align="left">å·¦ç§»ä½æ“ä½œ</td>
<td align="left"><code>$ awk &#39;BEGIN &#123; num1 = 10 printf &quot;lshift(%d) by 1 = %d\n&quot;, num1, lshift(num1, 1) &#125;&#39;</code>è¾“å‡ºç»“æœä¸ºï¼š<code>lshift(10) by 1 = 20</code></td>
</tr>
<tr>
<td align="left">rshift</td>
<td align="left">å³ç§»ä½æ“ä½œ</td>
<td align="left"><code>$ awk &#39;BEGIN &#123; num1 = 10 printf &quot;rshift(%d) by 1 = %d\n&quot;, num1, rshift(num1, 1) &#125;&#39;</code>è¾“å‡ºç»“æœä¸ºï¼š<code>rshift(10) by 1 = 5</code></td>
</tr>
<tr>
<td align="left">or</td>
<td align="left">æŒ‰ä½æˆ–æ“ä½œ</td>
<td align="left"><code>$ awk &#39;BEGIN &#123; num1 = 10 num2 = 6 printf &quot;(%d OR %d) = %d\n&quot;, num1, num2, or(num1, num2) &#125;&#39;</code>è¾“å‡ºç»“æœä¸ºï¼š<code>(10 OR 6) = 14</code></td>
</tr>
<tr>
<td align="left">xor</td>
<td align="left">æŒ‰ä½å¼‚æˆ–æ“ä½œ</td>
<td align="left"><code>$ awk &#39;BEGIN &#123; num1 = 10 num2 = 6 printf &quot;(%d XOR %d) = %d\n&quot;, num1, num2, xor(num1, num2) &#125;&#39;</code>è¾“å‡ºç»“æœä¸ºï¼š<code>(10 bitwise xor 6) = 12</code></td>
</tr>
</tbody></table>
<h5 id="å…¶ä»–å‡½æ•°"><a href="#å…¶ä»–å‡½æ•°" class="headerlink" title="å…¶ä»–å‡½æ•°"></a>å…¶ä»–å‡½æ•°</h5><table>
<thead>
<tr>
<th align="left"><strong>å‡½æ•°å</strong></th>
<th align="left"><strong>è¯´æ˜</strong></th>
<th align="left"><strong>å®ä¾‹</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="left">close(expr)</td>
<td align="left">å…³é—­ç®¡é“çš„æ–‡ä»¶</td>
<td align="left">&#96;$ awk â€˜BEGIN { cmd &#x3D; â€œtr [a-z] [A-Z]â€ print â€œhello, world !!!â€</td>
</tr>
<tr>
<td align="left">delete</td>
<td align="left">ç”¨äºä»æ•°ç»„ä¸­åˆ é™¤å…ƒç´ </td>
<td align="left"><code>$ awk &#39;BEGIN &#123; arr[0] = &quot;One&quot; arr[1] = &quot;Two&quot; arr[2] = &quot;Three&quot; arr[3] = &quot;Four&quot; print &quot;Array elements before delete operation:&quot; for (i in arr) &#123; print arr[i] &#125; delete arr[0] delete arr[1] print &quot;Array elements after delete operation:&quot; for (i in arr) &#123; print arr[i] &#125; &#125;&#39;</code>è¾“å‡ºç»“æœä¸ºï¼š<code>Array elements before delete operation: One Two Three Four Array elements after delete operation: Three Four</code></td>
</tr>
<tr>
<td align="left">exit</td>
<td align="left">ç»ˆæ­¢è„šæœ¬æ‰§è¡Œï¼Œå®ƒå¯ä»¥æ¥å—å¯é€‰çš„å‚æ•° expr ä¼ é€’ AWK è¿”å›çŠ¶æ€ã€‚</td>
<td align="left"><code>$ awk &#39;BEGIN &#123; print &quot;Hello, World !!!&quot; exit 10 print &quot;AWK never executes this statement.&quot; &#125;&#39;</code>è¾“å‡ºç»“æœä¸ºï¼š<code>Hello, World !!!</code></td>
</tr>
<tr>
<td align="left">flush</td>
<td align="left">åˆ·æ–°æ‰“å¼€æ–‡ä»¶æˆ–ç®¡é“çš„ç¼“å†²åŒº</td>
<td align="left"></td>
</tr>
<tr>
<td align="left">getline</td>
<td align="left">è¯»å…¥ä¸‹ä¸€è¡Œ</td>
<td align="left">ä½¿ç”¨ getline ä»æ–‡ä»¶ marks.txt ä¸­è¯»å…¥ä¸€è¡Œå¹¶è¾“å‡ºï¼š<code>$ awk &#39;&#123;getline; print $0&#125;&#39; marks.txt</code>ï¼ŒAWK ä»æ–‡ä»¶ marks.txt ä¸­è¯»å…¥ä¸€è¡Œå­˜å‚¨åˆ°å˜é‡ 0 ä¸­ã€‚åœ¨ä¸‹ä¸€æ¡è¯­å¥ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ getline è¯»å…¥ä¸‹ä¸€è¡Œã€‚å› æ­¤AWKè¯»å…¥ç¬¬äºŒè¡Œå¹¶å­˜å‚¨åˆ° 0 ä¸­ã€‚æœ€åï¼ŒAWK ä½¿ç”¨ print è¾“å‡ºç¬¬äºŒè¡Œçš„å†…å®¹ã€‚è¿™ä¸ªè¿‡ç¨‹ä¸€ç›´åˆ°æ–‡ä»¶ç»“æŸã€‚</td>
</tr>
<tr>
<td align="left">next</td>
<td align="left">åœæ­¢å¤„ç†å½“å‰è®°å½•ï¼Œå¹¶ä¸”è¿›å…¥åˆ°ä¸‹ä¸€æ¡è®°å½•çš„å¤„ç†è¿‡ç¨‹ã€‚</td>
<td align="left">å½“æ¨¡å¼ä¸²åŒ¹é…æˆåŠŸåç¨‹åºå¹¶ä¸æ‰§è¡Œä»»ä½•æ“ä½œï¼š<code>$ awk &#39;&#123;if ($0 ~/Shyam/) next; print $0&#125;&#39; marks.txt</code></td>
</tr>
<tr>
<td align="left">nextfile</td>
<td align="left">åœæ­¢å¤„ç†å½“å‰æ–‡ä»¶ï¼Œä»ä¸‹ä¸€ä¸ªæ–‡ä»¶ç¬¬ä¸€ä¸ªè®°å½•å¼€å§‹å¤„ç†ã€‚</td>
<td align="left">é¦–å…ˆåˆ›å»ºä¸¤ä¸ªæ–‡ä»¶ã€‚ file1.txt å†…å®¹å¦‚ä¸‹:<code>file1:str1 file1:str2 file1:str3 file1:str4</code>æ–‡ä»¶ file2.txt å†…å®¹å¦‚ä¸‹ï¼š<code>file2:str1 file2:str2 file2:str3 file2:str4</code>ç°åœ¨æˆ‘ä»¬æ¥æµ‹è¯• nextfile å‡½æ•°ã€‚<code>$ awk &#39;&#123; if ($0 ~ /file1:str2/) nextfile; print $0 &#125;&#39; file1.txt file2.txt</code>è¾“å‡ºç»“æœä¸ºï¼š<code>file1:str1 file2:str1 file2:str2 file2:str3 file2:str4</code></td>
</tr>
<tr>
<td align="left">return</td>
<td align="left">ä»ç”¨æˆ·è‡ªå®šä¹‰çš„å‡½æ•°ä¸­è¿”å›å€¼ã€‚è¯·æ³¨æ„ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šè¿”å›å€¼ï¼Œé‚£ä¹ˆçš„è¿”å›å€¼æ˜¯æœªå®šä¹‰çš„ã€‚</td>
<td align="left">åˆ›å»ºæ–‡ä»¶ functions.awkï¼Œå†…å®¹å¦‚ä¸‹ï¼š<code>function addition(num1, num2) &#123; result = num1 + num2 return result &#125; BEGIN &#123; res = addition(10, 20) print &quot;10 + 20 = &quot; res &#125;</code>æ‰§è¡Œè¯¥æ–‡ä»¶ï¼š<code>$ awk -f functions.awk 10 + 20 = 30</code></td>
</tr>
<tr>
<td align="left">system</td>
<td align="left">æ‰§è¡Œç‰¹å®šçš„å‘½ä»¤ç„¶åè¿”å›å…¶é€€å‡ºçŠ¶æ€ã€‚è¿”å›å€¼ä¸º 0 è¡¨ç¤ºå‘½ä»¤æ‰§è¡ŒæˆåŠŸï¼›é 0 è¡¨ç¤ºå‘½ä»¤æ‰§è¡Œå¤±è´¥ã€‚</td>
<td align="left"><code>$ awk &#39;BEGIN &#123; ret = system(&quot;date&quot;); print &quot;Return value = &quot; ret &#125;&#39;</code>è¾“å‡ºç»“æœä¸ºï¼š<code>Sun Dec 21 23:16:07 IST 2014 Return value = 0</code></td>
</tr>
</tbody></table>
<h2 id="vimå…¨å¥—ç¬”è®°"><a href="#vimå…¨å¥—ç¬”è®°" class="headerlink" title="vimå…¨å¥—ç¬”è®°"></a>vimå…¨å¥—ç¬”è®°</h2><h3 id="VIMå¿«é€Ÿå¤ä¹ "><a href="#VIMå¿«é€Ÿå¤ä¹ " class="headerlink" title="VIMå¿«é€Ÿå¤ä¹ "></a>VIMå¿«é€Ÿå¤ä¹ </h3><h4 id="ä»€ä¹ˆæ˜¯-vimï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯-vimï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯ vimï¼Ÿ"></a>ä»€ä¹ˆæ˜¯ vimï¼Ÿ</h4><p>Vimæ˜¯ä» vi å‘å±•å‡ºæ¥çš„ä¸€ä¸ªæ–‡æœ¬ç¼–è¾‘å™¨ã€‚ä»£ç è¡¥å®Œã€ç¼–è¯‘åŠé”™è¯¯è·³è½¬ç­‰æ–¹ä¾¿ç¼–ç¨‹çš„åŠŸèƒ½ç‰¹åˆ«ä¸°å¯Œï¼Œåœ¨ç¨‹åºå‘˜ä¸­è¢«å¹¿æ³›ä½¿ç”¨ã€‚vim çš„å®˜æ–¹ç½‘ç«™ (<a target="_blank" rel="noopener" href="http://www.vim.org/">http://www.vim.org</a>)</p>
<p>vim é”®ç›˜å›¾ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/11de8c1d4c8385c025ede918e03b6a86gif.jpg" alt="img"></p>
<p>åŸºæœ¬ä¸Šviå¯ä»¥åˆ†ä¸ºä¸‰ç§çŠ¶æ€ï¼š</p>
<ul>
<li>å‘½ä»¤æ¨¡å¼ï¼ˆcommand mode)</li>
<li>æ’å…¥æ¨¡å¼ï¼ˆInsert mode)</li>
<li>åº•è¡Œæ¨¡å¼ï¼ˆlast line mode)</li>
</ul>
<h4 id="æŒ‰-å†’å·å³å¯è¿›å…¥last-line-mode"><a href="#æŒ‰-å†’å·å³å¯è¿›å…¥last-line-mode" class="headerlink" title="æŒ‰:å†’å·å³å¯è¿›å…¥last line mode"></a>æŒ‰:å†’å·å³å¯è¿›å…¥last line mode</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">:set nu åˆ—å‡ºè¡Œå·</span><br><span class="line">:set nonu	å–æ¶ˆè¡Œå·</span><br><span class="line">:#7 è·³åˆ°æ–‡ä»¶ä¸­çš„ç¬¬7è¡Œ</span><br><span class="line">/keyword æŸ¥æ‰¾å­—ç¬¦  æŒ‰nå‘ä¸‹</span><br><span class="line">?keyword æŸ¥æ‰¾å­—ç¬¦  æŒ‰Nå‘ä¸‹</span><br><span class="line">:n1,n2/word1/word2/gc  æ›¿æ¢æŒ‡å®šèŒƒå›´å•è¯ï¼Œcè¡¨ç¤ºæç¤º</span><br><span class="line">:w ä¿å­˜æ–‡ä»¶</span><br><span class="line">:w filename ä»¥æŒ‡å®šçš„æ–‡ä»¶åå¦å­˜</span><br><span class="line">:n1,n2 w [filename]	å°† n1 åˆ° n2è¡Œå¦å­˜</span><br><span class="line">:r [filename]	è¯»å…¥å¦ä¸€ä¸ªæ–‡ä»¶åŠ åˆ°å…‰æ ‡æ‰€åœ¨è¡Œåé¢</span><br><span class="line">:! ls /home  åœ¨viå½“ä¸­å¯Ÿçœ‹lsè¾“å‡ºä¿¡æ¯ï¼</span><br><span class="line">:qç¦»å¼€vi</span><br><span class="line">:wq å’Œ :ZZ å’Œ :x ä¿å­˜å¹¶é€€å‡ºvi</span><br><span class="line">!å¼ºåˆ¶æ‰§è¡Œ</span><br><span class="line">:% s/^/#/g æ¥åœ¨å…¨éƒ¨å†…å®¹çš„è¡Œé¦–æ·»åŠ  # å·æ³¨é‡Š</span><br><span class="line">:1,10 s/^/#/g åœ¨1~10 è¡Œé¦–æ·»åŠ  # å·æ³¨é‡Š  </span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="ä»command-modeè¿›å…¥Insert-mode"><a href="#ä»command-modeè¿›å…¥Insert-mode" class="headerlink" title="ä»command modeè¿›å…¥Insert mode"></a>ä»command modeè¿›å…¥Insert mode</h4><p>æŒ‰iåœ¨å½“å‰ä½ç½®ç¼–è¾‘<br>æŒ‰aåœ¨å½“å‰ä½ç½®çš„ä¸‹ä¸€ä¸ªå­—ç¬¦ç¼–è¾‘<br>æŒ‰oæ’å…¥æ–°è¡Œï¼Œä»è¡Œé¦–å¼€å§‹ç¼–è¾‘<br>æŒ‰R(Replace mode)ï¼šRä¼šä¸€ç›´å–ä»£å…‰æ ‡æ‰€åœ¨çš„æ–‡å­—ï¼Œç›´åˆ°æŒ‰ä¸‹ ESCä¸ºæ­¢ï¼›(å¸¸ç”¨)</p>
<h4 id="æŒ‰ESCé”®é€€å›command-mode"><a href="#æŒ‰ESCé”®é€€å›command-mode" class="headerlink" title="æŒ‰ESCé”®é€€å›command mode"></a>æŒ‰ESCé”®é€€å›command mode</h4><p>hâ†jâ†“kâ†‘lâ†’å‰é¢åŠ æ•°å­—ç§»åŠ¨æŒ‡å®šçš„è¡Œæ•°æˆ–å­—ç¬¦æ•°<br>1ã€ç¿»é¡µbuä¸Šä¸‹æ•´é¡µï¼Œudä¸Šä¸‹åŠé¡µ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ctrl+bï¼šä¸Šç§»ä¸€é¡µã€‚</span><br><span class="line">ctrl+fï¼šä¸‹ç§»ä¸€é¡µã€‚</span><br><span class="line">ctrl+uï¼šä¸Šç§»åŠé¡µã€‚</span><br><span class="line">ctrl+dï¼šä¸‹ç§»åŠé¡µã€‚</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>2ã€è¡Œå®šä½</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">7ggæˆ–7Gï¼šå®šä½ç¬¬7è¡Œé¦–å­—ç¬¦ã€‚(å¯èƒ½åªåœ¨Vimä¸­æœ‰æ•ˆ)</span><br><span class="line">Gï¼šç§»åŠ¨åˆ°æ–‡ç« çš„æœ€åã€‚</span><br><span class="line">7H:å½“å‰å±å¹•çš„ç¬¬7è¡Œè¡Œé¦–</span><br><span class="line">Mï¼šå½“å‰å±å¹•ä¸­é—´è¡Œçš„è¡Œé¦–</span><br><span class="line">7L:å½“å‰å±å¹•çš„å€’æ•°ç¬¬7è¡Œè¡Œé¦–</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>3ã€å½“å‰è¡Œå®šä½</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ï¼šç§»åŠ¨åˆ°å…‰æ ‡æ‰€åœ¨è¡Œçš„â€œè¡Œå°¾â€ã€‚</span><br><span class="line">0æˆ–^ï¼šç§»åŠ¨åˆ°å…‰æ ‡æ‰€åœ¨è¡Œçš„â€œè¡Œé¦–â€</span><br><span class="line">wï¼šå…‰æ ‡è·³åˆ°ä¸‹ä¸ªå•è¯çš„å¼€å¤´</span><br><span class="line">eï¼šå…‰æ ‡è·³åˆ°ä¸‹ä¸ªå•è¯çš„å­—å°¾</span><br><span class="line">bï¼šå…‰æ ‡å›åˆ°ä¸Šä¸ªå•è¯çš„å¼€å¤´</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>4ã€ç¼–è¾‘</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">xï¼šå‰ªåˆ‡å½“å‰å­—ç¬¦</span><br><span class="line">7xï¼šå‰ªåˆ‡ä»å½“å‰ä½ç½®èµ·7ä¸ªå­—ç¬¦</span><br><span class="line">å¤§å†™çš„Xï¼Œè¡¨ç¤ºä»å‰é¢ä¸€ä¸ªå­—ç¬¦å¼€å§‹å¾€å‰è®¡ç®—</span><br><span class="line">ddï¼šå‰ªåˆ‡å…‰æ ‡æ‰€åœ¨è¡Œã€‚</span><br><span class="line">7ddï¼šä»å…‰æ ‡æ‰€åœ¨è¡Œå¼€å§‹å‰ªåˆ‡7è¡Œ</span><br><span class="line">d7G	åˆ é™¤å…‰æ ‡æ‰€åœ¨åˆ°ç¬¬7è¡Œçš„æ‰€æœ‰æ•°æ®</span><br><span class="line">ywï¼šå¤åˆ¶å½“å‰å•è¯</span><br><span class="line">7ywï¼šå¤åˆ¶ä»å½“å‰ä½ç½®èµ·7ä¸ªå•è¯</span><br><span class="line">yyï¼šå¤åˆ¶å½“å‰è¡Œ</span><br><span class="line">6yyï¼šä»å½“å‰è¡Œèµ·å‘ä¸‹å¤åˆ¶6è¡Œ</span><br><span class="line">y7G	å¤åˆ¶æ¸¸æ ‡æ‰€åœ¨åˆ—åˆ°ç¬¬7åˆ—çš„æ‰€æœ‰æ•°æ®</span><br><span class="line">pï¼šç²˜è´´</span><br><span class="line">uï¼šæ’¤é”€</span><br><span class="line">ctrl+rï¼šå–æ¶ˆæ’¤é”€</span><br><span class="line">cwï¼šåˆ é™¤å½“å‰å•è¯(ä»å…‰æ ‡ä½ç½®å¼€å§‹è®¡ç®—)ï¼Œå¹¶è¿›å…¥æ’å…¥æ¨¡å¼</span><br><span class="line">c7wï¼šåˆ é™¤7ä¸ªå•è¯å¹¶è¿›å…¥æ’å…¥æ¨¡å¼</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="å¤šè¡Œç¼–è¾‘ï¼Œvimæ”¯æŒï¼Œviä¸æ”¯æŒ"><a href="#å¤šè¡Œç¼–è¾‘ï¼Œvimæ”¯æŒï¼Œviä¸æ”¯æŒ" class="headerlink" title="å¤šè¡Œç¼–è¾‘ï¼Œvimæ”¯æŒï¼Œviä¸æ”¯æŒ"></a>å¤šè¡Œç¼–è¾‘ï¼Œvimæ”¯æŒï¼Œviä¸æ”¯æŒ</h4><p>æŒ‰ctrl+Vè¿›å…¥å—æ¨¡å¼ï¼Œä¸Šä¸‹é”®é€‰ä¸­å¿«ï¼ŒæŒ‰å¤§å†™Gé€‰æ‹©åˆ°æœ«å°¾ï¼Œä¸Šä¸‹å·¦å³é”®ç§»åŠ¨é€‰æ‹©ä½ç½®<br>æŒ‰å¤§å†™Iè¿›å»ç¼–è¾‘æ¨¡å¼ï¼Œè¾“å…¥è¦æ’å…¥çš„å­—ç¬¦ï¼Œç¼–è¾‘å®ŒæˆæŒ‰ESCé€€å‡º<br>é€‰ä¸­è¦æ›¿æ¢çš„å­—ç¬¦åï¼ŒæŒ‰cé”®å…¨éƒ¨ä¼šåˆ é™¤ï¼Œç„¶åè¾“å…¥è¦æ’å…¥çš„å­—ç¬¦ï¼Œç¼–è¾‘å®ŒæˆæŒ‰ESCé€€å‡º<br>é€‰ä¸­è¦æ›¿åˆ é™¤çš„å­—ç¬¦åï¼ŒæŒ‰deleteé”®ï¼Œåˆ™ä¼šå…¨éƒ¨åˆ é™¤</p>
<p>æŒ‰shift+Vå¯è¿›å…¥è¡Œæ¨¡å¼ï¼Œå¯¹æŒ‡å®šè¡Œæ“ä½œ</p>
<h4 id="vimç»ƒä¹ "><a href="#vimç»ƒä¹ " class="headerlink" title="vimç»ƒä¹ "></a>vimç»ƒä¹ </h4><p>1ã€åˆ›å»ºç›®å½•&#x2F;tmp&#x2F;testï¼Œå°†&#x2F;etc&#x2F;man.configå¤åˆ¶åˆ°è¯¥ç›®å½•ä¸‹</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># mkdir -p /tmp/test</span><br><span class="line"></span><br><span class="line"># cp /etc/man.config /tmp/test/</span><br><span class="line"></span><br><span class="line"># cd /tmp/test/</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>2ã€ç”¨vimç¼–è¾‘man.configæ–‡ä»¶ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vim man.config</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>3ã€è®¾ç½®æ˜¾ç¤ºè¡Œå·ï¼› ç§»åŠ¨åˆ°ç¬¬58è¡Œï¼Œå‘å³ç§»åŠ¨40ä¸ªå­—ç¬¦ï¼ŒæŸ¥çœ‹åŒå¼•å·å†…çš„æ˜¯ä»€ä¹ˆç›®å½•ï¼›</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ï¼šset nu</span><br><span class="line">58G æˆ–58gg </span><br><span class="line">40-&gt; æˆ–40ç©ºæ ¼ ç›®å½•ä¸ºï¼š/dir/bin/foo </span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<p>4ã€ç§»åŠ¨åˆ°ç¬¬ä¸€è¡Œï¼Œå¹¶å‘ä¸‹æŸ¥æ‰¾â€œbzip2â€è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œå®ƒåœ¨ç¬¬å‡ è¡Œï¼›</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ç§»åŠ¨åˆ°æœ€åä¸€è¡Œï¼Œå¹¶å‘ä¸ŠæŸ¥æ‰¾è¯¥å­—ç¬¦ä¸²ï¼›</span><br><span class="line">gg æˆ–1G</span><br><span class="line">/bzip 137è¡Œ ?bzip2</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<p>5ã€å°†50è¡Œåˆ°100è¡Œä¹‹é—´çš„manæ›´æ”¹ä¸ºMANï¼Œå¹¶ä¸” é€ä¸ªæŒ‘é€‰ æ˜¯å¦éœ€è¦ä¿®æ”¹ï¼›</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è‹¥åœ¨æŒ‘é€‰è¿‡ç¨‹ä¸­ä¸€ç›´æŒ‰yï¼Œç»“æœä¼šåœ¨æœ€åä¸€è¡Œå‡ºç°æ”¹å˜äº†å‡ ä¸ªman?</span><br><span class="line">:50,100s/man/MAN/gc 25æ¬¡æ›¿æ¢</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<p>6ã€ä¿®æ”¹å®Œåï¼Œçªç„¶åæ‚”äº†ï¼Œè¦å…¨éƒ¨å¤åŸï¼Œæœ‰å“ªäº›æ–¹æ³•ï¼Ÿ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ä¸€ç›´æŒ‰ué”®	</span><br><span class="line">æˆ–è€…</span><br><span class="line">:q!å¼ºåˆ¶ä¸ä¿å­˜é€€å‡ºåï¼Œå†é‡æ–°æ‰“å¼€è¯¥æ–‡ä»¶</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<p>7ã€å¤åˆ¶65åˆ°73è¿™9è¡Œçš„å†…å®¹ï¼ˆå«æœ‰MANPATH_MAPï¼‰ï¼Œå¹¶ä¸”ç²˜è´´åˆ°æœ€åä¸€è¡Œä¹‹åï¼›</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">65ggæˆ–65Gåˆ°è¯¥è¡Œåï¼Œ9yy,G ç§»åŠ¨åˆ°æœ€åä¸€è¡Œï¼Œpç²˜è´´</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>8ã€21è¡Œåˆ°42è¡Œä¹‹é—´å¼€å¤´ä¸º#ç¬¦å·çš„æ‰¹æ³¨æ•°æ®ä¸è¦äº†ï¼Œå¦‚ä½•åˆ é™¤ï¼›</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">21Gåˆ°è¯¥è¡Œ 22dd</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>9ã€å°†è¿™ä¸ªæ–‡ä»¶å¦å­˜ä¸ºman.test.configçš„æ–‡ä»¶</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">:w man.test.config</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>10ã€åˆ°ç¬¬27è¡Œï¼Œå¹¶ä¸”åˆ é™¤15ä¸ªå­—ç¬¦ï¼Œç»“æœå‡ºç°çš„ç¬¬ä¸€ä¸ªå­—ç¬¦æ˜¯ä»€ä¹ˆï¼Ÿ</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">27gg å15x</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>11ã€åœ¨ç¬¬ä¸€è¡Œæ–°å¢ä¸€è¡Œï¼Œåœ¨è¯¥è¡Œå†…è¾“å…¥â€œI am a student â€</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ggåˆ°ç¬¬ä¸€è¡Œ Oè¾“å…¥å³å¯ è¯´æ˜ï¼šoæ˜¯åœ¨å½“å‰è¡Œä¹‹åæ’å…¥ä¸€è¡Œï¼ŒOæ˜¯åœ¨å½“å‰è¡Œä¹‹å‰æ’å…¥ä¸€è¡Œ</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>12ã€ä¿å­˜å¹¶é€€å‡º</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">:wq</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<h3 id="vi-vimçš„ä¸‰ç§æ¨¡å¼"><a href="#vi-vimçš„ä¸‰ç§æ¨¡å¼" class="headerlink" title="vi&#x2F;vimçš„ä¸‰ç§æ¨¡å¼"></a>vi&#x2F;vimçš„ä¸‰ç§æ¨¡å¼</h3><p>vi&#x2F;vimä¸»è¦åˆ†ä¸ºä¸‰ç§æ¨¡å¼ï¼Œåˆ†åˆ«æ˜¯<strong>å‘½ä»¤æ¨¡å¼ï¼ˆCommand modeï¼‰</strong>ï¼Œ<strong>è¾“å…¥æ¨¡å¼ï¼ˆInsert modeï¼‰</strong>å’Œ<strong>åº•çº¿å‘½ä»¤æ¨¡å¼ï¼ˆLast line modeï¼‰</strong>ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/1cee092565d316d1462ddbf987fbc6e1png.jpg" alt="img"></p>
<p>è¿™ä¸‰ç§æ¨¡å¼çš„ä½œç”¨åˆ†åˆ«æ˜¯ï¼š</p>
<h4 id="å‘½ä»¤æ¨¡å¼"><a href="#å‘½ä»¤æ¨¡å¼" class="headerlink" title="å‘½ä»¤æ¨¡å¼"></a>å‘½ä»¤æ¨¡å¼</h4><p>ç”¨æˆ·åˆšåˆšå¯åŠ¨ vi&#x2F;vimï¼Œä¾¿è¿›å…¥äº†å‘½ä»¤æ¨¡å¼ã€‚ ä»»ä½•æ—¶å€™ï¼Œä¸ç®¡ç”¨æˆ·å¤„äºä½•ç§æ¨¡å¼ï¼Œåªè¦æŒ‰ä¸€ä¸‹ESCé”®ï¼Œå³å¯ä½¿Viè¿›å…¥å‘½ä»¤æ¨¡å¼ï¼›</p>
<p>æ­¤çŠ¶æ€ä¸‹æ•²å‡»é”®ç›˜åŠ¨ä½œä¼šè¢«Vimè¯†åˆ«ä¸ºå‘½ä»¤ï¼Œè¾“å…¥<code>:</code> å¯åˆ‡æ¢åˆ°<strong>åº•çº¿å‘½ä»¤æ¨¡å¼</strong>ï¼Œä»¥åœ¨æœ€åº•ä¸€è¡Œè¾“å…¥å‘½ä»¤ã€‚</p>
<p>è‹¥æƒ³è¦ç¼–è¾‘æ–‡æœ¬ï¼šå¯åŠ¨Vimï¼Œè¿›å…¥äº†å‘½ä»¤æ¨¡å¼ï¼ŒæŒ‰ä¸‹iï¼Œåˆ‡æ¢åˆ°è¾“å…¥æ¨¡å¼ã€‚</p>
<h4 id="è¾“å…¥æ¨¡å¼"><a href="#è¾“å…¥æ¨¡å¼" class="headerlink" title="è¾“å…¥æ¨¡å¼"></a>è¾“å…¥æ¨¡å¼</h4><p>åœ¨å‘½ä»¤æ¨¡å¼ä¸‹è¾“å…¥æ’å…¥å‘½ä»¤iã€é™„åŠ å‘½ä»¤a ã€æ‰“å¼€å‘½ä»¤oã€ä¿®æ”¹å‘½ä»¤cã€å–ä»£å‘½ä»¤ræˆ–æ›¿æ¢å‘½ä»¤séƒ½å¯ä»¥è¿›å…¥æ–‡æœ¬è¾“å…¥æ¨¡å¼ã€‚åœ¨è¯¥æ¨¡å¼ä¸‹ï¼Œç”¨æˆ·è¾“å…¥çš„ä»»ä½•å­—ç¬¦éƒ½è¢«Viå½“åšæ–‡ä»¶å†…å®¹ä¿å­˜èµ·æ¥ï¼Œå¹¶å°†å…¶æ˜¾ç¤ºåœ¨å±å¹•ä¸Šã€‚åœ¨æ–‡æœ¬è¾“å…¥è¿‡ç¨‹ä¸­ï¼Œè‹¥æƒ³å›åˆ°å‘½ä»¤æ¨¡å¼ä¸‹ï¼ŒæŒ‰é”®ESCå³å¯ã€‚</p>
<h4 id="åº•è¡Œæ¨¡å¼"><a href="#åº•è¡Œæ¨¡å¼" class="headerlink" title="åº•è¡Œæ¨¡å¼"></a>åº•è¡Œæ¨¡å¼</h4><p>åœ¨å‘½ä»¤æ¨¡å¼ä¸‹æŒ‰ä¸‹:ï¼ˆè‹±æ–‡å†’å·ï¼‰å°±è¿›å…¥äº†åº•è¡Œå‘½ä»¤æ¨¡å¼ã€‚</p>
<p>åº•çº¿å‘½ä»¤æ¨¡å¼å¯ä»¥è¾“å…¥å•ä¸ªæˆ–å¤šä¸ªå­—ç¬¦çš„å‘½ä»¤ï¼Œå¯ç”¨çš„å‘½ä»¤éå¸¸å¤šã€‚</p>
<p>åœ¨åº•çº¿å‘½ä»¤æ¨¡å¼ä¸­ï¼ŒåŸºæœ¬çš„å‘½ä»¤æœ‰ï¼ˆå·²ç»çœç•¥äº†å†’å·ï¼‰ï¼š</p>
<ul>
<li>q é€€å‡ºç¨‹åº</li>
<li>w ä¿å­˜æ–‡ä»¶</li>
</ul>
<p>æŒ‰ESCé”®å¯éšæ—¶é€€å‡ºåº•çº¿å‘½ä»¤æ¨¡å¼ã€‚</p>
<h3 id="vimåŸºç¡€æ“ä½œ"><a href="#vimåŸºç¡€æ“ä½œ" class="headerlink" title="vimåŸºç¡€æ“ä½œ"></a>vimåŸºç¡€æ“ä½œ</h3><h4 id="è¿›å…¥è¾“å…¥æ¨¡å¼-Insert-mode"><a href="#è¿›å…¥è¾“å…¥æ¨¡å¼-Insert-mode" class="headerlink" title="è¿›å…¥è¾“å…¥æ¨¡å¼(Insert mode)"></a>è¿›å…¥è¾“å…¥æ¨¡å¼(Insert mode)</h4><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/90d3f3acdaa32af011e62e7be564f47cpng.jpg" alt="1574384484673"></p>
<ul>
<li><p>i: æ’å…¥å…‰æ ‡å‰ä¸€ä¸ªå­—ç¬¦</p>
</li>
<li><p>I: æ’å…¥è¡Œé¦–</p>
</li>
<li><p>a: æ’å…¥å…‰æ ‡åä¸€ä¸ªå­—ç¬¦</p>
</li>
<li><p>A: æ’å…¥è¡Œæœª</p>
</li>
<li><p>o: å‘ä¸‹æ–°å¼€ä¸€è¡Œ,æ’å…¥è¡Œé¦–</p>
</li>
<li><p>O: å‘ä¸Šæ–°å¼€ä¸€è¡Œ,æ’å…¥è¡Œé¦–</p>
</li>
</ul>
<p>åœ¨è¿›å…¥è¾“å…¥æ¨¡å¼åï¼Œ vi ç”»é¢çš„å·¦ä¸‹è§’å¤„ä¼šå‡ºç°ã€â€“INSERTâ€“ã€çš„å­—æ ·</p>
<h4 id="è¿›å…¥æ›¿æ¢æ¨¡å¼-Replace-mode"><a href="#è¿›å…¥æ›¿æ¢æ¨¡å¼-Replace-mode" class="headerlink" title="è¿›å…¥æ›¿æ¢æ¨¡å¼(Replace mode)"></a>è¿›å…¥æ›¿æ¢æ¨¡å¼(Replace mode)</h4><ul>
<li>r : åªä¼šå–ä»£å…‰æ ‡æ‰€åœ¨çš„é‚£ä¸€ä¸ªå­—ç¬¦ä¸€æ¬¡</li>
<li>R: ä¼šä¸€ç›´å–ä»£å…‰æ ‡æ‰€åœ¨çš„æ–‡å­—ï¼Œç›´åˆ°æŒ‰ä¸‹ESCä¸ºæ­¢</li>
</ul>
<p>åœ¨è¿›å…¥è¾“å…¥æ¨¡å¼åï¼Œ vi ç”»é¢çš„å·¦ä¸‹è§’å¤„ä¼šå‡ºç°ã€â€“REPLACEâ€“ã€çš„å­—æ ·</p>
<h4 id="å‘½ä»¤æ¨¡å¼ä¸‹å¸¸ç”¨å‘½ä»¤"><a href="#å‘½ä»¤æ¨¡å¼ä¸‹å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å‘½ä»¤æ¨¡å¼ä¸‹å¸¸ç”¨å‘½ä»¤"></a>å‘½ä»¤æ¨¡å¼ä¸‹å¸¸ç”¨å‘½ä»¤</h4><h5 id="ç§»åŠ¨å…‰æ ‡"><a href="#ç§»åŠ¨å…‰æ ‡" class="headerlink" title="ç§»åŠ¨å…‰æ ‡"></a>ç§»åŠ¨å…‰æ ‡</h5><table>
<thead>
<tr>
<th align="left">ç§»åŠ¨å…‰æ ‡çš„æ–¹æ³•</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td align="left">h æˆ– å‘å·¦ç®­å¤´é”®(â†)</td>
<td>å…‰æ ‡å‘å·¦ç§»åŠ¨ä¸€ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td align="left">j æˆ– å‘ä¸‹ç®­å¤´é”®(â†“)</td>
<td>å…‰æ ‡å‘ä¸‹ç§»åŠ¨ä¸€ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td align="left">k æˆ– å‘ä¸Šç®­å¤´é”®(â†‘)</td>
<td>å…‰æ ‡å‘ä¸Šç§»åŠ¨ä¸€ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td align="left">l æˆ– å‘å³ç®­å¤´é”®(â†’)</td>
<td>å…‰æ ‡å‘å³ç§»åŠ¨ä¸€ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td align="left">å‘ä¸‹ç§»åŠ¨ 30 è¡Œï¼Œå¯ä»¥ä½¿ç”¨ â€œ30jâ€ æˆ– â€œ30â†“â€ çš„ç»„åˆæŒ‰é”®</td>
<td></td>
</tr>
<tr>
<td align="left">[Ctrl] + [f]</td>
<td>å±å¹•ã€å‘ä¸‹ã€ç§»åŠ¨ä¸€é¡µï¼Œç›¸å½“äº [Page Down]æŒ‰é”® (å¸¸ç”¨)</td>
</tr>
<tr>
<td align="left">[Ctrl] + [b]</td>
<td>å±å¹•ã€å‘ä¸Šã€ç§»åŠ¨ä¸€é¡µï¼Œç›¸å½“äº [Page Up] æŒ‰é”® (å¸¸ç”¨)</td>
</tr>
<tr>
<td align="left">[Ctrl] + [d]</td>
<td>å±å¹•ã€å‘ä¸‹ã€ç§»åŠ¨åŠé¡µ</td>
</tr>
<tr>
<td align="left">[Ctrl] + [u]</td>
<td>å±å¹•ã€å‘ä¸Šã€ç§»åŠ¨åŠé¡µ</td>
</tr>
<tr>
<td align="left">+</td>
<td>å…‰æ ‡ç§»åŠ¨åˆ°éç©ºæ ¼ç¬¦çš„ä¸‹ä¸€è¡Œ</td>
</tr>
<tr>
<td align="left">-</td>
<td>å…‰æ ‡ç§»åŠ¨åˆ°éç©ºæ ¼ç¬¦çš„ä¸Šä¸€è¡Œ</td>
</tr>
<tr>
<td align="left">n</td>
<td>è¡¨ç¤ºç©ºæ ¼å…‰æ ‡å‘å³ç§»åŠ¨è¿™ä¸€è¡Œçš„ n ä¸ªå­—ç¬¦ã€‚ä¾‹å¦‚ 20 åˆ™å…‰æ ‡ä¼šå‘åé¢ç§»åŠ¨ 20 ä¸ªå­—ç¬¦è·ç¦»ã€‚</td>
</tr>
<tr>
<td align="left">0 æˆ–åŠŸèƒ½é”®[Home]</td>
<td>è¿™æ˜¯æ•°å­—ã€ 0 ã€ï¼šç§»åŠ¨åˆ°è¿™ä¸€è¡Œçš„æœ€å‰é¢å­—ç¬¦å¤„ (å¸¸ç”¨)</td>
</tr>
<tr>
<td align="left">$ æˆ–åŠŸèƒ½é”®[End]</td>
<td>ç§»åŠ¨åˆ°è¿™ä¸€è¡Œçš„æœ€åé¢å­—ç¬¦å¤„(å¸¸ç”¨)</td>
</tr>
<tr>
<td align="left">H</td>
<td>å…‰æ ‡ç§»åŠ¨åˆ°è¿™ä¸ªå±å¹•çš„æœ€ä¸Šæ–¹é‚£ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td align="left">M</td>
<td>å…‰æ ‡ç§»åŠ¨åˆ°è¿™ä¸ªå±å¹•çš„ä¸­å¤®é‚£ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td align="left">L</td>
<td>å…‰æ ‡ç§»åŠ¨åˆ°è¿™ä¸ªå±å¹•çš„æœ€ä¸‹æ–¹é‚£ä¸€è¡Œçš„ç¬¬ä¸€ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td align="left">G</td>
<td>ç§»åŠ¨åˆ°è¿™ä¸ªæ–‡æ¡£çš„æœ€åä¸€è¡Œ(å¸¸ç”¨)</td>
</tr>
<tr>
<td align="left">nG</td>
<td>n ä¸ºæ•°å­—ã€‚ç§»åŠ¨åˆ°è¿™ä¸ªæ–‡ä»¶çš„ç¬¬ n è¡Œã€‚ä¾‹å¦‚ 20G åˆ™ä¼šç§»åŠ¨åˆ°è¿™ä¸ªæ–‡ä»¶çš„ç¬¬ 20 è¡Œ(å¯é…åˆ :set nu)</td>
</tr>
<tr>
<td align="left">gg</td>
<td>ç§»åŠ¨åˆ°è¿™ä¸ªæ–‡æ¡£çš„ç¬¬ä¸€è¡Œï¼Œç›¸å½“äº 1G</td>
</tr>
<tr>
<td align="left">n</td>
<td>n ä¸ºæ•°å­—ã€‚å…‰æ ‡å‘ä¸‹ç§»åŠ¨ n è¡Œ(å¸¸ç”¨)</td>
</tr>
</tbody></table>
<h5 id="åˆ é™¤æ“ä½œ"><a href="#åˆ é™¤æ“ä½œ" class="headerlink" title="åˆ é™¤æ“ä½œ"></a>åˆ é™¤æ“ä½œ</h5><table>
<thead>
<tr>
<th>åˆ é™¤æ“ä½œ</th>
<th>åˆ é™¤åä¼šæ·»åŠ åˆ°å‰ªåˆ‡æ¿ï¼Œç›¸å½“äºå‰ªåˆ‡</th>
</tr>
</thead>
<tbody><tr>
<td>x, X</td>
<td>xä¸ºå‘ååˆ é™¤ä¸€ä¸ªå­—ç¬¦ (ç›¸å½“äº [del] æŒ‰é”®)ï¼Œ Xä¸ºå‘å‰åˆ é™¤ä¸€ä¸ªå­—ç¬¦(ç›¸å½“äº [backspace] )</td>
</tr>
<tr>
<td>nx</td>
<td>n ä¸ºæ•°å­—ï¼Œè¿ç»­å‘ååˆ é™¤ n ä¸ªå­—ç¬¦ã€‚ä¾‹å¦‚10xè¡¨ç¤ºè¿ç»­åˆ é™¤ 10 ä¸ªå­—ç¬¦ã€‚</td>
</tr>
<tr>
<td>dd</td>
<td>åˆ é™¤å…‰æ ‡æ‰€åœ¨çš„ä¸€æ•´è¡Œ(å¸¸ç”¨)</td>
</tr>
<tr>
<td>ndd</td>
<td>n ä¸ºæ•°å­—ã€‚åˆ é™¤å…‰æ ‡æ‰€åœ¨çš„å‘ä¸‹ n è¡Œï¼Œä¾‹å¦‚ 20dd åˆ™æ˜¯åˆ é™¤ 20 è¡Œ</td>
</tr>
<tr>
<td>d1G</td>
<td>åˆ é™¤å…‰æ ‡æ‰€åœ¨è¡Œåˆ°é¦–è¡Œçš„æ‰€æœ‰æ•°æ®</td>
</tr>
<tr>
<td>dG</td>
<td>åˆ é™¤å…‰æ ‡æ‰€åœ¨è¡Œåˆ°æœ€åä¸€è¡Œçš„æ‰€æœ‰æ•°æ®</td>
</tr>
<tr>
<td>d$</td>
<td>åˆ é™¤å…‰æ ‡æ‰€åœ¨ä½ç½®åˆ°è¯¥è¡Œçš„æœ€åä¸€ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td>d0</td>
<td>åˆ é™¤å…‰æ ‡æ‰€åœ¨ä½ç½®åˆ°è¯¥è¡Œçš„æœ€å‰é¢ä¸€ä¸ªå­—ç¬¦</td>
</tr>
</tbody></table>
<h5 id="æ’¤é”€-å¤åŸ-é‡å¤"><a href="#æ’¤é”€-å¤åŸ-é‡å¤" class="headerlink" title="æ’¤é”€&amp;å¤åŸ&amp;é‡å¤"></a>æ’¤é”€&amp;å¤åŸ&amp;é‡å¤</h5><table>
<thead>
<tr>
<th>æ’¤é”€&amp;å¤åŸ</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>u</td>
<td>æ’¤é”€æ“ä½œï¼Œç›¸å¯¹äºæ™®é€šç¼–è¾‘å™¨é‡Œé¢çš„ctrl+z</td>
</tr>
<tr>
<td>Ctrl+r</td>
<td>æ¢å¤æ“ä½œï¼Œç›¸å¯¹äºæ™®é€šç¼–è¾‘å™¨é‡Œé¢çš„ctrl+y</td>
</tr>
<tr>
<td>.</td>
<td>å°±æ˜¯å°æ•°ç‚¹ï¼å¯é‡å¤å‰ä¸€ä¸ªåŠ¨ä½œ</td>
</tr>
</tbody></table>
<h5 id="å¤åˆ¶-ç²˜è´´"><a href="#å¤åˆ¶-ç²˜è´´" class="headerlink" title="å¤åˆ¶&amp;ç²˜è´´"></a>å¤åˆ¶&amp;ç²˜è´´</h5><table>
<thead>
<tr>
<th>å¤åˆ¶&amp;ç²˜è´´</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>yy</td>
<td>å¤åˆ¶å…‰æ ‡æ‰€åœ¨è¡Œ</td>
</tr>
<tr>
<td>nyy</td>
<td>n ä¸ºæ•°å­—ã€‚å¤åˆ¶å…‰æ ‡æ‰€åœ¨çš„å‘ä¸‹ n è¡Œï¼Œä¾‹å¦‚ 20yy åˆ™æ˜¯å¤åˆ¶ 20 è¡Œ</td>
</tr>
<tr>
<td>y1G</td>
<td>å¤åˆ¶å…‰æ ‡æ‰€åœ¨è¡Œåˆ°ç¬¬ä¸€è¡Œçš„æ‰€æœ‰æ•°æ®</td>
</tr>
<tr>
<td>yG</td>
<td>å¤åˆ¶å…‰æ ‡æ‰€åœ¨è¡Œåˆ°æœ€åä¸€è¡Œçš„æ‰€æœ‰æ•°æ®</td>
</tr>
<tr>
<td>y0</td>
<td>å¤åˆ¶å…‰æ ‡æ‰€åœ¨çš„é‚£ä¸ªå­—ç¬¦åˆ°è¯¥è¡Œè¡Œé¦–çš„æ‰€æœ‰æ•°æ®</td>
</tr>
<tr>
<td>y$</td>
<td>å¤åˆ¶å…‰æ ‡æ‰€åœ¨çš„é‚£ä¸ªå­—ç¬¦åˆ°è¯¥è¡Œè¡Œå°¾çš„æ‰€æœ‰æ•°æ®</td>
</tr>
<tr>
<td>p, P</td>
<td>p ä¸ºå°†å·²å¤åˆ¶çš„æ•°æ®åœ¨å…‰æ ‡ä¸‹ä¸€è¡Œè´´ä¸Šï¼ŒP åˆ™ä¸ºè´´åœ¨å…‰æ ‡ä¸Šä¸€è¡Œï¼</td>
</tr>
</tbody></table>
<h5 id="åˆæˆè¡Œ"><a href="#åˆæˆè¡Œ" class="headerlink" title="åˆæˆè¡Œ"></a>åˆæˆè¡Œ</h5><ul>
<li>J: å°†å…‰æ ‡æ‰€åœ¨è¡Œä¸ä¸‹ä¸€è¡Œçš„æ•°æ®ç»“åˆæˆåŒä¸€è¡Œ</li>
</ul>
<h5 id="æœç´¢"><a href="#æœç´¢" class="headerlink" title="æœç´¢"></a>æœç´¢</h5><table>
<thead>
<tr>
<th align="left">æœç´¢</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td align="left">&#x2F;word</td>
<td>å‘å…‰æ ‡ä¹‹ä¸‹å¯»æ‰¾ä¸€ä¸ªåç§°ä¸º word çš„å­—ç¬¦ä¸²ã€‚</td>
</tr>
<tr>
<td align="left">?word</td>
<td>å‘å…‰æ ‡ä¹‹ä¸Šå¯»æ‰¾ä¸€ä¸ªå­—ç¬¦ä¸²åç§°ä¸º word çš„å­—ç¬¦ä¸²ã€‚</td>
</tr>
<tr>
<td align="left">n</td>
<td>ä»£è¡¨é‡å¤å‰ä¸€ä¸ªæœå¯»çš„åŠ¨ä½œï¼Œæ ¹æ®å‰é¢è¾“å…¥çš„&#x2F;wordè¿˜æ˜¯?wordå‘ä¸‹æˆ–å‘ä¸Šæœç´¢ä¸‹ä¸€ä¸ªåŒ¹é…çš„å­—ç¬¦ä¸²ã€‚</td>
</tr>
<tr>
<td align="left">N</td>
<td>è¡¨ç¤ºåå‘æœç´¢ï¼Œä¸nçš„æœç´¢æ–¹å‘ç›¸åã€‚</td>
</tr>
</tbody></table>
<h5 id="æ›¿æ¢"><a href="#æ›¿æ¢" class="headerlink" title="æ›¿æ¢"></a>æ›¿æ¢</h5><table>
<thead>
<tr>
<th>æ›¿æ¢</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>:n1,n2s&#x2F;word1&#x2F;word2&#x2F;g</td>
<td>åœ¨ç¬¬ n1 ä¸ n2 è¡Œä¹‹é—´å¯»æ‰¾word1å¹¶æ›¿æ¢ä¸ºword2ï¼æ¯”å¦‚ã€:100,200s&#x2F;vbird&#x2F;VBIRD&#x2F;gã€è¡¨ç¤ºåœ¨100åˆ°200è¡Œä¹‹é—´å°†vbirdæ›¿æ¢ä¸ºVBIRD</td>
</tr>
<tr>
<td><code>:1,$s/word1/word2/g</code> æˆ– <code>:%s/word1/word2/g</code></td>
<td>$è¡¨ç¤ºæœ€åä¸€è¡Œï¼Œ%sè¡¨ç¤ºæ‰€æœ‰è¡Œã€‚</td>
</tr>
<tr>
<td><code>:1,$s/word1/word2/gc</code> æˆ– <code>:%s/word1/word2/gc</code></td>
<td>gcä¸­çš„cè¡¨ç¤ºå–ä»£å‰æ˜¾ç¤ºæç¤ºå­—ç¬¦ç»™ç”¨æˆ·ç¡®è®¤ (confirm) ï¼</td>
</tr>
</tbody></table>
<h4 id="åº•è¡Œå‘½ä»¤æ¨¡å¼çš„å¸¸ç”¨æ“ä½œ"><a href="#åº•è¡Œå‘½ä»¤æ¨¡å¼çš„å¸¸ç”¨æ“ä½œ" class="headerlink" title="åº•è¡Œå‘½ä»¤æ¨¡å¼çš„å¸¸ç”¨æ“ä½œ"></a>åº•è¡Œå‘½ä»¤æ¨¡å¼çš„å¸¸ç”¨æ“ä½œ</h4><table>
<thead>
<tr>
<th align="left">åº•è¡Œå‘½ä»¤æ¨¡å¼</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td align="left">:w</td>
<td>ä¿å­˜ç¼–è¾‘æ•°æ®</td>
</tr>
<tr>
<td align="left">:w!</td>
<td>è‹¥æ–‡ä»¶å±æ€§ä¸ºã€åªè¯»ã€æ—¶ï¼Œå¼ºåˆ¶å†™å…¥è¯¥æ–‡ä»¶ã€‚ä¸è¿‡ï¼Œåˆ°åº•èƒ½ä¸èƒ½å†™å…¥ï¼Œ è¿˜æ˜¯è·Ÿä½ å¯¹è¯¥æ–‡ä»¶çš„æ–‡ä»¶æƒé™æœ‰å…³å•Šï¼</td>
</tr>
<tr>
<td align="left">:q</td>
<td>ç¦»å¼€ vi</td>
</tr>
<tr>
<td align="left">:q!</td>
<td>è‹¥æ›¾ä¿®æ”¹è¿‡æ–‡ä»¶ï¼Œåˆä¸æƒ³å‚¨å­˜ï¼Œä½¿ç”¨ ! ä¸ºå¼ºåˆ¶ç¦»å¼€ä¸å‚¨å­˜æ–‡ä»¶ã€‚</td>
</tr>
<tr>
<td align="left">æƒŠå¹å· (!) åœ¨ vi å½“ä¸­ï¼Œå¸¸å¸¸å…·æœ‰ã€å¼ºåˆ¶ã€çš„æ„æ€ï½</td>
<td></td>
</tr>
<tr>
<td align="left">:wq</td>
<td>å‚¨å­˜åç¦»å¼€ï¼Œè‹¥ä¸º :wq! åˆ™ä¸ºå¼ºåˆ¶å‚¨å­˜åç¦»å¼€</td>
</tr>
<tr>
<td align="left">ZZ</td>
<td>è‹¥æ–‡ä»¶æ²¡æœ‰æ›´åŠ¨ï¼Œåˆ™ä¸å‚¨å­˜ç¦»å¼€ï¼Œè‹¥æ–‡ä»¶å·²ç»è¢«æ›´åŠ¨è¿‡ï¼Œåˆ™å‚¨å­˜åç¦»å¼€ï¼</td>
</tr>
<tr>
<td align="left">:w [filename]</td>
<td>å¦å­˜ä¸º</td>
</tr>
<tr>
<td align="left">:r [filename]</td>
<td>å°†å¦ä¸€ä¸ªæ–‡ä»¶ã€filenameã€çš„æ•°æ®åŠ åˆ°å…‰æ ‡æ‰€åœ¨è¡Œåé¢</td>
</tr>
<tr>
<td align="left">:n1,n2 w [filename]</td>
<td>å°† n1 åˆ° n2 è¡Œçš„å†…å®¹å‚¨å­˜æˆ filename è¿™ä¸ªæ–‡ä»¶ã€‚</td>
</tr>
<tr>
<td align="left">:! command</td>
<td>æš‚æ—¶ç¦»å¼€ vi åˆ°æŒ‡ä»¤è¡Œæ¨¡å¼ä¸‹æ‰§è¡Œ command çš„æ˜¾ç¤ºç»“æœï¼ä¾‹å¦‚ ã€:! ls &#x2F;homeã€å³å¯åœ¨ vi å½“ä¸­å¯Ÿçœ‹ &#x2F;home åº•ä¸‹ä»¥ ls è¾“å‡ºçš„æ–‡ä»¶ä¿¡æ¯ï¼</td>
</tr>
<tr>
<td align="left">:set nu</td>
<td>ä¼šåœ¨æ¯ä¸€è¡Œçš„å‰ç¼€æ˜¾ç¤ºè¯¥è¡Œçš„è¡Œå·</td>
</tr>
<tr>
<td align="left">:set nonu</td>
<td>å–æ¶ˆè¡Œå·æ˜¾ç¤º</td>
</tr>
</tbody></table>
<p>ç¤ºä¾‹ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">å°†å½“å‰è·¯å¾„æ’å…¥åˆ°å…‰æ ‡çš„ä¸‹ä¸€è¡Œ</span><br><span class="line">:r!pwd</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<h4 id="å¯è§†æ¨¡å¼"><a href="#å¯è§†æ¨¡å¼" class="headerlink" title="å¯è§†æ¨¡å¼"></a>å¯è§†æ¨¡å¼</h4><p>v è¿›å…¥å­—ç¬¦å¯è§†åŒ–æ¨¡å¼ï¼š æ–‡æœ¬é€‰æ‹©æ˜¯ä»¥å­—ç¬¦ä¸ºå•ä½çš„ã€‚<br>V è¿›å…¥è¡Œå¯è§†åŒ–æ¨¡å¼ï¼š æ–‡æœ¬é€‰æ‹©æ˜¯ä»¥è¡Œä¸ºå•ä½çš„ã€‚<br>Ctrl+v è¿›å…¥å—å¯è§†åŒ–æ¨¡å¼ ï¼š é€‰æ‹©ä¸€ä¸ªçŸ©å½¢å†…çš„æ–‡æœ¬ã€‚</p>
<p>å¯è§†æ¨¡å¼ä¸‹å¯è¿›è¡Œå¦‚ä¸‹æ“ä½œï¼š</p>
<table>
<thead>
<tr>
<th>å¯è§†æ¨¡å¼æ“ä½œ</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>A</td>
<td>åœ¨é€‰å®šçš„éƒ¨åˆ†åé¢æ’å…¥å†…å®¹</td>
</tr>
<tr>
<td>I</td>
<td>åœ¨é€‰å®šçš„éƒ¨åˆ†å‰é¢æ’å…¥å†…å®¹</td>
</tr>
<tr>
<td>d</td>
<td>åˆ é™¤é€‰å®šçš„éƒ¨åˆ†</td>
</tr>
<tr>
<td>c</td>
<td>åˆ é™¤é€‰å®šçš„éƒ¨åˆ†å¹¶è¿›å…¥æ’å…¥æ¨¡å¼ï¼ˆæœ‰æ‰¹é‡æ›¿æ¢æ•ˆæœï¼‰</td>
</tr>
<tr>
<td>r</td>
<td>æŠŠé€‰å®šçš„éƒ¨åˆ†å…¨éƒ¨æ›¿æ¢ä¸ºæŒ‡å®šçš„å•ä¸ªå­—ç¬¦</td>
</tr>
<tr>
<td><code>&gt;&gt;</code></td>
<td>å‘å³ç¼©è¿›ä¸€ä¸ªå•ä½ï¼Œæ›´é€‚åˆè¡Œå¯è§†åŒ–æ¨¡å¼</td>
</tr>
<tr>
<td><code>&lt;&lt;</code></td>
<td>å‘å·¦ç¼©è¿›ä¸€ä¸ªå•ä½ï¼Œæ›´é€‚åˆè¡Œå¯è§†åŒ–æ¨¡å¼</td>
</tr>
<tr>
<td><code>gu</code></td>
<td>é€‰ä¸­åŒºåŸŸè½¬ä¸ºå°å†™</td>
</tr>
<tr>
<td><code>gU</code></td>
<td>é€‰ä¸­åŒºåŸŸè½¬ä¸ºå¤§å†™</td>
</tr>
<tr>
<td><code>g~</code></td>
<td>å¤§å°å†™äº’è°ƒ</td>
</tr>
</tbody></table>
<p>å¯è§†æ¨¡å¼ä¸‹ï¼Œé€‰ä¸­çš„åŒºåŸŸæ˜¯ç”±ä¸¤ä¸ªç«¯ç‚¹æ¥ç•Œå®šçš„ï¼ˆä¸€ä¸ªåœ¨å·¦ä¸Šè§’ï¼Œä¸€ä¸ªåœ¨å³ä¸‹è§’ï¼‰ï¼Œåœ¨é»˜è®¤æƒ…å†µä¸‹åªå¯ä»¥æ§åˆ¶å³ä¸‹è§’çš„ç«¯ç‚¹ï¼Œè€Œä½¿ç”¨<code>o</code>æŒ‰é”®åˆ™å¯ä»¥åœ¨å·¦ä¸Šè§’å’Œå³ä¸‹è§’ä¹‹é—´åˆ‡æ¢æ§åˆ¶ç«¯ç‚¹ã€‚</p>
<h2 id="Linuxç³»ç»Ÿå¯åŠ¨è¿‡ç¨‹"><a href="#Linuxç³»ç»Ÿå¯åŠ¨è¿‡ç¨‹" class="headerlink" title="Linuxç³»ç»Ÿå¯åŠ¨è¿‡ç¨‹"></a>Linuxç³»ç»Ÿå¯åŠ¨è¿‡ç¨‹</h2><p>Linuxç³»ç»Ÿçš„å¯åŠ¨è¿‡ç¨‹å¯ä»¥åˆ†ä¸º5ä¸ªé˜¶æ®µï¼š</p>
<ul>
<li>å†…æ ¸çš„å¼•å¯¼ã€‚</li>
<li>è¿è¡Œ initã€‚</li>
<li>ç³»ç»Ÿåˆå§‹åŒ–ã€‚</li>
<li>å»ºç«‹ç»ˆç«¯ ã€‚</li>
<li>ç”¨æˆ·ç™»å½•ç³»ç»Ÿã€‚</li>
</ul>
<hr>
<h3 id="åŠ è½½å†…æ ¸"><a href="#åŠ è½½å†…æ ¸" class="headerlink" title="åŠ è½½å†…æ ¸"></a>åŠ è½½å†…æ ¸</h3><p>å½“è®¡ç®—æœºæ‰“å¼€ç”µæºåï¼Œé¦–å…ˆæ˜¯BIOSå¼€æœºè‡ªæ£€ï¼ŒæŒ‰ç…§BIOSä¸­è®¾ç½®çš„å¯åŠ¨è®¾å¤‡ï¼ˆé€šå¸¸æ˜¯ç¡¬ç›˜ï¼‰æ¥å¯åŠ¨ã€‚</p>
<p>æ“ä½œç³»ç»Ÿæ¥ç®¡ç¡¬ä»¶ä»¥åï¼Œé¦–å…ˆè¯»å…¥ &#x2F;boot ç›®å½•ä¸‹çš„å†…æ ¸æ–‡ä»¶ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/1dbe9c625b5fe87278c65952f7c6736apng.jpg" alt="img"></p>
<h3 id="å¯åŠ¨åˆå§‹åŒ–è¿›ç¨‹init"><a href="#å¯åŠ¨åˆå§‹åŒ–è¿›ç¨‹init" class="headerlink" title="å¯åŠ¨åˆå§‹åŒ–è¿›ç¨‹init"></a>å¯åŠ¨åˆå§‹åŒ–è¿›ç¨‹init</h3><p>å†…æ ¸æ–‡ä»¶åŠ è½½ä»¥åï¼Œå°±å¼€å§‹è¿è¡Œç¬¬ä¸€ä¸ªç¨‹åº &#x2F;sbin&#x2F;initï¼Œå®ƒçš„ä½œç”¨æ˜¯åˆå§‹åŒ–ç³»ç»Ÿç¯å¢ƒã€‚</p>
<p>initç¨‹åºé¦–å…ˆæ˜¯éœ€è¦è¯»å–é…ç½®æ–‡ä»¶&#x2F;etc&#x2F;inittabã€‚</p>
<blockquote>
<p>CentOS å„ç‰ˆæœ¬inité…ç½®æ–‡ä»¶çš„ä½ç½®ï¼š</p>
<ul>
<li><strong>SysV:</strong> init, CentOS 5ä¹‹å‰, é…ç½®æ–‡ä»¶ï¼š &#x2F;etc&#x2F;inittabã€‚</li>
<li><strong>Upstart:</strong> init,CentOS 6, é…ç½®æ–‡ä»¶ï¼š &#x2F;etc&#x2F;inittab, &#x2F;etc&#x2F;init&#x2F;*.confã€‚</li>
<li><strong>Systemdï¼š</strong> systemd, CentOS 7,é…ç½®æ–‡ä»¶ï¼š &#x2F;usr&#x2F;lib&#x2F;systemd&#x2F;systemã€ &#x2F;etc&#x2F;systemd&#x2F;systemã€‚</li>
</ul>
</blockquote>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/738b4978d388849ac7518211f8cc564cpng.jpg" alt="1574411888879"></p>
<p>ç”±äºinitæ˜¯ç¬¬ä¸€ä¸ªè¿è¡Œçš„ç¨‹åºï¼Œå®ƒçš„è¿›ç¨‹ç¼–å·ï¼ˆpidï¼‰å°±æ˜¯1ã€‚å…¶ä»–æ‰€æœ‰è¿›ç¨‹éƒ½ä»å®ƒè¡ç”Ÿï¼Œéƒ½æ˜¯å®ƒçš„å­è¿›ç¨‹ã€‚</p>
<h3 id="ç¡®å®šè¿è¡Œçº§åˆ«"><a href="#ç¡®å®šè¿è¡Œçº§åˆ«" class="headerlink" title="ç¡®å®šè¿è¡Œçº§åˆ«"></a>ç¡®å®šè¿è¡Œçº§åˆ«</h3><p>è®¸å¤šç¨‹åºéœ€è¦å¼€æœºå¯åŠ¨ã€‚å®ƒä»¬åœ¨Windowså«åšâ€æœåŠ¡â€ï¼ˆserviceï¼‰ï¼Œåœ¨Linuxå°±å«åšâ€å®ˆæŠ¤è¿›ç¨‹â€ï¼ˆdaemonï¼‰ã€‚</p>
<p>initè¿›ç¨‹çš„ä¸€å¤§ä»»åŠ¡ï¼Œå°±æ˜¯å»è¿è¡Œè¿™äº›å¼€æœºå¯åŠ¨çš„ç¨‹åºã€‚</p>
<p>ä½†æ˜¯ï¼Œä¸åŒçš„åœºåˆéœ€è¦å¯åŠ¨ä¸åŒçš„ç¨‹åºï¼Œæ¯”å¦‚ç”¨ä½œæœåŠ¡å™¨æ—¶ï¼Œéœ€è¦å¯åŠ¨Apacheï¼Œç”¨ä½œæ¡Œé¢å°±ä¸éœ€è¦ã€‚</p>
<p>Linuxå…è®¸ä¸ºä¸åŒçš„åœºåˆï¼Œåˆ†é…ä¸åŒçš„å¼€æœºå¯åŠ¨ç¨‹åºï¼Œè¿™å°±å«åšâ€è¿è¡Œçº§åˆ«â€ï¼ˆrunlevelï¼‰ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯åŠ¨æ—¶æ ¹æ®â€è¿è¡Œçº§åˆ«â€ï¼Œç¡®å®šè¦è¿è¡Œå“ªäº›ç¨‹åºã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/bd1879efce8431f6e4f2e8267497e91cpng.jpg" alt="1574411922140"></p>
<p>Linuxç³»ç»Ÿæœ‰7ä¸ªè¿è¡Œçº§åˆ«(runlevel)ï¼š</p>
<ul>
<li>è¿è¡Œçº§åˆ«0ï¼šç³»ç»ŸåœæœºçŠ¶æ€ï¼Œç³»ç»Ÿé»˜è®¤è¿è¡Œçº§åˆ«ä¸èƒ½è®¾ä¸º0ï¼Œå¦åˆ™ä¸èƒ½æ­£å¸¸å¯åŠ¨</li>
<li>è¿è¡Œçº§åˆ«1ï¼šå•ç”¨æˆ·å·¥ä½œçŠ¶æ€ï¼Œrootæƒé™ï¼Œç”¨äºç³»ç»Ÿç»´æŠ¤ï¼Œç¦æ­¢è¿œç¨‹ç™»é™†</li>
<li>è¿è¡Œçº§åˆ«2ï¼šå¤šç”¨æˆ·çŠ¶æ€(æ²¡æœ‰NFS)</li>
<li>è¿è¡Œçº§åˆ«3ï¼šå®Œå…¨çš„å¤šç”¨æˆ·çŠ¶æ€(æœ‰NFS)ï¼Œç™»é™†åè¿›å…¥æ§åˆ¶å°å‘½ä»¤è¡Œæ¨¡å¼</li>
<li>è¿è¡Œçº§åˆ«4ï¼šç³»ç»Ÿæœªä½¿ç”¨ï¼Œä¿ç•™</li>
<li>è¿è¡Œçº§åˆ«5ï¼šX11æ§åˆ¶å°ï¼Œç™»é™†åè¿›å…¥å›¾å½¢GUIæ¨¡å¼</li>
<li>è¿è¡Œçº§åˆ«6ï¼šç³»ç»Ÿæ­£å¸¸å…³é—­å¹¶é‡å¯ï¼Œé»˜è®¤è¿è¡Œçº§åˆ«ä¸èƒ½è®¾ä¸º6ï¼Œå¦åˆ™ä¸èƒ½æ­£å¸¸å¯åŠ¨</li>
</ul>
<p>å¯ä»¥ä½¿ç”¨è¿è¡Œçº§åˆ«æ‰§è¡Œå…³æœºæˆ–é‡å¯ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">init 0	å…³æœº</span><br><span class="line">init 6	é‡å¯</span><br><span class="line">12</span><br></pre></td></tr></table></figure>

<h3 id="åŠ è½½å¼€æœºå¯åŠ¨ç¨‹åº"><a href="#åŠ è½½å¼€æœºå¯åŠ¨ç¨‹åº" class="headerlink" title="åŠ è½½å¼€æœºå¯åŠ¨ç¨‹åº"></a>åŠ è½½å¼€æœºå¯åŠ¨ç¨‹åº</h3><p>åœ¨initçš„é…ç½®æ–‡ä»¶ä¸­æœ‰è¿™ä¹ˆä¸€è¡Œï¼š <code>si::sysinit:/etc/rc.d/rc.sysinit</code>å®ƒè°ƒç”¨æ‰§è¡Œäº†&#x2F;etc&#x2F;rc.d&#x2F;rc.sysinitï¼Œè€Œrc.sysinitæ˜¯ä¸€ä¸ªbash shellçš„è„šæœ¬ï¼Œå®ƒä¸»è¦æ˜¯å®Œæˆä¸€äº›ç³»ç»Ÿåˆå§‹åŒ–çš„å·¥ä½œï¼Œrc.sysinitæ˜¯æ¯ä¸€ä¸ªè¿è¡Œçº§åˆ«éƒ½è¦é¦–å…ˆè¿è¡Œçš„é‡è¦è„šæœ¬ã€‚</p>
<p>å®ƒä¸»è¦å®Œæˆçš„å·¥ä½œæœ‰ï¼šæ¿€æ´»äº¤æ¢åˆ†åŒºï¼Œæ£€æŸ¥ç£ç›˜ï¼ŒåŠ è½½ç¡¬ä»¶æ¨¡å—ä»¥åŠå…¶å®ƒä¸€äº›éœ€è¦ä¼˜å…ˆæ‰§è¡Œä»»åŠ¡ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">l5:5:wait:/etc/rc.d/rc 5</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸€è¡Œè¡¨ç¤ºä»¥5ä¸ºå‚æ•°è¿è¡Œ&#x2F;etc&#x2F;rc.d&#x2F;rcï¼Œ&#x2F;etc&#x2F;rc.d&#x2F;rcæ˜¯ä¸€ä¸ªShellè„šæœ¬ï¼Œå®ƒæ¥å—5ä½œä¸ºå‚æ•°ï¼Œå»æ‰§è¡Œ&#x2F;etc&#x2F;rc.d&#x2F;rc5.d&#x2F;ç›®å½•ä¸‹çš„æ‰€æœ‰çš„rcå¯åŠ¨è„šæœ¬ï¼Œ&#x2F;etc&#x2F;rc.d&#x2F;rc5.d&#x2F;ç›®å½•ä¸­çš„è¿™äº›å¯åŠ¨è„šæœ¬å®é™…ä¸Šéƒ½æ˜¯ä¸€äº›è¿æ¥æ–‡ä»¶ï¼Œè€Œä¸æ˜¯çœŸæ­£çš„rcå¯åŠ¨è„šæœ¬ï¼ŒçœŸæ­£çš„rcå¯åŠ¨è„šæœ¬å®é™…ä¸Šéƒ½æ˜¯æ”¾åœ¨&#x2F;etc&#x2F;rc.d&#x2F;init.d&#x2F;ç›®å½•ä¸‹ã€‚</p>
<p>è€Œè¿™äº›rcå¯åŠ¨è„šæœ¬æœ‰ç€ç±»ä¼¼çš„ç”¨æ³•ï¼Œå®ƒä»¬ä¸€èˆ¬èƒ½æ¥å—startã€stopã€restartã€statusç­‰å‚æ•°ã€‚</p>
<p>&#x2F;etc&#x2F;rc.d&#x2F;rc5.d&#x2F;ä¸­çš„rcå¯åŠ¨è„šæœ¬é€šå¸¸æ˜¯Kæˆ–Så¼€å¤´çš„è¿æ¥æ–‡ä»¶ï¼Œå¯¹äºä»¥ S å¼€å¤´çš„å¯åŠ¨è„šæœ¬ï¼Œå°†ä»¥startå‚æ•°æ¥è¿è¡Œã€‚</p>
<p>è€Œå¦‚æœå‘ç°å­˜åœ¨ç›¸åº”çš„è„šæœ¬ä¹Ÿå­˜åœ¨Kæ‰“å¤´çš„è¿æ¥ï¼Œè€Œä¸”å·²ç»å¤„äºè¿è¡Œæ€äº†(ä»¥&#x2F;var&#x2F;lock&#x2F;subsys&#x2F;ä¸‹çš„æ–‡ä»¶ä½œä¸ºæ ‡å¿—)ï¼Œåˆ™å°†é¦–å…ˆä»¥stopä¸ºå‚æ•°åœæ­¢è¿™äº›å·²ç»å¯åŠ¨äº†çš„å®ˆæŠ¤è¿›ç¨‹ï¼Œç„¶åå†é‡æ–°è¿è¡Œã€‚</p>
<p>è¿™æ ·åšæ˜¯ä¸ºäº†ä¿è¯æ˜¯å½“initæ”¹å˜è¿è¡Œçº§åˆ«æ—¶ï¼Œæ‰€æœ‰ç›¸å…³çš„å®ˆæŠ¤è¿›ç¨‹éƒ½å°†é‡å¯ã€‚</p>
<p>è‡³äºåœ¨æ¯ä¸ªè¿è¡Œçº§ä¸­å°†è¿è¡Œå“ªäº›å®ˆæŠ¤è¿›ç¨‹ï¼Œç”¨æˆ·å¯ä»¥é€šè¿‡chkconfigæˆ–setupä¸­çš„â€System Servicesâ€æ¥è‡ªè¡Œè®¾å®šã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/7cee4633821586e191c96ed958888671png.jpg" alt="1574413056057"></p>
<h3 id="ç”¨æˆ·ç™»å½•"><a href="#ç”¨æˆ·ç™»å½•" class="headerlink" title="ç”¨æˆ·ç™»å½•"></a>ç”¨æˆ·ç™»å½•</h3><p>ä¸€èˆ¬æ¥è¯´ï¼Œç”¨æˆ·çš„ç™»å½•æ–¹å¼æœ‰ä¸‰ç§ï¼š</p>
<ul>
<li>ï¼ˆ1ï¼‰å‘½ä»¤è¡Œç™»å½•</li>
<li>ï¼ˆ2ï¼‰sshç™»å½•</li>
<li>ï¼ˆ3ï¼‰å›¾å½¢ç•Œé¢ç™»å½•</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/ee92be977534d532ff7f7dd73799dc67png.jpg" alt="1574413193850"></p>
<p>å¯¹äºè¿è¡Œçº§åˆ«ä¸º5çš„å›¾å½¢æ–¹å¼ç”¨æˆ·æ¥è¯´ï¼Œä»–ä»¬çš„ç™»å½•æ˜¯é€šè¿‡ä¸€ä¸ªå›¾å½¢åŒ–çš„ç™»å½•ç•Œé¢ã€‚ç™»å½•æˆåŠŸåå¯ä»¥ç›´æ¥è¿›å…¥ KDEã€Gnome ç­‰çª—å£ç®¡ç†å™¨ã€‚</p>
<p>è€Œæœ¬æ–‡ä¸»è¦è®²çš„è¿˜æ˜¯æ–‡æœ¬æ–¹å¼ç™»å½•çš„æƒ…å†µï¼šå½“æˆ‘ä»¬çœ‹åˆ°mingettyçš„ç™»å½•ç•Œé¢æ—¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥è¾“å…¥ç”¨æˆ·åå’Œå¯†ç æ¥ç™»å½•ç³»ç»Ÿäº†ã€‚</p>
<p>Linux çš„è´¦å·éªŒè¯ç¨‹åºæ˜¯loginï¼Œloginä¼šæ¥æ”¶mingettyä¼ æ¥çš„ç”¨æˆ·åä½œä¸ºç”¨æˆ·åå‚æ•°ã€‚</p>
<p>ç„¶åloginä¼šå¯¹ç”¨æˆ·åè¿›è¡Œåˆ†æï¼šå¦‚æœç”¨æˆ·åä¸æ˜¯rootï¼Œä¸”å­˜åœ¨ &#x2F;etc&#x2F;nologin æ–‡ä»¶ï¼Œlogin å°†è¾“å‡º nologin æ–‡ä»¶çš„å†…å®¹ï¼Œç„¶åé€€å‡ºã€‚</p>
<p>è¿™é€šå¸¸ç”¨æ¥ç³»ç»Ÿç»´æŠ¤æ—¶é˜²æ­¢érootç”¨æˆ·ç™»å½•ã€‚åªæœ‰&#x2F;etc&#x2F;securettyä¸­ç™»è®°äº†çš„ç»ˆç«¯æ‰å…è®¸ root ç”¨æˆ·ç™»å½•ï¼Œå¦‚æœä¸å­˜åœ¨è¿™ä¸ªæ–‡ä»¶ï¼Œåˆ™rootç”¨æˆ·å¯ä»¥åœ¨ä»»ä½•ç»ˆç«¯ä¸Šç™»å½•ã€‚</p>
<p>&#x2F;etc&#x2F;userttyæ–‡ä»¶ç”¨äºå¯¹ç”¨æˆ·ä½œå‡ºé™„åŠ è®¿é—®é™åˆ¶ï¼Œå¦‚æœä¸å­˜åœ¨è¿™ä¸ªæ–‡ä»¶ï¼Œåˆ™æ²¡æœ‰å…¶ä»–é™åˆ¶ã€‚</p>
<h3 id="å›¾å½¢æ¨¡å¼ä¸æ–‡å­—æ¨¡å¼çš„åˆ‡æ¢æ–¹å¼"><a href="#å›¾å½¢æ¨¡å¼ä¸æ–‡å­—æ¨¡å¼çš„åˆ‡æ¢æ–¹å¼" class="headerlink" title="å›¾å½¢æ¨¡å¼ä¸æ–‡å­—æ¨¡å¼çš„åˆ‡æ¢æ–¹å¼"></a>å›¾å½¢æ¨¡å¼ä¸æ–‡å­—æ¨¡å¼çš„åˆ‡æ¢æ–¹å¼</h3><p>Linuxé¢„è®¾æä¾›äº†å…­ä¸ªå‘½ä»¤çª—å£ç»ˆç«¯æœºè®©æˆ‘ä»¬æ¥ç™»å½•ã€‚</p>
<p>é»˜è®¤æˆ‘ä»¬ç™»å½•çš„å°±æ˜¯ç¬¬ä¸€ä¸ªçª—å£ï¼Œä¹Ÿå°±æ˜¯tty1ï¼Œè¿™ä¸ªå…­ä¸ªçª—å£åˆ†åˆ«ä¸ºtty1,tty2 â€¦ tty6ï¼Œä½ å¯ä»¥æŒ‰ä¸‹Ctrl + Alt + F1 ~ F6 æ¥åˆ‡æ¢å®ƒä»¬ã€‚</p>
<p>å¦‚æœä½ å®‰è£…äº†å›¾å½¢ç•Œé¢ï¼Œé»˜è®¤æƒ…å†µä¸‹æ˜¯è¿›å…¥å›¾å½¢ç•Œé¢çš„ï¼Œæ­¤æ—¶ä½ å°±å¯ä»¥æŒ‰Ctrl + Alt + F1 ~ F6æ¥è¿›å…¥å…¶ä¸­ä¸€ä¸ªå‘½ä»¤çª—å£ç•Œé¢ã€‚</p>
<p>å½“ä½ è¿›å…¥å‘½ä»¤çª—å£ç•Œé¢åå†è¿”å›å›¾å½¢ç•Œé¢åªè¦æŒ‰ä¸‹Ctrl + Alt + F7 å°±å›æ¥äº†ã€‚</p>
<p>å¦‚æœä½ ç”¨çš„vmware è™šæ‹Ÿæœºï¼Œå‘½ä»¤çª—å£åˆ‡æ¢çš„å¿«æ·é”®ä¸º Alt + Space + F1<del>F6. å¦‚æœä½ åœ¨å›¾å½¢ç•Œé¢ä¸‹è¯·æŒ‰Alt + Shift + Ctrl + F1</del>F6 åˆ‡æ¢è‡³å‘½ä»¤çª—å£ã€‚</p>
<h3 id="login-shell"><a href="#login-shell" class="headerlink" title="login shell"></a>login shell</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/872c2da6d598914d7f05730635b2f8f4png.jpg" alt="1574413231936"></p>
<p>shellï¼Œç®€å•è¯´å°±æ˜¯å‘½ä»¤è¡Œç•Œé¢ï¼Œè®©ç”¨æˆ·å¯ä»¥ç›´æ¥ä¸æ“ä½œç³»ç»Ÿå¯¹è¯ã€‚ç”¨æˆ·ç™»å½•æ—¶æ‰“å¼€çš„shellï¼Œå°±å«åšlogin shellã€‚</p>
<p>ï¼ˆ1ï¼‰å‘½ä»¤è¡Œç™»å½•ï¼šé¦–å…ˆè¯»å…¥ &#x2F;etc&#x2F;profileï¼Œè¿™æ˜¯å¯¹æ‰€æœ‰ç”¨æˆ·éƒ½æœ‰æ•ˆçš„é…ç½®ï¼›ç„¶åä¾æ¬¡å¯»æ‰¾ä¸‹é¢ä¸‰ä¸ªæ–‡ä»¶ï¼Œè¿™æ˜¯é’ˆå¯¹å½“å‰ç”¨æˆ·çš„é…ç½®ã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">~/.bash_profile</span><br><span class="line">~/.bash_login</span><br><span class="line">~/.profile</span><br><span class="line">123</span><br></pre></td></tr></table></figure>

<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œè¿™ä¸‰ä¸ªæ–‡ä»¶åªè¦æœ‰ä¸€ä¸ªå­˜åœ¨ï¼Œå°±ä¸å†è¯»å…¥åé¢çš„æ–‡ä»¶äº†ã€‚æ¯”å¦‚ï¼Œè¦æ˜¯ ~&#x2F;.bash_profile å­˜åœ¨ï¼Œå°±ä¸ä¼šå†è¯»å…¥åé¢ä¸¤ä¸ªæ–‡ä»¶äº†ã€‚</p>
<p>ï¼ˆ2ï¼‰sshç™»å½•ï¼šä¸ç¬¬ä¸€ç§æƒ…å†µå®Œå…¨ç›¸åŒã€‚</p>
<p>ï¼ˆ3ï¼‰å›¾å½¢ç•Œé¢ç™»å½•ï¼šåªåŠ è½½ &#x2F;etc&#x2F;profile å’Œ &#x2F;.profileã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ&#x2F;.bash_profile ä¸ç®¡æœ‰æ²¡æœ‰ï¼Œéƒ½ä¸ä¼šè¿è¡Œã€‚</p>
<h3 id="Linuxå…³æœº"><a href="#Linuxå…³æœº" class="headerlink" title="Linuxå…³æœº"></a>Linuxå…³æœº</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">sync å°†æ•°æ®ç”±å†…å­˜åŒæ­¥åˆ°ç¡¬ç›˜ä¸­ã€‚</span><br><span class="line"></span><br><span class="line">shutdown å…³æœºæŒ‡ä»¤ï¼Œä½ å¯ä»¥man shutdown æ¥çœ‹ä¸€ä¸‹å¸®åŠ©æ–‡æ¡£ã€‚ä¾‹å¦‚ä½ å¯ä»¥è¿è¡Œå¦‚ä¸‹å‘½ä»¤å…³æœºï¼š</span><br><span class="line">shutdown â€“h 10 &#x27;This server will shutdown after 10 mins&#x27; è®¡ç®—æœºå°†åœ¨10åˆ†é’Ÿåå…³æœºï¼Œå¹¶ä¸”æ˜¾ç¤ºä¿¡æ¯åœ¨ç™»é™†ç”¨æˆ·çš„å½“å‰å±å¹•ä¸­ã€‚</span><br><span class="line">shutdown â€“h now ç«‹é©¬å…³æœº</span><br><span class="line">shutdown â€“h 20:25 ç³»ç»Ÿä¼šåœ¨ä»Šå¤©20:25å…³æœº</span><br><span class="line">shutdown â€“h +10 ååˆ†é’Ÿåå…³æœº</span><br><span class="line">shutdown â€“r now ç³»ç»Ÿç«‹é©¬é‡å¯</span><br><span class="line">shutdown â€“r +10 ç³»ç»Ÿååˆ†é’Ÿåé‡å¯</span><br><span class="line">reboot å°±æ˜¯é‡å¯ï¼Œç­‰åŒäº shutdown â€“r now</span><br><span class="line">halt å…³é—­ç³»ç»Ÿï¼Œç­‰åŒäºshutdown â€“h now å’Œ poweroff</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>æœ€åæ€»ç»“ä¸€ä¸‹ï¼Œä¸ç®¡æ˜¯é‡å¯ç³»ç»Ÿè¿˜æ˜¯å…³é—­ç³»ç»Ÿï¼Œé¦–å…ˆè¦è¿è¡Œ<strong>sync</strong>å‘½ä»¤ï¼ŒæŠŠå†…å­˜ä¸­çš„æ•°æ®å†™åˆ°ç£ç›˜ä¸­ã€‚</p>
<p>å…³æœºçš„å‘½ä»¤æœ‰ <strong>shutdown â€“h now halt poweroff</strong> å’Œ <strong>init 0</strong> , é‡å¯ç³»ç»Ÿçš„å‘½ä»¤æœ‰ <strong>shutdown â€“r now reboot init 6</strong>ã€‚</p>
<h3 id="è®¡ç®—æœºå¯åŠ¨çš„æµç¨‹"><a href="#è®¡ç®—æœºå¯åŠ¨çš„æµç¨‹" class="headerlink" title="è®¡ç®—æœºå¯åŠ¨çš„æµç¨‹"></a>è®¡ç®—æœºå¯åŠ¨çš„æµç¨‹</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/02c50cf1205162dd0365613fb883ab8fpng.jpg" alt="img"></p>
<p>bootæ˜¯bootstrapï¼ˆé‹å¸¦ï¼‰çš„ç¼©å†™ï¼Œå®ƒæ¥è‡ªä¸€å¥è°šè¯­ï¼š</p>
<blockquote>
<p>â€œpull oneself up by oneâ€™s bootstrapsâ€</p>
</blockquote>
<p>å­—é¢æ„æ€æ˜¯â€æ‹½ç€é‹å¸¦æŠŠè‡ªå·±æ‹‰èµ·æ¥â€ï¼Œè¿™å½“ç„¶æ˜¯ä¸å¯èƒ½çš„äº‹æƒ…ã€‚æœ€æ—©çš„æ—¶å€™ï¼Œå·¥ç¨‹å¸ˆä»¬ç”¨å®ƒæ¥æ¯”å–»ï¼Œè®¡ç®—æœºå¯åŠ¨æ˜¯ä¸€ä¸ªå¾ˆçŸ›ç›¾çš„è¿‡ç¨‹ï¼šå¿…é¡»å…ˆè¿è¡Œç¨‹åºï¼Œç„¶åè®¡ç®—æœºæ‰èƒ½å¯åŠ¨ï¼Œä½†æ˜¯è®¡ç®—æœºä¸å¯åŠ¨å°±æ— æ³•è¿è¡Œç¨‹åºï¼</p>
<p>æ—©æœŸçœŸçš„æ˜¯è¿™æ ·ï¼Œå¿…é¡»æƒ³å°½å„ç§åŠæ³•ï¼ŒæŠŠä¸€å°æ®µç¨‹åºè£…è¿›å†…å­˜ï¼Œç„¶åè®¡ç®—æœºæ‰èƒ½æ­£å¸¸è¿è¡Œã€‚æ‰€ä»¥ï¼Œå·¥ç¨‹å¸ˆä»¬æŠŠè¿™ä¸ªè¿‡ç¨‹å«åšâ€æ‹‰é‹å¸¦â€ï¼Œä¹…è€Œä¹…ä¹‹å°±ç®€ç§°ä¸ºbootäº†ã€‚</p>
<p>è®¡ç®—æœºçš„æ•´ä¸ªå¯åŠ¨è¿‡ç¨‹åˆ†æˆå››ä¸ªé˜¶æ®µã€‚</p>
<h4 id="ç¬¬ä¸€é˜¶æ®µï¼šBIOS"><a href="#ç¬¬ä¸€é˜¶æ®µï¼šBIOS" class="headerlink" title="ç¬¬ä¸€é˜¶æ®µï¼šBIOS"></a>ç¬¬ä¸€é˜¶æ®µï¼šBIOS</h4><p>ä¸Šä¸ªä¸–çºª70å¹´ä»£åˆï¼Œâ€œåªè¯»å†…å­˜â€ï¼ˆread-only memoryï¼Œç¼©å†™ä¸ºROMï¼‰å‘æ˜ï¼Œå¼€æœºç¨‹åºè¢«åˆ·å…¥ROMèŠ¯ç‰‡ï¼Œè®¡ç®—æœºé€šç”µåï¼Œç¬¬ä¸€ä»¶äº‹å°±æ˜¯è¯»å–å®ƒã€‚</p>
<p>BIOSå…¨ç§°æ˜¯Basic Input&#x2F;Output Systemï¼Œå³åŸºæœ¬è¾“å…¥è¾“å‡ºç³»ç»Ÿï¼Œå³ä¸‹å›¾èŠ¯ç‰‡é‡Œçš„ç¨‹åºã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/3dc7f4a1ecf351ad1f46804e0e985f4cpng.jpg" alt="1574408997299"></p>
<p><strong>ç¡¬ä»¶è‡ªæ£€</strong></p>
<p>BIOSç¨‹åºé¦–å…ˆæ£€æŸ¥ï¼Œè®¡ç®—æœºç¡¬ä»¶èƒ½å¦æ»¡è¶³è¿è¡Œçš„åŸºæœ¬æ¡ä»¶ï¼Œè¿™å«åšâ€ç¡¬ä»¶è‡ªæ£€â€ï¼ˆPower-On Self-Testï¼‰ï¼Œç¼©å†™ä¸º<a target="_blank" rel="noopener" href="http://en.wikipedia.org/wiki/Power-on_self-test">POST</a>ã€‚</p>
<p>å¦‚æœç¡¬ä»¶å‡ºç°é—®é¢˜ï¼Œä¸»æ¿ä¼šå‘å‡ºä¸åŒå«ä¹‰çš„<a target="_blank" rel="noopener" href="http://en.wikipedia.org/wiki/Power-on_self-test#Original_IBM_POST_beep_codes">èœ‚é¸£</a>ï¼Œå¯åŠ¨ä¸­æ­¢ã€‚å¦‚æœæ²¡æœ‰é—®é¢˜ï¼Œå±å¹•å°±ä¼šæ˜¾ç¤ºå‡ºCPUã€å†…å­˜ã€ç¡¬ç›˜ç­‰ä¿¡æ¯ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/cd9cc5ec847de974c916cd5cf3bc9614png.jpg" alt="1574409216362"></p>
<p><strong>å¯åŠ¨é¡ºåº</strong></p>
<p>ç¡¬ä»¶è‡ªæ£€å®Œæˆåï¼ŒBIOSæŠŠæ§åˆ¶æƒè½¬äº¤ç»™ä¸‹ä¸€é˜¶æ®µçš„å¯åŠ¨ç¨‹åºã€‚</p>
<p>ä¸‹ä¸€é˜¶æ®µçš„å¯åŠ¨ç¨‹åºæ ¹æ®BIOSè®¾ç½®é¡¹Boot Sequenceï¼ˆå¯åŠ¨é¡ºåºï¼‰å†³å®šï¼Œæ’åœ¨å‰é¢çš„è®¾å¤‡å°±æ˜¯ä¼˜å…ˆè½¬äº¤æ§åˆ¶æƒçš„è®¾å¤‡ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/83c7c00552e551c8fa859db5277e7103png.jpg" alt="1574409397609"></p>
<h4 id="ç¬¬äºŒé˜¶æ®µï¼š-ä¸»å¼•åŠ ç²—æ ·å¼å¯¼è®°å½•"><a href="#ç¬¬äºŒé˜¶æ®µï¼š-ä¸»å¼•åŠ ç²—æ ·å¼å¯¼è®°å½•" class="headerlink" title="ç¬¬äºŒé˜¶æ®µï¼š ä¸»å¼•åŠ ç²—æ ·å¼å¯¼è®°å½•"></a>ç¬¬äºŒé˜¶æ®µï¼š ä¸»å¼•åŠ ç²—æ ·å¼å¯¼è®°å½•</h4><p>BIOSæŒ‰ç…§â€å¯åŠ¨é¡ºåºâ€ï¼ŒæŠŠæ§åˆ¶æƒè½¬äº¤ç»™æ’åœ¨ç¬¬ä¸€ä½çš„å‚¨å­˜è®¾å¤‡ã€‚</p>
<p>è¿™æ—¶ï¼Œè®¡ç®—æœºè¯»å–è¯¥è®¾å¤‡çš„ç¬¬ä¸€ä¸ªæ‰‡åŒºï¼Œä¹Ÿå°±æ˜¯è¯»å–æœ€å‰é¢çš„512ä¸ªå­—èŠ‚ã€‚å¦‚æœè¿™512ä¸ªå­—èŠ‚çš„æœ€åä¸¤ä¸ªå­—èŠ‚æ˜¯0x55å’Œ0xAAï¼Œè¡¨æ˜è¿™ä¸ªè®¾å¤‡å¯ä»¥ç”¨äºå¯åŠ¨ï¼›å¦‚æœä¸æ˜¯ï¼Œè¡¨æ˜è®¾å¤‡ä¸èƒ½ç”¨äºå¯åŠ¨ï¼Œæ§åˆ¶æƒäºæ˜¯è¢«è½¬äº¤ç»™â€å¯åŠ¨é¡ºåºâ€ä¸­çš„ä¸‹ä¸€ä¸ªè®¾å¤‡ã€‚</p>
<p>è¿™æœ€å‰é¢çš„512ä¸ªå­—èŠ‚ï¼Œå°±å«åš<a target="_blank" rel="noopener" href="http://en.wikipedia.org/wiki/Master_boot_record">â€œä¸»å¼•å¯¼è®°å½•â€</a>ï¼ˆMaster boot recordï¼Œç¼©å†™ä¸ºMBRï¼‰ã€‚</p>
<p><strong>ä¸»å¼•å¯¼è®°å½•ç»„æˆ</strong></p>
<p>ä¸»å¼•å¯¼è®°å½•ç”±ä¸‰ä¸ªéƒ¨åˆ†ç»„æˆï¼š</p>
<blockquote>
<p>ï¼ˆ1ï¼‰ ç¬¬1-446å­—èŠ‚ï¼šè°ƒç”¨æ“ä½œç³»ç»Ÿçš„æœºå™¨ç ã€‚</p>
<p>ï¼ˆ2ï¼‰ ç¬¬447-510å­—èŠ‚ï¼šåˆ†åŒºè¡¨ï¼ˆPartition tableï¼‰ï¼Œå…±64å­—èŠ‚ã€‚</p>
<p>ï¼ˆ3ï¼‰ ç¬¬511-512å­—èŠ‚ï¼šä¸»å¼•å¯¼è®°å½•ç­¾åï¼ˆ0x55å’Œ0xAAï¼‰ã€‚</p>
</blockquote>
<p>å…¶ä¸­ï¼Œç¬¬äºŒéƒ¨åˆ†â€åˆ†åŒºè¡¨â€çš„ä½œç”¨ï¼Œæ˜¯å°†ç¡¬ç›˜åˆ†æˆè‹¥å¹²ä¸ªåŒºã€‚</p>
<p><strong>åˆ†åŒºè¡¨</strong></p>
<p>ç¡¬ç›˜åˆ†åŒºæœ‰å¾ˆå¤šå¥½å¤„ã€‚æ¯ä¸ªåˆ†åŒºå¯ä»¥å®‰è£…ä¸åŒçš„æ“ä½œç³»ç»Ÿï¼Œâ€ä¸»å¼•å¯¼è®°å½•â€å› æ­¤å¿…é¡»çŸ¥é“å°†æ§åˆ¶æƒè½¬äº¤ç»™å“ªä¸ªåŒºã€‚</p>
<p>åˆ†åŒºè¡¨çš„é•¿åº¦åªæœ‰64ä¸ªå­—èŠ‚ï¼Œé‡Œé¢åˆåˆ†æˆå››é¡¹ï¼Œæ¯é¡¹16ä¸ªå­—èŠ‚ã€‚æ‰€ä»¥ï¼Œä¸€ä¸ªç¡¬ç›˜æœ€å¤šåªèƒ½åˆ†å››ä¸ªä¸€çº§åˆ†åŒºï¼Œåˆå«åšâ€ä¸»åˆ†åŒºâ€ã€‚</p>
<p>æ¯ä¸ªä¸»åˆ†åŒºçš„16ä¸ªå­—èŠ‚ï¼Œç”±6ä¸ªéƒ¨åˆ†ç»„æˆï¼š</p>
<blockquote>
<p>ï¼ˆ1ï¼‰ ç¬¬1ä¸ªå­—èŠ‚ï¼šå¦‚æœä¸º0x80ï¼Œå°±è¡¨ç¤ºè¯¥ä¸»åˆ†åŒºæ˜¯æ¿€æ´»åˆ†åŒºï¼Œæ§åˆ¶æƒè¦è½¬äº¤ç»™è¿™ä¸ªåˆ†åŒºã€‚å››ä¸ªä¸»åˆ†åŒºé‡Œé¢åªèƒ½æœ‰ä¸€ä¸ªæ˜¯æ¿€æ´»çš„ã€‚</p>
<p>ï¼ˆ2ï¼‰ ç¬¬2-4ä¸ªå­—èŠ‚ï¼šä¸»åˆ†åŒºç¬¬ä¸€ä¸ªæ‰‡åŒºçš„ç‰©ç†ä½ç½®ï¼ˆæŸ±é¢ã€ç£å¤´ã€æ‰‡åŒºå·ç­‰ç­‰ï¼‰ã€‚</p>
<p>ï¼ˆ3ï¼‰ ç¬¬5ä¸ªå­—èŠ‚ï¼š<a target="_blank" rel="noopener" href="http://en.wikipedia.org/wiki/Partition_type">ä¸»åˆ†åŒºç±»å‹</a>ã€‚</p>
<p>ï¼ˆ4ï¼‰ ç¬¬6-8ä¸ªå­—èŠ‚ï¼šä¸»åˆ†åŒºæœ€åä¸€ä¸ªæ‰‡åŒºçš„ç‰©ç†ä½ç½®ã€‚</p>
<p>ï¼ˆ5ï¼‰ ç¬¬9-12å­—èŠ‚ï¼šè¯¥ä¸»åˆ†åŒºç¬¬ä¸€ä¸ªæ‰‡åŒºçš„é€»è¾‘åœ°å€ã€‚</p>
<p>ï¼ˆ6ï¼‰ ç¬¬13-16å­—èŠ‚ï¼šä¸»åˆ†åŒºçš„æ‰‡åŒºæ€»æ•°ã€‚</p>
</blockquote>
<p>æœ€åçš„å››ä¸ªå­—èŠ‚ï¼ˆâ€œä¸»åˆ†åŒºçš„æ‰‡åŒºæ€»æ•°â€ï¼‰ï¼Œå†³å®šäº†è¿™ä¸ªä¸»åˆ†åŒºçš„é•¿åº¦ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸€ä¸ªä¸»åˆ†åŒºçš„æ‰‡åŒºæ€»æ•°æœ€å¤šä¸è¶…è¿‡2çš„32æ¬¡æ–¹ã€‚</p>
<p>å¦‚æœæ¯ä¸ªæ‰‡åŒºä¸º512ä¸ªå­—èŠ‚ï¼Œå°±æ„å‘³ç€å•ä¸ªåˆ†åŒºæœ€å¤§ä¸è¶…è¿‡2TBã€‚å†è€ƒè™‘åˆ°æ‰‡åŒºçš„é€»è¾‘åœ°å€ä¹Ÿæ˜¯32ä½ï¼Œæ‰€ä»¥å•ä¸ªç¡¬ç›˜å¯åˆ©ç”¨çš„ç©ºé—´æœ€å¤§ä¹Ÿä¸è¶…è¿‡2TBã€‚å¦‚æœæƒ³ä½¿ç”¨æ›´å¤§çš„ç¡¬ç›˜ï¼Œåªæœ‰2ä¸ªæ–¹æ³•ï¼šä¸€æ˜¯æé«˜æ¯ä¸ªæ‰‡åŒºçš„å­—èŠ‚æ•°ï¼ŒäºŒæ˜¯<a target="_blank" rel="noopener" href="http://en.wikipedia.org/wiki/GUID_Partition_Table">å¢åŠ æ‰‡åŒºæ€»æ•°</a>ã€‚</p>
<h4 id="ç¬¬ä¸‰é˜¶æ®µï¼šç¡¬ç›˜å¯åŠ¨"><a href="#ç¬¬ä¸‰é˜¶æ®µï¼šç¡¬ç›˜å¯åŠ¨" class="headerlink" title="ç¬¬ä¸‰é˜¶æ®µï¼šç¡¬ç›˜å¯åŠ¨"></a>ç¬¬ä¸‰é˜¶æ®µï¼šç¡¬ç›˜å¯åŠ¨</h4><p>è¿™æ—¶ï¼Œè®¡ç®—æœºçš„æ§åˆ¶æƒå°±è¦è½¬äº¤ç»™ç¡¬ç›˜çš„æŸä¸ªåˆ†åŒºäº†ï¼Œè¿™é‡Œåˆåˆ†æˆä¸‰ç§æƒ…å†µã€‚</p>
<p><strong>æƒ…å†µAï¼šå·å¼•å¯¼è®°å½•</strong></p>
<p>ä¸Šä¸€èŠ‚æåˆ°ï¼Œå››ä¸ªä¸»åˆ†åŒºé‡Œé¢ï¼Œåªæœ‰ä¸€ä¸ªæ˜¯æ¿€æ´»çš„ã€‚è®¡ç®—æœºä¼šè¯»å–æ¿€æ´»åˆ†åŒºçš„ç¬¬ä¸€ä¸ªæ‰‡åŒºï¼Œå«åš<a target="_blank" rel="noopener" href="http://en.wikipedia.org/wiki/Volume_Boot_Record">â€œå·å¼•å¯¼è®°å½•</a>â€œï¼ˆVolume boot recordï¼Œç¼©å†™ä¸ºVBRï¼‰ã€‚</p>
<p>â€œå·å¼•å¯¼è®°å½•â€çš„ä¸»è¦ä½œç”¨æ˜¯ï¼Œå‘Šè¯‰è®¡ç®—æœºï¼Œæ“ä½œç³»ç»Ÿåœ¨è¿™ä¸ªåˆ†åŒºé‡Œçš„ä½ç½®ã€‚ç„¶åï¼Œè®¡ç®—æœºå°±ä¼šåŠ è½½æ“ä½œç³»ç»Ÿäº†ã€‚</p>
<p><strong>æƒ…å†µBï¼šæ‰©å±•åˆ†åŒºå’Œé€»è¾‘åˆ†åŒº</strong></p>
<p>éšç€ç¡¬ç›˜è¶Šæ¥è¶Šå¤§ï¼Œå››ä¸ªä¸»åˆ†åŒºå·²ç»ä¸å¤Ÿäº†ï¼Œéœ€è¦æ›´å¤šçš„åˆ†åŒºã€‚ä½†æ˜¯ï¼Œåˆ†åŒºè¡¨åªæœ‰å››é¡¹ï¼Œå› æ­¤è§„å®šæœ‰ä¸”ä»…æœ‰ä¸€ä¸ªåŒºå¯ä»¥è¢«å®šä¹‰æˆâ€æ‰©å±•åˆ†åŒºâ€ï¼ˆExtended partitionï¼‰ã€‚</p>
<p>æ‰€è°“â€æ‰©å±•åˆ†åŒºâ€ï¼Œå°±æ˜¯æŒ‡è¿™ä¸ªåŒºé‡Œé¢åˆåˆ†æˆå¤šä¸ªåŒºã€‚è¿™ç§åˆ†åŒºé‡Œé¢çš„åˆ†åŒºï¼Œå°±å«åšâ€é€»è¾‘åˆ†åŒºâ€ï¼ˆlogical partitionï¼‰ã€‚</p>
<p>è®¡ç®—æœºå…ˆè¯»å–æ‰©å±•åˆ†åŒºçš„ç¬¬ä¸€ä¸ªæ‰‡åŒºï¼Œå«åš<a target="_blank" rel="noopener" href="http://en.wikipedia.org/wiki/Extended_partition">â€œæ‰©å±•å¼•å¯¼è®°å½•â€</a>ï¼ˆExtended boot recordï¼Œç¼©å†™ä¸ºEBRï¼‰ã€‚å®ƒé‡Œé¢ä¹ŸåŒ…å«ä¸€å¼ 64å­—èŠ‚çš„åˆ†åŒºè¡¨ï¼Œä½†æ˜¯æœ€å¤šåªæœ‰ä¸¤é¡¹ï¼ˆä¹Ÿå°±æ˜¯ä¸¤ä¸ªé€»è¾‘åˆ†åŒºï¼‰ã€‚</p>
<p>è®¡ç®—æœºæ¥ç€è¯»å–ç¬¬äºŒä¸ªé€»è¾‘åˆ†åŒºçš„ç¬¬ä¸€ä¸ªæ‰‡åŒºï¼Œå†ä»é‡Œé¢çš„åˆ†åŒºè¡¨ä¸­æ‰¾åˆ°ç¬¬ä¸‰ä¸ªé€»è¾‘åˆ†åŒºçš„ä½ç½®ï¼Œä»¥æ­¤ç±»æ¨ï¼Œç›´åˆ°æŸä¸ªé€»è¾‘åˆ†åŒºçš„åˆ†åŒºè¡¨åªåŒ…å«å®ƒè‡ªèº«ä¸ºæ­¢ï¼ˆå³åªæœ‰ä¸€ä¸ªåˆ†åŒºé¡¹ï¼‰ã€‚å› æ­¤ï¼Œæ‰©å±•åˆ†åŒºå¯ä»¥åŒ…å«æ— æ•°ä¸ªé€»è¾‘åˆ†åŒºã€‚</p>
<p>ä½†æ˜¯ï¼Œä¼¼ä¹å¾ˆå°‘é€šè¿‡è¿™ç§æ–¹å¼å¯åŠ¨æ“ä½œç³»ç»Ÿã€‚å¦‚æœæ“ä½œç³»ç»Ÿç¡®å®å®‰è£…åœ¨æ‰©å±•åˆ†åŒºï¼Œä¸€èˆ¬é‡‡ç”¨ä¸‹ä¸€ç§æ–¹å¼å¯åŠ¨ã€‚</p>
<p><strong>æƒ…å†µCï¼šå¯åŠ¨ç®¡ç†å™¨</strong></p>
<p>åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œè®¡ç®—æœºè¯»å–â€ä¸»å¼•å¯¼è®°å½•â€å‰é¢446å­—èŠ‚çš„æœºå™¨ç ä¹‹åï¼Œä¸å†æŠŠæ§åˆ¶æƒè½¬äº¤ç»™æŸä¸€ä¸ªåˆ†åŒºï¼Œè€Œæ˜¯è¿è¡Œäº‹å…ˆå®‰è£…çš„<a target="_blank" rel="noopener" href="http://en.wikipedia.org/wiki/Boot_loader#Modern_boot_loaders">â€œå¯åŠ¨ç®¡ç†å™¨â€</a>ï¼ˆboot loaderï¼‰ï¼Œç”±ç”¨æˆ·é€‰æ‹©å¯åŠ¨å“ªä¸€ä¸ªæ“ä½œç³»ç»Ÿã€‚</p>
<p>Linuxç¯å¢ƒä¸­çš„å¯åŠ¨ç®¡ç†å™¨ä¾‹å¦‚<a target="_blank" rel="noopener" href="http://en.wikipedia.org/wiki/GNU_GRUB">Grub</a>ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/0eba97ff505cb05cb14ea86c7b1fec93png.jpg" alt="1574410612420"></p>
<h4 id="ç¬¬å››é˜¶æ®µï¼šæ“ä½œç³»ç»Ÿ"><a href="#ç¬¬å››é˜¶æ®µï¼šæ“ä½œç³»ç»Ÿ" class="headerlink" title="ç¬¬å››é˜¶æ®µï¼šæ“ä½œç³»ç»Ÿ"></a>ç¬¬å››é˜¶æ®µï¼šæ“ä½œç³»ç»Ÿ</h4><p>æ§åˆ¶æƒè½¬äº¤ç»™æ“ä½œç³»ç»Ÿåï¼Œæ“ä½œç³»ç»Ÿçš„å†…æ ¸é¦–å…ˆè¢«è½½å…¥å†…å­˜ã€‚</p>
<p>ä»¥Linuxç³»ç»Ÿä¸ºä¾‹ï¼Œå…ˆè½½å…¥&#x2F;bootç›®å½•ä¸‹é¢çš„kernelã€‚å†…æ ¸åŠ è½½æˆåŠŸåï¼Œç¬¬ä¸€ä¸ªè¿è¡Œçš„ç¨‹åºæ˜¯&#x2F;sbin&#x2F;initã€‚å®ƒæ ¹æ®é…ç½®æ–‡ä»¶ï¼ˆDebianç³»ç»Ÿæ˜¯&#x2F;etc&#x2F;initabï¼‰äº§ç”Ÿinitè¿›ç¨‹ã€‚è¿™æ˜¯Linuxå¯åŠ¨åçš„ç¬¬ä¸€ä¸ªè¿›ç¨‹ï¼Œpidè¿›ç¨‹ç¼–å·ä¸º1ï¼Œå…¶ä»–è¿›ç¨‹éƒ½æ˜¯å®ƒçš„åä»£ã€‚</p>
<p>ç„¶åï¼Œinitçº¿ç¨‹åŠ è½½ç³»ç»Ÿçš„å„ä¸ªæ¨¡å—ï¼Œæ¯”å¦‚çª—å£ç¨‹åºå’Œç½‘ç»œç¨‹åºï¼Œç›´è‡³æ‰§è¡Œ&#x2F;bin&#x2F;loginç¨‹åºï¼Œè·³å‡ºç™»å½•ç•Œé¢ï¼Œç­‰å¾…ç”¨æˆ·è¾“å…¥ç”¨æˆ·åå’Œå¯†ç ã€‚</p>
<p>è‡³æ­¤ï¼Œå…¨éƒ¨å¯åŠ¨è¿‡ç¨‹å®Œæˆã€‚</p>
<h3 id="å•ç”¨æˆ·æ¨¡å¼ä¿®æ”¹Centosç³»ç»Ÿrootå¯†ç "><a href="#å•ç”¨æˆ·æ¨¡å¼ä¿®æ”¹Centosç³»ç»Ÿrootå¯†ç " class="headerlink" title="å•ç”¨æˆ·æ¨¡å¼ä¿®æ”¹Centosç³»ç»Ÿrootå¯†ç "></a>å•ç”¨æˆ·æ¨¡å¼ä¿®æ”¹Centosç³»ç»Ÿrootå¯†ç </h3><p>æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<p>é‡å¯linuxç³»ç»Ÿ</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/b4ff39b063d3a2da3580bc94930ed01epng.jpg" alt="4_21"></p>
<p>3 ç§’ä¹‹å†…è¦æŒ‰ä¸€ä¸‹å›è½¦ï¼Œå‡ºç°å¦‚ä¸‹ç•Œé¢</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/67849db77018ceba958128dde3394deapng.jpg" alt="4_22"></p>
<p>æŒ‰å‘ä¸‹æ–¹å‘é”®ç§»åŠ¨åˆ°ç¬¬äºŒè¡Œï¼ŒæŒ‰â€eâ€è¿›å…¥ç¼–è¾‘æ¨¡å¼</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/86c2fc832669cfbe4fad0ff747dddc76png.jpg" alt="4_23"></p>
<p>åœ¨ ç¬¬äºŒè¡Œæœ€åè¾¹è¾“å…¥ singleï¼Œç”¨ç©ºæ ¼ä¸å‰é¢å†…å®¹éš”å¼€</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/e1a541c56549ab770ba103ee88686a9cpng.jpg" alt="4_24"></p>
<p>å›è½¦</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/9095c7353ef32c132b4e34c7ba1fdedcpng.jpg" alt="4_25"></p>
<p>æœ€åæŒ‰â€bâ€å¯åŠ¨ï¼Œå¯åŠ¨åå°±è¿›å…¥äº†å•ç”¨æˆ·æ¨¡å¼äº†</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/ccbc8027a3d2a1ca079bdc3dd29ee3fdpng.jpg" alt="4_26"></p>
<p>è¿›å…¥åˆ°å•ç”¨æˆ·æ¨¡å¼åï¼Œå°±å¯ä»¥ä½¿ç”¨passwdå‘½ä»¤ä»»æ„æ›´æ”¹rootå¯†ç äº†ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/7b86f9afd2569841fe290d0d843aa3d7png.jpg" alt="4_27"></p>
<h3 id="æ•‘æ´æ¨¡å¼ä¿®æ”¹Ubuntuç³»ç»Ÿrootå¯†ç "><a href="#æ•‘æ´æ¨¡å¼ä¿®æ”¹Ubuntuç³»ç»Ÿrootå¯†ç " class="headerlink" title="æ•‘æ´æ¨¡å¼ä¿®æ”¹Ubuntuç³»ç»Ÿrootå¯†ç "></a>æ•‘æ´æ¨¡å¼ä¿®æ”¹Ubuntuç³»ç»Ÿrootå¯†ç </h3><p>é‡å¯ï¼ŒæŒ‰ä½shifté”®ï¼Œå‡ºç°å¦‚ä¸‹ç•Œé¢ï¼Œé€‰ä¸­å¦‚ä¸‹é€‰é¡¹</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/190138072fab9c55fddac036a934c26djpeg.jpg" alt="img"></p>
<p>æŒ‰å›è½¦é”®è¿›å…¥å¦‚ä¸‹ç•Œé¢ï¼Œç„¶åé€‰ä¸­æœ€æ–°çš„recovery modeé€‰é¡¹</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/02e68b1361efb698209cbe4573ff1158jpeg.jpg" alt="img"></p>
<p>æŒ‰eè¿›å…¥å¦‚ä¸‹ç•Œé¢ï¼Œæ‰¾åˆ°å›¾ä¸­çº¢è‰²æ¡†çš„recovery nomodesetå¹¶å°†å…¶åˆ æ‰ï¼Œå†åœ¨è¿™ä¸€è¡Œçš„åé¢è¾“å…¥</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">quiet splash rw init=/bin/bash</span><br><span class="line">1</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/788cbb9e3090ad75aa67cd5a8633jpeg.jpg" alt="img"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/73412c34d5fa9a4b55add0b77ad008d6jpeg.jpg" alt="img"></p>
<p>æ¥ç€æŒ‰F10æˆ–è€…Ctrl+x åå‡ºç°å¦‚ä¸‹ç•Œé¢ï¼Œåœ¨å‘½ä»¤è¡Œå†…è¾“å…¥passwdåè¿›è¡Œä¿®æ”¹å¯†ç å³å¯</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/e2a2b2f6ce4531eab5bd71d51e4caee1jpeg.jpg" alt="img"></p>
<p>ä¿®æ”¹å®Œä¹‹åé‡å¯ç³»ç»Ÿã€‚</p>
<h2 id="è™šæ‹Ÿæœº"><a href="#è™šæ‹Ÿæœº" class="headerlink" title="è™šæ‹Ÿæœº"></a>è™šæ‹Ÿæœº</h2><h3 id="ä¸‰ç§ç½‘ç»œæ¨¡å¼"><a href="#ä¸‰ç§ç½‘ç»œæ¨¡å¼" class="headerlink" title="ä¸‰ç§ç½‘ç»œæ¨¡å¼"></a>ä¸‰ç§ç½‘ç»œæ¨¡å¼</h3><p><strong>æ¡¥æ¥</strong></p>
<p>åœ¨ç½‘ç»œç½‘å¡ä¸Šå®‰è£…äº†ä¸€ä¸ªæ¡¥æ¥åè®®ï¼Œè®©è¿™å—ç½‘å¡å¤„äºæ··æ‚æ¨¡å¼ï¼Œå¯ä»¥åŒæ—¶è¿æ¥å¤šä¸ªç½‘ç»œçš„åšæ³•ã€‚</p>
<p>æ¡¥æ¥ä¸‹ï¼Œç±»ä¼¼äºæŠŠç‰©ç†ä¸»æœºè™šæ‹Ÿä¸ºä¸€ä¸ªäº¤æ¢æœºï¼Œæ‰€æœ‰æ¡¥æ¥è®¾ç½®çš„è™šæ‹Ÿæœºè¿æ¥åˆ°è¿™ä¸ªäº¤æ¢æœºçš„ä¸€ä¸ªæ¥å£ä¸Šï¼Œç‰©ç†ä¸»æœºä¹ŸåŒæ ·æŸ¥åœ¨è¿™ä¸ªäº¤æ¢æœºå½“ä¸­ï¼Œæ‰€ä»¥æ‰€æœ‰æ¡¥æ¥ä¸‹ç½‘å¡ä¸ç½‘å¡éƒ½æ˜¯äº¤æ¢æ¨¡å¼çš„ï¼Œç›¸äº’å¯ä»¥è®¿é—®è€Œä¸å¹²æ‰°ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/20061909046cf0a4cafbe52ded65acacjpeg.jpg" alt="img"></p>
<p><strong>Host-only</strong>ï¼ˆä»…ä¸ä¸»æœºé€šä¿¡ï¼‰</p>
<p>è™šæ‹Ÿæœºä½¿ç”¨VMnet1ç½‘å¡ä¸ä¸»æœºå•ç‹¬ç»„ç½‘,ä¸»æœºå¯¹äºè™šæ‹Ÿæœºç›¸å½“äºè·¯ç”±å™¨</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/5b8910196f03cc08e8e20c7619817a65jpeg.jpg" alt="img"></p>
<p><strong>NAT</strong></p>
<p>è™šæ‹Ÿæœºä½¿ç”¨VMnet8ç½‘å¡ä¸ä¸»æœºå•ç‹¬ç»„ç½‘,ä¸»æœºå¯¹äºè™šæ‹Ÿæœºç›¸å½“äºè·¯ç”±å™¨ï¼ŒVMnet8ç½‘å¡é€šè¿‡NATåœ°å€è½¬æ¢åè®®ä¸ç‰©ç†æœºç½‘å¡é€šä¿¡</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/ceb6926bc18279d63927d02d1214e341jpeg.jpg" alt="img"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/3a7cb1671fbea88783a3a741a12ab342jpeg.jpg" alt="img"></p>
<h3 id="å¸¸è§é—®é¢˜"><a href="#å¸¸è§é—®é¢˜" class="headerlink" title="å¸¸è§é—®é¢˜"></a>å¸¸è§é—®é¢˜</h3><h4 id="ä¿®æ”¹é™æ€åœ°å€åå‘ç°æ— æ³•pingå¤–ç½‘"><a href="#ä¿®æ”¹é™æ€åœ°å€åå‘ç°æ— æ³•pingå¤–ç½‘" class="headerlink" title="ä¿®æ”¹é™æ€åœ°å€åå‘ç°æ— æ³•pingå¤–ç½‘"></a>ä¿®æ”¹é™æ€åœ°å€åå‘ç°æ— æ³•pingå¤–ç½‘</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">éœ€è¦è®¾ç½®ç½‘å…³</span><br><span class="line">route add default gw 192.168.33.1</span><br><span class="line">æ·»åŠ nameserver</span><br><span class="line">vi /etc/resolv.conf</span><br><span class="line">nameserver 192.168.33.1</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="è™šæ‹Ÿæœºå…‹éš†åeth0æ¶ˆå¤±"><a href="#è™šæ‹Ÿæœºå…‹éš†åeth0æ¶ˆå¤±" class="headerlink" title="è™šæ‹Ÿæœºå…‹éš†åeth0æ¶ˆå¤±"></a>è™šæ‹Ÿæœºå…‹éš†åeth0æ¶ˆå¤±</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ç›´æ¥ä¿®æ”¹  /etc/sysconfig/network-script/ifcfg-eth0</span><br><span class="line">åˆ æ‰UUID  HWADDR</span><br><span class="line">é…ç½®é™æ€åœ°å€</span><br><span class="line">ç„¶åï¼š</span><br><span class="line">rm -rf ã€€/etc/udev/rules.d/70-persistent-net.rules</span><br><span class="line">ç„¶å reboot</span><br><span class="line"></span><br></pre></td></tr></table></figure></article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="å¤´åƒ"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/d20f536c64d06e5fcf4bfe2ec5dc25d.jpg" title="å¤´åƒ" alt="å¤´åƒ"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/d20f536c64d06e5fcf4bfe2ec5dc25d.jpg" title="å¤´åƒ" alt="å¤´åƒ"></a><div class="post-copyright__author_name">Smith</div><div class="post-copyright__author_desc">äººç”Ÿå¤ªçŸ­ï¼Œè¦å¹²çš„äº‹å¤ªå¤šï¼Œæˆ‘è¦äº‰åˆ†å¤ºç§’</div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="è¯¥æ–‡ç« ä¸ºåŸåˆ›æ–‡ç« ï¼Œæ³¨æ„ç‰ˆæƒåè®®" href="https://smithhs.cn/2021/10/31/2021-10-31-Linux2/">åŸåˆ›</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('https://smithhs.cn/2021/10/31/2021-10-31-Linux2/')">Linuxåˆ°ç²¾é€š2</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"><div class="post-reward" onclick="anzhiyu.addRewardMask()"><div class="reward-button button--animated" title="èµèµä½œè€…"><i class="anzhiyufont anzhiyu-icon-hand-heart-fill"></i>æ‰“èµä½œè€…</div><div class="reward-main"><div class="reward-all"><span class="reward-title">æ„Ÿè°¢ä½ èµäºˆæˆ‘å‰è¿›çš„åŠ›é‡</span><ul class="reward-group"><li class="reward-item"><a href="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/1.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/1.jpg" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/2.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/2.jpg" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul><a class="reward-main-btn" href="/about/#about-reward" target="_blank"><div class="reward-text">èµèµè€…åå•</div><div class="reward-dec">å› ä¸ºä½ ä»¬çš„æ”¯æŒè®©æˆ‘æ„è¯†åˆ°å†™æ–‡ç« çš„ä»·å€¼ğŸ™</div></a></div></div></div><div id="quit-box" onclick="anzhiyu.removeRewardMask()" style="display: none"></div></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="ä½¿ç”¨æ‰‹æœºè®¿é—®è¿™ç¯‡æ–‡ç« "><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="https://smithhs.cn/2021/10/31/2021-10-31-Linux2/"></div><div class="reward-dec">ä½¿ç”¨æ‰‹æœºè®¿é—®è¿™ç¯‡æ–‡ç« </div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=Linuxåˆ°ç²¾é€š2&amp;url=https://smithhs.cn/2021/10/31/2021-10-31-Linux2/&amp;pic=https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/Linux.png" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="å¤åˆ¶é“¾æ¥" onclick="rm.copyPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="https://smithhs.cn" target="_blank">Smith</a>ï¼</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/Linux/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>Linux<span class="tagsPageCount">3</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/dataanalysis.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://lib.baomitu.com/social-share.js/1.0.16/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://lib.baomitu.com/social-share.js/1.0.16/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2021/10/30/2021-10-30-Linux/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/Linux.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">Linuxåˆ°ç²¾é€š</div></div></a></div><div class="next-post pull-right"><a href="/2021/12/03/2021-12-03-nodejs%E4%B8%8B%E8%BD%BD%E3%80%81%E5%AE%89%E8%A3%85%E4%B8%8E%E9%85%8D%E7%BD%AE/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/Linux.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">Nodejsä¸‹è½½ã€å®‰è£…ä¸é…ç½®è¯¦ç»†æ•™ç¨‹</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size: 1.5rem; margin-right: 4px"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><div><a href="/2021/10/30/2021-10-30-Linux/" title="Linuxåˆ°ç²¾é€š"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/Linux.png" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2021-10-30</div><div class="title">Linuxåˆ°ç²¾é€š</div></div></a></div><div><a href="/2021/10/28/2021-10-28-Linux%E5%91%BD%E4%BB%A4/" title="Linuxå¸¸ç”¨å‘½ä»¤æ±‡æ€»"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/Linux1.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2021-10-28</div><div class="title">Linuxå¸¸ç”¨å‘½ä»¤æ±‡æ€»</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>æ–‡ç« ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#Shell%E7%BC%96%E7%A8%8B"><span class="toc-number">1.</span> <span class="toc-text">Shellç¼–ç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%A5%E9%97%A8"><span class="toc-number">1.1.</span> <span class="toc-text">å…¥é—¨</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%90%E8%A1%8CShell%E8%84%9A%E6%9C%AC"><span class="toc-number">1.1.1.</span> <span class="toc-text">è¿è¡ŒShellè„šæœ¬</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BC%96%E5%86%99%E4%B8%80%E4%B8%AA%E5%BF%AB%E6%8D%B7%E5%88%9B%E5%BB%BAshell%E8%84%9A%E6%9C%AC%E7%9A%84%E5%91%BD%E4%BB%A4"><span class="toc-number">1.1.2.</span> <span class="toc-text">ç¼–å†™ä¸€ä¸ªå¿«æ·åˆ›å»ºshellè„šæœ¬çš„å‘½ä»¤</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#echo%E5%91%BD%E4%BB%A4"><span class="toc-number">1.1.3.</span> <span class="toc-text">echoå‘½ä»¤</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E6%8D%A2%E8%A1%8C"><span class="toc-number">1.1.3.1.</span> <span class="toc-text">æ˜¾ç¤ºæ¢è¡Œ</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%98%BE%E7%A4%BA%E4%B8%8D%E6%8D%A2%E8%A1%8C"><span class="toc-number">1.1.3.2.</span> <span class="toc-text">æ˜¾ç¤ºä¸æ¢è¡Œ</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#printf-%E5%91%BD%E4%BB%A4"><span class="toc-number">1.1.4.</span> <span class="toc-text">printf å‘½ä»¤</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Shell-%E6%B3%A8%E9%87%8A"><span class="toc-number">1.1.5.</span> <span class="toc-text">Shell æ³¨é‡Š</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Shell%E5%8F%98%E9%87%8F"><span class="toc-number">1.2.</span> <span class="toc-text">Shellå˜é‡</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E5%8F%98%E9%87%8F"><span class="toc-number">1.2.1.</span> <span class="toc-text">å®šä¹‰å˜é‡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%8F%98%E9%87%8F"><span class="toc-number">1.2.2.</span> <span class="toc-text">ä½¿ç”¨å˜é‡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%AA%E8%AF%BB%E5%8F%98%E9%87%8F"><span class="toc-number">1.2.3.</span> <span class="toc-text">åªè¯»å˜é‡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E5%8F%98%E9%87%8F"><span class="toc-number">1.2.4.</span> <span class="toc-text">åˆ é™¤å˜é‡</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%98%E9%87%8F%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.2.5.</span> <span class="toc-text">å˜é‡ç±»å‹</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Shell-%E5%87%BD%E6%95%B0"><span class="toc-number">1.3.</span> <span class="toc-text">Shell å‡½æ•°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E5%8C%85%E5%90%AB"><span class="toc-number">1.4.</span> <span class="toc-text">æ–‡ä»¶åŒ…å«</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#shell%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">1.5.</span> <span class="toc-text">shellæ•°æ®ç±»å‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">1.5.1.</span> <span class="toc-text">å­—ç¬¦ä¸²</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E7%BB%84"><span class="toc-number">1.5.2.</span> <span class="toc-text">æ•°ç»„</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%9A%E4%B9%89%E6%95%B0%E7%BB%84"><span class="toc-number">1.5.2.1.</span> <span class="toc-text">å®šä¹‰æ•°ç»„</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AF%BB%E5%8F%96%E6%95%B0%E7%BB%84"><span class="toc-number">1.5.2.2.</span> <span class="toc-text">è¯»å–æ•°ç»„</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E6%95%B0%E7%BB%84%E7%9A%84%E9%95%BF%E5%BA%A6"><span class="toc-number">1.5.2.3.</span> <span class="toc-text">è·å–æ•°ç»„çš„é•¿åº¦</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Shell%E4%BC%A0%E9%80%92%E5%8F%82%E6%95%B0"><span class="toc-number">1.5.3.</span> <span class="toc-text">Shellä¼ é€’å‚æ•°</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Shell%E5%9F%BA%E6%9C%AC%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.6.</span> <span class="toc-text">ShellåŸºæœ¬è¿ç®—ç¬¦</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.6.1.</span> <span class="toc-text">ç®—æœ¯è¿ç®—ç¬¦</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.6.2.</span> <span class="toc-text">å…³ç³»è¿ç®—ç¬¦</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%83%E5%B0%94%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.6.3.</span> <span class="toc-text">å¸ƒå°”è¿ç®—ç¬¦</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.6.4.</span> <span class="toc-text">é€»è¾‘è¿ç®—ç¬¦</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.6.5.</span> <span class="toc-text">å­—ç¬¦ä¸²è¿ç®—ç¬¦</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%B5%8B%E8%AF%95%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">1.6.6.</span> <span class="toc-text">æ–‡ä»¶æµ‹è¯•è¿ç®—ç¬¦</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#test%E5%91%BD%E4%BB%A4"><span class="toc-number">1.7.</span> <span class="toc-text">testå‘½ä»¤</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E5%80%BC%E6%B5%8B%E8%AF%95"><span class="toc-number">1.7.1.</span> <span class="toc-text">æ•°å€¼æµ‹è¯•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%B5%8B%E8%AF%95"><span class="toc-number">1.7.2.</span> <span class="toc-text">å­—ç¬¦ä¸²æµ‹è¯•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E4%BB%B6%E6%B5%8B%E8%AF%95"><span class="toc-number">1.7.3.</span> <span class="toc-text">æ–‡ä»¶æµ‹è¯•</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Shell-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6"><span class="toc-number">1.8.</span> <span class="toc-text">Shell æµç¨‹æ§åˆ¶</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#if-else%E5%88%A4%E6%96%AD%E8%AF%AD%E5%8F%A5"><span class="toc-number">1.8.1.</span> <span class="toc-text">if elseåˆ¤æ–­è¯­å¥</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#for%E5%BE%AA%E7%8E%AF"><span class="toc-number">1.8.2.</span> <span class="toc-text">forå¾ªç¯</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#while%E5%BE%AA%E7%8E%AF"><span class="toc-number">1.8.3.</span> <span class="toc-text">whileå¾ªç¯</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%A0%E9%99%90%E5%BE%AA%E7%8E%AF"><span class="toc-number">1.8.4.</span> <span class="toc-text">æ— é™å¾ªç¯</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#until-%E5%BE%AA%E7%8E%AF"><span class="toc-number">1.8.5.</span> <span class="toc-text">until å¾ªç¯</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#case"><span class="toc-number">1.8.6.</span> <span class="toc-text">case</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B7%B3%E5%87%BA%E5%BE%AA%E7%8E%AF"><span class="toc-number">1.8.7.</span> <span class="toc-text">è·³å‡ºå¾ªç¯</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Shell%E8%BE%93%E5%85%A5-%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">1.9.</span> <span class="toc-text">Shellè¾“å…¥&#x2F;è¾“å‡ºé‡å®šå‘</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%93%E5%87%BA%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">1.9.1.</span> <span class="toc-text">è¾“å‡ºé‡å®šå‘</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E9%87%8D%E5%AE%9A%E5%90%91"><span class="toc-number">1.9.2.</span> <span class="toc-text">è¾“å…¥é‡å®šå‘</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%87%8D%E5%AE%9A%E5%90%91%E6%B7%B1%E5%85%A5%E8%AE%B2%E8%A7%A3"><span class="toc-number">1.9.3.</span> <span class="toc-text">é‡å®šå‘æ·±å…¥è®²è§£</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Here-Document"><span class="toc-number">1.9.4.</span> <span class="toc-text">Here Document</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#dev-null-%E6%96%87%E4%BB%B6"><span class="toc-number">1.9.5.</span> <span class="toc-text">&#x2F;dev&#x2F;null æ–‡ä»¶</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%9E%E4%BE%8B"><span class="toc-number">1.10.</span> <span class="toc-text">å®ä¾‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9D%A8%E8%BE%89%E4%B8%89%E8%A7%92%EF%BC%9A"><span class="toc-number">1.10.1.</span> <span class="toc-text">æ¨è¾‰ä¸‰è§’ï¼š</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sum-max"><span class="toc-number">1.10.2.</span> <span class="toc-text">sum()&amp;max():</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#99%E4%B9%98%E6%B3%95%E8%A1%A8%EF%BC%9A"><span class="toc-number">1.10.3.</span> <span class="toc-text">99ä¹˜æ³•è¡¨ï¼š</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%87%E6%9C%AC%E7%BC%96%E8%BE%91%E5%91%BD%E4%BB%A4"><span class="toc-number">2.</span> <span class="toc-text">æ–‡æœ¬ç¼–è¾‘å‘½ä»¤</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#cut%E5%91%BD%E4%BB%A4"><span class="toc-number">2.1.</span> <span class="toc-text">cutå‘½ä»¤</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#sed%E5%91%BD%E4%BB%A4"><span class="toc-number">2.2.</span> <span class="toc-text">sedå‘½ä»¤</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%83%E5%AD%97%E7%AC%A6%E9%9B%86"><span class="toc-number">2.2.1.</span> <span class="toc-text">å…ƒå­—ç¬¦é›†</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#a-i-%E5%9C%A8%E6%8C%87%E5%AE%9A%E8%A1%8C%E4%BD%8D%E7%BD%AE%E6%B7%BB%E5%8A%A0%E8%A1%8C"><span class="toc-number">2.2.2.</span> <span class="toc-text">a|i:åœ¨æŒ‡å®šè¡Œä½ç½®æ·»åŠ è¡Œ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#d-%E5%88%A0%E9%99%A4%E6%8C%87%E5%AE%9A%E8%A1%8C"><span class="toc-number">2.2.3.</span> <span class="toc-text">d:åˆ é™¤æŒ‡å®šè¡Œ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#c-%E6%9B%BF%E6%8D%A2%E6%8C%87%E5%AE%9A%E8%A1%8C"><span class="toc-number">2.2.4.</span> <span class="toc-text">c:æ›¿æ¢æŒ‡å®šè¡Œ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#p-%E4%BB%85%E6%98%BE%E7%A4%BA%E6%8C%87%E5%AE%9A%E8%A1%8C"><span class="toc-number">2.2.5.</span> <span class="toc-text">p:ä»…æ˜¾ç¤ºæŒ‡å®šè¡Œ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#s-%E5%AD%97%E7%AC%A6%E4%B8%B2%E6%9B%BF%E6%8D%A2"><span class="toc-number">2.2.6.</span> <span class="toc-text">s:å­—ç¬¦ä¸²æ›¿æ¢</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#y-%E5%8D%95%E5%AD%97%E7%AC%A6%E6%9B%BF%E6%8D%A2"><span class="toc-number">2.2.7.</span> <span class="toc-text">y:å•å­—ç¬¦æ›¿æ¢</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#hHgG%E6%A8%A1%E5%BC%8F%E7%A9%BA%E9%97%B4-%E4%BF%9D%E6%8C%81%E7%A9%BA%E9%97%B4"><span class="toc-number">2.2.8.</span> <span class="toc-text">hHgGæ¨¡å¼ç©ºé—´&amp;ä¿æŒç©ºé—´</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E6%AC%A1%E6%8C%87%E5%AE%9A-e%E9%80%89%E9%A1%B9%E8%BF%9B%E8%A1%8C%E5%A4%9A%E7%82%B9%E7%BC%96%E8%BE%91"><span class="toc-number">2.2.9.</span> <span class="toc-text">å¤šæ¬¡æŒ‡å®š-eé€‰é¡¹è¿›è¡Œå¤šç‚¹ç¼–è¾‘</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%80%89%E9%A1%B9-i%E7%9B%B4%E6%8E%A5%E4%BF%AE%E6%94%B9%E6%96%87%E4%BB%B6%E5%86%85%E5%AE%B9"><span class="toc-number">2.2.10.</span> <span class="toc-text">é€‰é¡¹-iç›´æ¥ä¿®æ”¹æ–‡ä»¶å†…å®¹</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#awk%E5%91%BD%E4%BB%A4"><span class="toc-number">2.3.</span> <span class="toc-text">awkå‘½ä»¤</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95"><span class="toc-number">2.3.1.</span> <span class="toc-text">åŸºæœ¬ç”¨æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#F%E6%8C%87%E5%AE%9A%E5%88%86%E5%89%B2%E5%AD%97%E7%AC%A6"><span class="toc-number">2.3.1.1.</span> <span class="toc-text">-FæŒ‡å®šåˆ†å‰²å­—ç¬¦</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#v%E8%AE%BE%E7%BD%AE%E5%8F%98%E9%87%8F"><span class="toc-number">2.3.1.2.</span> <span class="toc-text">-vè®¾ç½®å˜é‡</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#f%E6%8C%87%E5%AE%9Aawk%E8%84%9A%E6%9C%AC"><span class="toc-number">2.3.1.3.</span> <span class="toc-text">-fæŒ‡å®šawkè„šæœ¬</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWK%E5%B7%A5%E4%BD%9C%E5%8E%9F%E7%90%86"><span class="toc-number">2.3.2.</span> <span class="toc-text">AWKå·¥ä½œåŸç†</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">2.3.2.1.</span> <span class="toc-text">è¿ç®—ç¬¦</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%BE%93%E5%87%BA%E9%A1%BA%E5%BA%8F%E5%8F%B7-NR-%E5%8C%B9%E9%85%8D%E6%96%87%E6%9C%AC%E8%A1%8C%E5%8F%B7"><span class="toc-number">2.3.2.2.</span> <span class="toc-text">è¾“å‡ºé¡ºåºå· NR, åŒ¹é…æ–‡æœ¬è¡Œå·</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%8C%87%E5%AE%9A%E8%BE%93%E5%87%BA%E5%88%86%E5%89%B2%E7%AC%A6"><span class="toc-number">2.3.2.3.</span> <span class="toc-text">æŒ‡å®šè¾“å‡ºåˆ†å‰²ç¬¦</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%BF%BD%E7%95%A5%E5%A4%A7%E5%B0%8F%E5%86%99"><span class="toc-number">2.3.2.4.</span> <span class="toc-text">å¿½ç•¥å¤§å°å†™</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%8C%B9%E9%85%8D"><span class="toc-number">2.3.3.</span> <span class="toc-text">æ­£åˆ™å­—ç¬¦ä¸²åŒ¹é…</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E4%BA%9B%E5%AE%9E%E4%BE%8B"><span class="toc-number">2.3.4.</span> <span class="toc-text">ä¸€äº›å®ä¾‹</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#awk%E7%BC%96%E7%A8%8B"><span class="toc-number">2.4.</span> <span class="toc-text">awkç¼–ç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E8%AF%AD%E5%8F%A5IF-ELSE"><span class="toc-number">2.4.1.</span> <span class="toc-text">æ¡ä»¶è¯­å¥IF&amp;ELSE</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BE%AA%E7%8E%AF%E8%AF%AD%E5%8F%A5For-While"><span class="toc-number">2.4.2.</span> <span class="toc-text">å¾ªç¯è¯­å¥For&amp;While</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#awk%E6%95%B0%E7%BB%84"><span class="toc-number">2.4.3.</span> <span class="toc-text">awkæ•°ç»„</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWK-%E7%94%A8%E6%88%B7%E8%87%AA%E5%AE%9A%E4%B9%89%E5%87%BD%E6%95%B0"><span class="toc-number">2.4.4.</span> <span class="toc-text">AWK ç”¨æˆ·è‡ªå®šä¹‰å‡½æ•°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#AWK-%E5%86%85%E7%BD%AE%E5%87%BD%E6%95%B0"><span class="toc-number">2.4.5.</span> <span class="toc-text">AWK å†…ç½®å‡½æ•°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AE%97%E6%95%B0%E5%87%BD%E6%95%B0"><span class="toc-number">2.4.6.</span> <span class="toc-text">ç®—æ•°å‡½æ•°</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0"><span class="toc-number">2.4.6.1.</span> <span class="toc-text">å­—ç¬¦ä¸²å‡½æ•°</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%97%B6%E9%97%B4%E5%87%BD%E6%95%B0"><span class="toc-number">2.4.6.2.</span> <span class="toc-text">æ—¶é—´å‡½æ•°</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BD%8D%E6%93%8D%E4%BD%9C%E5%87%BD%E6%95%B0"><span class="toc-number">2.4.6.3.</span> <span class="toc-text">ä½æ“ä½œå‡½æ•°</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E5%87%BD%E6%95%B0"><span class="toc-number">2.4.6.4.</span> <span class="toc-text">å…¶ä»–å‡½æ•°</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#vim%E5%85%A8%E5%A5%97%E7%AC%94%E8%AE%B0"><span class="toc-number">3.</span> <span class="toc-text">vimå…¨å¥—ç¬”è®°</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#VIM%E5%BF%AB%E9%80%9F%E5%A4%8D%E4%B9%A0"><span class="toc-number">3.1.</span> <span class="toc-text">VIMå¿«é€Ÿå¤ä¹ </span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF-vim%EF%BC%9F"><span class="toc-number">3.1.1.</span> <span class="toc-text">ä»€ä¹ˆæ˜¯ vimï¼Ÿ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%89-%E5%86%92%E5%8F%B7%E5%8D%B3%E5%8F%AF%E8%BF%9B%E5%85%A5last-line-mode"><span class="toc-number">3.1.2.</span> <span class="toc-text">æŒ‰:å†’å·å³å¯è¿›å…¥last line mode</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%8Ecommand-mode%E8%BF%9B%E5%85%A5Insert-mode"><span class="toc-number">3.1.3.</span> <span class="toc-text">ä»command modeè¿›å…¥Insert mode</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%89ESC%E9%94%AE%E9%80%80%E5%9B%9Ecommand-mode"><span class="toc-number">3.1.4.</span> <span class="toc-text">æŒ‰ESCé”®é€€å›command mode</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E8%A1%8C%E7%BC%96%E8%BE%91%EF%BC%8Cvim%E6%94%AF%E6%8C%81%EF%BC%8Cvi%E4%B8%8D%E6%94%AF%E6%8C%81"><span class="toc-number">3.1.5.</span> <span class="toc-text">å¤šè¡Œç¼–è¾‘ï¼Œvimæ”¯æŒï¼Œviä¸æ”¯æŒ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#vim%E7%BB%83%E4%B9%A0"><span class="toc-number">3.1.6.</span> <span class="toc-text">vimç»ƒä¹ </span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vi-vim%E7%9A%84%E4%B8%89%E7%A7%8D%E6%A8%A1%E5%BC%8F"><span class="toc-number">3.2.</span> <span class="toc-text">vi&#x2F;vimçš„ä¸‰ç§æ¨¡å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F"><span class="toc-number">3.2.1.</span> <span class="toc-text">å‘½ä»¤æ¨¡å¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BE%93%E5%85%A5%E6%A8%A1%E5%BC%8F"><span class="toc-number">3.2.2.</span> <span class="toc-text">è¾“å…¥æ¨¡å¼</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%95%E8%A1%8C%E6%A8%A1%E5%BC%8F"><span class="toc-number">3.2.3.</span> <span class="toc-text">åº•è¡Œæ¨¡å¼</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vim%E5%9F%BA%E7%A1%80%E6%93%8D%E4%BD%9C"><span class="toc-number">3.3.</span> <span class="toc-text">vimåŸºç¡€æ“ä½œ</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9B%E5%85%A5%E8%BE%93%E5%85%A5%E6%A8%A1%E5%BC%8F-Insert-mode"><span class="toc-number">3.3.1.</span> <span class="toc-text">è¿›å…¥è¾“å…¥æ¨¡å¼(Insert mode)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9B%E5%85%A5%E6%9B%BF%E6%8D%A2%E6%A8%A1%E5%BC%8F-Replace-mode"><span class="toc-number">3.3.2.</span> <span class="toc-text">è¿›å…¥æ›¿æ¢æ¨¡å¼(Replace mode)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F%E4%B8%8B%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4"><span class="toc-number">3.3.3.</span> <span class="toc-text">å‘½ä»¤æ¨¡å¼ä¸‹å¸¸ç”¨å‘½ä»¤</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%A7%BB%E5%8A%A8%E5%85%89%E6%A0%87"><span class="toc-number">3.3.3.1.</span> <span class="toc-text">ç§»åŠ¨å…‰æ ‡</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%93%8D%E4%BD%9C"><span class="toc-number">3.3.3.2.</span> <span class="toc-text">åˆ é™¤æ“ä½œ</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%92%A4%E9%94%80-%E5%A4%8D%E5%8E%9F-%E9%87%8D%E5%A4%8D"><span class="toc-number">3.3.3.3.</span> <span class="toc-text">æ’¤é”€&amp;å¤åŸ&amp;é‡å¤</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%A4%8D%E5%88%B6-%E7%B2%98%E8%B4%B4"><span class="toc-number">3.3.3.4.</span> <span class="toc-text">å¤åˆ¶&amp;ç²˜è´´</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%90%88%E6%88%90%E8%A1%8C"><span class="toc-number">3.3.3.5.</span> <span class="toc-text">åˆæˆè¡Œ</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%90%9C%E7%B4%A2"><span class="toc-number">3.3.3.6.</span> <span class="toc-text">æœç´¢</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9B%BF%E6%8D%A2"><span class="toc-number">3.3.3.7.</span> <span class="toc-text">æ›¿æ¢</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%95%E8%A1%8C%E5%91%BD%E4%BB%A4%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%B8%B8%E7%94%A8%E6%93%8D%E4%BD%9C"><span class="toc-number">3.3.4.</span> <span class="toc-text">åº•è¡Œå‘½ä»¤æ¨¡å¼çš„å¸¸ç”¨æ“ä½œ</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%8F%AF%E8%A7%86%E6%A8%A1%E5%BC%8F"><span class="toc-number">3.3.5.</span> <span class="toc-text">å¯è§†æ¨¡å¼</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Linux%E7%B3%BB%E7%BB%9F%E5%90%AF%E5%8A%A8%E8%BF%87%E7%A8%8B"><span class="toc-number">4.</span> <span class="toc-text">Linuxç³»ç»Ÿå¯åŠ¨è¿‡ç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A0%E8%BD%BD%E5%86%85%E6%A0%B8"><span class="toc-number">4.1.</span> <span class="toc-text">åŠ è½½å†…æ ¸</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8%E5%88%9D%E5%A7%8B%E5%8C%96%E8%BF%9B%E7%A8%8Binit"><span class="toc-number">4.2.</span> <span class="toc-text">å¯åŠ¨åˆå§‹åŒ–è¿›ç¨‹init</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A1%AE%E5%AE%9A%E8%BF%90%E8%A1%8C%E7%BA%A7%E5%88%AB"><span class="toc-number">4.3.</span> <span class="toc-text">ç¡®å®šè¿è¡Œçº§åˆ«</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A0%E8%BD%BD%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8%E7%A8%8B%E5%BA%8F"><span class="toc-number">4.4.</span> <span class="toc-text">åŠ è½½å¼€æœºå¯åŠ¨ç¨‹åº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E7%99%BB%E5%BD%95"><span class="toc-number">4.5.</span> <span class="toc-text">ç”¨æˆ·ç™»å½•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%BE%E5%BD%A2%E6%A8%A1%E5%BC%8F%E4%B8%8E%E6%96%87%E5%AD%97%E6%A8%A1%E5%BC%8F%E7%9A%84%E5%88%87%E6%8D%A2%E6%96%B9%E5%BC%8F"><span class="toc-number">4.6.</span> <span class="toc-text">å›¾å½¢æ¨¡å¼ä¸æ–‡å­—æ¨¡å¼çš„åˆ‡æ¢æ–¹å¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#login-shell"><span class="toc-number">4.7.</span> <span class="toc-text">login shell</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Linux%E5%85%B3%E6%9C%BA"><span class="toc-number">4.8.</span> <span class="toc-text">Linuxå…³æœº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A1%E7%AE%97%E6%9C%BA%E5%90%AF%E5%8A%A8%E7%9A%84%E6%B5%81%E7%A8%8B"><span class="toc-number">4.9.</span> <span class="toc-text">è®¡ç®—æœºå¯åŠ¨çš„æµç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%B8%80%E9%98%B6%E6%AE%B5%EF%BC%9ABIOS"><span class="toc-number">4.9.1.</span> <span class="toc-text">ç¬¬ä¸€é˜¶æ®µï¼šBIOS</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%BA%8C%E9%98%B6%E6%AE%B5%EF%BC%9A-%E4%B8%BB%E5%BC%95%E5%8A%A0%E7%B2%97%E6%A0%B7%E5%BC%8F%E5%AF%BC%E8%AE%B0%E5%BD%95"><span class="toc-number">4.9.2.</span> <span class="toc-text">ç¬¬äºŒé˜¶æ®µï¼š ä¸»å¼•åŠ ç²—æ ·å¼å¯¼è®°å½•</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E4%B8%89%E9%98%B6%E6%AE%B5%EF%BC%9A%E7%A1%AC%E7%9B%98%E5%90%AF%E5%8A%A8"><span class="toc-number">4.9.3.</span> <span class="toc-text">ç¬¬ä¸‰é˜¶æ®µï¼šç¡¬ç›˜å¯åŠ¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%AC%AC%E5%9B%9B%E9%98%B6%E6%AE%B5%EF%BC%9A%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F"><span class="toc-number">4.9.4.</span> <span class="toc-text">ç¬¬å››é˜¶æ®µï¼šæ“ä½œç³»ç»Ÿ</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E7%94%A8%E6%88%B7%E6%A8%A1%E5%BC%8F%E4%BF%AE%E6%94%B9Centos%E7%B3%BB%E7%BB%9Froot%E5%AF%86%E7%A0%81"><span class="toc-number">4.10.</span> <span class="toc-text">å•ç”¨æˆ·æ¨¡å¼ä¿®æ”¹Centosç³»ç»Ÿrootå¯†ç </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%91%E6%8F%B4%E6%A8%A1%E5%BC%8F%E4%BF%AE%E6%94%B9Ubuntu%E7%B3%BB%E7%BB%9Froot%E5%AF%86%E7%A0%81"><span class="toc-number">4.11.</span> <span class="toc-text">æ•‘æ´æ¨¡å¼ä¿®æ”¹Ubuntuç³»ç»Ÿrootå¯†ç </span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E6%9C%BA"><span class="toc-number">5.</span> <span class="toc-text">è™šæ‹Ÿæœº</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%89%E7%A7%8D%E7%BD%91%E7%BB%9C%E6%A8%A1%E5%BC%8F"><span class="toc-number">5.1.</span> <span class="toc-text">ä¸‰ç§ç½‘ç»œæ¨¡å¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98"><span class="toc-number">5.2.</span> <span class="toc-text">å¸¸è§é—®é¢˜</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E9%9D%99%E6%80%81%E5%9C%B0%E5%9D%80%E5%90%8E%E5%8F%91%E7%8E%B0%E6%97%A0%E6%B3%95ping%E5%A4%96%E7%BD%91"><span class="toc-number">5.2.1.</span> <span class="toc-text">ä¿®æ”¹é™æ€åœ°å€åå‘ç°æ— æ³•pingå¤–ç½‘</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E6%9C%BA%E5%85%8B%E9%9A%86%E5%90%8Eeth0%E6%B6%88%E5%A4%B1"><span class="toc-number">5.2.2.</span> <span class="toc-text">è™šæ‹Ÿæœºå…‹éš†åeth0æ¶ˆå¤±</span></a></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2022 - 2024 By <a class="footer-bar-link" href="/" title="Smith" target="_blank">Smith</a></div></div><div id="footer-type-tips"></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/Smithhss/smithhs.github.io.git" title="Hexo">Hexo</a></div></div></div></footer></div></div></div><div id="sidebar"><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/d20f536c64d06e5fcf4bfe2ec5dc25d.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">æ–‡ç« </div><div class="length-num">79</div></a><a href="/tags/" title="tag"><div class="headline">æ ‡ç­¾</div><div class="length-num">55</div></a><a href="/categories/" title="category"><div class="headline">åˆ†ç±»</div><div class="length-num">6</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> æ–‡ç« </span></a><ul class="menus_item_child" style="left:-79px;"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> éš§é“</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> åˆ†ç±»</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> æ ‡ç­¾</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> æˆ‘çš„</span></a><ul class="menus_item_child" style="left:-31px;"><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> ç›¸å†Œé›†</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> éŸ³ä¹é¦†</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> å…³äº</span></a><ul class="menus_item_child" style="left:-79px;"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> å…³äºæˆ‘</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> é—²è¨€ç¢è¯­</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> éšä¾¿é€›é€›</span></a></li></ul></div></div></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="ç®€ç¹è½¬æ¢">ç¹</button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">æ’­æ”¾éŸ³ä¹</a><div id="console-music-bg"></div><meting-js id="8805965276" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random"></meting-js></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>å¤åˆ¶é€‰ä¸­æ–‡æœ¬</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>ç²˜è´´æ–‡æœ¬</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>å¼•ç”¨åˆ°è¯„è®º</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>æ–°çª—å£æ‰“å¼€</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>å¤åˆ¶é“¾æ¥åœ°å€</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>å¤åˆ¶æ­¤å›¾ç‰‡</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>ä¸‹è½½æ­¤å›¾ç‰‡</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>æ–°çª—å£æ‰“å¼€å›¾ç‰‡</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>ç«™å†…æœç´¢</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>ç™¾åº¦æœç´¢</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>æ’­æ”¾éŸ³ä¹</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>åˆ‡æ¢åˆ°ä¸Šä¸€é¦–</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>åˆ‡æ¢åˆ°ä¸‹ä¸€é¦–</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://music.163.com/#/my/m/music/playlist?id=464586318&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>æŸ¥çœ‹æ‰€æœ‰æ­Œæ›²</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>å¤åˆ¶æ­Œå</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>éšä¾¿é€›é€›</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>åšå®¢åˆ†ç±»</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>æ–‡ç« æ ‡ç­¾</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>å¤åˆ¶åœ°å€</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">å…³é—­çƒ­è¯„</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">æ·±è‰²æ¨¡å¼</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>è½‰ç‚ºç¹é«”</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn1.tianli0.top/npm/js-heo@1.0.6/translate/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.14/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/vanilla-lazyload/17.3.1/lazyload.iife.min.js"></script><script src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/node-snackbar/0.1.16/snackbar.min.js"></script><script>var meting_api = "https://meting.qjqq.cn/?server=:server&type=:type&id=:id&auth=:auth&r=:r";
</script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// æ¶ˆé™¤æ§åˆ¶å°æ‰“å°
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //åœ¨æ¢å¤å‰è¾“å‡ºæ—¥å¿—
  const grt = new Date("07/01/2022 00:00:00"); //æ­¤å¤„ä¿®æ”¹ä½ çš„å»ºç«™æ—¶é—´æˆ–è€…ç½‘ç«™ä¸Šçº¿æ—¶é—´
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `æ¬¢è¿ä½¿ç”¨å®‰çŸ¥é±¼!`,
    `ç”Ÿæ´»æ˜æœ—, ä¸‡ç‰©å¯çˆ±`,
    `
        
       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—
      â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â•šâ•â•â–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘
      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘
      â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ–ˆâ•”â•  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â•šâ–ˆâ–ˆâ•”â•  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘
      â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•
      â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•â•â•â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•šâ•â•   â•šâ•â•    â•šâ•â•â•â•â•â•
        
        `,
    "å·²ä¸Šçº¿",
    dnum,
    "å¤©",
    "Â©2022 By å®‰çŸ¥é±¼ V1.5.3",
  ];
  const ascll2 = [`NCC2-036`, `è°ƒç”¨å‰ç½®æ‘„åƒå¤´æ‹ç…§æˆåŠŸï¼Œè¯†åˆ«ä¸ºã€å°ç¬¨è›‹ã€‘.`, `Photo captured: `, `ğŸ¤ª`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#3b70fc",
      "",
      "color:#3b70fc",
      "color:#3b70fc",
      "",
      "color:#3b70fc",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c ä½ å¥½ï¼Œå°ç¬¨è›‹.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c âš¡ Powered by å®‰çŸ¥é±¼ %c ä½ æ­£åœ¨è®¿é—® Smith çš„åšå®¢.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c ä½ å·²æ‰“å¼€æ§åˆ¶å°.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c ä½ ç°åœ¨æ­£å¤„äºç›‘æ§ä¸­.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><div class="js-pjax"><input type="hidden" name="page-type" id="page-type" value="post"></div><script>var visitorMail = "visitor@anheyu.com";</script><script>//åŠ¨æ€æ ‡é¢˜
let leaveTitle = 'å†çœ‹çœ‹å˜›ğŸŒˆï¼';
let backTitle = 'æ¬¢è¿å›æ¥âœŒï¸ï¼';
let OriginTitile = document.title
let titleTime
document.addEventListener('visibilitychange', function () {
  if (document.hidden) {
    //ç¦»å¼€å½“å‰é¡µé¢æ—¶æ ‡ç­¾æ˜¾ç¤ºå†…å®¹
    document.title = leaveTitle
    clearTimeout(titleTime)
  } else {
    //è¿”å›å½“å‰é¡µé¢æ—¶æ ‡ç­¾æ˜¾ç¤ºå†…å®¹
    document.title = backTitle + OriginTitile
    //ä¸¤ç§’åå˜å›æ­£å¸¸æ ‡é¢˜
    titleTime = setTimeout(function () {
      document.title = OriginTitile
    }, 2000)
  }
})</script><script async data-pjax src="https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/waterfall.js/1.1.0/waterfall.min.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><script>// åˆå§‹åŒ–å‡½æ•°
let rm = {};

//ç¦æ­¢å›¾ç‰‡ä¸è¶…é“¾æ¥æ‹–æ‹½
let aElements = document.getElementsByTagName("a");
for (let i = 0; i < aElements.length; i++) {
  aElements[i].setAttribute("draggable", "false");
  let imgElements = aElements[i].getElementsByTagName("img");
  for (let j = 0; j < imgElements.length; j++) {
    imgElements[j].setAttribute("draggable", "false");
  }
}

// æ˜¾ç¤ºèœå•
rm.showRightMenu = function (isTrue, x = 0, y = 0) {
  console.info(x, y)
  let rightMenu = document.getElementById("rightMenu");
  rightMenu.style.top = x + "px";
  rightMenu.style.left = y + "px";
  if (isTrue) {
    rightMenu.style.display = "block";
    stopMaskScroll();
  } else {
    rightMenu.style.display = "none";
  }
};

// éšè—èœå•
rm.hideRightMenu = function () {
  rm.showRightMenu(false);
  let rightMenuMask = document.querySelector("#rightmenu-mask");
  rightMenuMask.style.display = "none";
};

// å°ºå¯¸
let rmWidth = document.getElementById("rightMenu").offsetWidth;
let rmHeight = document.getElementById("rightMenu").offsetHeight;

// é‡æ–°å®šä¹‰å°ºå¯¸
rm.reloadrmSize = function () {
  rightMenu.style.visibility = "hidden";
  rightMenu.style.display = "block";
  // è·å–å®½åº¦å’Œé«˜åº¦
  rmWidth = document.getElementById("rightMenu").offsetWidth;
  rmHeight = document.getElementById("rightMenu").offsetHeight;
  rightMenu.style.visibility = "visible";
};

// è·å–ç‚¹å‡»çš„href
let domhref = "";
let domImgSrc = "";
let globalEvent = null;

var oncontextmenuFunction = function (event) {
  if (document.body.clientWidth > 768) {
    let pageX = event.clientX + 10; //åŠ 10æ˜¯ä¸ºäº†é˜²æ­¢æ˜¾ç¤ºæ—¶é¼ æ ‡é®åœ¨èœå•ä¸Š
    let pageY = event.clientY;

    //å…¶ä»–é¢å¤–èœå•
    const $rightMenuOther = document.querySelector(".rightMenuOther");
    const $rightMenuPlugin = document.querySelector(".rightMenuPlugin");
    const $rightMenuCopyText = document.querySelector("#menu-copytext");
    const $rightMenuPasteText = document.querySelector("#menu-pastetext");
    const $rightMenuCommentText = document.querySelector("#menu-commenttext");
    const $rightMenuNewWindow = document.querySelector("#menu-newwindow");
    const $rightMenuNewWindowImg = document.querySelector("#menu-newwindowimg");
    const $rightMenuCopyLink = document.querySelector("#menu-copylink");
    const $rightMenuCopyImg = document.querySelector("#menu-copyimg");
    const $rightMenuDownloadImg = document.querySelector("#menu-downloadimg");
    const $rightMenuSearch = document.querySelector("#menu-search");
    const $rightMenuSearchBaidu = document.querySelector("#menu-searchBaidu");
    const $rightMenuMusicToggle = document.querySelector("#menu-music-toggle");
    const $rightMenuMusicBack = document.querySelector("#menu-music-back");
    const $rightMenuMusicForward = document.querySelector("#menu-music-forward");
    const $rightMenuMusicPlaylist = document.querySelector("#menu-music-playlist");
    const $rightMenuMusicCopyMusicName = document.querySelector("#menu-music-copyMusicName");

    let href = event.target.href;
    let imgsrc = event.target.currentSrc;

    // åˆ¤æ–­æ¨¡å¼ æ‰©å±•æ¨¡å¼ä¸ºæœ‰äº‹ä»¶
    let pluginMode = false;
    $rightMenuOther.style.display = "block";
    globalEvent = event;

    // æ£€æŸ¥æ˜¯å¦éœ€è¦å¤åˆ¶ æ˜¯å¦æœ‰é€‰ä¸­æ–‡æœ¬
    if (selectTextNow && window.getSelection()) {
      pluginMode = true;
      $rightMenuCopyText.style.display = "block";
      $rightMenuCommentText.style.display = "block";
      $rightMenuSearch.style.display = "block";
      $rightMenuSearchBaidu.style.display = "block";
    } else {
      $rightMenuCopyText.style.display = "none";
      $rightMenuCommentText.style.display = "none";
      $rightMenuSearchBaidu.style.display = "none";
      $rightMenuSearch.style.display = "none";
    }

    //æ£€æŸ¥æ˜¯å¦å³é”®ç‚¹å‡»äº†é“¾æ¥aæ ‡ç­¾
    if (href) {
      pluginMode = true;
      $rightMenuNewWindow.style.display = "block";
      $rightMenuCopyLink.style.display = "block";
      domhref = href;
    } else {
      $rightMenuNewWindow.style.display = "none";
      $rightMenuCopyLink.style.display = "none";
    }

    //æ£€æŸ¥æ˜¯å¦éœ€è¦å¤åˆ¶å›¾ç‰‡
    if (imgsrc) {
      pluginMode = true;
      $rightMenuCopyImg.style.display = "block";
      $rightMenuDownloadImg.style.display = "block";
      $rightMenuNewWindowImg.style.display = "block";
      document.getElementById("rightMenu").style.width="12rem"
      domImgSrc = imgsrc;
    } else {
      $rightMenuCopyImg.style.display = "none";
      $rightMenuDownloadImg.style.display = "none";
      $rightMenuNewWindowImg.style.display = "none";
    }

    // åˆ¤æ–­æ˜¯å¦ä¸ºè¾“å…¥æ¡†
    if (event.target.tagName.toLowerCase() === "input" || event.target.tagName.toLowerCase() === "textarea") {
      pluginMode = true;
      $rightMenuPasteText.style.display = "block";
    } else {
      $rightMenuPasteText.style.display = "none";
    }
    const navMusicEl = document.querySelector("#nav-music");
    //åˆ¤æ–­æ˜¯å¦æ˜¯éŸ³ä¹
    if (navMusicEl && navMusicEl.contains(event.target)) {
      pluginMode = true;
      $rightMenuMusicToggle.style.display = "block";
      $rightMenuMusicBack.style.display = "block";
      $rightMenuMusicForward.style.display = "block";
      $rightMenuMusicPlaylist.style.display = "block";
      $rightMenuMusicCopyMusicName.style.display = "block";
    } else {
      $rightMenuMusicToggle.style.display = "none";
      $rightMenuMusicBack.style.display = "none";
      $rightMenuMusicForward.style.display = "none";
      $rightMenuMusicPlaylist.style.display = "none";
      $rightMenuMusicCopyMusicName.style.display = "none";
    }

    // å¦‚æœä¸æ˜¯æ‰©å±•æ¨¡å¼åˆ™éšè—æ‰©å±•æ¨¡å—
    if (pluginMode) {
      $rightMenuOther.style.display = "none";
      $rightMenuPlugin.style.display = "block";
    } else {
      $rightMenuPlugin.style.display = "none";
    }

    rm.reloadrmSize();

    // é¼ æ ‡é»˜è®¤æ˜¾ç¤ºåœ¨é¼ æ ‡å³ä¸‹æ–¹ï¼Œå½“é¼ æ ‡é å³æˆ–é ä¸‹æ—¶ï¼Œå°†èœå•æ˜¾ç¤ºåœ¨é¼ æ ‡å·¦æ–¹\ä¸Šæ–¹
    if (pageX + rmWidth > window.innerWidth) {
      pageX -= rmWidth + 10;
    }
    if (pageY + rmHeight > window.innerHeight) {
      pageY -= pageY + rmHeight - window.innerHeight;
    }

    rm.showRightMenu(true, pageY, pageX);
    document.getElementById("rightmenu-mask").style.display = "flex";
    return false;
  }
};

// ç›‘å¬å³é”®åˆå§‹åŒ–
window.oncontextmenu = oncontextmenuFunction

// ä¸‹è½½å›¾ç‰‡çŠ¶æ€
rm.downloadimging = false;

// å¤åˆ¶å›¾ç‰‡åˆ°å‰ªè´´æ¿
rm.writeClipImg = function (imgsrc) {
  console.log("æŒ‰ä¸‹å¤åˆ¶");
  rm.hideRightMenu();
  anzhiyu.snackbarShow("æ­£åœ¨ä¸‹è½½ä¸­ï¼Œè¯·ç¨å", false, 10000);
  if (rm.downloadimging == false) {
    rm.downloadimging = true;
    setTimeout(function () {
      copyImage(imgsrc);
      anzhiyu.snackbarShow("å¤åˆ¶æˆåŠŸï¼å›¾ç‰‡å·²æ·»åŠ ç›²æ°´å°ï¼Œè¯·éµå®ˆç‰ˆæƒåè®®");
      rm.downloadimging = false;
    }, "10000");
  }
};

function imageToBlob(imageURL) {
  const img = new Image();
  const c = document.createElement("canvas");
  const ctx = c.getContext("2d");
  img.crossOrigin = "";
  img.src = imageURL;
  return new Promise(resolve => {
    img.onload = function () {
      c.width = this.naturalWidth;
      c.height = this.naturalHeight;
      ctx.drawImage(this, 0, 0);
      c.toBlob(
        blob => {
          // here the image is a blob
          resolve(blob);
        },
        "image/png",
        0.75
      );
    };
  });
}

async function copyImage(imageURL) {
  const blob = await imageToBlob(imageURL);
  const item = new ClipboardItem({ "image/png": blob });
  navigator.clipboard.write([item]);
}

rm.copyUrl = function (id) {
  const input = document.createElement("input"); // Create a new <input> element
  input.id = "copyVal"; // Set the id of the new element to "copyVal"
  document.body.appendChild(input); // Append the new element to the end of the <body> element
  
  const text = id;
  input.value = text;
  input.select();
  input.setSelectionRange(0, input.value.length);
  document.execCommand("copy");
  
  input.remove(); // Remove the <input> element from the DOM
};

function stopMaskScroll() {
  if (document.getElementById("rightmenu-mask")) {
    let xscroll = document.getElementById("rightmenu-mask");
    xscroll.addEventListener(
      "mousewheel",
      function (e) {
        //é˜»æ­¢æµè§ˆå™¨é»˜è®¤æ–¹æ³•
        rm.hideRightMenu();
        // e.preventDefault();
      },
      { passive: true }
    );
  }
  if (document.getElementById("rightMenu")) {
    let xscroll = document.getElementById("rightMenu");
    xscroll.addEventListener(
      "mousewheel",
      function (e) {
        //é˜»æ­¢æµè§ˆå™¨é»˜è®¤æ–¹æ³•
        rm.hideRightMenu();
        // e.preventDefault();
      },
      { passive: true }
    );
  }
}

rm.rightmenuCopyText = function (txt) {
  if (navigator.clipboard) {
    navigator.clipboard.writeText(txt);
  }
  rm.hideRightMenu();
};

rm.copyPageUrl = function (url) {
  if (!url) {
    url = window.location.href;
  }
  rm.copyUrl(url);
  anzhiyu.snackbarShow("å¤åˆ¶é“¾æ¥åœ°å€æˆåŠŸ", false, 2000);
  rm.hideRightMenu();
};

rm.sharePage = function () {
  var content = window.location.href;
  rm.copyUrl(url);
  anzhiyu.snackbarShow("å¤åˆ¶é“¾æ¥åœ°å€æˆåŠŸ", false, 2000);
  rm.hideRightMenu();
};

// å¤åˆ¶å½“å‰é€‰ä¸­æ–‡æœ¬
var selectTextNow = "";
document.onmouseup = document.ondblclick = selceText;

function selceText() {
  var txt;
  if (document.selection) {
    txt = document.selection.createRange().text;
  } else {
    txt = window.getSelection().toString();
  }
  selectTextNow = txt !== "" ? txt : "";
}

// è¯»å–å‰ªåˆ‡æ¿
rm.readClipboard = function () {
  if (navigator.clipboard) {
    navigator.clipboard.readText().then(clipText => rm.insertAtCaret(globalEvent.target, clipText));
  }
};

// ç²˜è´´æ–‡æœ¬åˆ°ç„¦ç‚¹
rm.insertAtCaret = function (elemt, value) {
  const startPos = elemt.selectionStart,
    endPos = elemt.selectionEnd;
  if (document.selection) {
    elemt.focus();
    var sel = document.selection.createRange();
    sel.text = value;
    elemt.focus();
  } else {
    if (startPos || startPos == "0") {
      var scrollTop = elemt.scrollTop;
      elemt.value = elemt.value.substring(0, startPos) + value + elemt.value.substring(endPos, elemt.value.length);
      elemt.focus();
      elemt.selectionStart = startPos + value.length;
      elemt.selectionEnd = startPos + value.length;
      elemt.scrollTop = scrollTop;
    } else {
      elemt.value += value;
      elemt.focus();
    }
  }
};

//ç²˜è´´æ–‡æœ¬
rm.pasteText = function () {
  const result = rm.readClipboard() || "";
  rm.hideRightMenu();
};

//å¼•ç”¨åˆ°è¯„è®º
rm.rightMenuCommentText = function (txt) {
  rm.hideRightMenu();
  const postCommentDom = document.getElementById("post-comment");
  var domTop = postCommentDom.offsetTop;
  window.scrollTo(0, domTop - 80);
  if (txt == "undefined" || txt == "null") txt = "å¥½æ£’ï¼";
  function setText() {
    setTimeout(() => {
      var input = document.getElementsByClassName("el-textarea__inner")[0];
      if (!input) setText();
      let evt = document.createEvent("HTMLEvents");
      evt.initEvent("input", true, true);
      let inputValue = replaceAll(txt, "\n", "\n> ");
      input.value = "> " + inputValue + "\n\n";
      input.dispatchEvent(evt);
      input.focus();
      input.setSelectionRange(-1, -1);
      if (document.getElementById("comment-tips")) {
        document.getElementById("comment-tips").classList.add("show");
      }
    }, 100);
  }
  setText();
};

//æ›¿æ¢æ‰€æœ‰å†…å®¹
function replaceAll(string, search, replace) {
  return string.split(search).join(replace);
}

// ç™¾åº¦æœç´¢
rm.searchBaidu = function () {
  anzhiyu.snackbarShow("å³å°†è·³è½¬åˆ°ç™¾åº¦æœç´¢", false, 2000);
  setTimeout(function () {
    window.open("https://www.baidu.com/s?wd=" + selectTextNow);
  }, "2000");
  rm.hideRightMenu();
};

//åˆ†äº«é“¾æ¥
rm.copyLink = function () {
  rm.rightmenuCopyText(domhref);
  anzhiyu.snackbarShow("å·²å¤åˆ¶é“¾æ¥åœ°å€");
};

function addRightMenuClickEvent() {
  // æ·»åŠ ç‚¹å‡»äº‹ä»¶
  document.getElementById("menu-backward").addEventListener("click", function () {
  window.history.back();
    rm.hideRightMenu();
  });

  document.getElementById("menu-forward").addEventListener("click", function () {
    window.history.forward();
    rm.hideRightMenu();
  });

  document.getElementById("menu-refresh").addEventListener("click", function () {
    window.location.reload();
  });

  document.getElementById("menu-top").addEventListener("click", function () {
    anzhiyu.scrollToDest(0, 500);
    rm.hideRightMenu();
  });

  const menuLinks = document.querySelectorAll(".menu-link");
  menuLinks.forEach(function (link) {
    link.addEventListener("click", rm.hideRightMenu);
  });

  document.getElementById("menu-darkmode").addEventListener("click", anzhiyu.switchDarkMode);

  document.getElementById("menu-home") && document.getElementById("menu-home").addEventListener("click", function () {
    window.location.href = window.location.origin;
  });

  document.getElementById("menu-randomPost").addEventListener("click", function () {
    toRandomPost();
  });

  document.getElementById("menu-commentBarrage").addEventListener("click", anzhiyu.switchCommentBarrage);

  document.getElementById("rightmenu-mask").addEventListener("click", rm.hideRightMenu);

  document.getElementById("rightmenu-mask").addEventListener("contextmenu", function (event) {
    rm.hideRightMenu();
    event.preventDefault(); // Prevent the default context menu from appearing
  });

  document.getElementById("menu-copy").addEventListener("click", rm.copyPageUrl);

  document.getElementById("menu-pastetext").addEventListener("click", rm.pasteText);

  document.getElementById("menu-copytext").addEventListener("click", function () {
    rm.rightmenuCopyText(selectTextNow);
    anzhiyu.snackbarShow("å¤åˆ¶æˆåŠŸï¼Œå¤åˆ¶å’Œè½¬è½½è¯·æ ‡æ³¨æœ¬æ–‡åœ°å€");
  });

  document.getElementById("menu-commenttext").addEventListener("click", function () {
    rm.rightMenuCommentText(selectTextNow);
  });

  document.getElementById("menu-newwindow").addEventListener("click", function () {
    window.open(domhref, "_blank");
    rm.hideRightMenu();
  });

  document.getElementById("menu-copylink").addEventListener("click", rm.copyLink);

  document.getElementById("menu-downloadimg").addEventListener("click", function () {
    anzhiyu.downloadImage(domImgSrc, "anzhiyu");
  });

  document.getElementById("menu-newwindowimg").addEventListener("click", function () {
    window.open(domImgSrc, "_blank");
    rm.hideRightMenu();
  });

  document.getElementById("menu-copyimg").addEventListener("click", function () {
    rm.writeClipImg(domImgSrc);
  });

  document.getElementById("menu-searchBaidu").addEventListener("click", rm.searchBaidu);

  //éŸ³ä¹
  document.getElementById("menu-music-toggle").addEventListener("click", anzhiyu.musicToggle);

  document.getElementById("menu-music-back").addEventListener("click", anzhiyu.musicSkipBack);

  document.getElementById("menu-music-forward").addEventListener("click", anzhiyu.musicSkipForward);

  document.getElementById("menu-music-copyMusicName").addEventListener("click", function () {
    rm.rightmenuCopyText(anzhiyu.musicGetName());
    anzhiyu.snackbarShow("å¤åˆ¶æ­Œæ›²åç§°æˆåŠŸ", false, 3000);
  });

}

addRightMenuClickEvent();</script><script data-pjax>var themeColorMeta = document.querySelector('meta[name="theme-color"]');
var pageHeaderEl = document.getElementById("page-header");
var navMusicEl = document.getElementById("nav-music");
var consoleEl = document.getElementById("console");
// å·²éšæœºçš„æ­Œæ›²
var selectRandomSong = [];
// éŸ³ä¹é»˜è®¤å£°éŸ³å¤§å°
var musicVolume = 0.8;
// æ˜¯å¦åˆ‡æ¢äº†å‘¨æ°ä¼¦éŸ³ä¹åˆ—è¡¨
var changeMusicListFlag = false;
// å½“å‰é»˜è®¤æ’­æ”¾åˆ—è¡¨
var defaultPlayMusicList = [];

document.getElementById("page-name").innerText = document.title.split(" | Smith")[0];
anzhiyu.initIndexEssay();
anzhiyu.changeTimeInEssay();
anzhiyu.removeBodyPaceClass();
anzhiyu.qrcodeCreate();
anzhiyu.changeTimeInAlbumDetail();
anzhiyu.reflashEssayWaterFall();
anzhiyu.sayhi();
anzhiyu.stopImgRightDrag();
anzhiyu.addNavBackgroundInit();
anzhiyu.setValueToBodyType();
anzhiyu.catalogActive();
anzhiyu.tagsPageActive();
anzhiyu.categoriesBarActive();
anzhiyu.topCategoriesBarScroll();
anzhiyu.switchRightClickMenuHotReview();
anzhiyu.getCustomPlayList();
anzhiyu.addEventListenerConsoleMusicList(false);
setTimeout(() => {if (typeof addFriendLinksInFooter === "function") {addFriendLinksInFooter();}}, 200)</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.js"></script><script src="https://npm.elemecdn.com/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://lib.baomitu.com/pjax/0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div></body></html>