<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no"><title>Javaå­¦ä¹ 3 | Smith</title><meta name="keywords" content="Java"><meta name="author" content="Smith"><meta name="copyright" content="Smith"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#f7f9fe"><meta name="mobile-web-app-capable" content="yes"><meta name="apple-touch-fullscreen" content="yes"><meta name="apple-mobile-web-app-title" content="Javaå­¦ä¹ 3"><meta name="application-name" content="Javaå­¦ä¹ 3"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="#f7f9fe"><meta property="og:type" content="article"><meta property="og:title" content="Javaå­¦ä¹ 3"><meta property="og:url" content="https://smithhs.cn/2021/06/15/2021-06-15-Java%E5%AD%A6%E4%B9%A03/index.html"><meta property="og:site_name" content="Smith"><meta property="og:description" content="å¸¸è§ç®—æ³•ç®€å•è®¤è¯†ç®—æ³• æ’åºç®—æ³• å†’æ³¡æ’åºæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å­¦ä¹ ä¸€ç§ç®—æ³•å«æ’åºç®—æ³•ï¼Œå®ƒå¯ä»¥ä»·æ ¼æ— åºçš„æ•´æ•°ï¼Œæ’åˆ—æˆä»å°åˆ°å¤§çš„å½¢å¼ï¼ˆå‡åºï¼‰ï¼Œæˆ–è€…ä»å¤§åˆ°å°çš„å½¢å¼ï¼ˆé™åºï¼‰ æ’åºç®—æ³•æœ‰å¾ˆå¤šç§ï¼Œæˆ‘ä»¬è¿™é‡Œåªå­¦ä¹ æ¯”è¾ƒç®€å•çš„ä¸¤ç§ï¼Œä¸€ç§æ˜¯å†’æ³¡æ’åºï¼Œä¸€ç§æ˜¯é€‰æ‹©æ’åºã€‚å­¦ä¹ ç®—æ³•æˆ‘ä»¬å…ˆè¦ææ¸…æ¥šç®—æ³•çš„æµç¨‹ï¼Œç„¶åå†å»â€œæ¨æ•²â€œå¦‚ä½•å†™ä»£ç ã€‚ï¼ˆ"><meta property="og:locale" content="zh-CN"><meta property="og:image" content="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/java%E5%AD%A6%E4%B9%A0.webp"><meta property="article:author" content="Smith"><meta property="article:tag"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/java%E5%AD%A6%E4%B9%A0.webp"><link rel="shortcut icon" href="/favicon.ico"><link rel="canonical" href="https://smithhs.cn/2021/06/15/2021-06-15-Java%E5%AD%A6%E4%B9%A03/"><link rel="preconnect" href="//npm.elemecdn.com"/><link rel="preconnect" href="//npm.onmicrosoft.cn"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="xxx"/><meta name="baidu-site-verification" content="code-xxx"/><meta name="msvalidate.01" content="xxx"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/node-snackbar/0.1.16/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.cbd.int/@fancyapps/ui@5.0.14/dist/fancybox/fancybox.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/swiper/swiper.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  preloader: {"source":3},
  friends_vue_info: undefined,
  navMusic: true,
  mainTone: undefined,
  authorStatus: {"skills":["ğŸ¤–ï¸ æ•°ç ç§‘æŠ€çˆ±å¥½è€…","ğŸ” åˆ†äº«ä¸çƒ­å¿ƒå¸®åŠ©","ğŸ  æ™ºèƒ½å®¶å±…å°èƒ½æ‰‹","ğŸ”¨ è®¾è®¡å¼€å‘ä¸€æ¡é¾™","ğŸ¤ ä¸“ä¿®äº¤äº’ä¸è®¾è®¡","ğŸƒ è„šè¸å®åœ°è¡ŒåŠ¨æ´¾","ğŸ§± å›¢é˜Ÿå°ç»„å‘åŠ¨æœº","ğŸ’¢ å£®æ±‰äººç‹ è¯ä¸å¤š"]},
  algolia: undefined,
  localSearch: undefined,
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"ç¹","msgToSimplifiedChinese":"ç®€","rightMenuMsgToTraditionalChinese":"è½¬ä¸ºç¹ä½“","rightMenuMsgToSimplifiedChinese":"è½¬ä¸ºç®€ä½“"},
  noticeOutdate: {"limitDay":365,"position":"top","messagePrev":"It has been","messageNext":"days since the last update, the content of the article may be outdated."},
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":240},
  copy: {
    success: 'å¤åˆ¶æˆåŠŸ',
    error: 'å¤åˆ¶é”™è¯¯',
    noSupport: 'æµè§ˆå™¨ä¸æ”¯æŒ'
  },
  relativeDate: {
    homepage: false,
    simplehomepage: true,
    post: false
  },
  runtime: 'å¤©',
  date_suffix: {
    just: 'åˆšåˆš',
    min: 'åˆ†é’Ÿå‰',
    hour: 'å°æ—¶å‰',
    day: 'å¤©å‰',
    month: 'ä¸ªæœˆå‰'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"ä½ å·²åˆ‡æ¢ä¸ºç¹ä½“","cht_to_chs":"ä½ å·²åˆ‡æ¢ä¸ºç®€ä½“","day_to_night":"ä½ å·²åˆ‡æ¢ä¸ºæ·±è‰²æ¨¡å¼","night_to_day":"ä½ å·²åˆ‡æ¢ä¸ºæµ…è‰²æ¨¡å¼","bgLight":"#3b70fc","bgDark":"#1f1f1f","position":"top-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.min.js',
      css: 'https://cdn.cbd.int/flickr-justified-gallery@2.1.2/dist/fjGallery.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: true,
  isAnchor: false,
  shortcutKey: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'Javaå­¦ä¹ 3',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2024-09-04 10:14:25',
  postMainColor: '',
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
    win.getCSS = (url,id = false) => new Promise((resolve, reject) => {
      const link = document.createElement('link')
      link.rel = 'stylesheet'
      link.href = url
      if (id) link.id = id
      link.onerror = reject
      link.onload = link.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        link.onload = link.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(link)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#18171d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#f7f9fe')
        }
      }
      const t = saveToLocal.get('theme')
    
          const isDarkMode = window.matchMedia('(prefers-color-scheme: dark)').matches
          const isLightMode = window.matchMedia('(prefers-color-scheme: light)').matches
          const isNotSpecified = window.matchMedia('(prefers-color-scheme: no-preference)').matches
          const hasNoSupport = !isDarkMode && !isLightMode && !isNotSpecified

          if (t === undefined) {
            if (isLightMode) activateLightMode()
            else if (isDarkMode) activateDarkMode()
            else if (isNotSpecified || hasNoSupport) {
              const now = new Date()
              const hour = now.getHours()
              const isNight = hour <= 6 || hour >= 18
              isNight ? activateDarkMode() : activateLightMode()
            }
            window.matchMedia('(prefers-color-scheme: dark)').addListener(function (e) {
              if (saveToLocal.get('theme') === undefined) {
                e.matches ? activateDarkMode() : activateLightMode()
              }
            })
          } else if (t === 'light') activateLightMode()
          else activateDarkMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.3.0"></head><body data-type="anzhiyu"><div id="web_bg"></div><div id="an_music_bg"></div><div id="loading-box" onclick="document.getElementById(&quot;loading-box&quot;).classList.add(&quot;loaded&quot;)"><div class="loading-bg"><img class="loading-img nolazyload" alt="åŠ è½½å¤´åƒ" src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/d20f536c64d06e5fcf4bfe2ec5dc25d.jpg"/><div class="loading-image-dot"></div><div id="loading-percentage">0%</div></div></div><script>if (GLOBAL_CONFIG.preloader.source == "2" || GLOBAL_CONFIG.preloader.source == "3") {
  const loadingPercentage = document.getElementById("loading-percentage");
  let loadingPercentageTimer = setInterval(function() {
    var progressBar = document.querySelector(".pace-progress");
    if (!progressBar) return
    var currentValue = progressBar.getAttribute("data-progress-text");
    if (currentValue !== loadingPercentage.textContent) {
      loadingPercentage.textContent = currentValue;
      if (currentValue === "100%") {
        clearInterval(loadingPercentageTimer);
      }
    }
  }, 100);
}

const preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded");
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")
  }
}
window.addEventListener('load',()=> { preloader.endLoading() })
setTimeout(function(){preloader.endLoading();},10000)

if (true) {
  document.addEventListener('pjax:send', () => { preloader.initLoading() })
  document.addEventListener('pjax:complete', () => { preloader.endLoading() })
}</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.0.0/progress_bar/progress_bar.css"/><script async="async" src="https://cdn.cbd.int/pace-js@1.2.4/pace.min.js" data-pace-options="{ &quot;restartOnRequestAfter&quot;:false,&quot;eventLag&quot;:false}"></script><div id="web_box"><div id="web_container"><div id="menu-mask"></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header"><nav id="nav"><div id="nav-group"><span id="blog_name"><div class="back-home-button"><i class="anzhiyufont anzhiyu-icon-grip-vertical"></i><div class="back-menu-list-groups"><div class="back-menu-list-group"><div class="back-menu-list-title">ç½‘é¡µ</div><div class="back-menu-list"><a class="back-menu-item" href="https://smithhs.cn/" title="åšå®¢" target="_blank"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/favicon.png" alt="åšå®¢"/><span class="back-menu-item-text">åšå®¢</span></a></div></div><div class="back-menu-list-group"><div class="back-menu-list-title">é¡¹ç›®</div><div class="back-menu-list"><a class="back-menu-item" href="http://robot.onliu.cn/" title="Robot" target="_blank"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/img/cupfox.png" alt="Robot"/><span class="back-menu-item-text">Robot</span></a><a class="back-menu-item" href="http://res.onliu.cn" title="Sale" target="_blank"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://alandodo-1315761622.cos.ap-beijing.myqcloud.com/blog-tuce/tubiao.jpg" alt="Sale"/><span class="back-menu-item-text">Sale</span></a><a class="back-menu-item" href="http://se.onliu.cn/" title="èµ„æºå…±äº«" target="_blank"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://alandodo-1315761622.cos.ap-beijing.myqcloud.com/blog/x126.png" alt="èµ„æºå…±äº«"/><span class="back-menu-item-text">èµ„æºå…±äº«</span></a><a class="back-menu-item" href="https://github.com/Smithhss" title="Github" target="_blank"><img class="back-menu-item-icon" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/GitHub.png" alt="Github"/><span class="back-menu-item-text">Github</span></a></div></div></div></div><a id="site-name" href="/" accesskey="h"><div class="title">Smith</div><i class="anzhiyufont anzhiyu-icon-house-chimney"></i></a></span><div class="mask-name-container"><div id="name-container"><a id="page-name" href="javascript:anzhiyu.scrollToDest(0, 500)">PAGE_NAME</a></div></div><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> æ–‡ç« </span></a><ul class="menus_item_child" style="left:-79px;"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> éš§é“</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> åˆ†ç±»</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> æ ‡ç­¾</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> æˆ‘çš„</span></a><ul class="menus_item_child" style="left:-31px;"><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> ç›¸å†Œé›†</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> éŸ³ä¹é¦†</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> å…³äº</span></a><ul class="menus_item_child" style="left:-79px;"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> å…³äºæˆ‘</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> é—²è¨€ç¢è¯­</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> éšä¾¿é€›é€›</span></a></li></ul></div></div></div><div id="nav-right"><div class="nav-button only-home" id="travellings_button" title="éšæœºå‰å¾€ä¸€ä¸ªå¼€å¾€é¡¹ç›®ç½‘ç«™"><a class="site-page" onclick="anzhiyu.totraveling()" title="éšæœºå‰å¾€ä¸€ä¸ªå¼€å¾€é¡¹ç›®ç½‘ç«™" href="javascript:void(0);" rel="external nofollow" data-pjax-state="external"><i class="anzhiyufont anzhiyu-icon-train"></i></a></div><div class="nav-button" id="randomPost_button"><a class="site-page" onclick="toRandomPost()" title="éšæœºå‰å¾€ä¸€ä¸ªæ–‡ç« " href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-dice"></i></a></div><input id="center-console" type="checkbox"/><label class="widget" for="center-console" title="ä¸­æ§å°" onclick="anzhiyu.switchConsole();"><i class="left"></i><i class="widget center"></i><i class="widget right"></i></label><div id="console"><div class="console-card-group-reward"><ul class="reward-all console-card"><li class="reward-item"><a href="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/1.jpg" target="_blank"><img class="post-qr-code-img" alt="wechat" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/1.jpg"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/2.jpg" target="_blank"><img class="post-qr-code-img" alt="alipay" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/2.jpg"/></a><div class="post-qr-code-desc">alipay</div></li></ul></div><div class="console-card-group"><div class="console-card-group-left"><div class="console-card" id="card-newest-comments"><div class="card-content"><div class="author-content-item-tips">äº’åŠ¨</div><span class="author-content-item-title"> <span>æœ€æ–°è¯„è®º</span></span></div><div class="aside-list"><span>æ­£åœ¨åŠ è½½ä¸­...</span></div></div></div><div class="console-card-group-right"><div class="console-card tags"><div class="card-content"><div class="author-content-item-tips">å…´è¶£ç‚¹</div><span class="author-content-item-title">å¯»æ‰¾ä½ æ„Ÿå…´è¶£çš„é¢†åŸŸ</span><div class="card-tags"><div class="item-headline"></div><div class="card-tag-cloud"><a href="/tags/Android-Studio/" style="font-size: 1.05rem;">Android Studio<sup>1</sup></a><a href="/tags/App/" style="font-size: 1.05rem;">App<sup>2</sup></a><a href="/tags/Butterfly/" style="font-size: 1.05rem;">Butterfly<sup>1</sup></a><a href="/tags/C/" style="font-size: 1.05rem;">C++<sup>1</sup></a><a href="/tags/CSS/" style="font-size: 1.05rem;">CSS<sup>1</sup></a><a href="/tags/Cisco-Packet-Tracer/" style="font-size: 1.05rem;">Cisco Packet Tracer<sup>1</sup></a><a href="/tags/Easypan/" style="font-size: 1.05rem;">Easypan<sup>2</sup></a><a href="/tags/FurtherMathematics/" style="font-size: 1.05rem;">FurtherMathematics<sup>1</sup></a><a href="/tags/GPT/" style="font-size: 1.05rem;">GPT<sup>1</sup></a><a href="/tags/Git2/" style="font-size: 1.05rem;">Git2<sup>1</sup></a><a href="/tags/HTML/" style="font-size: 1.05rem;">HTML<sup>1</sup></a><a href="/tags/Hexo/" style="font-size: 1.05rem;">Hexo<sup>1</sup></a><a href="/tags/Java/" style="font-size: 1.05rem;">Java<sup>6</sup></a><a href="/tags/JavaScript/" style="font-size: 1.05rem;">JavaScript<sup>1</sup></a><a href="/tags/JavaWeb/" style="font-size: 1.05rem;">JavaWeb<sup>2</sup></a><a href="/tags/Jrebel/" style="font-size: 1.05rem;">Jrebel<sup>1</sup></a><a href="/tags/LeetCode/" style="font-size: 1.05rem;">LeetCode<sup>1</sup></a><a href="/tags/Linux/" style="font-size: 1.05rem;">Linux<sup>3</sup></a><a href="/tags/Markdown/" style="font-size: 1.05rem;">Markdown<sup>2</sup></a><a href="/tags/Maven/" style="font-size: 1.05rem;">Maven<sup>2</sup></a><a href="/tags/Mysql/" style="font-size: 1.05rem;">Mysql<sup>1</sup></a><a href="/tags/NoSql/" style="font-size: 1.05rem;">NoSql<sup>1</sup></a><a href="/tags/Nodejs/" style="font-size: 1.05rem;">Nodejs<sup>2</sup></a><a href="/tags/Python/" style="font-size: 1.05rem;">Python<sup>4</sup></a><a href="/tags/Spring/" style="font-size: 1.05rem;">Spring<sup>2</sup></a><a href="/tags/VMware/" style="font-size: 1.05rem;">VMware<sup>2</sup></a><a href="/tags/Vue/" style="font-size: 1.05rem;">Vue<sup>1</sup></a><a href="/tags/YouHou/" style="font-size: 1.05rem;">YouHou<sup>1</sup></a><a href="/tags/books/" style="font-size: 1.05rem;">books<sup>1</sup></a><a href="/tags/butterfly/" style="font-size: 1.05rem;">butterfly<sup>1</sup></a><a href="/tags/clash/" style="font-size: 1.05rem;">clash<sup>1</sup></a><a href="/tags/project/" style="font-size: 1.05rem;">project<sup>4</sup></a><a href="/tags/%E5%89%8D%E7%AB%AF/" style="font-size: 1.05rem;">å‰ç«¯<sup>1</sup></a><a href="/tags/%E5%BC%80%E5%8F%91%E6%A1%86%E6%9E%B6/" style="font-size: 1.05rem;">å¼€å‘æ¡†æ¶<sup>1</sup></a><a href="/tags/%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83/" style="font-size: 1.05rem;">å¼€å‘ç¯å¢ƒ<sup>1</sup></a><a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" style="font-size: 1.05rem;">æ“ä½œç³»ç»Ÿ<sup>1</sup></a><a href="/tags/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84%E4%B8%8E%E7%AE%97%E6%B3%95/" style="font-size: 1.05rem;">æ•°æ®ç»“æ„ä¸ç®—æ³•<sup>1</sup></a><a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BB%84%E6%88%90%E5%8E%9F%E7%90%86/" style="font-size: 1.05rem;">è®¡ç®—æœºç»„æˆåŸç†<sup>1</sup></a><a href="/tags/%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%BD%91%E7%BB%9C/" style="font-size: 1.05rem;">è®¡ç®—æœºç½‘ç»œ<sup>1</sup></a><a href="/tags/%E8%BD%AF%E4%BB%B6%E5%B7%A5%E7%A8%8B/" style="font-size: 1.05rem;">è½¯ä»¶å·¥ç¨‹<sup>1</sup></a></div></div><hr/></div></div><div class="console-card history"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-box-archiv"></i><span>æ–‡ç« </span></div><div class="card-archives"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>å½’æ¡£</span><a class="card-more-btn" href="/archives/" title="æŸ¥çœ‹æ›´å¤š">
    <i class="anzhiyufont anzhiyu-icon-angle-right"></i></a></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/11/"><span class="card-archive-list-date">åä¸€æœˆ 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">3</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/10/"><span class="card-archive-list-date">åæœˆ 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/09/"><span class="card-archive-list-date">ä¹æœˆ 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">6</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/07/"><span class="card-archive-list-date">ä¸ƒæœˆ 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/06/"><span class="card-archive-list-date">å…­æœˆ 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">7</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/05/"><span class="card-archive-list-date">äº”æœˆ 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">17</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2024/04/"><span class="card-archive-list-date">å››æœˆ 2024</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">2</span><span>ç¯‡</span></div></a></li><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2023/06/"><span class="card-archive-list-date">å…­æœˆ 2023</span><div class="card-archive-list-count-group"><span class="card-archive-list-count">1</span><span>ç¯‡</span></div></a></li></ul></div><hr/></div></div></div><div class="button-group"><div class="console-btn-item"><a class="darkmode_switchbutton" onclick="anzhiyu.switchDarkMode()" title="æ˜¾ç¤ºæ¨¡å¼åˆ‡æ¢" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-moon"></i></a></div><div class="console-btn-item" id="consoleHideAside" onclick="anzhiyu.hideAsideBtn()" title="è¾¹æ æ˜¾ç¤ºæ§åˆ¶"><a class="asideSwitch"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></a></div><div class="console-btn-item on" id="consoleCommentBarrage" onclick="anzhiyu.switchCommentBarrage()" title="çƒ­è¯„å¼€å…³"><a class="commentBarrage"><i class="anzhiyufont anzhiyu-icon-message"></i></a></div><div class="console-btn-item" id="consoleMusic" onclick="anzhiyu.musicToggle()" title="éŸ³ä¹å¼€å…³"><a class="music-switch"><i class="anzhiyufont anzhiyu-icon-music"></i></a></div></div><div class="console-mask" onclick="anzhiyu.hideConsole()" href="javascript:void(0);"></div></div><div class="nav-button" id="nav-totop"><a class="totopbtn" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i><span id="percent" onclick="anzhiyu.scrollToDest(0,500)">0</span></a></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-bars"></i></a></div></div></div></nav><div id="post-info"><div id="post-firstinfo"><div class="meta-firstline"><a class="post-meta-original">åŸåˆ›</a><span class="post-meta-categories"><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-inbox post-meta-icon"></i><a class="post-meta-categories" href="/categories/Programming/">Programming</a></span><span class="article-meta tags"><a class="article-meta__tags" href="/tags/Java/" tabindex="-1"> <span> <i class="anzhiyufont anzhiyu-icon-hashtag"></i>Java</span></a></span></div></div><h1 class="post-title">Javaå­¦ä¹ 3</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="post-meta-icon anzhiyufont anzhiyu-icon-calendar-days"></i><span class="post-meta-label">å‘è¡¨äº</span><time datetime="2021-06-15T07:24:00.000Z" title="å‘è¡¨äº 2021-06-15 15:24:00">2021-06-15</time></span></div><div class="meta-secondline"><span class="post-meta-separator"></span><span class="post-meta-wordcount"><i class="anzhiyufont anzhiyu-icon-file-word post-meta-icon" title="æ–‡ç« å­—æ•°"></i><span class="post-meta-label" title="æ–‡ç« å­—æ•°">å­—æ•°æ€»è®¡:</span><span class="word-count" title="æ–‡ç« å­—æ•°">65.7k</span><span class="post-meta-separator"></span><i class="anzhiyufont anzhiyu-icon-clock post-meta-icon" title="é˜…è¯»æ—¶é•¿"></i><span class="post-meta-label" title="é˜…è¯»æ—¶é•¿">é˜…è¯»æ—¶é•¿:</span><span>244åˆ†é’Ÿ</span></span><span class="post-meta-separator"></span><span class="post-meta-pv-cv" id="" data-flag-title="Javaå­¦ä¹ 3"><i class="anzhiyufont anzhiyu-icon-fw-eye post-meta-icon"></i><span class="post-meta-label" title="é˜…è¯»é‡">é˜…è¯»é‡:</span><span id="busuanzi_value_page_pv"><i class="anzhiyufont anzhiyu-icon-spinner anzhiyu-spin"></i></span></span><span class="post-meta-separator">       </span><span class="post-meta-position" title="ä½œè€…IPå±åœ°ä¸ºçŸ³å®¶åº„"><i class="anzhiyufont anzhiyu-icon-location-dot"></i>çŸ³å®¶åº„</span></div></div></div><section class="main-hero-waves-area waves-area"><svg class="waves-svg" xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" viewBox="0 24 150 28" preserveAspectRatio="none" shape-rendering="auto"><defs><path id="gentle-wave" d="M -160 44 c 30 0 58 -18 88 -18 s 58 18 88 18 s 58 -18 88 -18 s 58 18 88 18 v 44 h -352 Z"></path></defs><g class="parallax"><use href="#gentle-wave" x="48" y="0"></use><use href="#gentle-wave" x="48" y="3"></use><use href="#gentle-wave" x="48" y="5"></use><use href="#gentle-wave" x="48" y="7"></use></g></svg></section><div id="post-top-cover"><img class="nolazyload" id="post-top-bg" src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/java%E5%AD%A6%E4%B9%A0.webp"></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="å¸¸è§ç®—æ³•"><a href="#å¸¸è§ç®—æ³•" class="headerlink" title="å¸¸è§ç®—æ³•"></a>å¸¸è§ç®—æ³•</h1><h2 id="ç®€å•è®¤è¯†ç®—æ³•"><a href="#ç®€å•è®¤è¯†ç®—æ³•" class="headerlink" title="ç®€å•è®¤è¯†ç®—æ³•"></a>ç®€å•è®¤è¯†ç®—æ³•</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh72.png"></p>
<h2 id="æ’åºç®—æ³•"><a href="#æ’åºç®—æ³•" class="headerlink" title="æ’åºç®—æ³•"></a>æ’åºç®—æ³•</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh73.png"></p>
<h3 id="å†’æ³¡æ’åº"><a href="#å†’æ³¡æ’åº" class="headerlink" title="å†’æ³¡æ’åº"></a>å†’æ³¡æ’åº</h3><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å­¦ä¹ ä¸€ç§ç®—æ³•å«æ’åºç®—æ³•ï¼Œå®ƒå¯ä»¥ä»·æ ¼æ— åºçš„æ•´æ•°ï¼Œæ’åˆ—æˆä»å°åˆ°å¤§çš„å½¢å¼ï¼ˆå‡åºï¼‰ï¼Œæˆ–è€…ä»å¤§åˆ°å°çš„å½¢å¼ï¼ˆé™åºï¼‰</p>
<p>æ’åºç®—æ³•æœ‰å¾ˆå¤šç§ï¼Œæˆ‘ä»¬è¿™é‡Œåªå­¦ä¹ æ¯”è¾ƒç®€å•çš„ä¸¤ç§ï¼Œä¸€ç§æ˜¯å†’æ³¡æ’åºï¼Œä¸€ç§æ˜¯é€‰æ‹©æ’åºã€‚å­¦ä¹ ç®—æ³•æˆ‘ä»¬å…ˆè¦ææ¸…æ¥šç®—æ³•çš„æµç¨‹ï¼Œç„¶åå†å»â€œæ¨æ•²â€œå¦‚ä½•å†™ä»£ç ã€‚ï¼ˆ<strong>æ³¨æ„ï¼Œæˆ‘è¿™é‡Œç”¨çš„æ¬¡æ˜¯æ¨æ•²ï¼Œä¹Ÿå°±æ˜¯è¯´ç®—æ³•è¿™æ ·çš„ä»£ç å¹¶ä¸æ˜¯ä¸€æ¬¡æˆå‹çš„ï¼Œæ˜¯éœ€è¦åå¤ä¿®æ”¹æ‰èƒ½å†™å¥½çš„</strong>ï¼‰ã€‚</p>
<p>å…ˆæ¥å­¦ä¹ å†’æ³¡æ’åºï¼Œå…ˆæ¥ä»‹ç»ä¸€ä¸‹ï¼Œå†’æ³¡æ’åºçš„æµç¨‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">å†’æ³¡æ’åºæ ¸å¿ƒæ€è·¯ï¼šæ¯æ¬¡å°†ç›¸é‚»çš„ä¸¤ä¸ªå…ƒç´ ç»§ç»­æ¯”è¾ƒ</span><br><span class="line">å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</span><br><span class="line">   ç¬¬ä¸€è½®æ¯”è¾ƒ <span class="number">3</span>æ¬¡</span><br><span class="line">   ç¬¬äºŒè½®æ¯”è¾ƒ <span class="number">2</span>æ¬¡</span><br><span class="line">   ç¬¬ä¸‰è½®æ¯”è¾ƒ <span class="number">1</span>æ¬¡</span><br></pre></td></tr></table></figure>


<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 1ã€å‡†å¤‡ä¸€ä¸ªæ•°ç»„</span></span><br><span class="line">        <span class="type">int</span>[] arr = &#123;<span class="number">5</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>&#125;;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€å®šä¹‰ä¸€ä¸ªå¾ªç¯æ§åˆ¶æ’å‡ è½®</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; arr.length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">            <span class="comment">// i = 0  1  2           ã€5ï¼Œ 2ï¼Œ 3ï¼Œ 1ã€‘    æ¬¡æ•°</span></span><br><span class="line">            <span class="comment">// i = 0 ç¬¬ä¸€è½®            0   1   2         3</span></span><br><span class="line">            <span class="comment">// i = 1 ç¬¬äºŒè½®            0   1             2</span></span><br><span class="line">            <span class="comment">// i = 2 ç¬¬ä¸‰è½®            0                 1</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// 3ã€å®šä¹‰ä¸€ä¸ªå¾ªç¯æ§åˆ¶æ¯è½®æ¯”è¾ƒå‡ æ¬¡ã€‚</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; arr.length - i - <span class="number">1</span>; j++) &#123;</span><br><span class="line">                <span class="comment">// åˆ¤æ–­å½“å‰ä½ç½®çš„å…ƒç´ å€¼ï¼Œæ˜¯å¦å¤§äºåä¸€ä¸ªä½ç½®å¤„çš„å…ƒç´ å€¼ï¼Œå¦‚æœå¤§åˆ™äº¤æ¢ã€‚</span></span><br><span class="line">                <span class="keyword">if</span>(arr[j] &gt; arr[j+<span class="number">1</span>])&#123;</span><br><span class="line">                    <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> arr[j + <span class="number">1</span>];</span><br><span class="line">                    arr[j + <span class="number">1</span>] = arr[j];</span><br><span class="line">                    arr[j] = temp;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(Arrays.toString(arr));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="1-2-é€‰æ‹©æ’åº"><a href="#1-2-é€‰æ‹©æ’åº" class="headerlink" title="1.2 é€‰æ‹©æ’åº"></a>1.2 é€‰æ‹©æ’åº</h3><p>æ¥ä¸‹æ¥ï¼ŒæŒ‰ç…§é€‰æ‹©æ’åºçš„æµç¨‹ç¼–å†™ä»£ç </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">ublic <span class="keyword">class</span> <span class="title class_">Test2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 1ã€å‡†å¤‡å¥½ä¸€ä¸ªæ•°ç»„</span></span><br><span class="line">        <span class="type">int</span>[] arr = &#123;<span class="number">5</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">2</span>&#125;;</span><br><span class="line">        <span class="comment">//           0  1  2  3</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€æ§åˆ¶é€‰æ‹©å‡ è½®</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; arr.length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">            <span class="comment">// i = 0 ç¬¬ä¸€è½®    j = 1 2 3</span></span><br><span class="line">            <span class="comment">// i = 1 ç¬¬äºŒè½®    j = 2 3</span></span><br><span class="line">            <span class="comment">// i = 2 ç¬¬ä¸‰è½®    j = 3</span></span><br><span class="line">            <span class="comment">// 3ã€æ§åˆ¶æ¯è½®é€‰æ‹©å‡ æ¬¡ã€‚</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i + <span class="number">1</span>; j &lt; arr.length; j++) &#123;</span><br><span class="line">                <span class="comment">// åˆ¤æ–­å½“å‰ä½ç½®æ˜¯å¦å¤§äºåé¢ä½ç½®å¤„çš„å…ƒç´ å€¼ï¼Œè‹¥å¤§äºåˆ™äº¤æ¢ã€‚</span></span><br><span class="line">                <span class="keyword">if</span>(arr[i] &gt; arr[j])&#123;</span><br><span class="line">                    <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> arr[i];</span><br><span class="line">                    arr[i] = arr[j];</span><br><span class="line">                    arr[j] = temp;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(Arrays.toString(arr));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æŸ¥æ‰¾ç®—æ³•"><a href="#æŸ¥æ‰¾ç®—æ³•" class="headerlink" title="æŸ¥æ‰¾ç®—æ³•"></a>æŸ¥æ‰¾ç®—æ³•</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh74.png"></p>
<p><strong>å…ˆèŠä¸€èŠåŸºæœ¬æŸ¥æ‰¾ï¼š</strong>å‡è®¾æˆ‘ä»¬è¦æŸ¥æ‰¾çš„å…ƒç´ æ˜¯81ï¼Œå¦‚æœæ˜¯åŸºæœ¬æŸ¥æ‰¾çš„è¯ï¼Œåªèƒ½ä»0ç´¢å¼•å¼€å§‹ä¸€ä¸ªä¸€ä¸ªå¾€åæ‰¾ï¼Œä½†æ˜¯å¦‚æœå…ƒç´ æ¯”è¾ƒå¤šï¼Œä½ è¦æŸ¥æ‰¾çš„å…ƒç´ æ¯”è¾ƒé åçš„è¯ï¼Œè¿™æ ·æŸ¥æ‰¾çš„æ­¤å¤„å°±æ¯”è¾ƒå¤šã€‚æ€§èƒ½æ¯”è¾ƒå·®ã€‚</p>
<p><strong>å†è®²äºŒåˆ†æŸ¥æ‰¾</strong>ï¼šäºŒåˆ†æŸ¥æ‰¾çš„ä¸»è¦ç‰¹ç‚¹æ˜¯ï¼Œæ¯æ¬¡æŸ¥æ‰¾èƒ½æ’é™¤ä¸€èˆ¬å…ƒç´ ï¼Œè¿™æ ·æ•ˆç‡æ˜æ˜¾æé«˜ã€‚<strong>ä½†æ˜¯äºŒåˆ†æŸ¥æ‰¾è¦æ±‚æ¯”è¾ƒè‹›åˆ»ï¼Œå®ƒè¦æ±‚å…ƒç´ å¿…é¡»æ˜¯æœ‰åºçš„ï¼Œå¦åˆ™ä¸èƒ½è¿›è¡ŒäºŒåˆ†æŸ¥æ‰¾ã€‚</strong></p>
<ul>
<li>äºŒåˆ†æŸ¥æ‰¾çš„æ ¸å¿ƒæ€è·¯</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">ç¬¬<span class="number">1</span>æ­¥ï¼šå…ˆå®šä¹‰ä¸¤ä¸ªå˜é‡ï¼Œåˆ†åˆ«è®°å½•å¼€å§‹ç´¢å¼•(left)å’Œç»“æŸç´¢å¼•(right)</span><br><span class="line">ç¬¬<span class="number">2</span>æ­¥ï¼šè®¡ç®—ä¸­é—´ä½ç½®çš„ç´¢å¼•ï¼Œmid = (left+right)/<span class="number">2</span>;</span><br><span class="line">ç¬¬<span class="number">3</span>æ­¥ï¼šæ¯æ¬¡æŸ¥æ‰¾ä¸­é—´midä½ç½®çš„å…ƒç´ ï¼Œå’Œç›®æ ‡å…ƒç´ keyè¿›è¡Œæ¯”è¾ƒ</span><br><span class="line">        å¦‚æœä¸­é—´ä½ç½®å…ƒç´ æ¯”ç›®æ ‡å…ƒç´ å°ï¼Œé‚£å°±è¯´æ˜midå‰é¢çš„å…ƒç´ éƒ½æ¯”ç›®æ ‡å…ƒç´ å°</span><br><span class="line">            æ­¤æ—¶ï¼šleft = mid+<span class="number">1</span></span><br><span class="line">        å¦‚æœä¸­é—´ä½ç½®å…ƒç´ æ¯”ç›®æ ‡å…ƒç´ å¤§ï¼Œé‚£è¯´æ˜midåé¢çš„å…ƒç´ éƒ½æ¯”ç›®æ ‡å…ƒç´ å¤§</span><br><span class="line">            æ­¤æ—¶ï¼šright = mid-<span class="number">1</span></span><br><span class="line">        å¦‚æœä¸­é—´ä½ç½®å…ƒç´ å’Œç›®æ ‡å…ƒç´ ç›¸ç­‰ï¼Œé‚£è¯´æ˜midå°±æ˜¯æˆ‘ä»¬è¦æ‰¾çš„ä½ç½®</span><br><span class="line">            æ­¤æ—¶ï¼šæŠŠmidè¿”å›		</span><br><span class="line">æ³¨æ„ï¼šä¸€æ¬æŸ¥æ‰¾ä¸€æ¬¡è‚¯å®šæ˜¯ä¸å¤Ÿçš„ï¼Œæ‰€ä»¥éœ€è¦æŠŠç¬¬<span class="number">1</span>æ­¥å’Œç¬¬<span class="number">2</span>æ­¥å¾ªç¯æ¥åšï¼Œåªåˆ°left&gt;endå°±ç»“æŸï¼Œå¦‚æœæœ€åè¿˜æ²¡æœ‰æ‰¾åˆ°ç›®æ ‡å…ƒç´ ï¼Œå°±è¿”å›-<span class="number">1.</span></span><br></pre></td></tr></table></figure>


<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡ï¼šæŒæ¡äºŒåˆ†æŸ¥æ‰¾ç®—æ³•ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 1ã€å‡†å¤‡å¥½ä¸€ä¸ªæ•°ç»„ã€‚</span></span><br><span class="line">        <span class="type">int</span>[] arr = &#123;<span class="number">7</span>, <span class="number">23</span>, <span class="number">79</span>, <span class="number">81</span>, <span class="number">103</span>, <span class="number">127</span>, <span class="number">131</span>, <span class="number">147</span>&#125;;</span><br><span class="line"></span><br><span class="line">        System.out.println(binarySearch(arr, <span class="number">150</span>));</span><br><span class="line"></span><br><span class="line">        System.out.println(Arrays.binarySearch(arr, <span class="number">81</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">binarySearch</span><span class="params">(<span class="type">int</span>[] arr, <span class="type">int</span> data)</span>&#123;</span><br><span class="line">        <span class="comment">// 1ã€å®šä¹‰ä¸¤ä¸ªå˜é‡ï¼Œä¸€ä¸ªç«™åœ¨å·¦è¾¹ä½ç½®ï¼Œä¸€ä¸ªç«™åœ¨å³è¾¹ä½ç½®</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> arr.length - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€å®šä¹‰ä¸€ä¸ªå¾ªç¯æ§åˆ¶æŠ˜åŠã€‚</span></span><br><span class="line">        <span class="keyword">while</span> (left &lt;= right)&#123;</span><br><span class="line">            <span class="comment">// 3ã€æ¯æ¬¡æŠ˜åŠï¼Œéƒ½ç®—å‡ºä¸­é—´ä½ç½®å¤„çš„ç´¢å¼•</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">middle</span> <span class="operator">=</span> (left + right) / <span class="number">2</span>;</span><br><span class="line">            <span class="comment">// 4ã€åˆ¤æ–­å½“å‰è¦æ‰¾çš„å…ƒç´ å€¼ï¼Œä¸ä¸­é—´ä½ç½®å¤„çš„å…ƒç´ å€¼çš„å¤§å°æƒ…å†µã€‚</span></span><br><span class="line">            <span class="keyword">if</span>(data &lt; arr[middle])&#123;</span><br><span class="line">                <span class="comment">// å¾€å·¦è¾¹æ‰¾ï¼Œæˆªæ­¢ä½ç½®ï¼ˆå³è¾¹ä½ç½®ï¼‰ = ä¸­é—´ä½ç½® - 1</span></span><br><span class="line">                right = middle - <span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(data &gt; arr[middle])&#123;</span><br><span class="line">                <span class="comment">// å¾€å³è¾¹æ‰¾ï¼Œèµ·å§‹ä½ç½®ï¼ˆå·¦è¾¹ä½ç½®ï¼‰ = ä¸­é—´ä½ç½® + 1</span></span><br><span class="line">                left = middle + <span class="number">1</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// ä¸­é—´ä½ç½®å¤„çš„å…ƒç´ å€¼ï¼Œæ­£å¥½ç­‰äºæˆ‘ä»¬è¦æ‰¾çš„å…ƒç´ å€¼</span></span><br><span class="line">                <span class="keyword">return</span> middle;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>; <span class="comment">// -1ç‰¹æ®Šç»“æœï¼Œå°±ä»£è¡¨æ²¡æœ‰æ‰¾åˆ°æ•°æ®ï¼æ•°ç»„ä¸­ä¸å­˜åœ¨è¯¥æ•°æ®ï¼</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h1 id="æ­£åˆ™è¡¨è¾¾å¼"><a href="#æ­£åˆ™è¡¨è¾¾å¼" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼"></a>æ­£åˆ™è¡¨è¾¾å¼</h1><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å­¦ä¹ ä¸€ä¸ªå…¨æ–°çš„çŸ¥è¯†ï¼Œå«åšæ­£åˆ™è¡¨è¾¾å¼ã€‚<strong>æ­£åˆ™è¡¨è¾¾å¼å…¶å®æ˜¯ç”±ä¸€äº›ç‰¹æ®Šçš„ç¬¦å·ç»„æˆçš„ï¼Œå®ƒä»£è¡¨çš„æ˜¯æŸç§è§„åˆ™ã€‚</strong></p>
<blockquote>
<p>æ­£åˆ™è¡¨è¾¾å¼çš„ä½œç”¨1ï¼šç”¨æ¥æ ¡éªŒå­—ç¬¦ä¸²æ•°æ®æ˜¯å¦åˆæ³•</p>
<p>æ­£åˆ™è¡¨è¾¾å¼çš„ä½œç”¨2ï¼šå¯ä»¥ä»ä¸€æ®µæ–‡æœ¬ä¸­æŸ¥æ‰¾æ»¡è¶³è¦æ±‚çš„å†…å®¹</p>
</blockquote>
<ul>
<li>ä¸ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼Œæ ¡éªŒQQå·ç ä»£ç æ˜¯è¿™æ ·çš„</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">checkQQ</span><span class="params">(String qq)</span>&#123;</span><br><span class="line">        <span class="comment">// 1ã€åˆ¤æ–­qqå·ç æ˜¯å¦ä¸ºnull</span></span><br><span class="line">        <span class="keyword">if</span>(qq == <span class="literal">null</span> || qq.startsWith(<span class="string">&quot;0&quot;</span>) || qq.length() &lt; <span class="number">6</span> || qq.length() &gt; <span class="number">20</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€qqè‡³å°‘æ˜¯ä¸æ˜¯null,ä¸æ˜¯ä»¥0å¼€å¤´çš„ï¼Œæ»¡è¶³6-20ä¹‹é—´çš„é•¿åº¦ã€‚</span></span><br><span class="line">        <span class="comment">// åˆ¤æ–­qqå·ç ä¸­æ˜¯å¦éƒ½æ˜¯æ•°å­—ã€‚</span></span><br><span class="line">        <span class="comment">// qq = 2514ghd234</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; qq.length(); i++) &#123;</span><br><span class="line">            <span class="comment">// æ ¹æ®ç´¢å¼•æå–å½“å‰ä½ç½®å¤„çš„å­—ç¬¦ã€‚</span></span><br><span class="line">            <span class="type">char</span> <span class="variable">ch</span> <span class="operator">=</span> qq.charAt(i);</span><br><span class="line">            <span class="comment">// åˆ¤æ–­chè®°ä½çš„å­—ç¬¦ï¼Œå¦‚æœä¸æ˜¯æ•°å­—ï¼Œqqå·ç ä¸åˆæ³•ã€‚</span></span><br><span class="line">            <span class="keyword">if</span>(ch &lt; <span class="string">&#x27;0&#x27;</span> || ch &gt; <span class="string">&#x27;9&#x27;</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 3ã€è¯´æ˜qqå·ç è‚¯å®šæ˜¯åˆæ³•</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>ç”¨æ­£åˆ™è¡¨è¾¾å¼ä»£ç æ˜¯è¿™æ ·çš„</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">checkQQ1</span><span class="params">(String qq)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> qq != <span class="literal">null</span> &amp;&amp; qq.matches(<span class="string">&quot;[1-9]\\d&#123;5,19&#125;&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="ä¹¦å†™è§„åˆ™"><a href="#ä¹¦å†™è§„åˆ™" class="headerlink" title="ä¹¦å†™è§„åˆ™"></a>ä¹¦å†™è§„åˆ™</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh75.png"></p>
<p>æˆ‘ä»¬å°†è¿™äº›è§„åˆ™ï¼Œåœ¨ä»£ç ä¸­æ¼”ç¤ºä¸€ä¸‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡ï¼šæŒæ¡æ­£åˆ™è¡¨è¾¾å¼çš„ä¹¦å†™è§„åˆ™</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RegexTest2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 1ã€å­—ç¬¦ç±»(åªèƒ½åŒ¹é…å•ä¸ªå­—ç¬¦)</span></span><br><span class="line">        System.out.println(<span class="string">&quot;a&quot;</span>.matches(<span class="string">&quot;[abc]&quot;</span>));    <span class="comment">// [abc]åªèƒ½åŒ¹é…aã€bã€c</span></span><br><span class="line">        System.out.println(<span class="string">&quot;e&quot;</span>.matches(<span class="string">&quot;[abcd]&quot;</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;d&quot;</span>.matches(<span class="string">&quot;[^abc]&quot;</span>));   <span class="comment">// [^abc] ä¸èƒ½æ˜¯abc</span></span><br><span class="line">        System.out.println(<span class="string">&quot;a&quot;</span>.matches(<span class="string">&quot;[^abc]&quot;</span>));  <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;b&quot;</span>.matches(<span class="string">&quot;[a-zA-Z]&quot;</span>)); <span class="comment">// [a-zA-Z] åªèƒ½æ˜¯a-z A-Zçš„å­—ç¬¦</span></span><br><span class="line">        System.out.println(<span class="string">&quot;2&quot;</span>.matches(<span class="string">&quot;[a-zA-Z]&quot;</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;k&quot;</span>.matches(<span class="string">&quot;[a-z&amp;&amp;[^bc]]&quot;</span>)); <span class="comment">// ï¼š aåˆ°zï¼Œé™¤äº†bå’Œc</span></span><br><span class="line">        System.out.println(<span class="string">&quot;b&quot;</span>.matches(<span class="string">&quot;[a-z&amp;&amp;[^bc]]&quot;</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;ab&quot;</span>.matches(<span class="string">&quot;[a-zA-Z0-9]&quot;</span>)); <span class="comment">// false æ³¨æ„ï¼šä»¥ä¸Šå¸¦ [å†…å®¹] çš„è§„åˆ™éƒ½åªèƒ½ç”¨äºåŒ¹é…å•ä¸ªå­—ç¬¦</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€é¢„å®šä¹‰å­—ç¬¦(åªèƒ½åŒ¹é…å•ä¸ªå­—ç¬¦)  .  \d  \D   \s  \S  \w  \W</span></span><br><span class="line">        System.out.println(<span class="string">&quot;å¾&quot;</span>.matches(<span class="string">&quot;.&quot;</span>)); <span class="comment">// .å¯ä»¥åŒ¹é…ä»»æ„å­—ç¬¦</span></span><br><span class="line">        System.out.println(<span class="string">&quot;å¾å¾&quot;</span>.matches(<span class="string">&quot;.&quot;</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// \è½¬ä¹‰</span></span><br><span class="line">        System.out.println(<span class="string">&quot;\&quot;&quot;</span>);</span><br><span class="line">        <span class="comment">// \n \t</span></span><br><span class="line">        System.out.println(<span class="string">&quot;3&quot;</span>.matches(<span class="string">&quot;\\d&quot;</span>));  <span class="comment">// \d: 0-9</span></span><br><span class="line">        System.out.println(<span class="string">&quot;a&quot;</span>.matches(<span class="string">&quot;\\d&quot;</span>));  <span class="comment">//false</span></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot; &quot;</span>.matches(<span class="string">&quot;\\s&quot;</span>));   <span class="comment">// \s: ä»£è¡¨ä¸€ä¸ªç©ºç™½å­—ç¬¦</span></span><br><span class="line">        System.out.println(<span class="string">&quot;a&quot;</span>.matches(<span class="string">&quot;\s&quot;</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;a&quot;</span>.matches(<span class="string">&quot;\\S&quot;</span>));  <span class="comment">// \S: ä»£è¡¨ä¸€ä¸ªéç©ºç™½å­—ç¬¦</span></span><br><span class="line">        System.out.println(<span class="string">&quot; &quot;</span>.matches(<span class="string">&quot;\\S&quot;</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;a&quot;</span>.matches(<span class="string">&quot;\\w&quot;</span>));  <span class="comment">// \w: [a-zA-Z_0-9]</span></span><br><span class="line">        System.out.println(<span class="string">&quot;_&quot;</span>.matches(<span class="string">&quot;\\w&quot;</span>)); <span class="comment">// true</span></span><br><span class="line">        System.out.println(<span class="string">&quot;å¾&quot;</span>.matches(<span class="string">&quot;\\w&quot;</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;å¾&quot;</span>.matches(<span class="string">&quot;\\W&quot;</span>));  <span class="comment">// [^\w]ä¸èƒ½æ˜¯a-zA-Z_0-9</span></span><br><span class="line">        System.out.println(<span class="string">&quot;a&quot;</span>.matches(<span class="string">&quot;\\W&quot;</span>));  <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;23232&quot;</span>.matches(<span class="string">&quot;\\d&quot;</span>)); <span class="comment">// false æ³¨æ„ï¼šä»¥ä¸Šé¢„å®šä¹‰å­—ç¬¦éƒ½åªèƒ½åŒ¹é…å•ä¸ªå­—ç¬¦ã€‚</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€æ•°é‡è¯ï¼š ?   *   +   &#123;n&#125;   &#123;n, &#125;  &#123;n, m&#125;</span></span><br><span class="line">        System.out.println(<span class="string">&quot;a&quot;</span>.matches(<span class="string">&quot;\\w?&quot;</span>));   <span class="comment">// ? ä»£è¡¨0æ¬¡æˆ–1æ¬¡</span></span><br><span class="line">        System.out.println(<span class="string">&quot;&quot;</span>.matches(<span class="string">&quot;\\w?&quot;</span>));    <span class="comment">// true</span></span><br><span class="line">        System.out.println(<span class="string">&quot;abc&quot;</span>.matches(<span class="string">&quot;\\w?&quot;</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;abc12&quot;</span>.matches(<span class="string">&quot;\\w*&quot;</span>));   <span class="comment">// * ä»£è¡¨0æ¬¡æˆ–å¤šæ¬¡</span></span><br><span class="line">        System.out.println(<span class="string">&quot;&quot;</span>.matches(<span class="string">&quot;\\w*&quot;</span>));        <span class="comment">// true</span></span><br><span class="line">        System.out.println(<span class="string">&quot;abc12å¼ &quot;</span>.matches(<span class="string">&quot;\\w*&quot;</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;abc12&quot;</span>.matches(<span class="string">&quot;\\w+&quot;</span>));   <span class="comment">// + ä»£è¡¨1æ¬¡æˆ–å¤šæ¬¡</span></span><br><span class="line">        System.out.println(<span class="string">&quot;&quot;</span>.matches(<span class="string">&quot;\\w+&quot;</span>));       <span class="comment">// false</span></span><br><span class="line">        System.out.println(<span class="string">&quot;abc12å¼ &quot;</span>.matches(<span class="string">&quot;\\w+&quot;</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;a3c&quot;</span>.matches(<span class="string">&quot;\\w&#123;3&#125;&quot;</span>));   <span class="comment">// &#123;3&#125; ä»£è¡¨è¦æ­£å¥½æ˜¯næ¬¡</span></span><br><span class="line">        System.out.println(<span class="string">&quot;abcd&quot;</span>.matches(<span class="string">&quot;\\w&#123;3&#125;&quot;</span>));  <span class="comment">// false</span></span><br><span class="line">        System.out.println(<span class="string">&quot;abcd&quot;</span>.matches(<span class="string">&quot;\\w&#123;3,&#125;&quot;</span>));     <span class="comment">// &#123;3,&#125; ä»£è¡¨æ˜¯&gt;=3æ¬¡</span></span><br><span class="line">        System.out.println(<span class="string">&quot;ab&quot;</span>.matches(<span class="string">&quot;\\w&#123;3,&#125;&quot;</span>));     <span class="comment">// false</span></span><br><span class="line">        System.out.println(<span class="string">&quot;abcdeå¾&quot;</span>.matches(<span class="string">&quot;\\w&#123;3,&#125;&quot;</span>));     <span class="comment">// false</span></span><br><span class="line">        System.out.println(<span class="string">&quot;abc232d&quot;</span>.matches(<span class="string">&quot;\\w&#123;3,9&#125;&quot;</span>));     <span class="comment">// &#123;3, 9&#125; ä»£è¡¨æ˜¯  å¤§äºç­‰äº3æ¬¡ï¼Œå°äºç­‰äº9æ¬¡</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4ã€å…¶ä»–å‡ ä¸ªå¸¸ç”¨çš„ç¬¦å·ï¼š(?i)å¿½ç•¥å¤§å°å†™ ã€ æˆ–ï¼š| ã€  åˆ†ç»„ï¼š()</span></span><br><span class="line">        System.out.println(<span class="string">&quot;abc&quot;</span>.matches(<span class="string">&quot;(?i)abc&quot;</span>)); <span class="comment">// true</span></span><br><span class="line">        System.out.println(<span class="string">&quot;ABC&quot;</span>.matches(<span class="string">&quot;(?i)abc&quot;</span>)); <span class="comment">// true</span></span><br><span class="line">        System.out.println(<span class="string">&quot;aBc&quot;</span>.matches(<span class="string">&quot;a((?i)b)c&quot;</span>)); <span class="comment">// true</span></span><br><span class="line">        System.out.println(<span class="string">&quot;ABc&quot;</span>.matches(<span class="string">&quot;a((?i)b)c&quot;</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// éœ€æ±‚1ï¼šè¦æ±‚è¦ä¹ˆæ˜¯3ä¸ªå°å†™å­—æ¯ï¼Œè¦ä¹ˆæ˜¯3ä¸ªæ•°å­—ã€‚</span></span><br><span class="line">        System.out.println(<span class="string">&quot;abc&quot;</span>.matches(<span class="string">&quot;[a-z]&#123;3&#125;|\\d&#123;3&#125;&quot;</span>)); <span class="comment">// true</span></span><br><span class="line">        System.out.println(<span class="string">&quot;ABC&quot;</span>.matches(<span class="string">&quot;[a-z]&#123;3&#125;|\\d&#123;3&#125;&quot;</span>)); <span class="comment">// false</span></span><br><span class="line">        System.out.println(<span class="string">&quot;123&quot;</span>.matches(<span class="string">&quot;[a-z]&#123;3&#125;|\\d&#123;3&#125;&quot;</span>)); <span class="comment">// true</span></span><br><span class="line">        System.out.println(<span class="string">&quot;A12&quot;</span>.matches(<span class="string">&quot;[a-z]&#123;3&#125;|\\d&#123;3&#125;&quot;</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// éœ€æ±‚2ï¼šå¿…é¡»æ˜¯â€æˆ‘çˆ±â€œå¼€å¤´ï¼Œä¸­é—´å¯ä»¥æ˜¯è‡³å°‘ä¸€ä¸ªâ€ç¼–ç¨‹â€œï¼Œæœ€åè‡³å°‘æ˜¯1ä¸ªâ€666â€œ</span></span><br><span class="line">        System.out.println(<span class="string">&quot;æˆ‘çˆ±ç¼–ç¨‹ç¼–ç¨‹666666&quot;</span>.matches(<span class="string">&quot;æˆ‘çˆ±(ç¼–ç¨‹)+(666)+&quot;</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;æˆ‘çˆ±ç¼–ç¨‹ç¼–ç¨‹66666&quot;</span>.matches(<span class="string">&quot;æˆ‘çˆ±(ç¼–ç¨‹)+(666)+&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ­£åˆ™è¡¨è¾¾å¼åº”ç”¨æ¡ˆä¾‹"><a href="#æ­£åˆ™è¡¨è¾¾å¼åº”ç”¨æ¡ˆä¾‹" class="headerlink" title="æ­£åˆ™è¡¨è¾¾å¼åº”ç”¨æ¡ˆä¾‹"></a>æ­£åˆ™è¡¨è¾¾å¼åº”ç”¨æ¡ˆä¾‹</h2><p>å­¦ä¹ å®Œæ­£åˆ™è¡¨è¾¾å¼çš„è§„åˆ™ä¹‹åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å†åˆ©ç”¨æ­£åˆ™è¡¨è¾¾å¼ï¼Œå»æ ¡éªŒå‡ ä¸ªå®é™…æ¡ˆä¾‹ã€‚</p>
<ul>
<li>æ­£åˆ™è¡¨è¾¾å¼æ ¡éªŒæ‰‹æœºå·ç </li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡ï¼šæ ¡éªŒç”¨æˆ·è¾“å…¥çš„ç”µè¯ã€é‚®ç®±ã€æ—¶é—´æ˜¯å¦åˆæ³•ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RegexTest3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        checkPhone();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">checkPhone</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;è¯·æ‚¨è¾“å…¥æ‚¨çš„ç”µè¯å·ç (æ‰‹æœº|åº§æœº): &quot;</span>);</span><br><span class="line">            <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">            <span class="type">String</span> <span class="variable">phone</span> <span class="operator">=</span> sc.nextLine();</span><br><span class="line">            <span class="comment">// 18676769999  010-3424242424 0104644535</span></span><br><span class="line">            <span class="keyword">if</span>(phone.matches(<span class="string">&quot;(1[3-9]\\d&#123;9&#125;)|(0\\d&#123;2,7&#125;-?[1-9]\\d&#123;4,19&#125;)&quot;</span>))&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;æ‚¨è¾“å…¥çš„å·ç æ ¼å¼æ­£ç¡®~~~&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;æ‚¨è¾“å…¥çš„å·ç æ ¼å¼ä¸æ­£ç¡®~~~&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼æ ¡éªŒé‚®ç®±æ˜¯å¦æ­£ç¡®</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RegexTest3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        checkEmail();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">checkEmail</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;è¯·æ‚¨è¾“å…¥æ‚¨çš„é‚®ç®±ï¼š &quot;</span>);</span><br><span class="line">            <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">            <span class="type">String</span> <span class="variable">email</span> <span class="operator">=</span> sc.nextLine();</span><br><span class="line">            <span class="comment">/**</span></span><br><span class="line"><span class="comment">             * dlei0009@163.com</span></span><br><span class="line"><span class="comment">             * 25143242@qq.com</span></span><br><span class="line"><span class="comment">             * itheima@itcast.com.cn</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">            <span class="keyword">if</span>(email.matches(<span class="string">&quot;\\w&#123;2,&#125;@\\w&#123;2,20&#125;(\\.\\w&#123;2,10&#125;)&#123;1,2&#125;&quot;</span>))&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;æ‚¨è¾“å…¥çš„é‚®ç®±æ ¼å¼æ­£ç¡®~~~&quot;</span>);</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;æ‚¨è¾“å…¥çš„é‚®ç®±æ ¼å¼ä¸æ­£ç¡®~~~&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<h2 id="ç”¨äºæŸ¥æ‰¾ä¿¡æ¯"><a href="#ç”¨äºæŸ¥æ‰¾ä¿¡æ¯" class="headerlink" title="ç”¨äºæŸ¥æ‰¾ä¿¡æ¯"></a>ç”¨äºæŸ¥æ‰¾ä¿¡æ¯</h2><p><strong>æ­£åˆ™è¡¨è¾¾å¼çš„ç¬¬äºŒä¸ªä½œç”¨ï¼šåœ¨ä¸€æ®µæ–‡æœ¬ä¸­æŸ¥æ‰¾æ»¡è¶³è¦æ±‚çš„å†…å®¹</strong></p>
<h2 id="ç”¨äºæœç´¢æ›¿æ¢ã€åˆ†å‰²å†…å®¹"><a href="#ç”¨äºæœç´¢æ›¿æ¢ã€åˆ†å‰²å†…å®¹" class="headerlink" title="ç”¨äºæœç´¢æ›¿æ¢ã€åˆ†å‰²å†…å®¹"></a>ç”¨äºæœç´¢æ›¿æ¢ã€åˆ†å‰²å†…å®¹</h2><ul>
<li>æ­£åˆ™è¡¨è¾¾å¼ç”¨äºæœç´¢æ›¿æ¢ã€åˆ†å‰²å†…å®¹ï¼Œéœ€è¦ç»“åˆStringæä¾›çš„å¦‚ä¸‹æ–¹æ³•å®Œæˆ:</li>
</ul>
<p>public string replaceAl1(String regex , string newStr)<br>æŒ‰ç…§æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„å†…å®¹è¿›è¡Œæ›¿æ¢</p>
<p>public string[] split(String regex):<br>æŒ‰ç…§æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…çš„å†…å®¹è¿›è¡Œåˆ†å‰²å­—ç¬¦ä¸²ï¼Œåå›ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ã€‚</p>
<h1 id="å¼‚å¸¸"><a href="#å¼‚å¸¸" class="headerlink" title="å¼‚å¸¸"></a>å¼‚å¸¸</h1><h2 id="è®¤è¯†å¼‚å¸¸"><a href="#è®¤è¯†å¼‚å¸¸" class="headerlink" title="è®¤è¯†å¼‚å¸¸"></a>è®¤è¯†å¼‚å¸¸</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh76.png"></p>
<blockquote>
<p><strong>å…ˆæ¥æ¼”ç¤ºä¸€ä¸ªè¿è¡Œæ—¶å¼‚å¸¸äº§ç”Ÿ</strong></p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>[] arr = &#123;<span class="number">11</span>,<span class="number">22</span>,<span class="number">33</span>&#125;;</span><br><span class="line"><span class="comment">//5æ˜¯ä¸€ä¸ªä¸å­˜åœ¨çš„ç´¢å¼•ï¼Œæ‰€ä»¥æ­¤æ—¶äº§ç”ŸArrayIndexOutOfBoundsExcpetion</span></span><br><span class="line">System.out.println(arr[<span class="number">5</span>]); </span><br></pre></td></tr></table></figure>


<blockquote>
<p><strong>å†æ¥æ¼”ç¤ºä¸€ä¸ªç¼–è¯‘æ—¶å¼‚å¸¸</strong></p>
</blockquote>
<p>æˆ‘ä»¬åœ¨è°ƒç”¨SimpleDateFormatå¯¹è±¡çš„parseæ–¹æ³•æ—¶ï¼Œè¦æ±‚ä¼ é€’çš„å‚æ•°å¿…é¡»å’ŒæŒ‡å®šçš„æ—¥æœŸæ ¼å¼ä¸€è‡´ï¼Œå¦åˆ™å°±ä¼šå‡ºç°å¼‚å¸¸ã€‚ Javaæ¯”è¾ƒè´´å¿ƒï¼Œå®ƒä¸ºäº†æ›´åŠ å¼ºçƒˆçš„æé†’æ–¹æ³•çš„è°ƒç”¨è€…ï¼Œè®¾è®¡äº†ç¼–è¯‘æ—¶å¼‚å¸¸ï¼Œå®ƒæŠŠå¼‚å¸¸çš„æé†’æå‰äº†ï¼Œä½ è°ƒç”¨æ–¹æ³•æ˜¯å¦çœŸçš„æœ‰é—®é¢˜ï¼Œåªè¦å¯èƒ½æœ‰é—®é¢˜å°±ç»™ä½ æŠ¥å‡ºå¼‚å¸¸æç¤ºï¼ˆçº¢è‰²æ³¢æµªçº¿ï¼‰ã€‚</p>
<p> <strong>ç¼–è¯‘æ—¶å¼‚å¸¸çš„ç›®çš„ï¼šæ„æ€å°±æ˜¯å‘Šè¯‰ä½ ï¼Œè¿™é‡Œå°å¿ƒç‚¹å®¹æ˜“å‡ºé”™ï¼Œä»”ç»†æ£€æŸ¥ä¸€ä¸‹</strong></p>
<p>æœ‰äººè¯´ï¼Œæˆ‘æ£€æŸ¥è¿‡äº†ï¼Œæˆ‘ç¡®è®¤æˆ‘çš„ä»£ç æ²¡é—®é¢˜ï¼Œä¸ºäº†è®©å®ƒä¸æŠ¥é”™ï¼Œç»§ç»­å°†ä»£ç å†™ä¸‹å»ã€‚æˆ‘ä»¬è¿™é‡Œæœ‰ä¸¤ç§è§£å†³æ–¹æ¡ˆã€‚</p>
<ul>
<li>ç¬¬ä¸€ç§ï¼šä½¿ç”¨throwsåœ¨æ–¹æ³•ä¸Šå£°æ˜ï¼Œæ„æ€å°±æ˜¯å‘Šè¯‰ä¸‹ä¸€ä¸ªè°ƒç”¨è€…ï¼Œè¿™é‡Œé¢å¯èƒ½æœ‰å¼‚å¸¸å•Šï¼Œä½ è°ƒç”¨æ—¶æ³¨æ„ä¸€ä¸‹ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡ï¼šè®¤è¯†å¼‚å¸¸ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExceptionTest1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ParseException&#123;</span><br><span class="line">        <span class="type">SimpleDateFormat</span> <span class="variable">sdf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>);</span><br><span class="line">        <span class="type">Date</span> <span class="variable">d</span> <span class="operator">=</span> sdf.parse(<span class="string">&quot;2028-11-11 10:24&quot;</span>);</span><br><span class="line">        System.out.println(d);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>ç¬¬äºŒç§ï¼šä½¿ç”¨tryâ€¦catchè¯­å¥å—å¼‚å¸¸è¿›è¡Œå¤„ç†ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExceptionTest1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ParseException&#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">SimpleDateFormat</span> <span class="variable">sdf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>);</span><br><span class="line">            <span class="type">Date</span> <span class="variable">d</span> <span class="operator">=</span> sdf.parse(<span class="string">&quot;2028-11-11 10:24&quot;</span>);</span><br><span class="line">            System.out.println(d);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ParseException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å¥½äº†ï¼Œå…³äºä»€ä¹ˆæ˜¯å¼‚å¸¸ï¼Œæˆ‘ä»¬å°±å…ˆè®¤è¯†åˆ°è¿™é‡Œã€‚</p>
<h2 id="è‡ªå®šä¹‰å¼‚å¸¸"><a href="#è‡ªå®šä¹‰å¼‚å¸¸" class="headerlink" title="è‡ªå®šä¹‰å¼‚å¸¸"></a>è‡ªå®šä¹‰å¼‚å¸¸</h2><ul>
<li>è‡ªå®šä¹‰å¼‚å¸¸<br>Javaæ— æ³•ä¸ºè¿™ä¸ªä¸–ç•Œä¸Šå…¨éƒ¨çš„é—®é¢˜éƒ½æä¾›å¼‚å¸¸ç±»æ¥ä»£è¡¨ï¼Œå¦‚æœä¼ä¸šè‡ªå·±çš„æŸç§é—®é¢˜ï¼Œæƒ³é€šè¿‡å¼‚å¸¸æ¥è¡¨ç¤ºï¼Œä»¥ä¾¿ç”¨å¼‚å¸¸æ¥ç®¡ç†è¯¥é—®é¢˜ï¼Œé‚£å°±éœ€è¦è‡ªå·±æ¥å®šä¹‰å¼‚å¸¸ç±»äº†ã€‚</li>
</ul>
<p>æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªå®é™…åœºæ™¯ï¼Œæ¥ç»™å¤§å®¶æ¼”ç¤ºè‡ªå®šä¹‰å¼‚å¸¸ã€‚</p>
<blockquote>
<p>éœ€æ±‚ï¼šå†™ä¸€ä¸ªsaveAge(int age)æ–¹æ³•ï¼Œåœ¨æ–¹æ³•ä¸­å¯¹å‚æ•°ageè¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœage&lt;0æˆ–è€…&gt;&#x3D;150å°±è®¤ä¸ºå¹´é¾„ä¸åˆæ³•ï¼Œå¦‚æœå¹´é¾„ä¸åˆæ³•ï¼Œå°±ç»™è°ƒç”¨è€…æŠ›å‡ºä¸€ä¸ªå¹´é¾„éæ³•å¼‚å¸¸ã€‚</p>
<p>åˆ†æï¼šJavaçš„APIä¸­æ˜¯æ²¡æœ‰å¹´é¾„éå¸¸è¿™ä¸ªå¼‚å¸¸çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ªå¼‚å¸¸ç±»ï¼Œç”¨æ¥è¡¨ç¤ºå¹´é¾„éæ³•å¼‚å¸¸ï¼Œç„¶åå†æ–¹æ³•ä¸­æŠ›å‡ºè‡ªå®šä¹‰å¼‚å¸¸å³å¯ã€‚</p>
</blockquote>
<ul>
<li>å…ˆå†™ä¸€ä¸ªå¼‚å¸¸ç±»AgeIllegalExceptionï¼ˆè¿™æ˜¯è‡ªå·±å–çš„åå­—ï¼Œåå­—å–å¾—å¾ˆå¥ˆæ–¯ï¼‰ï¼Œç»§æ‰¿</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1ã€å¿…é¡»è®©è¿™ä¸ªç±»ç»§æ‰¿è‡ªExceptionï¼Œæ‰èƒ½æˆä¸ºä¸€ä¸ªç¼–è¯‘æ—¶å¼‚å¸¸ç±»ã€‚</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AgeIllegalException</span> <span class="keyword">extends</span> <span class="title class_">Exception</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">AgeIllegalException</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">AgeIllegalException</span><span class="params">(String message)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>å†å†™ä¸€ä¸ªæµ‹è¯•ç±»ï¼Œåœ¨æµ‹è¯•ç±»ä¸­å®šä¹‰ä¸€ä¸ªsaveAge(int age)æ–¹æ³•ï¼Œå¯¹ageåˆ¤æ–­å¦‚æœå¹´é¾„ä¸åœ¨0~150ä¹‹é—´ï¼Œå°±æŠ›å‡ºä¸€ä¸ªAgeIllegalExceptionå¼‚å¸¸å¯¹è±¡ç»™è°ƒç”¨è€…ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExceptionTest2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// éœ€æ±‚ï¼šä¿å­˜ä¸€ä¸ªåˆæ³•çš„å¹´</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            saveAge2(<span class="number">225</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;saveAge2åº•å±‚æ‰§è¡Œæ˜¯æˆåŠŸçš„ï¼&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (AgeIllegalException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            System.out.println(<span class="string">&quot;saveAge2åº•å±‚æ‰§è¡Œæ˜¯å‡ºç°bugçš„ï¼&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//2ã€åœ¨æ–¹æ³•ä¸­å¯¹ageè¿›è¡Œåˆ¤æ–­ï¼Œä¸åˆæ³•åˆ™æŠ›å‡ºAgeIllegalException</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">saveAge</span><span class="params">(<span class="type">int</span> age)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(age &gt; <span class="number">0</span> &amp;&amp; age &lt; <span class="number">150</span>)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;å¹´é¾„è¢«æˆåŠŸä¿å­˜ï¼š &quot;</span> + age);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// ç”¨ä¸€ä¸ªå¼‚å¸¸å¯¹è±¡å°è£…è¿™ä¸ªé—®é¢˜</span></span><br><span class="line">            <span class="comment">// throw æŠ›å‡ºå»è¿™ä¸ªå¼‚å¸¸å¯¹è±¡</span></span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">AgeIllegalRuntimeException</span>(<span class="string">&quot;/age is illegal, your age is &quot;</span> + age);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ³¨æ„å’¯ï¼Œè‡ªå®šä¹‰å¼‚å¸¸å¯èƒ½æ˜¯ç¼–è¯‘æ—¶å¼‚å¸¸ï¼Œä¹Ÿå¯ä»¥æ˜¯è¿è¡Œæ—¶å¼‚å¸¸</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>å¦‚æœè‡ªå®šä¹‰å¼‚å¸¸ç±»ç»§æ‰¿Excpetionï¼Œåˆ™æ˜¯ç¼–è¯‘æ—¶å¼‚å¸¸ã€‚</span><br><span class="line">	ç‰¹ç‚¹ï¼šæ–¹æ³•ä¸­æŠ›å‡ºçš„æ˜¯ç¼–è¯‘æ—¶å¼‚å¸¸ï¼Œå¿…é¡»åœ¨æ–¹æ³•ä¸Šä½¿ç”¨<span class="keyword">throws</span>å£°æ˜ï¼Œå¼ºåˆ¶è°ƒç”¨è€…å¤„ç†ã€‚</span><br><span class="line">	</span><br><span class="line"><span class="number">2.</span>å¦‚æœè‡ªå®šä¹‰å¼‚å¸¸ç±»ç»§æ‰¿RuntimeExceptionï¼Œåˆ™è¿è¡Œæ—¶å¼‚å¸¸ã€‚</span><br><span class="line">	ç‰¹ç‚¹ï¼šæ–¹æ³•ä¸­æŠ›å‡ºçš„æ˜¯è¿è¡Œæ—¶å¼‚å¸¸ï¼Œä¸éœ€è¦åœ¨æ–¹æ³•ä¸Šç”¨<span class="keyword">throws</span>å£°æ˜ã€‚</span><br></pre></td></tr></table></figure>

<ul>
<li>è‡ªå®šä¹‰å¼‚å¸¸çš„ç§ç±»</li>
</ul>
<ol>
<li>è‡ªå®šä¹‰è¿è¡Œæ—¶å¼‚å¸¸</li>
</ol>
<ul>
<li>å®šä¹‰ä¸€ä¸ªå¼‚å¸¸ç±»ç»§æ‰¿RuntimeException.</li>
<li>é‡å†™æ„é€ å™¨ã€‚</li>
<li>é€šè¿‡throw newå¼‚å¸¸ç±»(xxx)æ¥åˆ›å»ºå¼‚å¸¸å¯¹è±¡å¹¶æŠ›å‡ºã€‚<br>ç¼–è¯‘é˜¶æ®µä¸æŠ¥é”™,æé†’ä¸å¼ºçƒˆ,è¿è¡Œæ—¶æ‰å¯èƒ½å‡ºç°!!</li>
</ul>
<ol start="2">
<li>è‡ªå®šä¹‰ç¼–è¯‘æ—¶å¼‚å¸¸</li>
</ol>
<ul>
<li>å®šä¹‰ä¸€ä¸ªå¼‚å¸¸ç±»ç»§æ‰¿Exception.</li>
<li>é‡å†™æ„é€ å™¨ã€‚</li>
<li>é€šè¿‡throw newå¼‚å¸¸ç±»(xoxx)æ¥åˆ›å»ºå¼‚å¸¸å¯¹è±¡å¹¶æŠ›å‡ºã€‚<br>ç¼–è¯‘é˜¶æ®µå°±æŠ¥é”™,æé†’æ›´åŠ å¼ºçƒˆ!</li>
</ul>
<ul>
<li>å¼‚å¸¸æœ‰ä»€ä¹ˆä½œç”¨?</li>
</ul>
<ol>
<li><p>å¼‚å¸¸æ˜¯ç”¨æ¥æŸ¥å¯»ç³»ç»ŸBugçš„å…³é”®å‚è€ƒä¿¡æ¯!</p>
</li>
<li><p>å¼‚å¸¸ç¤ºä»¥ä½œä¸ºæ–¹æ³•å†…éƒ¨çš„ä¸€ç§ç‰¹æ®Šè¿”å›å€¼ï¼Œä»¥ä¾¿é€šçŸ¥ä¸Šå±‚è°ƒç”¨è€…åº•å±‚çš„æ‰§è¡Œæƒ…å†µ!</p>
</li>
</ol>
<h2 id="å¼‚å¸¸çš„å¤„ç†"><a href="#å¼‚å¸¸çš„å¤„ç†" class="headerlink" title="å¼‚å¸¸çš„å¤„ç†"></a>å¼‚å¸¸çš„å¤„ç†</h2><ul>
<li>å¼€å‘ä¸­å¯¹äºå¼‚å¸¸çš„å¸¸è§å¤„ç†æ–¹å¼<br>æ–¹æ³•A<br>æ–¹æ³•B å¼‚å¸¸ï¼ŒæŠ›ç»™è°ƒç”¨è€…<br>æ–¹æ³•C å¼‚å¸¸ï¼ŒæŠ›ç»™è°ƒç”¨è€…</li>
</ul>
<p>æˆ‘ä»¬çœ‹ä¸€ä¸ªä»£ç ï¼Œmainæ–¹æ³•è°ƒç”¨test1æ–¹æ³•ï¼Œtest1æ–¹æ³•è°ƒç”¨test2æ–¹æ³•ï¼Œtest1å’Œtest2æ–¹æ³•ä¸­å¤šæœ‰æ‰”å¼‚å¸¸ã€‚</p>
<ul>
<li>ç¬¬ä¸€ç§å¤„ç†æ–¹å¼æ˜¯ï¼Œåœ¨mainæ–¹æ³•ä¸­å¯¹å¼‚å¸¸è¿›è¡Œtryâ€¦catchæ•è·å¤„ç†äº†ï¼Œç»™å‡ºå‹å¥½æç¤ºã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExceptionTest3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>  &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            test1();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;æ‚¨è¦æ‰¾çš„æ–‡ä»¶ä¸å­˜åœ¨ï¼ï¼&quot;</span>);</span><br><span class="line">            e.printStackTrace(); <span class="comment">// æ‰“å°å‡ºè¿™ä¸ªå¼‚å¸¸å¯¹è±¡çš„ä¿¡æ¯ã€‚è®°å½•ä¸‹æ¥ã€‚</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (ParseException e) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;æ‚¨è¦è§£æçš„æ—¶é—´æœ‰é—®é¢˜äº†ï¼&quot;</span>);</span><br><span class="line">            e.printStackTrace(); <span class="comment">// æ‰“å°å‡ºè¿™ä¸ªå¼‚å¸¸å¯¹è±¡çš„ä¿¡æ¯ã€‚è®°å½•ä¸‹æ¥ã€‚</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException, ParseException &#123;</span><br><span class="line">        <span class="type">SimpleDateFormat</span> <span class="variable">sdf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span>);</span><br><span class="line">        <span class="type">Date</span> <span class="variable">d</span> <span class="operator">=</span> sdf.parse(<span class="string">&quot;2028-11-11 10:24:11&quot;</span>);</span><br><span class="line">        System.out.println(d);</span><br><span class="line">        test2();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span> <span class="keyword">throws</span> FileNotFoundException &#123;</span><br><span class="line">        <span class="comment">// è¯»å–æ–‡ä»¶çš„ã€‚</span></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;D:/meinv.png&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>ç¬¬äºŒç§å¤„ç†æ–¹å¼æ˜¯ï¼šåœ¨mainæ–¹æ³•ä¸­å¯¹å¼‚å¸¸è¿›è¡Œæ•è·ï¼Œå¹¶å°è¯•ä¿®å¤</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡ï¼šæŒæ¡å¼‚å¸¸çš„å¤„ç†æ–¹å¼ï¼šæ•è·å¼‚å¸¸ï¼Œå°è¯•ä¿®å¤ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExceptionTest4</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// éœ€æ±‚ï¼šè°ƒç”¨ä¸€ä¸ªæ–¹æ³•ï¼Œè®©ç”¨æˆ·è¾“å…¥ä¸€ä¸ªåˆé€‚çš„ä»·æ ¼è¿”å›ä¸ºæ­¢ã€‚</span></span><br><span class="line">        <span class="comment">// å°è¯•ä¿®å¤</span></span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                System.out.println(getMoney());</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;è¯·æ‚¨è¾“å…¥åˆæ³•çš„æ•°å­—ï¼ï¼&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> <span class="title function_">getMoney</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;è¯·æ‚¨è¾“å…¥åˆé€‚çš„ä»·æ ¼ï¼š&quot;</span>);</span><br><span class="line">            <span class="type">double</span> <span class="variable">money</span> <span class="operator">=</span> sc.nextDouble();</span><br><span class="line">            <span class="keyword">if</span>(money &gt;= <span class="number">0</span>)&#123;</span><br><span class="line">                <span class="keyword">return</span> money;</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;æ‚¨è¾“å…¥çš„ä»·æ ¼æ˜¯ä¸åˆé€‚çš„ï¼&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol>
<li>æ•è·å¼‚å¸¸ï¼Œè®°å½•å¼‚å¸¸å¹¶å“åº”åˆé€‚çš„ä¿¡æ¯ç»™ç”¨æˆ·</li>
<li>æ•è·å¼‚å¸¸ï¼Œå°è¯•é‡æ–°ä¿®å¤</li>
</ol>
<h1 id="é›†åˆæ¡†æ¶"><a href="#é›†åˆæ¡†æ¶" class="headerlink" title="é›†åˆæ¡†æ¶"></a>é›†åˆæ¡†æ¶</h1><h2 id="æ¦‚è¿°-1"><a href="#æ¦‚è¿°-1" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><ul>
<li>é›†åˆä½“ç³»ç»“æ„<br>Collection Map<br>å•åˆ—é›†åˆ    åŒåˆ—é›†åˆ</li>
</ul>
<ul>
<li>collectionä»£è¡¨å•åˆ—é›†åˆï¼Œæ¯ä¸ªå…ƒç´ ï¼ˆæ•°æ®ï¼‰åªåŒ…å«ä¸€ä¸ªå€¼ã€‚</li>
<li>Mapä»£è¡¨åŒåˆ—é›†åˆï¼Œæ¯ä¸ªå…ƒç´ åŒ…å«ä¸¤ä¸ªå€¼(é”®å€¼å¯¹)ã€‚</li>
</ul>
<ul>
<li>Collectioné›†åˆä½“ç³»<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh77.png"></li>
</ul>
<p>å„ç§é›†åˆçš„ç‰¹ç‚¹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç®€å•ç¡®è®¤ä¸€ä¸‹Collectioné›†åˆçš„ç‰¹ç‚¹</span></span><br><span class="line">ArrayList&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;(); <span class="comment">//å­˜å–é¡ºåºä¸€è‡´ï¼Œå¯ä»¥é‡å¤ï¼Œæœ‰ç´¢å¼•</span></span><br><span class="line">list.add(<span class="string">&quot;java1&quot;</span>);</span><br><span class="line">list.add(<span class="string">&quot;java2&quot;</span>);</span><br><span class="line">list.add(<span class="string">&quot;java1&quot;</span>);</span><br><span class="line">list.add(<span class="string">&quot;java2&quot;</span>);</span><br><span class="line">System.out.println(list); <span class="comment">//[java1, java2, java1, java2] </span></span><br><span class="line"></span><br><span class="line">HashSet&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;(); <span class="comment">//å­˜å–é¡ºåºä¸ä¸€è‡´ï¼Œä¸é‡å¤ï¼Œæ— ç´¢å¼•</span></span><br><span class="line">list.add(<span class="string">&quot;java1&quot;</span>);</span><br><span class="line">list.add(<span class="string">&quot;java2&quot;</span>);</span><br><span class="line">list.add(<span class="string">&quot;java1&quot;</span>);</span><br><span class="line">list.add(<span class="string">&quot;java2&quot;</span>);</span><br><span class="line">list.add(<span class="string">&quot;java3&quot;</span>);</span><br><span class="line">System.out.println(list); <span class="comment">//[java3, java2, java1] </span></span><br></pre></td></tr></table></figure>

<h2 id="Collectionçš„å¸¸ç”¨æ–¹æ³•"><a href="#Collectionçš„å¸¸ç”¨æ–¹æ³•" class="headerlink" title="Collectionçš„å¸¸ç”¨æ–¹æ³•"></a>Collectionçš„å¸¸ç”¨æ–¹æ³•</h2><ul>
<li>ä¸ºå•¥è¦å…ˆå­¦collectionçš„å¸¸ç”¨æ–¹æ³•?</li>
</ul>
<ul>
<li>Collectionæ˜¯å•åˆ—é›†åˆçš„ç¥–å®—ï¼Œå®ƒè§„å®šçš„æ–¹æ³•ï¼ˆåŠŸèƒ½ï¼‰æ˜¯å…¨éƒ¨å•åˆ—é›†åˆéƒ½ä¼šç»§æ‰¿çš„ã€‚collectionçš„å¸¸è§æ–¹æ³•å¦‚ä¸‹:</li>
</ul>
<p>public boolean add(E e)     æŠŠç»™å®šçš„å¯¹è±¡æ·»åŠ åˆ°å½“å‰é›†åˆä¸­<br>public void clear()         æ¸…ç©ºé›†åˆä¸­æ‰€æœ‰çš„å…ƒç´ <br>public boolean remove(E e)  æŠŠç»™å®šçš„å¯¹è±¡åœ¨å½“å‰é›†åˆä¸­åˆ é™¤<br>public boolean contains(object obj)   åˆ¤æ–­å½“å‰é›†åˆä¸­æ˜¯å¦åŒ…å«ç»™å®šçš„å¯¹è±¡<br>public boolean isEmpty()    åˆ¤æ–­å½“å‰é›†åˆæ˜¯å¦ä¸ºç©º<br>public int size()           è¿”å›é›†åˆä¸­å…ƒç´ çš„ä¸ªæ•°ã€‚<br>public object[ ] toArray()  æŠŠé›†åˆä¸­çš„å…ƒç´ ï¼Œå­˜å‚¨åˆ°æ•°ç»„ä¸­</p>
<blockquote>
<p>Collectioné›†åˆçš„ä¸€äº›å¸¸ç”¨æ–¹æ³•ï¼Œè¿™äº›æ–¹æ³•æ‰€æœ‰Collectionå®ç°ç±»éƒ½å¯ä»¥ä½¿ç”¨ã€‚ è¿™é‡Œæˆ‘ä»¬ä»¥åˆ›å»ºArrayListä¸ºä¾‹ï¼Œæ¥æ¼”ç¤º</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">Collection&lt;String&gt; c = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"><span class="comment">//1.public boolean add(E e): æ·»åŠ å…ƒç´ åˆ°é›†åˆ</span></span><br><span class="line">c.add(<span class="string">&quot;java1&quot;</span>);</span><br><span class="line">c.add(<span class="string">&quot;java1&quot;</span>);</span><br><span class="line">c.add(<span class="string">&quot;java2&quot;</span>);</span><br><span class="line">c.add(<span class="string">&quot;java2&quot;</span>);</span><br><span class="line">c.add(<span class="string">&quot;java3&quot;</span>);</span><br><span class="line">System.out.println(c); <span class="comment">//æ‰“å°: [java1, java1, java2, java2, java3]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//2.public int size(): è·å–é›†åˆçš„å¤§å°</span></span><br><span class="line">System.out.println(c.size()); <span class="comment">//5</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//3.public boolean contains(Object obj): åˆ¤æ–­é›†åˆä¸­æ˜¯å¦åŒ…å«æŸä¸ªå…ƒç´ </span></span><br><span class="line">System.out.println(c.contains(<span class="string">&quot;java1&quot;</span>)); <span class="comment">//true</span></span><br><span class="line">System.out.println(c.contains(<span class="string">&quot;Java1&quot;</span>)); <span class="comment">//false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//4.pubilc boolean remove(E e): åˆ é™¤æŸä¸ªå…ƒç´ ï¼Œå¦‚æœæœ‰å¤šä¸ªé‡å¤å…ƒç´ åªèƒ½åˆ é™¤ç¬¬ä¸€ä¸ª</span></span><br><span class="line">System.out.println(c.remove(<span class="string">&quot;java1&quot;</span>)); <span class="comment">//true</span></span><br><span class="line">System.out.println(c); <span class="comment">//æ‰“å°: [java1,java2, java2, java3]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//5.public void clear(): æ¸…ç©ºé›†åˆçš„å…ƒç´ </span></span><br><span class="line">c.clear(); </span><br><span class="line">System.out.println(c); <span class="comment">//æ‰“å°ï¼š[]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//6.public boolean isEmpty(): åˆ¤æ–­é›†åˆæ˜¯å¦ä¸ºç©º æ˜¯ç©ºè¿”å›true åä¹‹è¿”å›false</span></span><br><span class="line">System.out.println(c.isEmpty()); <span class="comment">//true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//7.public Object[] toArray(): æŠŠé›†åˆè½¬æ¢ä¸ºæ•°ç»„</span></span><br><span class="line">Object[] array = c.toArray();</span><br><span class="line">System.out.println(Arrays.toString(array)); <span class="comment">//[java1,java2, java2, java3]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//8.å¦‚æœæƒ³æŠŠé›†åˆè½¬æ¢ä¸ºæŒ‡å®šç±»å‹çš„æ•°ç»„ï¼Œå¯ä»¥ä½¿ç”¨ä¸‹é¢çš„ä»£ç </span></span><br><span class="line">String[] array1 = c.toArray(<span class="keyword">new</span> <span class="title class_">String</span>[c.size()]);</span><br><span class="line">System.out.println(Arrays.toString(array1)); <span class="comment">//[java1,java2, java2, java3]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//9.è¿˜å¯ä»¥æŠŠä¸€ä¸ªé›†åˆä¸­çš„å…ƒç´ ï¼Œæ·»åŠ åˆ°å¦ä¸€ä¸ªé›†åˆä¸­</span></span><br><span class="line">Collection&lt;String&gt; c1 = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">c1.add(<span class="string">&quot;java1&quot;</span>);</span><br><span class="line">c1.add(<span class="string">&quot;java2&quot;</span>);</span><br><span class="line">Collection&lt;String&gt; c2 = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">c2.add(<span class="string">&quot;java3&quot;</span>);</span><br><span class="line">c2.add(<span class="string">&quot;java4&quot;</span>);</span><br><span class="line">c1.addAll(c2); <span class="comment">//æŠŠc2é›†åˆä¸­çš„å…¨éƒ¨å…ƒç´ ï¼Œæ·»åŠ åˆ°c1é›†åˆä¸­å»</span></span><br><span class="line">System.out.println(c1); <span class="comment">//[java1, java2, java3, java4]</span></span><br></pre></td></tr></table></figure>

<p>æœ€åï¼Œæˆ‘ä»¬æ€»ç»“ä¸€ä¸‹Collectioné›†åˆçš„å¸¸ç”¨åŠŸèƒ½æœ‰å“ªäº›ï¼ŒArrayListã€LinkedListã€HashSetã€LinkedHashSetã€TreeSeté›†åˆéƒ½å¯ä»¥è°ƒç”¨ä¸‹é¢çš„æ–¹æ³•ã€‚</p>
<h2 id="Collectionçš„éå†æ–¹å¼"><a href="#Collectionçš„éå†æ–¹å¼" class="headerlink" title="Collectionçš„éå†æ–¹å¼"></a>Collectionçš„éå†æ–¹å¼</h2><h3 id="è¿­ä»£å™¨"><a href="#è¿­ä»£å™¨" class="headerlink" title="è¿­ä»£å™¨"></a>è¿­ä»£å™¨</h3><ul>
<li><p>è¿­ä»£å™¨æ¦‚è¿°<br>è¿­ä»£å™¨æ˜¯ç”¨æ¥éå†é›†åˆçš„ä¸“ç”¨æ–¹å¼(æ•°ç»„æ²¡æœ‰è¿­ä»£å™¨)ï¼Œåœ¨Javaä¸­è¿­ä»£å™¨çš„ä»£è¡¨æ˜¯lteratorã€‚</p>
</li>
<li><p>Collectioné›†åˆè·å–è¿­ä»£å™¨çš„æ–¹æ³•<br>Iterator<E> iterator()    è¿”å›é›†åˆä¸­çš„è¿­ä»£å™¨å¯¹è±¡ï¼Œè¯¥è¿­ä»£å™¨å¯¹è±¡é»˜è®¤æŒ‡å‘å½“å‰é›†åˆçš„ç¬¬ä¸€ä¸ªå…ƒç´ </p>
</li>
<li><p>lteratorè¿­ä»£å™¨ä¸­çš„å¸¸ç”¨æ–¹æ³•<br>boolean hasNext()         è¯¢é—®å½“å‰ä½ç½®æ˜¯å¦æœ‰å…ƒç´Šå­˜åœ¨ï¼Œå­˜åœ¨è¿”å›true ,ä¸å­˜åœ¨è¿”å›false<br>E next()                  è·å–å½“å‰ä½ç½®çš„å…ƒç´ ,å¹¶åŒæ—¶å°†è¿­ä»£å™¨å¯¹è±¡æŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ å¤„ã€‚</p>
</li>
</ul>
<p>æ¥ä¸‹æ¥å­¦ä¹ çš„è¿­ä»£å™¨å°±æ˜¯ä¸€ç§é›†åˆçš„é€šç”¨éå†æ–¹å¼ã€‚</p>
<p>ä»£ç å†™æ³•å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Collection&lt;String&gt; c = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">c.add(<span class="string">&quot;èµµæ•&quot;</span>);</span><br><span class="line">c.add(<span class="string">&quot;å°æ˜­&quot;</span>);</span><br><span class="line">c.add(<span class="string">&quot;ç´ ç´ &quot;</span>);</span><br><span class="line">c.add(<span class="string">&quot;ç­ç»&quot;</span>);</span><br><span class="line">System.out.println(c); <span class="comment">//[èµµæ•, å°æ˜­, ç´ ç´ , ç­ç»]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¬¬ä¸€æ­¥ï¼šå…ˆè·å–è¿­ä»£å™¨å¯¹è±¡</span></span><br><span class="line"><span class="comment">//è§£é‡Šï¼šIteratorå°±æ˜¯è¿­ä»£å™¨å¯¹è±¡ï¼Œç”¨äºéå†é›†åˆçš„å·¥å…·)</span></span><br><span class="line">Iterator&lt;String&gt; it = c.iterator();</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¬¬äºŒæ­¥ï¼šç”¨äºåˆ¤æ–­å½“å‰ä½ç½®æ˜¯å¦æœ‰å…ƒç´ å¯ä»¥è·å–</span></span><br><span class="line"><span class="comment">//è§£é‡Šï¼šhasNext()æ–¹æ³•è¿”å›trueï¼Œè¯´æ˜æœ‰å…ƒç´ å¯ä»¥è·å–ï¼›åä¹‹æ²¡æœ‰</span></span><br><span class="line"><span class="keyword">while</span>(it.hasNext())&#123;</span><br><span class="line">    <span class="comment">//ç¬¬ä¸‰æ­¥ï¼šè·å–å½“å‰ä½ç½®çš„å…ƒç´ ï¼Œç„¶åè‡ªåŠ¨æŒ‡å‘ä¸‹ä¸€ä¸ªå…ƒç´ .</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">e</span> <span class="operator">=</span> it.next();</span><br><span class="line">    System.out.println(s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿­ä»£å™¨ä»£ç çš„åŸç†å¦‚ä¸‹ï¼š</p>
<ul>
<li>å½“è°ƒç”¨iterator()æ–¹æ³•è·å–è¿­ä»£å™¨æ—¶ï¼Œå½“å‰æŒ‡å‘ç¬¬ä¸€ä¸ªå…ƒç´ </li>
<li>hasNext()æ–¹æ³•åˆ™åˆ¤æ–­è¿™ä¸ªä½ç½®æ˜¯å¦æœ‰å…ƒç´ ï¼Œå¦‚æœæœ‰åˆ™è¿”å›trueï¼Œè¿›å…¥å¾ªç¯</li>
<li>è°ƒç”¨next()æ–¹æ³•è·å–å…ƒç´ ï¼Œå¹¶å°†å½“æœˆå…ƒç´ æŒ‡å‘ä¸‹ä¸€ä¸ªä½ç½®ï¼Œ</li>
<li>ç­‰ä¸‹æ¬¡å¾ªç¯æ—¶ï¼Œåˆ™è·å–ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œä¾æ­¤å†…æ¨</li>
</ul>
<h3 id="å¢å¼ºfor"><a href="#å¢å¼ºfor" class="headerlink" title="å¢å¼ºfor"></a>å¢å¼ºfor</h3><ul>
<li>å¢å¼ºforå¾ªç¯<br>æ ¼å¼:<br>for(å…ƒç´ çš„æ•°æ®ç±»å‹å˜é‡å:æ•°ç»„æˆ–è€…é›†åˆ){<br>}<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Collection&lt;String&gt; c = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">...</span><br><span class="line"><span class="keyword">for</span>(String s : c)&#123;</span><br><span class="line">System.out.println(s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<ul>
<li>å¢å¼ºforå¯ä»¥ç”¨æ¥éå†é›†åˆæˆ–è€…æ•°ç»„ã€‚</li>
<li>å¢å¼ºforéå†é›†åˆï¼Œæœ¬è´¨å°±æ˜¯è¿­ä»£å™¨éå†é›†åˆçš„ç®€åŒ–å†™æ³•ã€‚</li>
</ul>
<h3 id="forEachéå†é›†åˆ"><a href="#forEachéå†é›†åˆ" class="headerlink" title="forEachéå†é›†åˆ"></a>forEachéå†é›†åˆ</h3><p>åœ¨JDK8ç‰ˆæœ¬ä»¥åè¿˜æä¾›äº†ä¸€ä¸ªforEachæ–¹æ³•ä¹Ÿå¯ä»¥éå†é›†åˆï¼Œå¦‚æœä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p>æˆ‘ä»¬å‘ç°forEachæ–¹æ³•çš„å‚æ•°æ˜¯ä¸€ä¸ªConsumeræ¥å£ï¼Œè€ŒConsumeræ˜¯ä¸€ä¸ªå‡½æ•°å¼æ¥å£ï¼Œæ‰€ä»¥å¯ä»¥ä¼ é€’Lambdaè¡¨è¾¾å¼</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Collection&lt;String&gt; c = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">c.add(<span class="string">&quot;èµµæ•&quot;</span>);</span><br><span class="line">c.add(<span class="string">&quot;å°æ˜­&quot;</span>);</span><br><span class="line">c.add(<span class="string">&quot;ç´ ç´ &quot;</span>);</span><br><span class="line">c.add(<span class="string">&quot;ç­ç»&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//è°ƒç”¨forEachæ–¹æ³•</span></span><br><span class="line"><span class="comment">//ç”±äºå‚æ•°æ˜¯ä¸€ä¸ªConsumeræ¥å£ï¼Œæ‰€ä»¥å¯ä»¥ä¼ é€’åŒ¿åå†…éƒ¨ç±»</span></span><br><span class="line">c.forEach(<span class="keyword">new</span> <span class="title class_">Consumer</span>&lt;String&gt;&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(String s)</span>&#123;</span><br><span class="line">        System.out.println(s);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¹Ÿå¯ä»¥ä½¿ç”¨lambdaè¡¨è¾¾å¼å¯¹åŒ¿åå†…éƒ¨ç±»è¿›è¡Œç®€åŒ–</span></span><br><span class="line">c.forEach(s-&gt;System.out.println(s)); <span class="comment">//[èµµæ•, å°æ˜­, ç´ ç´ , ç­ç»]</span></span><br></pre></td></tr></table></figure>

<h3 id="éå†é›†åˆæ¡ˆä¾‹"><a href="#éå†é›†åˆæ¡ˆä¾‹" class="headerlink" title="éå†é›†åˆæ¡ˆä¾‹"></a>éå†é›†åˆæ¡ˆä¾‹</h3><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬çœ‹ä¸€ä¸ªæ¡ˆä¾‹ï¼Œåœ¨é›†åˆä¸­å­˜å‚¨è‡ªå®šä¹‰çš„å¯¹è±¡ï¼Œå¹¶éå†ã€‚å…·ä½“è¦æ±‚å¦‚ä¸‹</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬å¾—å†™ä¸€ä¸ªç”µå½±ç±»ï¼Œç”¨æ¥æè¿°æ¯ä¸€æ­¥ç”µå½±åº”è¯¥æœ‰å“ªäº›ä¿¡æ¯ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Movie</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name; <span class="comment">//ç”µå½±åç§°</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> score; <span class="comment">//è¯„åˆ†</span></span><br><span class="line">    <span class="keyword">private</span> String actor; <span class="comment">//æ¼”å‘˜</span></span><br><span class="line">    <span class="comment">//æ— å‚æ•°æ„é€ æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Movie</span><span class="params">()</span>&#123;&#125;</span><br><span class="line">    <span class="comment">//å…¨å‚æ•°æ„é€ æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Movie</span><span class="params">(String name, <span class="type">double</span> score, String actor)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.name=name;</span><br><span class="line">        <span class="built_in">this</span>.score=score;</span><br><span class="line">        <span class="built_in">this</span>.actor=actor;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//...getã€setã€toString()æ–¹æ³•è‡ªå·±è¡¥ä¸Š..</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¥ç€ï¼Œå†åˆ›å»ºä¸€ä¸ªæµ‹è¯•ç±»ï¼Œå®Œæˆä¸Šé¢çš„éœ€æ±‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        Collection&lt;Movie&gt; movies = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        movies.add(<span class="keyword">new</span> <span class="title class_">MOvie</span>(<span class="string">&quot;ã€Šè‚–ç”³å…‹çš„æ•‘èµã€‹&quot;</span>, <span class="number">9.7</span>, <span class="string">&quot;ç½—å®¾æ–¯&quot;</span>));</span><br><span class="line">        movies.add(<span class="keyword">new</span> <span class="title class_">MOvie</span>(<span class="string">&quot;ã€Šéœ¸ç‹åˆ«å§¬ã€‹&quot;</span>, <span class="number">9.6</span>, <span class="string">&quot;å¼ å›½è£ã€å¼ ä¸°æ¯…&quot;</span>));</span><br><span class="line">        movies.add(<span class="keyword">new</span> <span class="title class_">MOvie</span>(<span class="string">&quot;ã€Šé˜¿ç”˜æ­£ä¼ ã€‹&quot;</span>, <span class="number">9.5</span>, <span class="string">&quot;æ±¤å§†æ±‰å…‹æ–¯&quot;</span>));</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(Movie movie : movies)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;ç”µå½±åï¼š&quot;</span> + movie.getName());</span><br><span class="line">            System.out.println(<span class="string">&quot;è¯„åˆ†ï¼š&quot;</span> + movie.getScore());</span><br><span class="line">            System.out.println(<span class="string">&quot;ä¸»æ¼”ï¼š&quot;</span> + movie.getActor());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä»¥ä¸Šä»£ç çš„å†…å­˜åŸç†å¦‚ä¸‹å›¾æ‰€ç¤ºï¼šå½“å¾€é›†åˆä¸­å­˜å¯¹è±¡æ—¶ï¼Œå®é™…ä¸Šå­˜å‚¨çš„æ˜¯å¯¹è±¡çš„åœ°å€å€¼</p>
<h2 id="Listé›†åˆ"><a href="#Listé›†åˆ" class="headerlink" title="Listé›†åˆ"></a>Listé›†åˆ</h2><h3 id="ç‰¹ç‚¹ã€ç‰¹æœ‰æ–¹å¼"><a href="#ç‰¹ç‚¹ã€ç‰¹æœ‰æ–¹å¼" class="headerlink" title="ç‰¹ç‚¹ã€ç‰¹æœ‰æ–¹å¼"></a>ç‰¹ç‚¹ã€ç‰¹æœ‰æ–¹å¼</h3><ul>
<li>Listé›†åˆçš„ç‰¹æœ‰æ–¹æ³•</li>
</ul>
<ul>
<li>Listé›†åˆå› ä¸ºæ”¯æŒç´¢å¼•ï¼Œæ‰€ä»¥å¤šäº†å¾ˆå¤šä¸ç´¢å¼•ç›¸å…³çš„æ–¹æ³•ï¼Œå½“ç„¶ï¼ŒCollectionçš„åŠŸèƒ½Listä¹Ÿéƒ½ç»§æ‰¿äº†ã€‚</li>
</ul>
<p>æ–¹æ³•åç§°<br>è¯´æ˜<br>void add(int index,E element)         åœ¨æ­¤é›†åˆä¸­çš„æŒ‡å®šä½ç½®æ’å…¥æŒ‡å®šçš„å…ƒç´ <br>E remove(int index)                    åˆ é™¤æŒ‡å®šç´¢å¼•å¤„çš„å…ƒç´ ï¼Œè¿”å›è¢«åˆ é™¤çš„å…ƒç´ <br>E set(int index,E element)            ä¿®æ”¹æŒ‡å®šç´¢å¼•å¤„çš„å…ƒç´ ï¼Œè¿”å›è¢«ä¿®æ”¹çš„å…ƒç´ <br>E get(int index)                       è¿”å›æŒ‡å®šç´¢å¼•å¤„çš„å…ƒç´ </p>
<p>Listé›†åˆæ˜¯ç´¢å¼•çš„ï¼Œæ‰€ä»¥å¤šäº†ä¸€äº›æœ‰ç´¢å¼•æ“ä½œçš„æ–¹æ³•ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç”¨ä»£ç æ¼”ç¤ºä¸€ä¸‹è¿™å‡ ä¸ªæ–¹æ³•çš„æ•ˆæœ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.åˆ›å»ºä¸€ä¸ªArrayListé›†åˆå¯¹è±¡ï¼ˆæœ‰åºã€æœ‰ç´¢å¼•ã€å¯ä»¥é‡å¤ï¼‰</span></span><br><span class="line">List&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">list.add(<span class="string">&quot;èœ˜è››ç²¾&quot;</span>);</span><br><span class="line">list.add(<span class="string">&quot;è‡³å°Šå®&quot;</span>);</span><br><span class="line">list.add(<span class="string">&quot;è‡³å°Šå®&quot;</span>);</span><br><span class="line">list.add(<span class="string">&quot;ç‰›å¤«äºº&quot;</span>); </span><br><span class="line">System.out.println(list); <span class="comment">//[èœ˜è››ç²¾, è‡³å°Šå®, è‡³å°Šå®, ç‰›å¤«äºº]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//2.public void add(int index, E element): åœ¨æŸä¸ªç´¢å¼•ä½ç½®æ’å…¥å…ƒç´ </span></span><br><span class="line">list.add(<span class="number">2</span>, <span class="string">&quot;ç´«éœä»™å­&quot;</span>);</span><br><span class="line">System.out.println(list); <span class="comment">//[èœ˜è››ç²¾, è‡³å°Šå®, ç´«éœä»™å­, è‡³å°Šå®, ç‰›å¤«äºº]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//3.public E remove(int index): æ ¹æ®ç´¢å¼•åˆ é™¤å…ƒç´ , è¿”å›è¢«åˆ é™¤çš„å…ƒç´ </span></span><br><span class="line">System.out.println(list.remove(<span class="number">2</span>)); <span class="comment">//ç´«éœä»™å­</span></span><br><span class="line">System.out.println(list);<span class="comment">//[èœ˜è››ç²¾, è‡³å°Šå®, è‡³å°Šå®, ç‰›å¤«äºº]</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//4.public E get(int index): è¿”å›é›†åˆä¸­æŒ‡å®šä½ç½®çš„å…ƒç´ </span></span><br><span class="line">System.out.println(list.get(<span class="number">3</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">//5.public E set(int index, E e): ä¿®æ”¹ç´¢å¼•ä½ç½®å¤„çš„å…ƒç´ ï¼Œä¿®æ”¹åï¼Œä¼šè¿”å›åŸæ•°æ®</span></span><br><span class="line">System.out.println(list.set(<span class="number">3</span>,<span class="string">&quot;ç‰›é­”ç‹&quot;</span>)); <span class="comment">//ç‰›å¤«äºº</span></span><br><span class="line">System.out.println(list); <span class="comment">//[èœ˜è››ç²¾, è‡³å°Šå®, è‡³å°Šå®, ç‰›é­”ç‹]</span></span><br></pre></td></tr></table></figure>

<h3 id="éå†æ–¹å¼"><a href="#éå†æ–¹å¼" class="headerlink" title="éå†æ–¹å¼"></a>éå†æ–¹å¼</h3><ul>
<li>Listé›†åˆæ”¯æŒçš„éå†æ–¹å¼</li>
</ul>
<ol>
<li>forå¾ªç¯(å› ä¸ºListé›†åˆæœ‰ç´¢å¼•)</li>
<li>è¿­ä»£å™¨</li>
<li>å¢å¼ºforå¾ªç¯</li>
<li>Lambdaè¡¨è¾¾å¼</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">list.add(<span class="string">&quot;èœ˜è››ç²¾&quot;</span>);</span><br><span class="line">list.add(<span class="string">&quot;è‡³å°Šå®&quot;</span>);</span><br><span class="line">list.add(<span class="string">&quot;ç³–å®å®&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//1.æ™®é€šforå¾ªç¯</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i&lt; list.size(); i++)&#123;</span><br><span class="line">    <span class="comment">//i = 0, 1, 2</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">e</span> <span class="operator">=</span> list.get(i);</span><br><span class="line">    System.out.println(e);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.å¢å¼ºforéå†</span></span><br><span class="line"><span class="keyword">for</span>(String s : list)&#123;</span><br><span class="line">    System.out.println(s);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//3.è¿­ä»£å™¨éå†</span></span><br><span class="line">Iterator&lt;String&gt; it = list.iterator();</span><br><span class="line"><span class="keyword">while</span>(it.hasNext())&#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> it.next();</span><br><span class="line">    System.out.println(s);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//4.lambdaè¡¨è¾¾å¼éå†</span></span><br><span class="line">list.forEach(s-&gt;System.out.println(s));</span><br></pre></td></tr></table></figure>

<h3 id="ArrayListé›†åˆçš„åº•å±‚åŸç†"><a href="#ArrayListé›†åˆçš„åº•å±‚åŸç†" class="headerlink" title="ArrayListé›†åˆçš„åº•å±‚åŸç†"></a>ArrayListé›†åˆçš„åº•å±‚åŸç†</h3><ol>
<li>ArrayListé›†åˆçš„åº•å±‚åŸç†<ol>
<li>åˆ©ç”¨æ— å‚æ„é€ å™¨åˆ›å»ºçš„é›†åˆï¼Œä¼šåœ¨åº•å±‚åˆ›å»ºä¸€ä¸ªé»˜è®¤é•¿åº¦ä¸º0çš„æ•°ç»„</li>
<li>æ·»åŠ ç¬¬ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œåº•å±‚ä¼šåˆ›å»ºä¸€ä¸ªæ–°çš„é•¿åº¦ä¸º10çš„æ•°ç»„</li>
<li>å­˜æ»¡æ—¶ï¼Œä¼šæ‰©å®¹1.5å€</li>
<li>å¦‚æœä¸€æ¬¡æ·»åŠ å¤šä¸ªå…ƒç´ ï¼Œ1.5å€è¿˜æ”¾ä¸ä¸‹ï¼Œåˆ™æ–°åˆ›å»ºæ•°ç»„çš„é•¿åº¦ä»¥å®é™…ä¸ºå‡†</li>
</ol>
</li>
</ol>
<ul>
<li>æ•°ç»„çš„ç‰¹ç‚¹<br>æŸ¥è¯¢å¿«ã€å¢åˆ æ…¢</li>
</ul>
<ul>
<li>æŸ¥è¯¢é€Ÿåº¦å¿«(æ³¨æ„âˆ¶æ˜¯æ ¹æ®ç´¢å¼•æŸ¥è¯¢æ•°æ®å¿«)ï¸°æŸ¥è¯¢æ•°æ®é€šè¿‡åœ°å€å€¼å’Œç´¢å¼•å®šä½ï¼ŒæŸ¥è¯¢ä»»æ„æ•°æ®è€—æ—¶ç›¸åŒã€‚</li>
<li>åˆ é™¤æ•ˆç‡ä½:å¯èƒ½éœ€è¦æŠŠåé¢å¾ˆå¤šçš„æ•°æ®è¿›è¡Œå‰ç§»ã€‚</li>
<li>æ·»åŠ æ•ˆç‡æä½:å¯èƒ½éœ€è¦æŠŠåé¢å¾ˆå¤šçš„æ•°æ®åç§»ï¼Œå†æ·»åŠ å…ƒç´ ;æˆ–è€…ä¹Ÿå¯èƒ½éœ€è¦è¿›è¡Œæ•°ç»„çš„æ‰©å®¹ã€‚</li>
</ul>
<ol start="2">
<li>ArrayListé›†åˆè¯åˆçš„åº”ç”¨åœºæ™¯</li>
</ol>
<p>1ã€ArrayListé€‚åˆ:æ ¹æ®ç´¢å¼•æŸ¥è¯¢æ•°æ®, æ¯”å¦‚æ ¹æ®éšæœºç´¢æŸ¥è¯¢æ•°æ®(é«˜æ•ˆ)! æˆ–è€ƒæ•°æ®é‡ä¸æ˜¯å¾ˆå¤§æ—¶!<br>2ã€ArrayListä¸é€‚åˆ:æ•°æ®é‡å¤§çš„åŒæ—¶ï¼Œåˆè¦é¢‘ç¹çš„è¿›è¡Œå¢åˆ æ“ä½œ!</p>
<h3 id="LinkListé›†åˆçš„åº•å±‚åŸç†"><a href="#LinkListé›†åˆçš„åº•å±‚åŸç†" class="headerlink" title="LinkListé›†åˆçš„åº•å±‚åŸç†"></a>LinkListé›†åˆçš„åº•å±‚åŸç†</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh78.png"></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh79.png"></p>
<ul>
<li>LinkedListé›†åˆçš„åº•å±‚åŸç†</li>
</ul>
<ul>
<li>åŸºäºåŒé“¾è¡¨å®ç°çš„ã€‚</li>
<li>ç‰¹ç‚¹:æŸ¥è¯¢æ…¢ï¼Œå¢åˆ ç›¸å¯¹è¾ƒå¿«ï¼Œä½†å¯¹é¦–å°¾å…ƒç´ è¿›è¡Œå¢åˆ æ”¹æŸ¥çš„é€Ÿåº¦æ˜¯æå¿«çš„ã€‚</li>
</ul>
<ul>
<li>LinkedListæ–°å¢äº†:å¾ˆå¤šé¦–å°¾æ“ä½œçš„ç‰¹æœ‰æ–¹æ³•ã€‚<br>æ–¹æ³•åç§°<br>è¯´æ˜<br>public void addFirst(E e)            åœ¨è¯¥åˆ—è¡¨å¼€å¤´æ’å…¥æŒ‡å®šçš„å…ƒç´ <br>public void addLast(E e)             å°†æŒ‡å®šçš„å…ƒç´ è¿½åŠ åˆ°æ­¤åˆ—è¡¨çš„æœ«å°¾<br>public E getFirst()                  è¿”å›æ­¤åˆ—è¡¨ä¸­çš„ç¬¬ä¸€ä¸ªå…ƒç´ <br>public E getLast()                   è¿”å›æ­¤åˆ—è¡¨ä¸­çš„æœ€åä¸€ä¸ªå…ƒç´ <br>public E removeFirst()               ä»æ­¤åˆ—è¡¨ä¸­åˆ é™¤å¹¶è¿”å›ç¬¬ä¸€ä¸ªå…ƒç´ <br>public E removeLast()                ä»æ­¤åˆ—è¡¨ä¸­åˆ é™¤å¹¶è¿”å›æœ€åä¸€ä¸ªå…ƒç´ </li>
</ul>
<ol>
<li>LinkedListçš„åº”ç”¨åœºæ™¯ä¹‹ä¸€:å¯ä»¥ç”¨æ¥è®¾è®¡é˜Ÿåˆ—<br>åªæ˜¯åœ¨é¦–å°¾å¢å†Œåˆ å…ƒç´ ï¼Œç”¨LinkedListæ¥å®ç°å¾ˆåˆè¯!</li>
</ol>
<p>å…¥é˜Ÿ   å‡ºé˜Ÿ<br><strong>å…ˆè¿›å…ˆå‡ºï¼Œåè¿›åå‡º</strong></p>
<ol start="2">
<li>LinkedListçš„åº”ç”¨åœºæ™¯ä¹‹ä¸€:å¯ä»¥ç”¨æ¥è®¾è®¡æ ˆ<br>åªæ˜¯åœ¨é¦–éƒ¨å¢åˆ å…ƒç´ ï¼Œç”¨LinkedListæ¥å®ç°å¾ˆåˆè¯!</li>
</ol>
<p>æ ˆé¡¶å…ƒç´ <br>æ•°æ®è¿›å…¥æ ˆæ¨¡å‹çš„è¿‡ç¨‹ç§°ä¸º:å‹&#x2F;è¿›æ ˆ(push)<br>æ•°æ®ç¦»å¼€æ ˆæ¨¡å‹çš„è¿‡ç¨‹ç§°ä¸º:å¼¹&#x2F;å‡ºæ ˆ(pop)<br>æ ˆåº•å…ƒç´ </p>
<p><strong>åè¿›å…ˆå‡ºï¼Œå…ˆè¿›åå‡º</strong></p>
<h2 id="Seté›†åˆ"><a href="#Seté›†åˆ" class="headerlink" title="Seté›†åˆ"></a>Seté›†åˆ</h2><h3 id="ç‰¹ç‚¹"><a href="#ç‰¹ç‚¹" class="headerlink" title="ç‰¹ç‚¹"></a>ç‰¹ç‚¹</h3><ul>
<li>Setç³»åˆ—é›†åˆç‰¹ç‚¹:æ— åº:æ·»åŠ æ•°æ®çš„é¡ºåºå’Œè·å–å‡ºçš„æ•°æ®é¡ºåºä¸ä¸€è‡´;ä¸é‡å¤;æ— ç´¢å¼•;<br>HashSet:æ— åºã€ä¸é‡å¤ã€æ— ç´¢å¼•ã€‚<br>LinkedHashSet:æœ‰åºã€ä¸é‡å¤ã€æ— ç´¢å¼•ã€‚<br>TreeSetæ’åºã€ä¸é‡å¤ã€æ— ç´¢å¼•ã€‚</li>
</ul>
<p>ä¸‹é¢æˆ‘ä»¬ç”¨ä»£ç ç®€å•æ¼”ç¤ºä¸€ä¸‹ï¼Œæ¯ä¸€ç§Seté›†åˆçš„ç‰¹ç‚¹ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Set&lt;Integer&gt; set = new HashSet&lt;&gt;();	//æ— åºã€æ— ç´¢å¼•ã€ä¸é‡å¤</span></span><br><span class="line"><span class="comment">//Set&lt;Integer&gt; set = new LinkedHashSet&lt;&gt;(); //æœ‰åºã€æ— ç´¢å¼•ã€ä¸é‡å¤</span></span><br><span class="line">Set&lt;Integer&gt; set = <span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;&gt;(); <span class="comment">//å¯æ’åº(å‡åº)ã€æ— ç´¢å¼•ã€ä¸é‡å¤</span></span><br><span class="line">set.add(<span class="number">666</span>);</span><br><span class="line">set.add(<span class="number">555</span>);</span><br><span class="line">set.add(<span class="number">555</span>);</span><br><span class="line">set.add(<span class="number">888</span>);</span><br><span class="line">set.add(<span class="number">888</span>);</span><br><span class="line">set.add(<span class="number">777</span>);</span><br><span class="line">set.add(<span class="number">777</span>);</span><br><span class="line">System.out.println(set); <span class="comment">//[555, 666, 777, 888]</span></span><br></pre></td></tr></table></figure>

<h3 id="HashSeté›†åˆçš„åº•å±‚åŸç†"><a href="#HashSeté›†åˆçš„åº•å±‚åŸç†" class="headerlink" title="HashSeté›†åˆçš„åº•å±‚åŸç†"></a>HashSeté›†åˆçš„åº•å±‚åŸç†</h3><ul>
<li>å“ˆå¸Œå€¼</li>
</ul>
<ul>
<li>å°±æ˜¯ä¸€ä¸ªintç±»å‹çš„æ•°å€¼ï¼ŒJavaä¸­æ¯ä¸ªå¯¹è±¡éƒ½æœ‰ä¸€ä¸ªå“ˆå¸Œå€¼ã€‚</li>
<li>Javaä¸­çš„æ‰€æœ‰å¯¹è±¡ï¼Œéƒ½å¯ä»¥è°ƒç”¨Obejctç±»æä¾›çš„hashCodeæ–¹æ³•ï¼Œè¿”å›è¯¥å¯¹è±¡è‡ªå·±çš„å“ˆå¸Œå€¼ã€‚<br>public int hashCode():          è¿”å›å¯¹è±¡çš„å“ˆå¸Œç å€¼ã€‚</li>
</ul>
<ul>
<li>å¯¹è±¡å“ˆå¸Œå€¼çš„ç‰¹ç‚¹</li>
</ul>
<ul>
<li>åŒä¸€ä¸ªå¯¹è±¡å¤šæ¬¡è°ƒç”¨hashCode()æ–¹æ³•è¿”å›çš„å“ˆå¸Œå€¼æ˜¯ç›¸åŒçš„ã€‚</li>
<li>ä¸åŒçš„å¯¹è±¡ï¼Œå®ƒä»¬çš„å“ˆå¸Œå€¼ä¸€èˆ¬ä¸ç›¸åŒï¼Œä½†ä¹Ÿæœ‰å¯èƒ½ä¼šç›¸åŒ(å“ˆå¸Œç¢°æ’)ã€‚<br>int (-21äº¿å¤š~21äº¿å¤š)             45äº¿ä¸ªå¯¹è±¡</li>
</ul>
<ul>
<li><p>HashSeté›†åˆçš„åº•å±‚åŸç†<br>åŸºäºå“ˆå¸Œè¡¨å®ç°ã€‚<br> *å“ˆå¸Œè¡¨æ˜¯ä¸€ç§å¢åˆ æ”¹æŸ¥æ•°æ®ï¼Œæ€§èƒ½éƒ½è¾ƒå¥½çš„æ•°æ®ç»“æ„ã€‚</p>
</li>
<li><p>å“ˆå¸Œè¡¨<br>JDK8ä¹‹å‰ï¼Œå“ˆå¸Œè¡¨&#x3D;æ•°ç»„+é“¾è¡¨<br>JDK8å¼€å§‹ï¼Œå“ˆå¸Œè¡¨&#x3D;æ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh80.png"></p>
</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh81.png"></p>
<ul>
<li>æ·±å…¥ç†è§£HashSeté›†åˆå»é‡å¤çš„æœºåˆ¶ã€‚</li>
</ul>
<ul>
<li>HashSeté›†åˆé»˜è®¤ä¸èƒ½å¯¹å†…å®¹ä¸€æ ·çš„ä¸¤ä¸ªä¸åŒå¯¹è±¡å»é‡å¤!<br>æ¯”å¦‚å†…å®¹ä¸€æ ·çš„ä¸¤ä¸ªå­¦ç”Ÿå¯¹è±¡å­˜å…¥åˆ°HashSeté›†åˆä¸­å»ï¼ŒHashSeté›†åˆæ˜¯ä¸èƒ½å»é‡å¤çš„!</li>
</ul>
<p>HashSetå­˜å‚¨å…ƒç´ çš„åŸç†ï¼Œä¾èµ–äºä¸¤ä¸ªæ–¹æ³•ï¼šä¸€ä¸ªæ˜¯hashCodeæ–¹æ³•ç”¨æ¥ç¡®å®šåœ¨åº•å±‚æ•°ç»„ä¸­å­˜å‚¨çš„ä½ç½®ï¼Œå¦ä¸€ä¸ªæ˜¯ç”¨equalsæ–¹æ³•åˆ¤æ–­æ–°æ·»åŠ çš„å…ƒç´ æ˜¯å¦å’Œé›†åˆä¸­å·²æœ‰çš„å…ƒç´ ç›¸åŒã€‚</p>
<p>è¦æƒ³ä¿è¯åœ¨HashSeté›†åˆä¸­æ²¡æœ‰é‡å¤å…ƒç´ ï¼Œæˆ‘ä»¬éœ€è¦é‡å†™å…ƒç´ ç±»çš„hashCodeå’Œequalsæ–¹æ³•ã€‚æ¯”å¦‚ä»¥ä¸‹é¢çš„Studentç±»ä¸ºä¾‹ï¼Œå‡è®¾æŠŠStudentç±»çš„å¯¹è±¡ä½œä¸ºHashSeté›†åˆçš„å…ƒç´ ï¼Œæƒ³è¦è®©å­¦ç”Ÿçš„å§“åå’Œå¹´é¾„ç›¸åŒï¼Œå°±è®¤ä¸ºå…ƒç´ é‡å¤ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name; <span class="comment">//å§“å</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age; <span class="comment">//å¹´é¾„</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> height; <span class="comment">//èº«é«˜</span></span><br><span class="line"> </span><br><span class="line">    <span class="comment">//æ— å‚æ•°æ„é€ æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">()</span>&#123;&#125;</span><br><span class="line">    <span class="comment">//å…¨å‚æ•°æ„é€ æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name, <span class="type">int</span> age, <span class="type">double</span> height)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.name=name;</span><br><span class="line">        <span class="built_in">this</span>.age=age;</span><br><span class="line">        <span class="built_in">this</span>.height=height;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//...getã€setã€toString()æ–¹æ³•è‡ªå·±è¡¥ä¸Š..</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//æŒ‰å¿«æ·é”®ç”ŸæˆhashCodeå’Œequalsæ–¹æ³•</span></span><br><span class="line">    <span class="comment">//alt+insert é€‰æ‹© hashCode and equals</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span> == o) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (o == <span class="literal">null</span> || getClass() != o.getClass()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">        <span class="type">Student</span> <span class="variable">student</span> <span class="operator">=</span> (Student) o;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (age != student.age) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">if</span> (Double.compare(student.height, height) != <span class="number">0</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="keyword">return</span> name != <span class="literal">null</span> ? name.equals(student.name) : student.name == <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">hashCode</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">int</span> result;</span><br><span class="line">        <span class="type">long</span> temp;</span><br><span class="line">        result = name != <span class="literal">null</span> ? name.hashCode() : <span class="number">0</span>;</span><br><span class="line">        result = <span class="number">31</span> * result + age;</span><br><span class="line">        temp = Double.doubleToLongBits(height);</span><br><span class="line">        result = <span class="number">31</span> * result + (<span class="type">int</span>) (temp ^ (temp &gt;&gt;&gt; <span class="number">32</span>));</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¥ç€ï¼Œå†™ä¸€ä¸ªæµ‹è¯•ç±»ï¼Œå¾€HashSeté›†åˆä¸­å­˜å‚¨Studentå¯¹è±¡ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        Set&lt;Student&gt; students = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;è‡³å°Šå®&quot;</span>,<span class="number">20</span>, <span class="number">169.6</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;èœ˜è››ç²¾&quot;</span>,<span class="number">23</span>, <span class="number">169.6</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;èœ˜è››ç²¾&quot;</span>,<span class="number">23</span>, <span class="number">169.6</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;ç‰›é­”ç‹&quot;</span>,<span class="number">48</span>, <span class="number">169.6</span>);</span><br><span class="line">        </span><br><span class="line">        students.add(s1);</span><br><span class="line">        students.add(s2);</span><br><span class="line">        students.add(s3);</span><br><span class="line">        students.add(s4);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span>(Student s : students)&#123;</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ‰“å°ç»“æœå¦‚ä¸‹ï¼Œæˆ‘ä»¬å‘ç°å­˜äº†ä¸¤ä¸ªèœ˜è››ç²¾ï¼Œå½“æ—¶å®é™…æ‰“å°å‡ºæ¥åªæœ‰ä¸€ä¸ªï¼Œè€Œä¸”æ˜¯æ— åºçš„ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Student&#123;name=<span class="string">&#x27;ç‰›é­”ç‹&#x27;</span>, age=<span class="number">48</span>, height=<span class="number">169.6</span>&#125;</span><br><span class="line">Student&#123;name=<span class="string">&#x27;è‡³å°Šå®&#x27;</span>, age=<span class="number">20</span>, height=<span class="number">169.6</span>&#125;</span><br><span class="line">Student&#123;name=<span class="string">&#x27;èœ˜è››ç²¾&#x27;</span>, age=<span class="number">23</span>, height=<span class="number">169.6</span>&#125;</span><br></pre></td></tr></table></figure>

<h3 id="LinkedHashSeté›†åˆçš„åº•å±‚åŸç†"><a href="#LinkedHashSeté›†åˆçš„åº•å±‚åŸç†" class="headerlink" title="LinkedHashSeté›†åˆçš„åº•å±‚åŸç†"></a>LinkedHashSeté›†åˆçš„åº•å±‚åŸç†</h3><ul>
<li>LinkedHashSetåº•å±‚åŸç†</li>
</ul>
<ul>
<li>ä¾ç„¶æ˜¯åŸºäºå“ˆå¸Œè¡¨(æ•°ç»„ã€é“¾è¡¨ã€çº¢é»‘æ ‘)å®ç°çš„ã€‚</li>
<li>ä½†æ˜¯ï¼Œå®ƒçš„æ¯ä¸ªå…ƒç´ éƒ½é¢å¤–çš„å¤šäº†ä¸€ä¸ªåŒé“¾è¡¨çš„æœºåˆ¶è®°å½•å®ƒå‰åå…ƒç´ çš„ä½ç½®ã€‚</li>
</ul>
<h3 id="TreeSeté›†åˆ"><a href="#TreeSeté›†åˆ" class="headerlink" title="TreeSeté›†åˆ"></a>TreeSeté›†åˆ</h3><ul>
<li>TreeSet</li>
</ul>
<ul>
<li>ç‰¹ç‚¹:ä¸é‡å¤ã€æ— ç´¢å¼•ã€å¯æ’åº(é»˜è®¤å‡åºæ’åºï¼ŒæŒ‰ç…§å…ƒç´ çš„å¤§å°ï¼Œç”±å°åˆ°å¤§æ’åº)</li>
<li>åº•å±‚æ˜¯åŸºäºçº¢é»‘æ ‘å®ç°çš„æ’åºã€‚</li>
</ul>
<ul>
<li>æ³¨æ„:</li>
</ul>
<ul>
<li>å¯¹äºæ•°å€¼ç±»å‹:Integer , Doubleï¼Œé»˜è®¤æŒ‰ç…§æ•°å€¼æœ¬èº«çš„å¤§å°è¿›è¡Œå‡åºæ’åºã€‚</li>
<li>å¯¹äºå­—ç¬¦ä¸²ç±»å‹:é»˜è®¤æŒ‰ç…§é¦–å­—ç¬¦çš„ç¼–å·å‡åºæ’åºã€‚</li>
<li>å¯¹äºè‡ªå®šä¹‰ç±»å‹å¦‚Studentå¯¹è±¡ï¼ŒTreeSeté»˜è®¤æ˜¯æ— æ³•ç›´æ¥æ’åºçš„ã€‚</li>
</ul>
<p>TreeSeté›†åˆçš„ç‰¹ç‚¹æ˜¯å¯ä»¥å¯¹å…ƒç´ è¿›è¡Œæ’åºï¼Œä½†æ˜¯å¿…é¡»æŒ‡å®šå…ƒç´ çš„æ’åºè§„åˆ™ã€‚</p>
<p>å¦‚æœå¾€é›†åˆä¸­å­˜å‚¨Stringç±»å‹çš„å…ƒç´ ï¼Œæˆ–è€…Integerç±»å‹çš„å…ƒç´ ï¼Œå®ƒä»¬æœ¬èº«å°±å…·å¤‡æ’åºè§„åˆ™ï¼Œæ‰€ä»¥ç›´æ¥å°±å¯ä»¥æ’åºã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">Set&lt;Integer&gt; set1= <span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;&gt;();</span><br><span class="line">set1.add(<span class="number">8</span>);</span><br><span class="line">set1.add(<span class="number">6</span>);</span><br><span class="line">set1.add(<span class="number">4</span>);</span><br><span class="line">set1.add(<span class="number">3</span>);</span><br><span class="line">set1.add(<span class="number">7</span>);</span><br><span class="line">set1.add(<span class="number">1</span>);</span><br><span class="line">set1.add(<span class="number">5</span>);</span><br><span class="line">set1.add(<span class="number">2</span>);</span><br><span class="line">System.out.println(set1); <span class="comment">//[1,2,3,4,5,6,7,8]</span></span><br><span class="line"></span><br><span class="line">Set&lt;Integer&gt; set2= <span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;&gt;();</span><br><span class="line">set2.add(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">set2.add(<span class="string">&quot;c&quot;</span>);</span><br><span class="line">set2.add(<span class="string">&quot;e&quot;</span>);</span><br><span class="line">set2.add(<span class="string">&quot;b&quot;</span>);</span><br><span class="line">set2.add(<span class="string">&quot;d&quot;</span>);</span><br><span class="line">set2.add(<span class="string">&quot;f&quot;</span>);</span><br><span class="line">set2.add(<span class="string">&quot;g&quot;</span>);</span><br><span class="line">System.out.println(set1); <span class="comment">//[a,b,c,d,e,f,g]</span></span><br></pre></td></tr></table></figure>


<p>å¦‚æœå¾€TreeSeté›†åˆä¸­å­˜å‚¨è‡ªå®šä¹‰ç±»å‹çš„å…ƒç´ ï¼Œæ¯”å¦‚è¯´Studentç±»å‹ï¼Œåˆ™éœ€è¦æˆ‘ä»¬è‡ªå·±æŒ‡å®šæ’åºè§„åˆ™ï¼Œå¦åˆ™ä¼šå‡ºç°å¼‚å¸¸ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åˆ›å»ºTreeSeté›†åˆï¼Œå…ƒç´ ä¸ºStudentç±»å‹</span></span><br><span class="line">Set&lt;Student&gt; students = <span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ›å»º4ä¸ªStudentå¯¹è±¡</span></span><br><span class="line"><span class="type">Student</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;è‡³å°Šå®&quot;</span>,<span class="number">20</span>, <span class="number">169.6</span>);</span><br><span class="line"><span class="type">Student</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;ç´«éœ&quot;</span>,<span class="number">23</span>, <span class="number">169.8</span>);</span><br><span class="line"><span class="type">Student</span> <span class="variable">s3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;èœ˜è››ç²¾&quot;</span>,<span class="number">23</span>, <span class="number">169.6</span>);</span><br><span class="line"><span class="type">Student</span> <span class="variable">s4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;ç‰›é­”ç‹&quot;</span>,<span class="number">48</span>, <span class="number">169.6</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ·»åŠ Studnetå¯¹è±¡åˆ°é›†åˆ</span></span><br><span class="line">students.add(s1);</span><br><span class="line">students.add(s2);</span><br><span class="line">students.add(s3);</span><br><span class="line">students.add(s4);</span><br><span class="line">System.out.println(students); </span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶è¿è¡Œä»£ç ï¼Œä¼šç›´æ¥æŠ¥é”™ã€‚åŸå› æ˜¯TreeSetä¸çŸ¥é“æŒ‰ç…§ä»€ä¹ˆæ¡ä»¶å¯¹Studentå¯¹è±¡æ¥æ’åºã€‚</p>
<ul>
<li>è‡ªå®šä¹‰æ’åºè§„åˆ™<br>TreeSeté›†åˆå­˜å‚¨è‡ªå®šä¹‰ç±»å‹çš„å¯¹è±¡æ—¶ï¼Œå¿…é¡»æŒ‡å®šæ’åºè§„åˆ™ï¼Œæ”¯æŒå¦‚ä¸‹ä¸¤ç§æ–¹å¼æ¥æŒ‡å®šæ¯”è¾ƒè§„åˆ™ã€‚<blockquote>
<p>ç¬¬ä¸€ç§ï¼šè®©å…ƒç´ çš„ç±»å®ç°Comparableæ¥å£ï¼Œé‡å†™compareToæ–¹æ³•</p>
</blockquote>
</li>
</ul>
<blockquote>
<p>ç¬¬äºŒç§ï¼šåœ¨åˆ›å»ºTreeSeté›†åˆæ—¶ï¼Œé€šè¿‡æ„é€ æ–¹æ³•ä¼ é€’Compartoræ¯”è¾ƒå™¨å¯¹è±¡</p>
</blockquote>
<p>public TreeSet(Comparator&lt;? super E&gt; comparator)</p>
<ul>
<li><strong>æ’åºæ–¹å¼1ï¼š</strong>æˆ‘ä»¬å…ˆæ¥æ¼”ç¤ºç¬¬ä¸€ç§æ’åºæ–¹å¼</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç¬¬ä¸€æ­¥ï¼šå…ˆè®©Studentç±»ï¼Œå®ç°Comparableæ¥å£</span></span><br><span class="line"><span class="comment">//æ³¨æ„ï¼šStudentç±»çš„å¯¹è±¡æ˜¯ä½œä¸ºTreeSeté›†åˆçš„å…ƒç´ çš„</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">implements</span> <span class="title class_">Comparable</span>&lt;Student&gt;&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> height;</span><br><span class="line">	<span class="comment">//æ— å‚æ•°æ„é€ æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">()</span>&#123;&#125;</span><br><span class="line">    <span class="comment">//å…¨å‚æ•°æ„é€ æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name, <span class="type">int</span> age, <span class="type">double</span> height)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.name=name;</span><br><span class="line">        <span class="built_in">this</span>.age=age;</span><br><span class="line">        <span class="built_in">this</span>.height=height;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//...getã€setã€toString()æ–¹æ³•è‡ªå·±è¡¥ä¸Š..</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//ç¬¬äºŒæ­¥ï¼šé‡å†™compareToæ–¹æ³•</span></span><br><span class="line">    <span class="comment">//æŒ‰ç…§å¹´é¾„è¿›è¡Œæ¯”è¾ƒï¼Œåªéœ€è¦åœ¨æ–¹æ³•ä¸­è®©this.ageå’Œo.ageç›¸å‡å°±å¯ä»¥ã€‚</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    åŸç†ï¼š</span></span><br><span class="line"><span class="comment">    åœ¨å¾€TreeSeté›†åˆä¸­æ·»åŠ å…ƒç´ æ—¶ï¼Œaddæ–¹æ³•åº•å±‚ä¼šè°ƒç”¨compareToæ–¹æ³•ï¼Œæ ¹æ®è¯¥æ–¹æ³•çš„</span></span><br><span class="line"><span class="comment">    ç»“æœæ˜¯æ­£æ•°ã€è´Ÿæ•°ã€è¿˜æ˜¯é›¶ï¼Œå†³å®šå…ƒç´ æ”¾åœ¨åé¢ã€å‰é¢è¿˜æ˜¯ä¸å­˜ã€‚</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(Student o)</span> &#123;</span><br><span class="line">        <span class="comment">//thisï¼šè¡¨ç¤ºå°†è¦æ·»åŠ è¿›å»çš„Studentå¯¹è±¡</span></span><br><span class="line">        <span class="comment">//o: è¡¨ç¤ºé›†åˆä¸­å·²æœ‰çš„Studentå¯¹è±¡</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.age-o.age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶ï¼Œå†è¿è¡Œæµ‹è¯•ç±»ï¼Œç»“æœå¦‚ä¸‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Student&#123;name=<span class="string">&#x27;è‡³å°Šå®&#x27;</span>, age=<span class="number">20</span>, height=<span class="number">169.6</span>&#125;</span><br><span class="line">Student&#123;name=<span class="string">&#x27;ç´«éœ&#x27;</span>, age=<span class="number">20</span>, height=<span class="number">169.8</span>&#125;</span><br><span class="line">Student&#123;name=<span class="string">&#x27;èœ˜è››ç²¾&#x27;</span>, age=<span class="number">23</span>, height=<span class="number">169.6</span>&#125;</span><br><span class="line">Student&#123;name=<span class="string">&#x27;ç‰›é­”ç‹&#x27;</span>, age=<span class="number">48</span>, height=<span class="number">169.6</span>&#125;</span><br></pre></td></tr></table></figure>



<ul>
<li><strong>æ’åºæ–¹å¼2ï¼š</strong>æ¥ä¸‹æ¥æ¼”ç¤ºç¬¬äºŒç§æ’åºæ–¹å¼</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åˆ›å»ºTreeSeté›†åˆæ—¶ï¼Œä¼ é€’æ¯”è¾ƒå™¨å¯¹è±¡æ’åº</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">åŸç†ï¼šå½“è°ƒç”¨addæ–¹æ³•æ—¶ï¼Œåº•å±‚ä¼šå…ˆç”¨æ¯”è¾ƒå™¨ï¼Œæ ¹æ®Comparatorçš„compareæ–¹æ˜¯æ­£æ•°ã€è´Ÿæ•°ã€è¿˜æ˜¯é›¶ï¼Œå†³å®šè°åœ¨åï¼Œè°åœ¨å‰ï¼Œè°ä¸å­˜ã€‚</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">//ä¸‹é¢ä»£ç ä¸­æ˜¯æŒ‰ç…§å­¦ç”Ÿçš„å¹´é¾„å‡åºæ’åº</span></span><br><span class="line">Set&lt;Student&gt; students = <span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;&gt;(<span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;Student&gt;&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Student o1, Student o2)</span>&#123;</span><br><span class="line">        <span class="comment">//éœ€æ±‚ï¼šæŒ‰ç…§å­¦ç”Ÿçš„èº«é«˜æ’åº</span></span><br><span class="line">        <span class="keyword">return</span> Double.compare(o1,o2); </span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//åˆ›å»º4ä¸ªStudentå¯¹è±¡</span></span><br><span class="line"><span class="type">Student</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;è‡³å°Šå®&quot;</span>,<span class="number">20</span>, <span class="number">169.6</span>);</span><br><span class="line"><span class="type">Student</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;ç´«éœ&quot;</span>,<span class="number">23</span>, <span class="number">169.8</span>);</span><br><span class="line"><span class="type">Student</span> <span class="variable">s3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;èœ˜è››ç²¾&quot;</span>,<span class="number">23</span>, <span class="number">169.6</span>);</span><br><span class="line"><span class="type">Student</span> <span class="variable">s4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;ç‰›é­”ç‹&quot;</span>,<span class="number">48</span>, <span class="number">169.6</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ·»åŠ Studnetå¯¹è±¡åˆ°é›†åˆ</span></span><br><span class="line">students.add(s1);</span><br><span class="line">students.add(s2);</span><br><span class="line">students.add(s3);</span><br><span class="line">students.add(s4);</span><br><span class="line">System.out.println(students); </span><br></pre></td></tr></table></figure>

<ul>
<li>ä¸¤ç§æ–¹å¼ä¸­ï¼Œå…³äºè¿”å›å€¼çš„è§„åˆ™;</li>
</ul>
<ul>
<li>å¦‚æœè®¤ä¸ºç¬¬ä¸€ä¸ªå…ƒç´ &gt;ç¬¬äºŒä¸ªå…ƒç´ è¿”å›æ­£æ•´æ•°å³å¯ã€‚</li>
<li>å¦‚æœè®¤ä¸ºç¬¬ä¸€ä¸ªå…ƒç´ &lt;ç¬¬äºŒä¸ªå…ƒç´ è¿”å›è´Ÿæ•´æ•°å³å¯ã€‚</li>
<li>å¦‚æœè®¤ä¸ºç¬¬ä¸€ä¸ªå…ƒç´ &#x3D;ç¬¬äºŒä¸ªå…ƒç´ è¿”å›0å³å¯ï¼Œæ­¤æ—¶TreeSeté›†åˆåªä¼šä¿ç•™ä¸€ä¸ªå…ƒç´ ï¼Œè®¤ä¸ºä¸¤è€…é‡å¤ã€‚<br>æ³¨æ„:å¦‚æœç±»æœ¬èº«æœ‰å®ç°Comparableæ¥å£ï¼ŒTreeSeté›†åˆåŒæ—¶ä¹Ÿè‡ªå¸¦æ¯”è¾ƒå™¨ï¼Œé»˜è®¤ä½¿ç”¨é›†åˆè‡ªå¸¦çš„æ¯”è¾ƒå™¨æ’åºã€‚</li>
</ul>
<h2 id="æ³¨æ„äº‹é¡¹ï¼šé›†åˆçš„å¹¶å‘ä¿®æ”¹å¼‚å¸¸é—®é¢˜"><a href="#æ³¨æ„äº‹é¡¹ï¼šé›†åˆçš„å¹¶å‘ä¿®æ”¹å¼‚å¸¸é—®é¢˜" class="headerlink" title="æ³¨æ„äº‹é¡¹ï¼šé›†åˆçš„å¹¶å‘ä¿®æ”¹å¼‚å¸¸é—®é¢˜"></a>æ³¨æ„äº‹é¡¹ï¼šé›†åˆçš„å¹¶å‘ä¿®æ”¹å¼‚å¸¸é—®é¢˜</h2><ul>
<li>æ€»ç»“ï¼š</li>
</ul>
<ol>
<li>å¦‚æœå¸Œæœ›è®°ä½å…ƒç´ çš„æ·»åŠ é¡ºåºï¼Œéœ€è¦å­˜å‚¨é‡å¤çš„å…ƒç´ ï¼Œåˆè¦é¢‘ç¹çš„æ ¹æ®ç´¢å¼•æŸ¥è¯¢æ•°æ®?<br>ç”¨ArrayListé›†åˆ(æœ‰åºã€å¯é‡å¤ã€æœ‰ç´¢å¼•)ï¼Œåº•å±‚åŸºäºæ•°ç»„çš„ã€‚(å¸¸ç”¨)</li>
<li>å¦‚æœå¸Œæœ›è®°ä½å…ƒç´ çš„æ·»åŠ é¡ºåºï¼Œä¸”å¢åˆ é¦–å°¾æ•°æ®çš„æƒ…å†µè¾ƒå¤š?<br>ç”¨LinkedListé›†åˆ(æœ‰åºã€å¯é‡å¤ã€æœ‰ç´¢å¼•)ï¼Œåº•å±‚åŸºäºåŒé“¾è¡¨å®ç°çš„ã€‚</li>
<li>å¦‚æœä¸åœ¨æ„å…ƒç´ é¡ºåºï¼Œä¹Ÿæ²¡æœ‰é‡å¤å…ƒç´ éœ€è¦å­˜å‚¨ï¼Œåªå¸Œæœ›å¢åˆ æ”¹æŸ¥éƒ½å¿«?<br>ç”¨HashSeté›†åˆ(æ— åºï¼Œä¸é‡å¤ï¼Œæ— ç´¢å¼•)ï¼Œåº•å±‚åŸºäºå“ˆå¸Œè¡¨å®ç°çš„ã€‚(å¸¸ç”¨)</li>
<li>å¦‚æœå¸Œæœ›è®°ä½å…ƒç´ çš„æ·»åŠ é¡ºåºï¼Œä¹Ÿæ²¡æœ‰é‡å¤å…ƒç´ éœ€è¦å­˜å‚¨ï¼Œä¸”å¸Œæœ›å¢åˆ æ”¹æŸ¥éƒ½å¿«?<br>ç”¨LinkedHashSeté›†åˆ(æœ‰åºï¼Œä¸é‡å¤ï¼Œæ— ç´¢å¼•)ï¼Œåº•å±‚åŸºäºå“ˆå¸Œè¡¨å’ŒåŒé“¾è¡¨ã€‚</li>
<li>å¦‚æœè¦å¯¹å…ƒç´ è¿›è¡Œæ’åºï¼Œä¹Ÿæ²¡æœ‰é‡å¤å…ƒç´ éœ€è¦å­˜å‚¨?ä¸”å¸Œæœ›å¢åˆ æ”¹æŸ¥éƒ½å¿«?<br>ç”¨TreeSeté›†åˆï¼ŒåŸºäºçº¢é»‘æ ‘å®ç°ã€‚</li>
</ol>
<ul>
<li>é›†åˆçš„å¹¶å‘ä¿®æ”¹å¼‚å¸¸</li>
</ul>
<ul>
<li>ä½¿ç”¨è¿­ä»£å™¨éå†é›†åˆæ—¶ï¼ŒåˆåŒæ—¶åœ¨åˆ é™¤é›†åˆä¸­çš„æ•°æ®ï¼Œç¨‹åºå°±ä¼šå‡ºç°å¹¶å‘ä¿®æ”¹å¼‚å¸¸çš„é”™è¯¯ã€‚</li>
<li>ç”±äºå¢å¼ºforå¾ªç¯éå†é›†åˆå°±æ˜¯è¿­ä»£å™¨éå†é›†åˆçš„ç®€åŒ–å†™æ³•ï¼Œå› æ­¤ï¼Œä½¿ç”¨å¢å¼ºforå¾ªç¯éå†é›†åˆï¼Œåˆåœ¨åŒæ—¶åˆ é™¤é›†åˆä¸­çš„æ•°æ®æ—¶ï¼Œç¨‹åºä¹Ÿä¼šå‡ºç°å¹¶å‘ä¿®æ”¹å¼‚å¸¸çš„é”™è¯¯</li>
</ul>
<ul>
<li>æ€ä¹ˆä¿è¯éå†é›†åˆåŒæ—¶åˆ é™¤æ•°æ®æ—¶ä¸å‡ºbug?</li>
</ul>
<ul>
<li>ä½¿ç”¨è¿­ä»£å™¨éå†é›†åˆï¼Œä½†ç”¨è¿­ä»£å™¨è‡ªå·±çš„åˆ é™¤æ–¹æ³•åˆ é™¤æ•°æ®å³å¯ã€‚</li>
<li>å¦‚æœèƒ½ç”¨forå¾ªç¯éå†æ—¶:å¯ä»¥å€’ç€éå†å¹¶åˆ é™¤;æˆ–è€…ä»å‰å¾€åéå†ï¼Œä½†åˆ é™¤å…ƒç´ ååši â€“æ“ä½œã€‚</li>
</ul>
<h1 id="Collectionçš„å…¶ä»–ç›¸å…³çŸ¥è¯†"><a href="#Collectionçš„å…¶ä»–ç›¸å…³çŸ¥è¯†" class="headerlink" title="Collectionçš„å…¶ä»–ç›¸å…³çŸ¥è¯†"></a>Collectionçš„å…¶ä»–ç›¸å…³çŸ¥è¯†</h1><h2 id="å‰ç½®çŸ¥è¯†ï¼šå¯å˜å‚æ•°"><a href="#å‰ç½®çŸ¥è¯†ï¼šå¯å˜å‚æ•°" class="headerlink" title="å‰ç½®çŸ¥è¯†ï¼šå¯å˜å‚æ•°"></a>å‰ç½®çŸ¥è¯†ï¼šå¯å˜å‚æ•°</h2><ul>
<li>å¯å˜å‚æ•°</li>
</ul>
<ul>
<li>å°±æ˜¯ä¸€ç§ç‰¹æ®Šå½¢å‚ï¼Œå®šä¹‰åœ¨æ–¹æ³•ã€æ„é€ å™¨çš„å½¢å‚åˆ—è¡¨é‡Œï¼Œæ ¼å¼æ˜¯:æ•°æ®ç±»å‹â€¦å‚æ•°åç§°;</li>
</ul>
<blockquote>
<ul>
<li><p><strong>å¯å˜å‚æ•°æ˜¯ä¸€ç§ç‰¹æ®Šçš„å½¢å¼å‚æ•°ï¼Œå®šä¹‰åœ¨æ–¹æ³•ã€æ„é€ å™¨çš„å½¢å‚åˆ—è¡¨å¤„ï¼Œå®ƒå¯ä»¥è®©æ–¹æ³•æ¥æ”¶å¤šä¸ªåŒç±»å‹çš„å®é™…å‚æ•°ã€‚</strong></p>
</li>
<li><p><strong>å¯å˜å‚æ•°åœ¨æ–¹æ³•å†…éƒ¨ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæ•°ç»„</strong></p>
</li>
</ul>
</blockquote>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ç¼–å†™ä»£ç æ¥æ¼”ç¤ºä¸€ä¸‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ParamTest</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="comment">//ä¸ä¼ é€’å‚æ•°ï¼Œä¸‹é¢çš„numsé•¿åº¦åˆ™ä¸º0, æ‰“å°å…ƒç´ æ˜¯[]</span></span><br><span class="line">        test();	</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//ä¼ é€’3ä¸ªå‚æ•°ï¼Œä¸‹é¢çš„numsé•¿åº¦ä¸º3ï¼Œæ‰“å°å…ƒç´ æ˜¯[10, 20, 30]</span></span><br><span class="line">        test(<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>); </span><br><span class="line">        </span><br><span class="line">        <span class="comment">//ä¼ é€’ä¸€ä¸ªæ•°ç»„ï¼Œä¸‹é¢æ•°ç»„é•¿åº¦ä¸º4ï¼Œæ‰“å°å…ƒç´ æ˜¯[10,20,30,40] </span></span><br><span class="line">        <span class="type">int</span>[] arr = <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;<span class="number">10</span>,<span class="number">20</span>,<span class="number">30</span>,<span class="number">40</span>&#125;</span><br><span class="line">        test(arr); </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">(<span class="type">int</span>...nums)</span>&#123;</span><br><span class="line">        <span class="comment">//å¯å˜å‚æ•°åœ¨æ–¹æ³•å†…éƒ¨ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæ•°ç»„</span></span><br><span class="line">        System.out.println(nums.length);</span><br><span class="line">        System.out.println(Arrays.toString(nums));</span><br><span class="line">        System.out.println(<span class="string">&quot;----------------&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æœ€åè¿˜æœ‰ä¸€äº›é”™è¯¯å†™æ³•ï¼Œéœ€è¦è®©å¤§å®¶å†™ä»£ç æ—¶æ³¨æ„ä¸€ä¸‹</p>
<blockquote>
<ul>
<li><p><strong>ä¸€ä¸ªå½¢å‚åˆ—è¡¨ä¸­ï¼Œåªèƒ½æœ‰ä¸€ä¸ªå¯å˜å‚æ•°ï¼›å¦åˆ™ä¼šæŠ¥é”™</strong></p>
</li>
<li><p><strong>ä¸€ä¸ªå½¢å‚åˆ—è¡¨ä¸­å¦‚æœå¤šä¸ªå‚æ•°ï¼Œå¯å˜å‚æ•°éœ€è¦å†™åœ¨æœ€åï¼›å¦åˆ™ä¼šæŠ¥é”™</strong></p>
</li>
</ul>
</blockquote>
<ul>
<li>å¯å˜å‚æ•°çš„ç‰¹ç‚¹å’Œå¥½å¤„</li>
</ul>
<ul>
<li>ç‰¹ç‚¹:å¯ä»¥ä¸ä¼ æ•°æ®ç»™å®ƒ;å¯ä»¥ä¼ ä¸€ä¸ªæˆ–è€…åŒæ—¶ä¼ å¤šä¸ªæ•°æ®ç»™å®ƒ;ä¹Ÿå¯ä»¥ä¼ ä¸€ä¸ªæ•°ç»„ç»™å®ƒã€‚</li>
<li>å¥½å¤„:å¸¸å¸¸ç”¨æ¥çµæ´»çš„æ¥æ”¶æ•°æ®ã€‚</li>
</ul>
<ul>
<li>å¯å˜å‚æ•°çš„æ³¨æ„äº‹é¡¹:</li>
</ul>
<ul>
<li>å¯å˜å‚æ•°åœ¨æ–¹æ³•å†…éƒ¨å°±æ˜¯ä¸€ä¸ªæ•°ç»„ã€‚</li>
<li>ä¸€ä¸ªå½¢å‚åˆ—è¡¨ä¸­å¯å˜å‚æ•°åªèƒ½æœ‰ä¸€ä¸ª</li>
<li>å¯å˜å‚æ•°å¿…é¡»æ”¾åœ¨å½¢å‚åˆ—è¡¨çš„æœ€åé¢</li>
</ul>
<h2 id="Collections"><a href="#Collections" class="headerlink" title="Collections"></a>Collections</h2><ul>
<li>collections</li>
</ul>
<ul>
<li>æ˜¯ä¸€ä¸ªç”¨æ¥æ“ä½œé›†åˆçš„å·¥å…·ç±»</li>
</ul>
<ul>
<li>Collectionsæä¾›çš„å¸¸ç”¨é™æ€æ–¹æ³•<br>æ–¹æ³•åç§°        è¯´æ˜<br>public static <T> boolean addA11(Collection&lt;? super T&gt; c, Tâ€¦ elements)<br>ç»™é›†åˆæ‰¹å‘ˆæ·»åŠ å…ƒç´ </li>
</ul>
<p>public static void shuffle(List&lt;?&gt; list)<br>æ‰“ä¹±Listé›†åˆä¸­çš„å…ƒç´ é¡ºåº</p>
<p>public static <T> void sort(List<T>list)<br>å¯¹Listé›†åˆä¸­çš„å…ƒç´Šè¿›è¡Œå‡åºæ’åº</p>
<p>public static <T> void sort(List<T> list,Comparator&lt;? super T c)<br>å¯¹Listé›†åˆä¸­å…ƒç´ ï¼ŒæŒ‰ç…§æ¯”è¾ƒå™¨å¯¹è±¡æŒ‡å®šçš„è§„åˆ™è¿›è¡Œæ’åº</p>
<p>æˆ‘ä»¬æŠŠè¿™äº›æ–¹æ³•ç”¨ä»£ç æ¥æ¼”ç¤ºä¸€ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CollectionsTest</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="comment">//1.public static &lt;T&gt; boolean addAll(Collection&lt;? super T&gt; c, T...e)</span></span><br><span class="line">        List&lt;String&gt; names = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        Collections.addAll(names, <span class="string">&quot;å¼ ä¸‰&quot;</span>,<span class="string">&quot;ç‹äº”&quot;</span>,<span class="string">&quot;æå››&quot;</span>, <span class="string">&quot;å¼ éº»å­&quot;</span>);</span><br><span class="line">        System.out.println(names);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.public static void shuffle(List&lt;?&gt; list)ï¼šå¯¹é›†åˆæ‰“ä¹±é¡ºåº</span></span><br><span class="line">        Collections.shuffle(names);</span><br><span class="line">        System.out.println(names);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3.public static &lt;T&gt; void short(List&lt;T list): å¯¹Listé›†åˆæ’åº</span></span><br><span class="line">        List&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        list.add(<span class="number">3</span>);</span><br><span class="line">        list.add(<span class="number">5</span>);</span><br><span class="line">        list.add(<span class="number">2</span>);</span><br><span class="line">        Collections.sort(list);</span><br><span class="line">        System.out.println(list);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢æˆ‘ä»¬å¾€é›†åˆä¸­å­˜å‚¨çš„å…ƒç´ è¦ä¹ˆæ˜¯Stirngç±»å‹ï¼Œè¦ä¹ˆæ˜¯Integerç±»å‹ï¼Œä»–ä»¬æœ¬æ¥å°±æœ‰ä¸€ç§è‡ªç„¶é¡ºåºæ‰€ä»¥å¯ä»¥ç›´æ¥æ’åºã€‚ä½†æ˜¯å¦‚æœæˆ‘ä»¬å¾€Listé›†åˆä¸­å­˜å‚¨Studentå¯¹è±¡ï¼Œè¿™ä¸ªæ—¶å€™æƒ³è¦å¯¹Listé›†åˆè¿›è¡Œæ’åºè‡ªå®šä¹‰æ¯”è¾ƒè§„åˆ™çš„ã€‚æŒ‡å®šæ’åºè§„åˆ™æœ‰ä¸¤ç§æ–¹å¼ï¼Œå¦‚ä¸‹ï¼š</p>
<blockquote>
<p><strong>æ’åºæ–¹å¼1ï¼šè®©å…ƒç´ å®ç°Comparableæ¥å£ï¼Œé‡å†™compareToæ–¹æ³•</strong></p>
</blockquote>
<p>æ¯”å¦‚ç°åœ¨æƒ³è¦å¾€é›†åˆä¸­å­˜å‚¨Studdentå¯¹è±¡ï¼Œé¦–å…ˆéœ€è¦å‡†å¤‡ä¸€ä¸ªStudentç±»ï¼Œå®ç°Comparableæ¥å£ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">implements</span> <span class="title class_">Comparable</span>&lt;Student&gt;&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> height;</span><br><span class="line">    </span><br><span class="line">     <span class="comment">//æ’åºæ—¶ï¼šåº•å±‚ä¼šè‡ªåŠ¨è°ƒç”¨æ­¤æ–¹æ³•ï¼Œthiså’Œoè¡¨ç¤ºéœ€è¦æ¯”è¾ƒçš„ä¸¤ä¸ªå¯¹è±¡</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(Student o)</span>&#123;</span><br><span class="line">        <span class="comment">//éœ€æ±‚ï¼šæŒ‰ç…§å¹´é¾„å‡åºæ’åº</span></span><br><span class="line">        <span class="comment">//å¦‚æœè¿”å›æ­£æ•°ï¼šè¯´æ˜å·¦è¾¹å¯¹è±¡çš„å¹´é¾„&gt;å³è¾¹å¯¹è±¡çš„å¹´é¾„</span></span><br><span class="line">        <span class="comment">//å¦‚æœè¿”å›è´Ÿæ•°ï¼šè¯´æ˜å·¦è¾¹å¯¹è±¡çš„å¹´é¾„&lt;å³è¾¹å¯¹è±¡çš„å¹´é¾„ï¼Œ</span></span><br><span class="line">        <span class="comment">//å¦‚æœè¿”å›0ï¼šè¯´æ˜å·¦è¾¹å¯¹è±¡çš„å¹´é¾„å’Œå³è¾¹å¯¹è±¡çš„å¹´é¾„ç›¸åŒ</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.age - o.age;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//...getterã€setterã€constructor..</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶åå†ä½¿ç”¨<code>Collections.sort(listé›†åˆ)</code>å¯¹Listé›†åˆæ’åºï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//3.public static &lt;T&gt; void short(List&lt;T list): å¯¹Listé›†åˆæ’åº</span></span><br><span class="line">List&lt;Student&gt; students = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">students.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;èœ˜è››ç²¾&quot;</span>,<span class="number">23</span>,<span class="number">169.7</span>));</span><br><span class="line">students.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;ç´«éœ&quot;</span>,<span class="number">22</span>,<span class="number">169.8</span>));</span><br><span class="line">students.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;ç´«éœ&quot;</span>,<span class="number">22</span>,<span class="number">169.8</span>));</span><br><span class="line">students.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;è‡³å°Šå®&quot;</span>,<span class="number">26</span>,<span class="number">169.5</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">åŸç†ï¼šsortæ–¹æ³•åº•å±‚ä¼šéå†studentsé›†åˆä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œé‡‡ç”¨æ’åºç®—æ³•ï¼Œå°†ä»»æ„ä¸¤ä¸ªå…ƒç´ ä¸¤ä¸¤æ¯”è¾ƒï¼›</span></span><br><span class="line"><span class="comment">	æ¯æ¬¡æ¯”è¾ƒæ—¶ï¼Œä¼šç”¨ä¸€ä¸ªStudentå¯¹è±¡è°ƒç”¨compareToæ–¹æ³•å’Œå¦ä¸€ä¸ªStudentå¯¹è±¡è¿›è¡Œæ¯”è¾ƒï¼›</span></span><br><span class="line"><span class="comment">	æ ¹æ®compareToæ–¹æ³•è¿”å›çš„ç»“æœæ˜¯æ­£æ•°ã€è´Ÿæ•°ï¼Œé›¶æ¥å†³å®šè°å¤§ï¼Œè°å°ï¼Œè°ç›¸ç­‰ï¼Œé‡æ–°æ’åºå…ƒç´ çš„ä½ç½®</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment">	æ³¨æ„ï¼šè¿™äº›éƒ½æ˜¯sortæ–¹æ³•åº•å±‚è‡ªåŠ¨å®Œæˆçš„ï¼Œæƒ³è¦å®Œå…¨ç†è§£ï¼Œå¿…é¡»è¦æ‡‚æ’åºç®—æ³•æ‰è¡Œï¼›</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">Collections.sort(students);	</span><br><span class="line">System.out.println(students);</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>æ’åºæ–¹å¼2ï¼šä½¿ç”¨è°ƒç”¨sortæ–¹æ³•æ˜¯ï¼Œä¼ é€’æ¯”è¾ƒå™¨</strong></p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">åŸç†ï¼šsortæ–¹æ³•åº•å±‚ä¼šéå†studentsé›†åˆä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œé‡‡ç”¨æ’åºç®—æ³•ï¼Œå°†ä»»æ„ä¸¤ä¸ªå…ƒç´ ä¸¤ä¸¤æ¯”è¾ƒï¼›</span></span><br><span class="line"><span class="comment">	æ¯æ¬¡æ¯”è¾ƒï¼Œä¼šå°†æ¯”è¾ƒçš„ä¸¤ä¸ªå…ƒç´ ä¼ é€’ç»™Comparatoræ¯”è¾ƒå™¨å¯¹è±¡çš„compareæ–¹æ³•çš„ä¸¤ä¸ªå‚æ•°o1å’Œo2,</span></span><br><span class="line"><span class="comment">	æ ¹æ®compareæ–¹æ³•çš„è¿”å›ç»“æœæ˜¯æ­£æ•°ï¼Œè´Ÿæ•°ï¼Œæˆ–è€…0æ¥å†³å®šè°å¤§ï¼Œè°å°ï¼Œè°ç›¸ç­‰ï¼Œé‡æ–°æ’åºå…ƒç´ çš„ä½ç½®</span></span><br><span class="line"><span class="comment">	</span></span><br><span class="line"><span class="comment">	æ³¨æ„ï¼šè¿™äº›éƒ½æ˜¯sortæ–¹æ³•åº•å±‚è‡ªåŠ¨å®Œæˆçš„ï¼Œä¸éœ€è¦æˆ‘ä»¬å®Œå…¨ç†è§£ï¼Œæƒ³è¦ç†è§£å®ƒå¿…é¡»è¦æ‡‚æ’åºç®—æ³•æ‰è¡Œ.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">Collections.sort(students, <span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;Student&gt;()&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Student o1, Student o2)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> o1.getAge()-o2.getAge();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);	</span><br><span class="line">System.out.println(students);</span><br></pre></td></tr></table></figure>
<h2 id="ç»¼åˆæ¡ˆä¾‹"><a href="#ç»¼åˆæ¡ˆä¾‹" class="headerlink" title="ç»¼åˆæ¡ˆä¾‹"></a>ç»¼åˆæ¡ˆä¾‹</h2><h3 id="æ–—åœ°ä¸»æ¡ˆä¾‹"><a href="#æ–—åœ°ä¸»æ¡ˆä¾‹" class="headerlink" title="æ–—åœ°ä¸»æ¡ˆä¾‹"></a>æ–—åœ°ä¸»æ¡ˆä¾‹</h3><p>æˆ‘ä»¬å…ˆåˆ†æä¸€ä¸‹ä¸šåŠ¡éœ€æ±‚ï¼š</p>
<ul>
<li>æ€»å…±æœ‰54å¼ ç‰Œï¼Œæ¯ä¸€å¼ ç‰Œæœ‰èŠ±è‰²å’Œç‚¹æ•°ä¸¤ä¸ªå±æ€§ã€ä¸ºäº†æ’åºè¿˜å¯ä»¥å†åŠ ä¸€ä¸ªåºå·</li>
<li>ç‚¹æ•°å¯ä»¥æ˜¯ï¼š<code>â€œ3â€,&quot;4&quot;,&quot;5&quot;,&quot;6&quot;,&quot;7&quot;,&quot;8&quot;,&quot;9&quot;,&quot;10&quot;,&quot;J&quot;,&quot;Q&quot;,&quot;K&quot;,&quot;A&quot;,&quot;2&quot;</code></li>
<li>èŠ±è‰²å¯ä»¥æ˜¯ï¼š<code>â€œâ™£â€,&quot;â™ &quot;,&quot;â™¥&quot;,&quot;â™¦&quot;</code></li>
<li>æ–—åœ°ä¸»æ—¶ï¼šä¸‰ä¸ªç©å®¶æ²¡äººæ‰‹é‡Œ17å¼ ç‰Œï¼Œå‰©ä½™3å¼ ç‰Œä½œä¸ºåº•ç‰Œ</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ç¬¬ä¸€æ­¥ï¼šä¸ºäº†è¡¨ç¤ºæ¯ä¸€å¼ ç‰Œæœ‰å“ªäº›å±æ€§ï¼Œé¦–å…ˆåº”è¯¥æ–°å»ºä¸€ä¸ªæ‰‘å…‹ç‰Œçš„ç±»</span><br><span class="line">ç¬¬äºŒæ­¥ï¼šå¯åŠ¨æ¸¸æˆæ—¶ï¼Œå°±åº”è¯¥æå‰å‡†å¤‡å¥½<span class="number">54</span>å¼ ç‰Œ</span><br><span class="line">ç¬¬ä¸‰æ­¥ï¼šæ¥ç€å†å®Œå…¨æ´—ç‰Œã€å‘ç‰Œã€æ‹ç‰Œã€çœ‹ç‰Œçš„ä¸šåŠ¡é€»è¾‘</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>å…ˆæ¥å®Œæˆç¬¬ä¸€æ­¥ï¼Œå®šä¹‰ä¸€ä¸ªæ‰‘å…‹ç±»Card</strong></p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Card</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String number;</span><br><span class="line">    <span class="keyword">private</span> String color;</span><br><span class="line">    <span class="comment">// æ¯å¼ ç‰Œæ˜¯å­˜åœ¨å¤§å°çš„ã€‚</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> size; <span class="comment">// 0 1 2 ....</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Card</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Card</span><span class="params">(String number, String color, <span class="type">int</span> size)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.number = number;</span><br><span class="line">        <span class="built_in">this</span>.color = color;</span><br><span class="line">        <span class="built_in">this</span>.size = size;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getNumber</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> number;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setNumber</span><span class="params">(String number)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.number = number;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getColor</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> color;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setColor</span><span class="params">(String color)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.color = color;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getSize</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> size;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setSize</span><span class="params">(<span class="type">int</span> size)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.size = size;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> color + number ;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>å†å®Œæˆç¬¬äºŒæ­¥ï¼Œå®šä¹‰ä¸€ä¸ªæˆ¿é—´ç±»ï¼Œåˆå§‹åŒ–æˆ¿é—´æ—¶å‡†å¤‡å¥½54å¼ ç‰Œ</strong></p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Room</span> &#123;</span><br><span class="line">    <span class="comment">// å¿…é¡»æœ‰ä¸€å‰¯ç‰Œã€‚</span></span><br><span class="line">    <span class="keyword">private</span> List&lt;Card&gt; allCards = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Room</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">// 1ã€åšå‡º54å¼ ç‰Œï¼Œå­˜å…¥åˆ°é›†åˆallCards</span></span><br><span class="line">        <span class="comment">// aã€ç‚¹æ•°ï¼šä¸ªæ•°ç¡®å®šäº†ï¼Œç±»å‹ç¡®å®šã€‚</span></span><br><span class="line">        String[] numbers = &#123;<span class="string">&quot;3&quot;</span>,<span class="string">&quot;4&quot;</span>,<span class="string">&quot;5&quot;</span>,<span class="string">&quot;6&quot;</span>,<span class="string">&quot;7&quot;</span>,<span class="string">&quot;8&quot;</span>,<span class="string">&quot;9&quot;</span>,<span class="string">&quot;10&quot;</span>,<span class="string">&quot;J&quot;</span>,<span class="string">&quot;Q&quot;</span>,<span class="string">&quot;K&quot;</span>,<span class="string">&quot;A&quot;</span>,<span class="string">&quot;2&quot;</span>&#125;;</span><br><span class="line">        <span class="comment">// bã€èŠ±è‰²ï¼šä¸ªæ•°ç¡®å®šäº†ï¼Œç±»å‹ç¡®å®šã€‚</span></span><br><span class="line">        String[] colors = &#123;<span class="string">&quot;â™ &quot;</span>, <span class="string">&quot;â™¥&quot;</span>, <span class="string">&quot;â™£&quot;</span>, <span class="string">&quot;â™¦&quot;</span>&#125;;</span><br><span class="line">        <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> <span class="number">0</span>; <span class="comment">// è¡¨ç¤ºæ¯å¼ ç‰Œçš„å¤§å°</span></span><br><span class="line">        <span class="comment">// cã€éå†ç‚¹æ•°ï¼Œå†éå†èŠ±è‰²ï¼Œç»„ç»‡ç‰Œ</span></span><br><span class="line">        <span class="keyword">for</span> (String number : numbers) &#123;</span><br><span class="line">            <span class="comment">// number = &quot;3&quot;</span></span><br><span class="line">            size++; <span class="comment">// 1 2 ....</span></span><br><span class="line">            <span class="keyword">for</span> (String color : colors) &#123;</span><br><span class="line">                <span class="comment">// å¾—åˆ°ä¸€å¼ ç‰Œ</span></span><br><span class="line">                <span class="type">Card</span> <span class="variable">c</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Card</span>(number, color, size);</span><br><span class="line">                allCards.add(c); <span class="comment">// å­˜å…¥äº†ç‰Œ</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å•ç‹¬å­˜å…¥å°å¤§ç‹çš„ã€‚</span></span><br><span class="line">        <span class="type">Card</span> <span class="variable">c1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Card</span>(<span class="string">&quot;&quot;</span>,  <span class="string">&quot;ğŸƒ&quot;</span> , ++size);</span><br><span class="line">        <span class="type">Card</span> <span class="variable">c2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Card</span>(<span class="string">&quot;&quot;</span>, <span class="string">&quot;ğŸ‘²&quot;</span> , ++size);</span><br><span class="line">        Collections.addAll(allCards, c1, c2);</span><br><span class="line">        System.out.println(<span class="string">&quot;æ–°ç‰Œï¼š&quot;</span> + allCards);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p><strong>æœ€åå®Œæˆç¬¬ä¸‰æ­¥ï¼Œå®šä¹‰ä¸€ä¸ªå¯åŠ¨æ¸¸æˆçš„æ–¹æ³•ï¼Œå®Œæˆæ´—ç‰Œã€å‘ç‰Œã€æ‹ç‰Œã€çœ‹ç‰Œçš„ä¸šåŠ¡é€»è¾‘</strong></p>
</blockquote>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* æ¸¸æˆå¯åŠ¨</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// 1ã€æ´—ç‰Œï¼š allCards</span></span><br><span class="line">    Collections.shuffle(allCards);</span><br><span class="line">    System.out.println(<span class="string">&quot;æ´—ç‰Œåï¼š&quot;</span> + allCards);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2ã€å‘ç‰Œï¼Œé¦–å…ˆè‚¯å®šè¦å®šä¹‰ ä¸‰ä¸ªç©å®¶ã€‚ List(ArrayList)  Set(TreeSet)</span></span><br><span class="line">    List&lt;Card&gt; linHuChong = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    List&lt;Card&gt; jiuMoZhi = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    List&lt;Card&gt; renYingYing = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="comment">// æ­£å¼å‘ç‰Œç»™è¿™ä¸‰ä¸ªç©å®¶ï¼Œä¾æ¬¡å‘å‡º51å¼ ç‰Œï¼Œå‰©ä½™3å¼ åšä¸ºåº•ç‰Œã€‚</span></span><br><span class="line">    <span class="comment">// allCards = [â™¥3, â™£10, â™£4, â™¥K, â™¦Q, â™£2, ğŸƒ, â™£8, ....</span></span><br><span class="line">    <span class="comment">//             0     1   2   3   4   5   6 ...   % 3</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; allCards.size() - <span class="number">3</span>; i++) &#123;</span><br><span class="line">        <span class="type">Card</span> <span class="variable">c</span> <span class="operator">=</span> allCards.get(i);</span><br><span class="line">        <span class="comment">// åˆ¤æ–­ç‰Œå‘ç»™è°</span></span><br><span class="line">        <span class="keyword">if</span>(i % <span class="number">3</span> == <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="comment">// è¯·å•Šå†²æ¥ç‰Œ</span></span><br><span class="line">            linHuChong.add(c);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(i % <span class="number">3</span> == <span class="number">1</span>)&#123;</span><br><span class="line">            <span class="comment">// è¯·å•Šé¸ æ¥æ¥ç‰Œ</span></span><br><span class="line">            jiuMoZhi.add(c);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(i % <span class="number">3</span> == <span class="number">2</span>)&#123;</span><br><span class="line">            <span class="comment">// è¯·ç›ˆç›ˆæ¥ç‰Œ</span></span><br><span class="line">            renYingYing.add(c);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3ã€å¯¹3ä¸ªç©å®¶çš„ç‰Œè¿›è¡Œæ’åº</span></span><br><span class="line">    sortCards(linHuChong);</span><br><span class="line">    sortCards(jiuMoZhi);</span><br><span class="line">    sortCards(renYingYing);</span><br><span class="line">    <span class="comment">// 4ã€çœ‹ç‰Œ</span></span><br><span class="line">    System.out.println(<span class="string">&quot;å•Šå†²ï¼š&quot;</span> + linHuChong);</span><br><span class="line">    System.out.println(<span class="string">&quot;å•Šé¸ ï¼š&quot;</span> + jiuMoZhi);</span><br><span class="line">    System.out.println(<span class="string">&quot;ç›ˆç›ˆï¼š&quot;</span> + renYingYing);</span><br><span class="line">    List&lt;Card&gt; lastThreeCards = allCards.subList(allCards.size() - <span class="number">3</span>, allCards.size()); <span class="comment">// 51 52 53</span></span><br><span class="line">    System.out.println(<span class="string">&quot;åº•ç‰Œï¼š&quot;</span> + lastThreeCards);</span><br><span class="line">    jiuMoZhi.addAll(lastThreeCards);</span><br><span class="line">    sortCards(jiuMoZhi);</span><br><span class="line">    System.out.println(<span class="string">&quot;å•Šé¸ æŠ¢åˆ°åœ°ä¸»åï¼š&quot;</span> + jiuMoZhi);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é›†ä¸­è¿›è¡Œæ’åº</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> cards</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">sortCards</span><span class="params">(List&lt;Card&gt; cards)</span> &#123;</span><br><span class="line">    Collections.sort(cards, <span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;Card&gt;() &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Card o1, Card o2)</span> &#123;</span><br><span class="line">            <span class="comment">// return o1.getSize() - o2.getSize(); // å‡åºæ’åº</span></span><br><span class="line">            <span class="keyword">return</span> o2.getSize() - o1.getSize(); <span class="comment">// é™åºæ’åº</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸è¦å¿˜è®°äº†å†™æµ‹è¯•ç±»äº†ï¼Œ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GameDemo</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//  1ã€ç‰Œç±»ã€‚</span></span><br><span class="line">        <span class="comment">//  2ã€æˆ¿é—´</span></span><br><span class="line">        <span class="type">Room</span> <span class="variable">m</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Room</span>();</span><br><span class="line">        <span class="comment">//  3ã€å¯åŠ¨æ¸¸æˆ</span></span><br><span class="line">        m.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Mapé›†åˆ"><a href="#Mapé›†åˆ" class="headerlink" title="Mapé›†åˆ"></a>Mapé›†åˆ</h1><h2 id="æ¦‚è¿°-2"><a href="#æ¦‚è¿°-2" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><ul>
<li>å…ˆè®¤è¯†ä¸€ä¸‹ä»€ä¹ˆæ˜¯åŒåˆ—é›†åˆã€‚</li>
</ul>
<p>æ‰€è°“åŒåˆ—é›†åˆï¼Œå°±æ˜¯è¯´é›†åˆä¸­çš„å…ƒç´ æ˜¯ä¸€å¯¹ä¸€å¯¹çš„ã€‚Mapé›†åˆä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ æ˜¯ä»¥<code>key=value</code>çš„å½¢å¼å­˜åœ¨çš„ï¼Œä¸€ä¸ª<code>key=value</code>å°±ç§°ä¹‹ä¸ºä¸€ä¸ªé”®å€¼å¯¹ï¼Œè€Œä¸”åœ¨Javaä¸­æœ‰ä¸€ä¸ªç±»å«Entryç±»ï¼ŒEntryçš„å¯¹è±¡ç”¨æ¥è¡¨ç¤ºé”®å€¼å¯¹å¯¹è±¡ã€‚</p>
<p>æ‰€æœ‰çš„Mapé›†åˆæœ‰å¦‚ä¸‹çš„ç‰¹ç‚¹ï¼š<strong>é”®ä¸èƒ½é‡å¤ï¼Œå€¼å¯ä»¥é‡å¤ï¼Œæ¯ä¸€ä¸ªé”®åªèƒ½æ‰¾åˆ°è‡ªå·±å¯¹åº”çš„å€¼ã€‚</strong></p>
<ul>
<li>è®¤è¯†Mapé›†åˆ</li>
</ul>
<ul>
<li>Mapé›†åˆç§°ä¸ºåŒåˆ—é›†åˆï¼Œæ ¼å¼:{key7&#x3D;value1 , key2&#x3D;value2 , key3&#x3D;value3, ..}ï¼Œä¸€æ¬¡éœ€è¦å­˜ä¸€å¯¹æ•°æ®åšä¸ºä¸€ä¸ªå…ƒç´ .</li>
<li>Mapé›†åˆçš„æ¯ä¸ªå…ƒç´ â€œkey&#x3D;valueâ€ç§°ä¸ºä¸€ä¸ªé”®å€¼å¯¹&#x2F;é”®å€¼å¯¹å¯¹è±¡&#x2F;ä¸€ä¸ªEntryå¯¹è±¡ï¼ŒMapé›†åˆä¹Ÿè¢«å«åšâ€œé”®å€¼å¯¹é›†åˆâ€</li>
<li>Mapé›†åˆçš„æ‰€æœ‰é”®æ˜¯ä¸å…è®¸é‡å¤çš„ï¼Œä½†å€¼å¯ä»¥é‡å¤ï¼Œé”®å’Œå€¼æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œæ¯ä¸€ä¸ªé”®åªèƒ½æ‰¾åˆ°è‡ªå·±å¯¹åº”çš„å€¼</li>
</ul>
<p>ä¸‹é¢æˆ‘ä»¬å…ˆå†™ä¸€ä¸ªMapé›†åˆï¼Œä¿å­˜å‡ ä¸ªé”®å€¼å¯¹ï¼Œä½“éªŒä¸€ä¸‹Mapé›†åˆçš„ç‰¹ç‚¹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MapTest1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;(); // ä¸€è¡Œç»å…¸ä»£ç ã€‚ æŒ‰ç…§é”® æ— åºï¼Œä¸é‡å¤ï¼Œæ— ç´¢å¼•ã€‚</span></span><br><span class="line">        Map&lt;String, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">LinkedHashMap</span>&lt;&gt;(); <span class="comment">// æœ‰åºï¼Œä¸é‡å¤ï¼Œæ— ç´¢å¼•ã€‚</span></span><br><span class="line">        map.put(<span class="string">&quot;æ‰‹è¡¨&quot;</span>, <span class="number">100</span>);</span><br><span class="line">        map.put(<span class="string">&quot;æ‰‹è¡¨&quot;</span>, <span class="number">220</span>); <span class="comment">// åé¢é‡å¤çš„æ•°æ®ä¼šè¦†ç›–å‰é¢çš„æ•°æ®ï¼ˆé”®ï¼‰</span></span><br><span class="line">        map.put(<span class="string">&quot;æ‰‹æœº&quot;</span>, <span class="number">2</span>);</span><br><span class="line">        map.put(<span class="string">&quot;Java&quot;</span>, <span class="number">2</span>);</span><br><span class="line">        map.put(<span class="literal">null</span>, <span class="literal">null</span>);</span><br><span class="line">        System.out.println(map);</span><br><span class="line"></span><br><span class="line">        Map&lt;Integer, String&gt; map1 = <span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;(); <span class="comment">// å¯æ’åºï¼Œä¸é‡å¤ï¼Œæ— ç´¢å¼•</span></span><br><span class="line">        map1.put(<span class="number">23</span>, <span class="string">&quot;Java&quot;</span>);</span><br><span class="line">        map1.put(<span class="number">23</span>, <span class="string">&quot;MySQL&quot;</span>);</span><br><span class="line">        map1.put(<span class="number">19</span>, <span class="string">&quot;æå››&quot;</span>);</span><br><span class="line">        map1.put(<span class="number">20</span>, <span class="string">&quot;ç‹äº”&quot;</span>);</span><br><span class="line">        System.out.println(map1);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh82.png"></p>
<h2 id="å¸¸ç”¨æ–¹æ³•"><a href="#å¸¸ç”¨æ–¹æ³•" class="headerlink" title="å¸¸ç”¨æ–¹æ³•"></a>å¸¸ç”¨æ–¹æ³•</h2><ul>
<li>ä¸ºä»€ä¹ˆè¦å…ˆå­¦ä¹ Mapçš„å¸¸ç”¨æ–¹æ³•?<br>Mapæ˜¯åŒåˆ—é›†åˆçš„ç¥–å®—ï¼Œå®ƒçš„åŠŸèƒ½æ˜¯å…¨éƒ¨åŒåˆ—é›†åˆéƒ½å¯ä»¥ç»§æ‰¿è¿‡æ¥ä½¿ç”¨çš„ã€‚</li>
</ul>
<p>Mapçš„å¸¸ç”¨æ–¹æ³•å¦‚ä¸‹:<br>æ–¹æ³•åç§°                                     è¯´æ˜<br>public v put(K key ,v value)                æ·»åŠ å…ƒç´ <br>public int size()                           è·å–é›†åˆçš„å¤§å°<br>public void clear()                         æ¸…ç©ºé›†åˆ<br>public boolean isEmpty()                    åˆ¤æ–­é›†åˆæ˜¯å¦ä¸ºç©ºï¼Œä¸ºç©ºè¿”å›true ï¼Œåä¹‹<br>public v get(Object key)                    æ ¹æ®é”®è·å–å¯¹åº”å€¼<br>public v remove(Object key)                 æ ¹æ®é”®åˆ é™¤æ•´ä¸ªå…ƒç´ <br>public boolean containsKey(Object key)       åˆ¤æ–­æ˜¯å¦åŒ…å«æŸä¸ªé”®<br>public boolean containsValue(Object value)  åˆ¤æ–­æ˜¯å¦åŒ…å«æŸä¸ªå€¼<br>public Set<K> keySet()                      è·å–å…¨éƒ¨é”®çš„é›†åˆ<br>public collection<V> values()               è·å–Mapé›†åˆçš„å…¨éƒ¨å€¼</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MapTest2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 1.æ·»åŠ å…ƒç´ : æ— åºï¼Œä¸é‡å¤ï¼Œæ— ç´¢å¼•ã€‚</span></span><br><span class="line">        Map&lt;String, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        map.put(<span class="string">&quot;æ‰‹è¡¨&quot;</span>, <span class="number">100</span>);</span><br><span class="line">        map.put(<span class="string">&quot;æ‰‹è¡¨&quot;</span>, <span class="number">220</span>);</span><br><span class="line">        map.put(<span class="string">&quot;æ‰‹æœº&quot;</span>, <span class="number">2</span>);</span><br><span class="line">        map.put(<span class="string">&quot;Java&quot;</span>, <span class="number">2</span>);</span><br><span class="line">        map.put(<span class="literal">null</span>, <span class="literal">null</span>);</span><br><span class="line">        System.out.println(map);</span><br><span class="line">        <span class="comment">// map = &#123;null=null, æ‰‹è¡¨=220, Java=2, æ‰‹æœº=2&#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2.public int size():è·å–é›†åˆçš„å¤§å°</span></span><br><span class="line">        System.out.println(map.size());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€public void clear():æ¸…ç©ºé›†åˆ</span></span><br><span class="line">        <span class="comment">//map.clear();</span></span><br><span class="line">        <span class="comment">//System.out.println(map);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4.public boolean isEmpty(): åˆ¤æ–­é›†åˆæ˜¯å¦ä¸ºç©ºï¼Œä¸ºç©ºè¿”å›true ,åä¹‹ï¼</span></span><br><span class="line">        System.out.println(map.isEmpty());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 5.public V get(Object key)ï¼šæ ¹æ®é”®è·å–å¯¹åº”å€¼</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">v1</span> <span class="operator">=</span> map.get(<span class="string">&quot;æ‰‹è¡¨&quot;</span>);</span><br><span class="line">        System.out.println(v1);</span><br><span class="line">        System.out.println(map.get(<span class="string">&quot;æ‰‹æœº&quot;</span>)); <span class="comment">// 2</span></span><br><span class="line">        System.out.println(map.get(<span class="string">&quot;å¼ ä¸‰&quot;</span>)); <span class="comment">// null</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 6. public V remove(Object key)ï¼šæ ¹æ®é”®åˆ é™¤æ•´ä¸ªå…ƒç´ (åˆ é™¤é”®ä¼šè¿”å›é”®çš„å€¼)</span></span><br><span class="line">        System.out.println(map.remove(<span class="string">&quot;æ‰‹è¡¨&quot;</span>));</span><br><span class="line">        System.out.println(map);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 7.public  boolean containsKey(Object key): åˆ¤æ–­æ˜¯å¦åŒ…å«æŸä¸ªé”® ï¼ŒåŒ…å«è¿”å›true ,åä¹‹</span></span><br><span class="line">        System.out.println(map.containsKey(<span class="string">&quot;æ‰‹è¡¨&quot;</span>)); <span class="comment">// false</span></span><br><span class="line">        System.out.println(map.containsKey(<span class="string">&quot;æ‰‹æœº&quot;</span>)); <span class="comment">// true</span></span><br><span class="line">        System.out.println(map.containsKey(<span class="string">&quot;java&quot;</span>)); <span class="comment">// false</span></span><br><span class="line">        System.out.println(map.containsKey(<span class="string">&quot;Java&quot;</span>)); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 8.public boolean containsValue(Object value): åˆ¤æ–­æ˜¯å¦åŒ…å«æŸä¸ªå€¼ã€‚</span></span><br><span class="line">        System.out.println(map.containsValue(<span class="number">2</span>)); <span class="comment">// true</span></span><br><span class="line">        System.out.println(map.containsValue(<span class="string">&quot;2&quot;</span>)); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 9.public Set&lt;K&gt; keySet(): è·å–Mapé›†åˆçš„å…¨éƒ¨é”®ã€‚</span></span><br><span class="line">        Set&lt;String&gt; keys = map.keySet();</span><br><span class="line">        System.out.println(keys);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 10.public Collection&lt;V&gt; values(); è·å–Mapé›†åˆçš„å…¨éƒ¨å€¼ã€‚</span></span><br><span class="line">        Collection&lt;Integer&gt; values = map.values();</span><br><span class="line">        System.out.println(values);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 11.æŠŠå…¶ä»–Mapé›†åˆçš„æ•°æ®å€’å…¥åˆ°è‡ªå·±é›†åˆä¸­æ¥ã€‚(æ‹“å±•)</span></span><br><span class="line">        Map&lt;String, Integer&gt; map1 = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        map1.put(<span class="string">&quot;java1&quot;</span>,  <span class="number">10</span>);</span><br><span class="line">        map1.put(<span class="string">&quot;java2&quot;</span>,  <span class="number">20</span>);</span><br><span class="line">        Map&lt;String, Integer&gt; map2 = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        map2.put(<span class="string">&quot;java3&quot;</span>,  <span class="number">10</span>);</span><br><span class="line">        map2.put(<span class="string">&quot;java2&quot;</span>,  <span class="number">222</span>);</span><br><span class="line">        map1.putAll(map2); <span class="comment">// putAllï¼šæŠŠmap2é›†åˆä¸­çš„å…ƒç´ å…¨éƒ¨å€’å…¥ä¸€ä»½åˆ°map1é›†åˆä¸­å»ã€‚</span></span><br><span class="line">        System.out.println(map1);</span><br><span class="line">        System.out.println(map2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="éå†æ–¹å¼-1"><a href="#éå†æ–¹å¼-1" class="headerlink" title="éå†æ–¹å¼"></a>éå†æ–¹å¼</h2><p>Mapé›†åˆçš„éå†æ–¹å¼</p>
<ol>
<li>é”®æ‰¾å€¼     å…ˆè·å–Mapé›†åˆå…¨éƒ¨çš„é”®ï¼Œå†é€šè¿‡éå†é”®æ¥æ‰¾å€¼</li>
</ol>
<ul>
<li>éœ€è¦ç”¨åˆ°Mapçš„å¦‚ä¸‹æ–¹æ³•:<br>æ–¹æ³•åç§°                   è¯´æ˜<br>public Set<K> keySet()    è·å–æ‰€æœ‰é”®çš„é›†åˆ<br>public V get(Object key)  æ ¹æ®é”®è·å–å…¶å¯¹åº”çš„å€¼</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  ç›®æ ‡ï¼šæŒæ¡Mapé›†åˆçš„éå†æ–¹å¼1ï¼šé”®æ‰¾å€¼</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MapTest1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// å‡†å¤‡ä¸€ä¸ªMapé›†åˆã€‚</span></span><br><span class="line">        Map&lt;String, Double&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        map.put(<span class="string">&quot;èœ˜è››ç²¾&quot;</span>, <span class="number">162.5</span>);</span><br><span class="line">        map.put(<span class="string">&quot;èœ˜è››ç²¾&quot;</span>, <span class="number">169.8</span>);</span><br><span class="line">        map.put(<span class="string">&quot;ç´«éœ&quot;</span>, <span class="number">165.8</span>);</span><br><span class="line">        map.put(<span class="string">&quot;è‡³å°Šå®&quot;</span>, <span class="number">169.5</span>);</span><br><span class="line">        map.put(<span class="string">&quot;ç‰›é­”ç‹&quot;</span>, <span class="number">183.6</span>);</span><br><span class="line">        System.out.println(map);</span><br><span class="line">        <span class="comment">// map = &#123;èœ˜è››ç²¾=169.8, ç‰›é­”ç‹=183.6, è‡³å°Šå®=169.5, ç´«éœ=165.8&#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 1ã€è·å–Mapé›†åˆçš„å…¨éƒ¨é”®</span></span><br><span class="line">        Set&lt;String&gt; keys = map.keySet();</span><br><span class="line">        <span class="comment">// System.out.println(keys);</span></span><br><span class="line">        <span class="comment">// [èœ˜è››ç²¾, ç‰›é­”ç‹, è‡³å°Šå®, ç´«éœ]</span></span><br><span class="line">        <span class="comment">//         key</span></span><br><span class="line">        <span class="comment">// 2ã€éå†å…¨éƒ¨çš„é”®ï¼Œæ ¹æ®é”®è·å–å…¶å¯¹åº”çš„å€¼</span></span><br><span class="line">        <span class="keyword">for</span> (String key : keys) &#123;</span><br><span class="line">            <span class="comment">// æ ¹æ®é”®è·å–å¯¹åº”çš„å€¼</span></span><br><span class="line">            <span class="type">double</span> <span class="variable">value</span> <span class="operator">=</span> map.get(key);</span><br><span class="line">            System.out.println(key + <span class="string">&quot;=====&gt;&quot;</span> + value);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>é”®å€¼å¯¹     æŠŠâ€œé”®å€¼å¯¹â€œçœ‹æˆä¸€ä¸ªæ•´ä½“è¿›è¡Œéå†(éš¾åº¦è¾ƒå¤§)</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh83.png"></p>
<p>Mapé›†åˆæ˜¯ç”¨æ¥å­˜å‚¨é”®å€¼å¯¹çš„ï¼Œè€Œæ¯ä¸€ä¸ªé”®å€¼å¯¹å®é™…ä¸Šæ˜¯ä¸€ä¸ªEntryå¯¹è±¡ã€‚</p>
<p><strong>è¿™é‡ŒMapé›†åˆçš„ç¬¬äºŒç§æ–¹å¼ï¼Œæ˜¯ç›´æ¥è·å–æ¯ä¸€ä¸ªEntryå¯¹è±¡ï¼ŒæŠŠEntryå­˜å‚¨æ‰«Seté›†åˆä¸­å»ï¼Œå†é€šè¿‡Entryå¯¹è±¡è·å–é”®å’Œå€¼ã€‚</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡ï¼šæŒæ¡Mapé›†åˆçš„ç¬¬äºŒç§éå†æ–¹å¼ï¼šé”®å€¼å¯¹ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MapTest2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Map&lt;String, Double&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        map.put(<span class="string">&quot;èœ˜è››ç²¾&quot;</span>, <span class="number">169.8</span>);</span><br><span class="line">        map.put(<span class="string">&quot;ç´«éœ&quot;</span>, <span class="number">165.8</span>);</span><br><span class="line">        map.put(<span class="string">&quot;è‡³å°Šå®&quot;</span>, <span class="number">169.5</span>);</span><br><span class="line">        map.put(<span class="string">&quot;ç‰›é­”ç‹&quot;</span>, <span class="number">183.6</span>);</span><br><span class="line">        System.out.println(map);</span><br><span class="line">        <span class="comment">// map = &#123;èœ˜è››ç²¾=169.8, ç‰›é­”ç‹=183.6, è‡³å°Šå®=169.5, ç´«éœ=165.8&#125;</span></span><br><span class="line">        <span class="comment">// entries = [(èœ˜è››ç²¾=169.8), (ç‰›é­”ç‹=183.6), (è‡³å°Šå®=169.5), (ç´«éœ=165.8)]</span></span><br><span class="line">        <span class="comment">// entry = (èœ˜è››ç²¾=169.8)</span></span><br><span class="line">        <span class="comment">// entry = (ç‰›é­”ç‹=183.6)</span></span><br><span class="line">        <span class="comment">// ...</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// 1ã€è°ƒç”¨Mapé›†åˆæä¾›entrySetæ–¹æ³•ï¼ŒæŠŠMapé›†åˆè½¬æ¢æˆé”®å€¼å¯¹ç±»å‹çš„Seté›†åˆ</span></span><br><span class="line">        Set&lt;Map.Entry&lt;String, Double&gt;&gt; entries = map.entrySet();</span><br><span class="line">        <span class="keyword">for</span> (Map.Entry&lt;String, Double&gt; entry : entries) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> entry.getKey();</span><br><span class="line">            <span class="type">double</span> <span class="variable">value</span> <span class="operator">=</span> entry.getValue();</span><br><span class="line">            System.out.println(key + <span class="string">&quot;----&gt;&quot;</span> + value);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="3">
<li>Lambda    JDK1.8å¼€å§‹ä¹‹åçš„æ–°æŠ€æœ¯(éå¸¸çš„ç®€å•)</li>
</ol>
<ul>
<li>Mapé›†åˆçš„éå†æ–¹å¼ä¸‰:Lambda</li>
</ul>
<ul>
<li>éœ€è¦ç”¨åˆ°Mapçš„å¦‚ä¸‹æ–¹æ³•<br>æ–¹æ³•åç§°                     è¯´æ˜<br>default void forEach(Biconsumer&lt;? super K, ? super V&gt; action)    ç»“åˆlambdaéå†Mapé›†åˆ</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡ï¼šæŒæ¡Mapé›†åˆçš„ç¬¬äºŒç§éå†æ–¹å¼ï¼šé”®å€¼å¯¹ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MapTest3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Map&lt;String, Double&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        map.put(<span class="string">&quot;èœ˜è››ç²¾&quot;</span>, <span class="number">169.8</span>);</span><br><span class="line">        map.put(<span class="string">&quot;ç´«éœ&quot;</span>, <span class="number">165.8</span>);</span><br><span class="line">        map.put(<span class="string">&quot;è‡³å°Šå®&quot;</span>, <span class="number">169.5</span>);</span><br><span class="line">        map.put(<span class="string">&quot;ç‰›é­”ç‹&quot;</span>, <span class="number">183.6</span>);</span><br><span class="line">        System.out.println(map);</span><br><span class="line">        <span class="comment">// map = &#123;èœ˜è››ç²¾=169.8, ç‰›é­”ç‹=183.6, è‡³å°Šå®=169.5, ç´«éœ=165.8&#125;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">		<span class="comment">//éå†mapé›†åˆï¼Œä¼ é€’åŒ¿åå†…éƒ¨ç±»</span></span><br><span class="line">        map.forEach(<span class="keyword">new</span> <span class="title class_">BiConsumer</span>&lt;String, Double&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(String k, Double v)</span> &#123;</span><br><span class="line">                System.out.println(k + <span class="string">&quot;----&gt;&quot;</span> + v);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">		<span class="comment">//éå†mapé›†åˆï¼Œä¼ é€’Lambdaè¡¨è¾¾å¼</span></span><br><span class="line">        map.forEach(( k,  v) -&gt; &#123;</span><br><span class="line">            System.out.println(k + <span class="string">&quot;----&gt;&quot;</span> + v);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="Mapé›†åˆæ¡ˆä¾‹"><a href="#Mapé›†åˆæ¡ˆä¾‹" class="headerlink" title="Mapé›†åˆæ¡ˆä¾‹"></a>Mapé›†åˆæ¡ˆä¾‹</h2><p>å­¦ä¹ å®ŒMapé›†åˆçš„åŸºæœ¬ç”¨æ³•ä¹‹åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬åšä¸€ä¸ªç»¼åˆæ¡ˆä¾‹ï¼Œå°†Mapé›†åˆè¿ç”¨ä¸€ä¸‹ã€‚</p>
<p>å…ˆåˆ†æéœ€æ±‚ï¼Œå†è€ƒè™‘æ€ä¹ˆç”¨ä»£ç å®ç°</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>é¦–å…ˆå¯ä»¥å°†<span class="number">80</span>ä¸ªå­¦ç”Ÿé€‰æ‹©çš„æ™¯ç‚¹æ”¾åˆ°ä¸€ä¸ªé›†åˆä¸­å»ï¼ˆä¹Ÿå°±æ˜¯è¯´ï¼Œé›†åˆä¸­çš„å…ƒç´ æ˜¯<span class="number">80</span>ä¸ªä»»æ„çš„ABCDå…ƒç´ ï¼‰</span><br><span class="line"><span class="number">2.</span>å‡†å¤‡ä¸€ä¸ªMapé›†åˆç”¨æ¥å­˜å‚¨æ™¯ç‚¹ï¼Œä»¥åŠæ™¯ç‚¹è¢«é€‰æ‹©çš„æ¬¡æ•°</span><br><span class="line"><span class="number">3.</span>éå†<span class="number">80</span>ä¸ªå­¦ç”Ÿé€‰æ‹©æ™¯ç‚¹çš„é›†åˆï¼Œå¾—åˆ°æ¯ä¸€ä¸ªæ™¯ç‚¹ï¼Œåˆ¤æ–­Mapé›†åˆä¸­æ˜¯å¦åŒ…å«è¯¥æ™¯ç‚¹</span><br><span class="line">    å¦‚æœä¸åŒ…å«ï¼Œåˆ™å­˜å‚¨<span class="string">&quot;æ™¯ç‚¹=1&quot;</span></span><br><span class="line">    å¦‚æœåŒ…å«ï¼Œåˆ™å­˜è·å–è¯¥æ™¯ç‚¹åŸå…ˆçš„å€¼ï¼Œå†å­˜å‚¨<span class="string">&quot;æ™¯ç‚¹=åŸæ¥çš„å€¼+1&quot;</span>; æ­¤æ—¶æ–°å€¼ä¼šè¦†ç›–æ—§å€¼</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡ï¼šå®ŒæˆMapé›†åˆçš„æ¡ˆä¾‹ï¼šç»Ÿè®¡æŠ•ç¥¨äººæ•°ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MapDemo4</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 1ã€æŠŠ80ä¸ªå­¦ç”Ÿé€‰æ‹©çš„æ™¯ç‚¹æ•°æ®æ‹¿åˆ°ç¨‹åºä¸­æ¥ã€‚</span></span><br><span class="line">        List&lt;String&gt; data = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        String[] selects = &#123;<span class="string">&quot;A&quot;</span>, <span class="string">&quot;B&quot;</span>, <span class="string">&quot;C&quot;</span>, <span class="string">&quot;D&quot;</span>&#125;;</span><br><span class="line">        <span class="type">Random</span> <span class="variable">r</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">80</span>; i++) &#123;</span><br><span class="line">            <span class="comment">// æ¯æ¬¡æ¨¡æ‹Ÿä¸€ä¸ªå­¦ç”Ÿé€‰æ‹©ä¸€ä¸ªæ™¯ç‚¹ï¼Œå­˜å…¥åˆ°é›†åˆä¸­å»ã€‚</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> r.nextInt(<span class="number">4</span>); <span class="comment">// 0 1 2 3</span></span><br><span class="line">            data.add(selects[index]);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(data);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€å¼€å§‹ç»Ÿè®¡æ¯ä¸ªæ™¯ç‚¹çš„æŠ•ç¥¨äººæ•°</span></span><br><span class="line">        <span class="comment">// å‡†å¤‡ä¸€ä¸ªMapé›†åˆç”¨äºç»Ÿè®¡æœ€ç»ˆçš„ç»“æœ</span></span><br><span class="line">        Map&lt;String, Integer&gt; result = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€å¼€å§‹éå†80ä¸ªæ™¯ç‚¹æ•°æ®</span></span><br><span class="line">        <span class="keyword">for</span> (String s : data) &#123;</span><br><span class="line">            <span class="comment">// é—®é—®Mapé›†åˆä¸­æ˜¯å¦å­˜åœ¨è¯¥æ™¯ç‚¹</span></span><br><span class="line">            <span class="keyword">if</span>(result.containsKey(s))&#123;</span><br><span class="line">                <span class="comment">// è¯´æ˜è¿™ä¸ªæ™¯ç‚¹ä¹‹å‰ç»Ÿè®¡è¿‡ã€‚å…¶å€¼+1. å­˜å…¥åˆ°Mapé›†åˆä¸­å»</span></span><br><span class="line">                result.put(s, result.get(s) + <span class="number">1</span>);</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// è¯´æ˜è¿™ä¸ªæ™¯ç‚¹æ˜¯ç¬¬ä¸€æ¬¡ç»Ÿè®¡ï¼Œå­˜å…¥&quot;æ™¯ç‚¹=1&quot;</span></span><br><span class="line">                result.put(s, <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(result);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="HashMap"><a href="#HashMap" class="headerlink" title="HashMap"></a>HashMap</h2><ul>
<li>HashMapé›†åˆçš„åº•å±‚åŸç†</li>
</ul>
<ul>
<li>HashMapè·ŸHashSetçš„åº•å±‚åŸç†æ˜¯ä¸€æ¨¡ä¸€æ ·çš„ï¼Œéƒ½æ˜¯åŸºäºå“ˆå¸Œè¡¨å®ç°çš„ã€‚<br>å®é™…ä¸Š:åŸæ¥å­¦çš„Setç³»åˆ—é›†åˆçš„åº•å±‚å°±æ˜¯åŸºäºMapå®ç°çš„ï¼Œåªæ˜¯Seté›†åˆä¸­çš„å…ƒç´ åªè¦é”®æ•°æ®ï¼Œä¸è¦å€¼æ•°æ®è€Œå·²ã€‚<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">HashSet</span><span class="params">()</span> &#123;</span><br><span class="line">map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<ul>
<li>HashMapå¿˜å±‚æ˜¯åŸºäºå“ˆå¸Œè¡¨å®ç°çš„</li>
</ul>
<ul>
<li>HashMapé›†åˆæ˜¯ä¸€ç§å¢åˆ æ”¹æŸ¥æ•°æ®ï¼Œæ€§èƒ½éƒ½è¾ƒå¥½çš„é›†åˆ</li>
<li>ä½†æ˜¯å®ƒæ˜¯æ— åºï¼Œä¸èƒ½é‡å¤ï¼Œæ²¡æœ‰ç´¢å¼•æ”¯æŒçš„(ç”±é”®å†³å®šç‰¹ç‚¹)</li>
<li>HashMapçš„é”®ä¾èµ–hashCodeæ–¹æ³•å’Œequalsæ–¹æ³•ä¿è¯é”®çš„å”¯ä¸€</li>
<li>å¦‚æœé”®å­˜å‚¨çš„æ˜¯è‡ªå®šä¹‰ç±»å‹çš„å¯¹è±¡ï¼Œå¯ä»¥é€šè¿‡é‡å†™hashCodeå’Œequalsæ–¹æ³•ï¼Œè¿™æ ·å¯ä»¥ä¿è¯å¤šä¸ªå¯¹è±¡å†…å®¹ä¸€æ ·æ—¶ï¼ŒHashMapé›†åˆå°±èƒ½è®¤ä¸ºæ˜¯é‡å¤çš„ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">HashMapåº•å±‚æ•°æ®ç»“æ„: å“ˆå¸Œè¡¨ç»“æ„</span><br><span class="line">	JDK8ä¹‹å‰çš„å“ˆå¸Œè¡¨ = æ•°ç»„+é“¾è¡¨</span><br><span class="line">	JDK8ä¹‹åçš„å“ˆå¸Œè¡¨ = æ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘</span><br><span class="line">	å“ˆå¸Œè¡¨æ˜¯ä¸€ç§å¢åˆ æ”¹æŸ¥æ•°æ®ï¼Œæ€§èƒ½ç›¸å¯¹éƒ½è¾ƒå¥½çš„æ•°æ®ç»“æ„</span><br><span class="line">	</span><br><span class="line">å¾€HashMapé›†åˆä¸­é”®å€¼å¯¹æ•°æ®æ—¶ï¼Œåº•å±‚æ­¥éª¤å¦‚ä¸‹</span><br><span class="line">	ç¬¬<span class="number">1</span>æ­¥ï¼šå½“ä½ ç¬¬ä¸€æ¬¡å¾€HashMapé›†åˆä¸­å­˜å‚¨é”®å€¼å¯¹æ—¶ï¼Œåº•å±‚ä¼šåˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸º<span class="number">16</span>çš„æ•°ç»„</span><br><span class="line">	ç¬¬<span class="number">2</span>æ­¥ï¼šæŠŠé”®ç„¶åå°†é”®å’Œå€¼å°è£…æˆä¸€ä¸ªå¯¹è±¡ï¼Œå«åšEntryå¯¹è±¡</span><br><span class="line">	ç¬¬<span class="number">3</span>æ­¥ï¼šå†æ ¹æ®Entryå¯¹è±¡çš„é”®è®¡ç®—hashCodeå€¼ï¼ˆå’Œå€¼æ— å…³ï¼‰</span><br><span class="line">	ç¬¬<span class="number">4</span>æ­¥ï¼šåˆ©ç”¨hashCodeå€¼å’Œæ•°ç»„çš„é•¿åº¦åšä¸€ä¸ªç±»ä¼¼æ±‚ä½™æ•°çš„ç®—æ³•ï¼Œä¼šå¾—åˆ°ä¸€ä¸ªç´¢å¼•ä½ç½®</span><br><span class="line">	ç¬¬<span class="number">5</span>æ­¥ï¼šåˆ¤æ–­è¿™ä¸ªç´¢å¼•çš„ä½ç½®æ˜¯å¦ä¸º<span class="literal">null</span>ï¼Œå¦‚æœä¸º<span class="literal">null</span>,å°±ç›´æ¥å°†è¿™ä¸ªEntryå¯¹è±¡å­˜å‚¨åˆ°è¿™ä¸ªç´¢å¼•ä½ç½®</span><br><span class="line">		   å¦‚æœä¸ä¸º<span class="literal">null</span>ï¼Œåˆ™è¿˜éœ€è¦è¿›è¡Œç¬¬<span class="number">6</span>æ­¥çš„åˆ¤æ–­</span><br><span class="line">	ç¬¬<span class="number">6</span>æ­¥ï¼šç»§ç»­è°ƒç”¨equalsæ–¹æ³•åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡é”®æ˜¯å¦ç›¸åŒ</span><br><span class="line">		  å¦‚æœequalsè¿”å›<span class="literal">false</span>ï¼Œåˆ™ä»¥é“¾è¡¨çš„å½¢å¼å¾€ä¸‹æŒ‚</span><br><span class="line">		  å¦‚æœequalsæ–¹æ³•<span class="literal">true</span>,åˆ™è®¤ä¸ºé”®é‡å¤ï¼Œæ­¤æ—¶æ–°çš„é”®å€¼å¯¹ä¼šæ›¿æ¢å°±çš„é”®å€¼å¯¹ã€‚</span><br><span class="line">	</span><br><span class="line">HashMapåº•å±‚éœ€è¦æ³¨æ„è¿™å‡ ç‚¹ï¼š</span><br><span class="line">	<span class="number">1.</span>åº•å±‚æ•°ç»„é»˜è®¤é•¿åº¦ä¸º<span class="number">16</span>ï¼Œå¦‚æœæ•°ç»„ä¸­æœ‰è¶…è¿‡<span class="number">12</span>ä¸ªä½ç½®å·²ç»å­˜å‚¨äº†å…ƒç´ ï¼Œåˆ™ä¼šå¯¹æ•°ç»„è¿›è¡Œæ‰©å®¹<span class="number">2</span>å€</span><br><span class="line">	  æ•°ç»„æ‰©å®¹çš„åŠ è½½å› å­æ˜¯<span class="number">0.75</span>ï¼Œæ„æ€æ˜¯ï¼š<span class="number">16</span>*<span class="number">0.75</span>=<span class="number">12</span> 	</span><br><span class="line">   	</span><br><span class="line">    <span class="number">2.</span>æ•°ç»„çš„åŒä¸€ä¸ªç´¢å¼•ä½ç½®æœ‰å¤šä¸ªå…ƒç´ ã€å¹¶ä¸”åœ¨<span class="number">8</span>ä¸ªå…ƒç´ ä»¥å†…(åŒ…æ‹¬<span class="number">8</span>)ï¼Œåˆ™ä»¥é“¾è¡¨çš„å½¢å¼å­˜å‚¨</span><br><span class="line">    	JDK7ç‰ˆæœ¬ï¼šé“¾è¡¨é‡‡ç”¨å¤´æ’æ³•ï¼ˆæ–°å…ƒç´ å¾€é“¾è¡¨çš„å¤´éƒ¨æ·»åŠ ï¼‰</span><br><span class="line">    	JDK8ç‰ˆæœ¬ï¼šé“¾è¡¨é‡‡ç”¨å°¾æ’æ³•ï¼ˆæ–°å…ƒç´ æˆ‘é‚£ä¸ªé“¾è¡¨çš„å°¾éƒ¨æ·»åŠ ï¼‰</span><br><span class="line">    	</span><br><span class="line">    <span class="number">3.</span>æ•°ç»„çš„åŒä¸€ä¸ªç´¢å¼•ä½ç½®æœ‰å¤šä¸ªå…ƒç´ ã€å¹¶ä¸”è¶…è¿‡äº†<span class="number">8</span>ä¸ªï¼Œåˆ™ä»¥çº¢é»‘æ ‘å½¢å¼å­˜å‚¨</span><br><span class="line">    </span><br></pre></td></tr></table></figure>

<p>ä»HashMapåº•å±‚å­˜å‚¨é”®å€¼å¯¹çš„è¿‡ç¨‹ä¸­æˆ‘ä»¬å‘ç°ï¼šå†³å®šé”®æ˜¯å¦é‡å¤ä¾èµ–ä¸ä¸¤ä¸ªæ–¹æ³•ï¼Œä¸€ä¸ªæ˜¯hashCodeæ–¹æ³•ã€ä¸€ä¸ªæ˜¯equalsæ–¹æ³•ã€‚æœ‰ä¸¤ä¸ªé”®è®¡ç®—å¾—åˆ°çš„hashCodeå€¼ç›¸åŒï¼Œå¹¶ä¸”ä¸¤ä¸ªé”®ä½¿ç”¨equalsæ¯”è¾ƒä¸ºtrueï¼Œå°±è®¤ä¸ºé”®é‡å¤ã€‚</p>
<p><strong>æ‰€ä»¥ï¼Œå¾€Mapé›†åˆä¸­å­˜å‚¨è‡ªå®šä¹‰å¯¹è±¡ä½œä¸ºé”®ï¼Œä¸ºäº†ä¿è¯é”®çš„å”¯ä¸€æ€§ï¼Œæˆ‘ä»¬åº”è¯¥é‡å†™hashCodeæ–¹æ³•å’Œequalsæ–¹æ³•ã€‚</strong></p>
<p>æ¯”å¦‚æœ‰å¦‚ä¸‹æ¡ˆä¾‹ï¼šå¾€HashMapé›†åˆä¸­å­˜å‚¨Studentå¯¹è±¡ä½œä¸ºé”®ï¼Œå­¦ç”Ÿçš„å®¶åº­ä½å€å½“åšå€¼ã€‚è¦æ±‚ï¼Œå½“å­¦ç”Ÿå¯¹è±¡çš„å§“åå’Œå¹´é¾„ç›¸åŒæ—¶å°±è®¤ä¸ºé”®é‡å¤ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">implements</span> <span class="title class_">Comparable</span>&lt;Student&gt; &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> height;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// this  o</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(Student o)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.age - o.age; <span class="comment">// å¹´é¾„å‡åºæ’åº</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object o)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span> == o) <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">if</span> (o == <span class="literal">null</span> || getClass() != o.getClass()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="type">Student</span> <span class="variable">student</span> <span class="operator">=</span> (Student) o;</span><br><span class="line">        <span class="keyword">return</span> age == student.age &amp;&amp; Double.compare(student.height, height) == <span class="number">0</span> &amp;&amp; Objects.equals(name, student.name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">hashCode</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Objects.hash(name, age, height);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name, <span class="type">int</span> age, <span class="type">double</span> height)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">        <span class="built_in">this</span>.height = height;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//...get,setæ–¹æ³•è‡ªå·±è¡¥å…¨....</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Student&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&quot;, height=&quot;</span> + height +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å†™ä¸€ä¸ªæµ‹è¯•ç±»ï¼Œåœ¨æµ‹è¯•ç±»ä¸­ï¼Œåˆ›å»ºHashMapé›†åˆï¼Œé”®æ˜¯Studentç±»å‹ï¼Œå€¼æ˜¯Stirngç±»å‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡ï¼šæŒæ¡Mapé›†åˆä¸‹çš„å®ç°ç±»ï¼šHashMapé›†åˆçš„åº•å±‚åŸç†ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test1HashMap</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Map&lt;Student, String&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        map.put(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;èœ˜è››ç²¾&quot;</span>, <span class="number">25</span>, <span class="number">168.5</span>), <span class="string">&quot;ç›˜ä¸æ´&quot;</span>);</span><br><span class="line">        map.put(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;èœ˜è››ç²¾&quot;</span>, <span class="number">25</span>, <span class="number">168.5</span>), <span class="string">&quot;æ°´å¸˜æ´&quot;</span>);</span><br><span class="line">        map.put(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;è‡³å°Šå®&quot;</span>, <span class="number">23</span>, <span class="number">163.5</span>), <span class="string">&quot;æ°´å¸˜æ´&quot;</span>);</span><br><span class="line">        map.put(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;ç‰›é­”ç‹&quot;</span>, <span class="number">28</span>, <span class="number">183.5</span>), <span class="string">&quot;ç‰›å¤´å±±&quot;</span>);</span><br><span class="line">        System.out.println(map);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢å­˜å‚¨çš„é”®ï¼Œæœ‰ä¸¤ä¸ªèœ˜è››ç²¾ï¼Œä½†æ˜¯æ‰“å°å‡ºåªä¼šæœ‰æœ€åä¸€ä¸ªã€‚</p>
<h2 id="LinkHashMap"><a href="#LinkHashMap" class="headerlink" title="LinkHashMap"></a>LinkHashMap</h2><p>å­¦ä¹ å®ŒHashMapé›†åˆçš„ç‰¹ç‚¹ï¼Œä»¥åŠåº•å±‚åŸç†ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å­¦ä¹ ä¸€ä¸‹LinkedHashMapé›†åˆã€‚</p>
<ul>
<li>LinkedHashMapé›†åˆçš„ç‰¹ç‚¹ä¹Ÿæ˜¯ç”±é”®å†³å®šçš„ï¼š<strong>æœ‰åºçš„ã€ä¸é‡å¤ã€æ— ç´¢å¼•</strong>ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡ï¼šæŒæ¡LinkedHashMapçš„åº•å±‚åŸç†ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test2LinkedHashMap</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// Map&lt;String, Integer&gt; map = new HashMap&lt;&gt;();    //  æŒ‰ç…§é”® æ— åºï¼Œä¸é‡å¤ï¼Œæ— ç´¢å¼•ã€‚</span></span><br><span class="line">        LinkedHashMap&lt;String, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">LinkedHashMap</span>&lt;&gt;(); <span class="comment">//  æŒ‰ç…§é”® æœ‰åºï¼Œä¸é‡å¤ï¼Œæ— ç´¢å¼•ã€‚</span></span><br><span class="line">        map.put(<span class="string">&quot;æ‰‹è¡¨&quot;</span>, <span class="number">100</span>);</span><br><span class="line">        map.put(<span class="string">&quot;æ‰‹è¡¨&quot;</span>, <span class="number">220</span>);</span><br><span class="line">        map.put(<span class="string">&quot;æ‰‹æœº&quot;</span>, <span class="number">2</span>);</span><br><span class="line">        map.put(<span class="string">&quot;Java&quot;</span>, <span class="number">2</span>);</span><br><span class="line">        map.put(<span class="literal">null</span>, <span class="literal">null</span>);</span><br><span class="line">        System.out.println(map);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œä¸Šé¢ä»£ç å‘ç°ï¼Œå¦‚æœæ˜¯LinedHashMapé›†åˆé”®å­˜å‚¨å’Œå–å‡ºçš„é¡ºåºæ˜¯ä¸€æ ·çš„</p>
<p>å¦‚æœæ˜¯HashMapï¼Œé”®å­˜å‚¨å’Œå–å‡ºçš„é¡ºåºæ˜¯ä¸ä¸€è‡´çš„</p>
<ul>
<li>LinkedHashMapçš„åº•å±‚åŸç†ï¼Œå’ŒLinkedHashSetåº•å±‚åŸç†æ˜¯ä¸€æ ·çš„ã€‚åº•å±‚å¤šä¸ªä¸€ä¸ªåŒå‘é“¾è¡¨æ¥ç»´æŠ¤é”®çš„å­˜å‚¨é¡ºåºã€‚</li>
</ul>
<p>â€‹å–å…ƒç´ æ—¶ï¼Œå…ˆå–å¤´èŠ‚ç‚¹å…ƒç´ ï¼Œç„¶åå†ä¾æ¬¡å–ä¸‹ä¸€ä¸ªå‡ ç‚¹ï¼Œä¸€ç›´åˆ°å°¾ç»“ç‚¹ã€‚æ‰€ä»¥æ˜¯æœ‰åºçš„ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh84.png"></p>
<h2 id="TreeMap"><a href="#TreeMap" class="headerlink" title="TreeMap"></a>TreeMap</h2><ul>
<li>TreeMap</li>
</ul>
<ul>
<li>ç‰¹ç‚¹:ä¸é‡å¤ã€æ— ç´¢å¼•ã€å¯æ’åº(æŒ‰ç…§é”®çš„å¤§å°é»˜è®¤å‡åºæ’åºï¼Œåªèƒ½å¯¹é”®æ’åº)</li>
<li>åŸç†:TreeMapè·ŸTreeSeté›†åˆçš„åº•å±‚åŸç†æ˜¯ä¸€æ ·çš„ï¼Œéƒ½æ˜¯åŸºäºçº¢é»‘æ ‘å®ç°çš„æ’åºã€‚</li>
</ul>
<ul>
<li>TreeMapé›†åˆåŒæ ·ä¹Ÿæ”¯æŒä¸¤ç§æ–¹å¼æ¥æŒ‡å®šæ’åºè§„åˆ™</li>
</ul>
<ul>
<li>è®©ç±»å®ç°Comparableæ¥å£ï¼Œé‡å†™æ¯”è¾ƒè§„åˆ™ã€‚<br>TreeMapé›†åˆæœ‰ä¸€ä¸ªæœ‰å‚æ•°æ„é€ å™¨ï¼Œæ”¯æŒåˆ›å»ºComparatoræ¯”è¾ƒå™¨å¯¹è±¡ï¼Œä»¥ä¾¿ç”¨æ¥æŒ‡å®šæ¯”è¾ƒè§„åˆ™ã€‚</li>
</ul>
<p>Mapé›†åˆä¸‹é¢çš„å¦ä¸€ä¸ªå­ç±»å«TreeMapã€‚æ ¹æ®æˆ‘ä»¬å‰é¢å­¦ä¹ å…¶ä»–Mapé›†åˆçš„ç»éªŒï¼Œæˆ‘ä»¬åº”è¯¥å¯ä»¥çŒœå‡ºTreeMapæœ‰ä»€ä¹ˆç‰¹ç‚¹ã€‚</p>
<ul>
<li><p>TreeMapé›†åˆçš„ç‰¹ç‚¹ä¹Ÿæ˜¯ç”±é”®å†³å®šçš„ï¼Œé»˜è®¤æŒ‰ç…§é”®çš„å‡åºæ’åˆ—ï¼Œé”®ä¸é‡å¤ï¼Œä¹Ÿæ˜¯æ— ç´¢å¼•çš„ã€‚</p>
</li>
<li><p>TreeMapé›†åˆçš„åº•å±‚åŸç†å’ŒTreeSetä¹Ÿæ˜¯ä¸€æ ·çš„ï¼Œåº•å±‚éƒ½æ˜¯çº¢é»‘æ ‘å®ç°çš„ã€‚æ‰€ä»¥å¯ä»¥å¯¹é”®è¿›è¡Œæ’åºã€‚</p>
<p>æ¯”å¦‚å¾€TreeMapé›†åˆä¸­å­˜å‚¨Studentå¯¹è±¡ä½œä¸ºé”®ï¼Œæ’åºæ–¹æ³•æœ‰ä¸¤ç§ã€‚ç›´æ¥çœ‹ä»£ç å§</p>
</li>
</ul>
<p><strong>æ’åºæ–¹å¼1ï¼š</strong>å†™ä¸€ä¸ªStudentç±»ï¼Œè®©Studentç±»å®ç°Comparableæ¥å£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç¬¬ä¸€æ­¥ï¼šå…ˆè®©Studentç±»ï¼Œå®ç°Comparableæ¥å£</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">implements</span> <span class="title class_">Comparable</span>&lt;Student&gt;&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> height;</span><br><span class="line">    <span class="comment">//æ— å‚æ•°æ„é€ æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">()</span>&#123;&#125;</span><br><span class="line">    <span class="comment">//å…¨å‚æ•°æ„é€ æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name, <span class="type">int</span> age, <span class="type">double</span> height)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.name=name;</span><br><span class="line">        <span class="built_in">this</span>.age=age;</span><br><span class="line">        <span class="built_in">this</span>.height=height;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//...getã€setã€toString()æ–¹æ³•è‡ªå·±è¡¥ä¸Š..</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">//æŒ‰ç…§å¹´é¾„è¿›è¡Œæ¯”è¾ƒï¼Œåªéœ€è¦åœ¨æ–¹æ³•ä¸­è®©this.ageå’Œo.ageç›¸å‡å°±å¯ä»¥ã€‚</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    åŸç†ï¼š</span></span><br><span class="line"><span class="comment">    åœ¨å¾€TreeSeté›†åˆä¸­æ·»åŠ å…ƒç´ æ—¶ï¼Œaddæ–¹æ³•åº•å±‚ä¼šè°ƒç”¨compareToæ–¹æ³•ï¼Œæ ¹æ®è¯¥æ–¹æ³•çš„</span></span><br><span class="line"><span class="comment">    ç»“æœæ˜¯æ­£æ•°ã€è´Ÿæ•°ã€è¿˜æ˜¯é›¶ï¼Œå†³å®šå…ƒç´ æ”¾åœ¨åé¢ã€å‰é¢è¿˜æ˜¯ä¸å­˜ã€‚</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(Student o)</span> &#123;</span><br><span class="line">        <span class="comment">//thisï¼šè¡¨ç¤ºå°†è¦æ·»åŠ è¿›å»çš„Studentå¯¹è±¡</span></span><br><span class="line">        <span class="comment">//o: è¡¨ç¤ºé›†åˆä¸­å·²æœ‰çš„Studentå¯¹è±¡</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.age-o.age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æ’åºæ–¹å¼2ï¼š</strong>åœ¨åˆ›å»ºTreeMapé›†åˆæ—¶ï¼Œç›´æ¥ä¼ é€’Comparatoræ¯”è¾ƒå™¨å¯¹è±¡ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡ï¼šæŒæ¡TreeMapé›†åˆçš„ä½¿ç”¨ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test3TreeMap</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Map&lt;Student, String&gt; map = <span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;(<span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;Student&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Student o1, Student o2)</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> Double.compare(o1.getHeight(), o2.getHeight());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"><span class="comment">//        Map&lt;Student, String&gt; map = new TreeMap&lt;&gt;(( o1,  o2) -&gt;   Double.compare(o2.getHeight(), o1.getHeight()));</span></span><br><span class="line">        map.put(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;èœ˜è››ç²¾&quot;</span>, <span class="number">25</span>, <span class="number">168.5</span>), <span class="string">&quot;ç›˜ä¸æ´&quot;</span>);</span><br><span class="line">        map.put(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;èœ˜è››ç²¾&quot;</span>, <span class="number">25</span>, <span class="number">168.5</span>), <span class="string">&quot;æ°´å¸˜æ´&quot;</span>);</span><br><span class="line">        map.put(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;è‡³å°Šå®&quot;</span>, <span class="number">23</span>, <span class="number">163.5</span>), <span class="string">&quot;æ°´å¸˜æ´&quot;</span>);</span><br><span class="line">        map.put(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;ç‰›é­”ç‹&quot;</span>, <span class="number">28</span>, <span class="number">183.5</span>), <span class="string">&quot;ç‰›å¤´å±±&quot;</span>);</span><br><span class="line">        System.out.println(map);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ç§æ–¹å¼éƒ½å¯ä»¥å¯¹TreeMapé›†åˆä¸­çš„é”®æ’åºã€‚<strong>æ³¨æ„ï¼šåªæœ‰TreeMapçš„é”®æ‰èƒ½æ’åºï¼ŒHashMapé”®ä¸èƒ½æ’åºã€‚</strong></p>
<h2 id="è¡¥å……çŸ¥è¯†ï¼šé›†åˆçš„åµŒå¥—"><a href="#è¡¥å……çŸ¥è¯†ï¼šé›†åˆçš„åµŒå¥—" class="headerlink" title="è¡¥å……çŸ¥è¯†ï¼šé›†åˆçš„åµŒå¥—"></a>è¡¥å……çŸ¥è¯†ï¼šé›†åˆçš„åµŒå¥—</h2><ul>
<li>æ¡ˆä¾‹åˆ†æ</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>ä»éœ€æ±‚ä¸­æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œæœ‰ä¸‰ä¸ªçœä»½ï¼Œæ¯ä¸€ä¸ªçœä»½æœ‰å¤šä¸ªåŸå¸‚</span><br><span class="line">	æˆ‘ä»¬å¯ä»¥ç”¨ä¸€ä¸ªMapé›†åˆçš„é”®è¡¨ç¤ºçœä»½åç§°ï¼Œè€Œå€¼è¡¨ç¤ºçœä»½æœ‰å“ªäº›åŸå¸‚</span><br><span class="line"><span class="number">2.</span>è€Œåˆå› ä¸ºä¸€ä¸ªèº«ä»½æœ‰å¤šä¸ªåŸå¸‚ï¼ŒåŒä¸€ä¸ªçœä»½çš„å¤šä¸ªåŸå¸‚å¯ä»¥å†ç”¨ä¸€ä¸ªListé›†åˆæ¥å­˜å‚¨ã€‚</span><br><span class="line">	æ‰€ä»¥Mapé›†åˆçš„é”®æ˜¯Stringç±»å‹ï¼Œè€ŒæŒ‡æ˜¯Listé›†åˆç±»å‹</span><br><span class="line">	HashMap&lt;String, List&lt;String&gt;&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br></pre></td></tr></table></figure>

<ul>
<li>ä»£ç å¦‚ä¸‹</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡ï¼šç†è§£é›†åˆçš„åµŒå¥—ã€‚</span></span><br><span class="line"><span class="comment"> * æ±Ÿè‹çœ = &quot;å—äº¬å¸‚&quot;,&quot;æ‰¬å·å¸‚&quot;,&quot;è‹å·å¸‚â€œ,&quot;æ— é”¡å¸‚&quot;,&quot;å¸¸å·å¸‚&quot;</span></span><br><span class="line"><span class="comment"> * æ¹–åŒ—çœ = &quot;æ­¦æ±‰å¸‚&quot;,&quot;å­æ„Ÿå¸‚&quot;,&quot;åå °å¸‚&quot;,&quot;å®œæ˜Œå¸‚&quot;,&quot;é„‚å·å¸‚&quot;</span></span><br><span class="line"><span class="comment"> * æ²³åŒ—çœ = &quot;çŸ³å®¶åº„å¸‚&quot;,&quot;å”å±±å¸‚&quot;, &quot;é‚¢å°å¸‚&quot;, &quot;ä¿å®šå¸‚&quot;, &quot;å¼ å®¶å£å¸‚&quot;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 1ã€å®šä¹‰ä¸€ä¸ªMapé›†åˆå­˜å‚¨å…¨éƒ¨çš„çœä»½ä¿¡æ¯ï¼Œå’Œå…¶å¯¹åº”çš„åŸå¸‚ä¿¡æ¯ã€‚</span></span><br><span class="line">        Map&lt;String, List&lt;String&gt;&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">        List&lt;String&gt; cities1 = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        Collections.addAll(cities1, <span class="string">&quot;å—äº¬å¸‚&quot;</span>,<span class="string">&quot;æ‰¬å·å¸‚&quot;</span>,<span class="string">&quot;è‹å·å¸‚&quot;</span> ,<span class="string">&quot;æ— é”¡å¸‚&quot;</span>,<span class="string">&quot;å¸¸å·å¸‚&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;æ±Ÿè‹çœ&quot;</span>, cities1);</span><br><span class="line"></span><br><span class="line">        List&lt;String&gt; cities2 = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        Collections.addAll(cities2, <span class="string">&quot;æ­¦æ±‰å¸‚&quot;</span>,<span class="string">&quot;å­æ„Ÿå¸‚&quot;</span>,<span class="string">&quot;åå °å¸‚&quot;</span>,<span class="string">&quot;å®œæ˜Œå¸‚&quot;</span>,<span class="string">&quot;é„‚å·å¸‚&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;æ¹–åŒ—çœ&quot;</span>, cities2);</span><br><span class="line"></span><br><span class="line">        List&lt;String&gt; cities3 = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        Collections.addAll(cities3, <span class="string">&quot;çŸ³å®¶åº„å¸‚&quot;</span>,<span class="string">&quot;å”å±±å¸‚&quot;</span>, <span class="string">&quot;é‚¢å°å¸‚&quot;</span>, <span class="string">&quot;ä¿å®šå¸‚&quot;</span>, <span class="string">&quot;å¼ å®¶å£å¸‚&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;æ²³åŒ—çœ&quot;</span>, cities3);</span><br><span class="line">        System.out.println(map);</span><br><span class="line"></span><br><span class="line">        List&lt;String&gt; cities = map.get(<span class="string">&quot;æ¹–åŒ—çœ&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (String city : cities) &#123;</span><br><span class="line">            System.out.println(city);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        map.forEach((p, c) -&gt; &#123;</span><br><span class="line">            System.out.println(p + <span class="string">&quot;-----&gt;&quot;</span> + c);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h1 id="Streamæµ"><a href="#Streamæµ" class="headerlink" title="Streamæµ"></a>Streamæµ</h1><h2 id="è®¤è¯†Stream"><a href="#è®¤è¯†Stream" class="headerlink" title="è®¤è¯†Stream"></a>è®¤è¯†Stream</h2><ul>
<li>ä»€ä¹ˆæ˜¯Stream?</li>
</ul>
<ul>
<li>ä¹Ÿå«Streamæµï¼Œæ˜¯Jdk8å¼€å§‹æ–°å¢çš„ä¸€å¥—APl(java.util.stream.*)ï¼Œå¯ä»¥ç”¨äºæ“ä½œé›†åˆæˆ–è€…æ•°ç»„çš„æ•°æ®ã€‚<br>ç”¨Streamæµæ¥åšï¼Œä»£ç æ˜¯è¿™æ ·çš„<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">List&lt;String&gt; list2 = names.stream().filter(s -&gt; s.startsWith(<span class="string">&quot;å¼ &quot;</span>)).filter(a -&gt; a.length()==<span class="number">3</span>).collect(Collectors.toList());</span><br><span class="line">System.out.println(list2);</span><br></pre></td></tr></table></figure></li>
<li>ä¼˜åŠ¿: Streamæµå¤§é‡çš„ç»“åˆäº†Lambdaçš„è¯­æ³•é£æ ¼æ¥ç¼–ç¨‹ï¼Œæä¾›äº†ä¸€ç§æ›´åŠ å¼ºå¤§ï¼Œæ›´åŠ ç®€å•çš„æ–¹å¼æ“ä½œé›†åˆæˆ–è€…æ•°ç»„ä¸­çš„æ•°æ®ï¼Œä»£ç æ›´ç®€æ´ï¼Œå¯è¯»æ€§æ›´å¥½ã€‚</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh85.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ä¸»è¦æŒæ¡ä¸‹é¢å››ç‚¹ï¼š</span><br><span class="line">	<span class="number">1</span>ã€å¦‚ä½•è·å–Listé›†åˆçš„Streamæµï¼Ÿ</span><br><span class="line">	<span class="number">2</span>ã€å¦‚ä½•è·å–Seté›†åˆçš„Streamæµï¼Ÿ</span><br><span class="line">	<span class="number">3</span>ã€å¦‚ä½•è·å–Mapé›†åˆçš„Streamæµï¼Ÿ</span><br><span class="line">	<span class="number">4</span>ã€å¦‚ä½•è·å–æ•°ç»„çš„Streamæµï¼Ÿ</span><br></pre></td></tr></table></figure>

<p>ç›´æ¥ä¸Šä»£ç æ¼”ç¤º</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡ï¼šæŒæ¡Streamæµçš„åˆ›å»ºã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StreamTest2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 1ã€å¦‚ä½•è·å–Listé›†åˆçš„Streamæµï¼Ÿ</span></span><br><span class="line">        List&lt;String&gt; names = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        Collections.addAll(names, <span class="string">&quot;å¼ ä¸‰ä¸°&quot;</span>,<span class="string">&quot;å¼ æ— å¿Œ&quot;</span>,<span class="string">&quot;å‘¨èŠ·è‹¥&quot;</span>,<span class="string">&quot;èµµæ•&quot;</span>,<span class="string">&quot;å¼ å¼º&quot;</span>);</span><br><span class="line">        Stream&lt;String&gt; stream = names.stream();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€å¦‚ä½•è·å–Seté›†åˆçš„Streamæµï¼Ÿ</span></span><br><span class="line">        Set&lt;String&gt; set = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">        Collections.addAll(set, <span class="string">&quot;åˆ˜å¾·å&quot;</span>,<span class="string">&quot;å¼ æ›¼ç‰&quot;</span>,<span class="string">&quot;èœ˜è››ç²¾&quot;</span>,<span class="string">&quot;é©¬å¾·&quot;</span>,<span class="string">&quot;å¾·ç›è¥¿äºš&quot;</span>);</span><br><span class="line">        Stream&lt;String&gt; stream1 = set.stream();</span><br><span class="line">        stream1.filter(s -&gt; s.contains(<span class="string">&quot;å¾·&quot;</span>)).forEach(s -&gt; System.out.println(s));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€å¦‚ä½•è·å–Mapé›†åˆçš„Streamæµï¼Ÿ</span></span><br><span class="line">        Map&lt;String, Double&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        map.put(<span class="string">&quot;å¤åŠ›å¨œæ‰&quot;</span>, <span class="number">172.3</span>);</span><br><span class="line">        map.put(<span class="string">&quot;è¿ªä¸½çƒ­å·´&quot;</span>, <span class="number">168.3</span>);</span><br><span class="line">        map.put(<span class="string">&quot;é©¬å°”æ‰å“ˆ&quot;</span>, <span class="number">166.3</span>);</span><br><span class="line">        map.put(<span class="string">&quot;å¡å°”æ‰å·´&quot;</span>, <span class="number">168.3</span>);</span><br><span class="line"></span><br><span class="line">        Set&lt;String&gt; keys = map.keySet();</span><br><span class="line">        Stream&lt;String&gt; ks = keys.stream();</span><br><span class="line"></span><br><span class="line">        Collection&lt;Double&gt; values = map.values();</span><br><span class="line">        Stream&lt;Double&gt; vs = values.stream();</span><br><span class="line"></span><br><span class="line">        Set&lt;Map.Entry&lt;String, Double&gt;&gt; entries = map.entrySet();</span><br><span class="line">        Stream&lt;Map.Entry&lt;String, Double&gt;&gt; kvs = entries.stream();</span><br><span class="line">        kvs.filter(e -&gt; e.getKey().contains(<span class="string">&quot;å·´&quot;</span>))</span><br><span class="line">                .forEach(e -&gt; System.out.println(e.getKey()+ <span class="string">&quot;--&gt;&quot;</span> + e.getValue()));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4ã€å¦‚ä½•è·å–æ•°ç»„çš„Streamæµï¼Ÿ</span></span><br><span class="line">        String[] names2 = &#123;<span class="string">&quot;å¼ ç¿ å±±&quot;</span>, <span class="string">&quot;ä¸œæ–¹ä¸è´¥&quot;</span>, <span class="string">&quot;å”å¤§å±±&quot;</span>, <span class="string">&quot;ç‹¬å­¤æ±‚è´¥&quot;</span>&#125;;</span><br><span class="line">        Stream&lt;String&gt; s1 = Arrays.stream(names2);</span><br><span class="line">        Stream&lt;String&gt; s2 = Stream.of(names2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="Streamçš„å¸¸ç”¨æ–¹æ³•"><a href="#Streamçš„å¸¸ç”¨æ–¹æ³•" class="headerlink" title="Streamçš„å¸¸ç”¨æ–¹æ³•"></a>Streamçš„å¸¸ç”¨æ–¹æ³•</h2><ol>
<li>è·å–Streamæµ?</li>
</ol>
<ul>
<li><p>è·å–é›†åˆçš„Streamæµï¼Œ<br>Collectionæä¾›çš„å¦‚ä¸‹æ–¹æ³•              è¯´æ˜<br>default stream<E> stream()           è·å–å½“å‰é›†åˆå¯¹è±¡çš„Streamæµ</p>
</li>
<li><p>è·å–æ•°ç»„çš„Streamæµ<br>Arraysç±»æä¾›çš„å¦‚ä¸‹æ–¹æ³•                                è¯´æ˜<br>public static <T> stream<T> stream(T[]array)         è·å–å½“å‰æ•°ç»„çš„streamæµ</p>
</li>
</ul>
<p>Streamç±»æä¾›çš„å¦‚ä¸‹æ–¹æ³•                                è¯´æ˜<br>public static<T> Stream<T> of(Tâ€¦ values)           è·å–å½“å‰æ¥æ”¶æ•°æ®çš„Streamæµ</p>
<p><strong>ä¸­é—´æ–¹æ³•æŒ‡çš„æ˜¯ï¼šè°ƒç”¨å®Œæ–¹æ³•ä¹‹åå…¶ç»“æœæ˜¯ä¸€ä¸ªæ–°çš„Streamæµï¼Œäºæ˜¯å¯ä»¥ç»§ç»­è°ƒç”¨æ–¹æ³•ï¼Œè¿™æ ·ä¸€æ¥å°±å¯ä»¥æ”¯æŒé“¾å¼ç¼–ç¨‹</strong>ï¼ˆæˆ–è€…å«æµå¼ç¼–ç¨‹ï¼‰ã€‚</p>
<ol start="2">
<li>Streamæµå¸¸è§çš„ä¸­é—´æ–¹æ³•<br>ä¸­é—´æ–¹æ³•æŒ‡çš„æ˜¯è°ƒç”¨å®Œæˆåä¼šè¿”å›æ–°çš„Streamæµï¼Œå¯ä»¥ç»§ç»­ä½¿ç”¨(æ”¯æŒé“¾å¼ç¼–ç¨‹)ã€‚<br>Streamæä¾›çš„å¸¸ç”¨ä¸­é—´æ–¹æ³•                              è¯´æ˜<br>Stream<T> filter(Predicate&lt;? super T&gt; predicate)    ç”¨äºå¯¹æµä¸­çš„æ•°æ®è¿›è¡Œè¿‡æ»¤ã€‚<br>Stream<I> sorted()                                  å¯¹å…ƒç´ è¿›è¡Œå‡åºæ’åº<br>Stream<I> sorted(Comparator&lt; ? super I&gt;comparator)  æŒ‰ç…§æŒ‡å®šè§„åˆ™æ’åº<br>Stream<T> limit( long maxSize)                      è·å–å‰å‡ ä¸ªå…ƒç´ <br>Stream<T> skip( long n)                             è·³è¿‡å‰å‡ ä¸ªå…ƒç´ <br>stream<T> distinct()                                å»é™¤æµä¸­é‡å¤çš„å…ƒç´ ã€‚<br><R>Stream<R> map(Function&lt;? super L,? extends R&gt; mapper)å¯¹å…ƒç´ è¿›è¡ŒåŠ å·¥ï¼Œå¹¶è¿”å›å¯¹åº”çš„æ–°æµ<br>static <T> Stream<T> concat(Stream aï¼Œstream b)     åˆå¹¶aå’Œbä¸¤ä¸ªæµä¸ºä¸€ä¸ªæµ</li>
</ol>
<p>ä»£ç æ¼”ç¤º</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡ï¼šæŒæ¡Streamæµæä¾›çš„å¸¸è§ä¸­é—´æ–¹æ³•ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StreamTest3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        List&lt;Double&gt; scores = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        Collections.addAll(scores, <span class="number">88.5</span>, <span class="number">100.0</span>, <span class="number">60.0</span>, <span class="number">99.0</span>, <span class="number">9.5</span>, <span class="number">99.6</span>, <span class="number">25.0</span>);</span><br><span class="line">        <span class="comment">// éœ€æ±‚1ï¼šæ‰¾å‡ºæˆç»©å¤§äºç­‰äº60åˆ†çš„æ•°æ®ï¼Œå¹¶å‡åºåï¼Œå†è¾“å‡ºã€‚</span></span><br><span class="line">        scores.stream().filter(s -&gt; s &gt;= <span class="number">60</span>).sorted().forEach(s -&gt; System.out.println(s));</span><br><span class="line"></span><br><span class="line">        List&lt;Student&gt; students = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;èœ˜è››ç²¾&quot;</span>, <span class="number">26</span>, <span class="number">172.5</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;èœ˜è››ç²¾&quot;</span>, <span class="number">26</span>, <span class="number">172.5</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;ç´«éœ&quot;</span>, <span class="number">23</span>, <span class="number">167.6</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;ç™½æ™¶æ™¶&quot;</span>, <span class="number">25</span>, <span class="number">169.0</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s5</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;ç‰›é­”ç‹&quot;</span>, <span class="number">35</span>, <span class="number">183.3</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s6</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;ç‰›å¤«äºº&quot;</span>, <span class="number">34</span>, <span class="number">168.5</span>);</span><br><span class="line">        Collections.addAll(students, s1, s2, s3, s4, s5, s6);</span><br><span class="line">        <span class="comment">// éœ€æ±‚2ï¼šæ‰¾å‡ºå¹´é¾„å¤§äºç­‰äº23,ä¸”å¹´é¾„å°äºç­‰äº30å²çš„å­¦ç”Ÿï¼Œå¹¶æŒ‰ç…§å¹´é¾„é™åºè¾“å‡º.</span></span><br><span class="line">        students.stream().filter(s -&gt; s.getAge() &gt;= <span class="number">23</span> &amp;&amp; s.getAge() &lt;= <span class="number">30</span>)</span><br><span class="line">                .sorted((o1, o2) -&gt; o2.getAge() - o1.getAge())</span><br><span class="line">                .forEach(s -&gt; System.out.println(s));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// éœ€æ±‚3ï¼šå–å‡ºèº«é«˜æœ€é«˜çš„å‰3åå­¦ç”Ÿï¼Œå¹¶è¾“å‡ºã€‚</span></span><br><span class="line">        students.stream().sorted((o1, o2) -&gt; Double.compare(o2.getHeight(), o1.getHeight()))</span><br><span class="line">                .limit(<span class="number">3</span>).forEach(System.out::println);</span><br><span class="line">        System.out.println(<span class="string">&quot;-----------------------------------------------&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// éœ€æ±‚4ï¼šå–å‡ºèº«é«˜å€’æ•°çš„2åå­¦ç”Ÿï¼Œå¹¶è¾“å‡ºã€‚   s1 s2 s3 s4 s5 s6</span></span><br><span class="line">        students.stream().sorted((o1, o2) -&gt; Double.compare(o2.getHeight(), o1.getHeight()))</span><br><span class="line">                .skip(students.size() - <span class="number">2</span>).forEach(System.out::println);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// éœ€æ±‚5ï¼šæ‰¾å‡ºèº«é«˜è¶…è¿‡168çš„å­¦ç”Ÿå«ä»€ä¹ˆåå­—ï¼Œè¦æ±‚å»é™¤é‡å¤çš„åå­—ï¼Œå†è¾“å‡ºã€‚</span></span><br><span class="line">        students.stream().filter(s -&gt; s.getHeight() &gt; <span class="number">168</span>).map(Student::getName)</span><br><span class="line">               .distinct().forEach(System.out::println);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// distinctå»é‡å¤ï¼Œè‡ªå®šä¹‰ç±»å‹çš„å¯¹è±¡ï¼ˆå¸Œæœ›å†…å®¹ä¸€æ ·å°±è®¤ä¸ºé‡å¤ï¼Œé‡å†™hashCode,equalsï¼‰</span></span><br><span class="line">        students.stream().filter(s -&gt; s.getHeight() &gt; <span class="number">168</span>)</span><br><span class="line">                .distinct().forEach(System.out::println);</span><br><span class="line"></span><br><span class="line">        Stream&lt;String&gt; st1 = Stream.of(<span class="string">&quot;å¼ ä¸‰&quot;</span>, <span class="string">&quot;æå››&quot;</span>);</span><br><span class="line">        Stream&lt;String&gt; st2 = Stream.of(<span class="string">&quot;å¼ ä¸‰2&quot;</span>, <span class="string">&quot;æå››2&quot;</span>, <span class="string">&quot;ç‹äº”&quot;</span>);</span><br><span class="line">        Stream&lt;String&gt; allSt = Stream.concat(st1, st2);</span><br><span class="line">        allSt.forEach(System.out::println);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>Streamæµå¸¸è§çš„ç»ˆç»“æ–¹æ³•</li>
</ol>
<ul>
<li>æ”¶é›†Streamæµ:å°±æ˜¯æŠŠStreamæµæ“ä½œåçš„ç»“æœè½¬å›åˆ°é›†åˆæˆ–è€…æ•°ç»„ä¸­å»è¿”å›ã€‚</li>
<li>Streamæµ:æ–¹ä¾¿æ“ä½œé›†åˆ&#x2F;æ•°ç»„çš„æ‰‹æ®µ;é›†åˆ&#x2F;æ•°ç»„:æ‰æ˜¯å¼€å‘ä¸­çš„ç›®çš„ã€‚</li>
</ul>
<p>Streamæä¾›çš„å¸¸ç”¨ç»ˆç»“æ–¹æ³•                è¯´æ˜<br>R collect(Collector collector)        æŠŠæµå¤„ç†åçš„ç»“æœæ”¶é›†åˆ°ä¸€ä¸ªæŒ‡å®šçš„é›†åˆä¸­å»<br>object[ ] toArray()                   æŠŠæµå¤„ç†åçš„ç»“æœæ”¶é›†åˆ°ä¸€ä¸ªæ•°ç»„ä¸­å»</p>
<p>ä»£ç </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡ï¼šStreamæµçš„ç»ˆç»“æ–¹æ³•</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StreamTest4</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        List&lt;Student&gt; students = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;èœ˜è››ç²¾&quot;</span>, <span class="number">26</span>, <span class="number">172.5</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;èœ˜è››ç²¾&quot;</span>, <span class="number">26</span>, <span class="number">172.5</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;ç´«éœ&quot;</span>, <span class="number">23</span>, <span class="number">167.6</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;ç™½æ™¶æ™¶&quot;</span>, <span class="number">25</span>, <span class="number">169.0</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s5</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;ç‰›é­”ç‹&quot;</span>, <span class="number">35</span>, <span class="number">183.3</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s6</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;ç‰›å¤«äºº&quot;</span>, <span class="number">34</span>, <span class="number">168.5</span>);</span><br><span class="line">        Collections.addAll(students, s1, s2, s3, s4, s5, s6);</span><br><span class="line">        <span class="comment">// éœ€æ±‚1ï¼šè¯·è®¡ç®—å‡ºèº«é«˜è¶…è¿‡168çš„å­¦ç”Ÿæœ‰å‡ äººã€‚</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">size</span> <span class="operator">=</span> students.stream().filter(s -&gt; s.getHeight() &gt; <span class="number">168</span>).count();</span><br><span class="line">        System.out.println(size);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// éœ€æ±‚2ï¼šè¯·æ‰¾å‡ºèº«é«˜æœ€é«˜çš„å­¦ç”Ÿå¯¹è±¡ï¼Œå¹¶è¾“å‡ºã€‚</span></span><br><span class="line">        <span class="type">Student</span> <span class="variable">s</span> <span class="operator">=</span> students.stream().max((o1, o2) -&gt; Double.compare(o1.getHeight(), o2.getHeight())).get();</span><br><span class="line">        System.out.println(s);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// éœ€æ±‚3ï¼šè¯·æ‰¾å‡ºèº«é«˜æœ€çŸ®çš„å­¦ç”Ÿå¯¹è±¡ï¼Œå¹¶è¾“å‡ºã€‚</span></span><br><span class="line">        <span class="type">Student</span> <span class="variable">ss</span> <span class="operator">=</span> students.stream().min((o1, o2) -&gt; Double.compare(o1.getHeight(), o2.getHeight())).get();</span><br><span class="line">        System.out.println(ss);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// éœ€æ±‚4ï¼šè¯·æ‰¾å‡ºèº«é«˜è¶…è¿‡170çš„å­¦ç”Ÿå¯¹è±¡ï¼Œå¹¶æ”¾åˆ°ä¸€ä¸ªæ–°é›†åˆä¸­å»è¿”å›ã€‚</span></span><br><span class="line">        <span class="comment">// æµåªèƒ½æ”¶é›†ä¸€æ¬¡ã€‚</span></span><br><span class="line">        List&lt;Student&gt; students1 = students.stream().filter(a -&gt; a.getHeight() &gt; <span class="number">170</span>).collect(Collectors.toList());</span><br><span class="line">        System.out.println(students1);</span><br><span class="line"></span><br><span class="line">        Set&lt;Student&gt; students2 = students.stream().filter(a -&gt; a.getHeight() &gt; <span class="number">170</span>).collect(Collectors.toSet());</span><br><span class="line">        System.out.println(students2);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// éœ€æ±‚5ï¼šè¯·æ‰¾å‡ºèº«é«˜è¶…è¿‡170çš„å­¦ç”Ÿå¯¹è±¡ï¼Œå¹¶æŠŠå­¦ç”Ÿå¯¹è±¡çš„åå­—å’Œèº«é«˜ï¼Œå­˜å…¥åˆ°ä¸€ä¸ªMapé›†åˆè¿”å›ã€‚</span></span><br><span class="line">        Map&lt;String, Double&gt; map =</span><br><span class="line">                students.stream().filter(a -&gt; a.getHeight() &gt; <span class="number">170</span>)</span><br><span class="line">                        .distinct().collect(Collectors.toMap(a -&gt; a.getName(), a -&gt; a.getHeight()));</span><br><span class="line">        System.out.println(map);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Object[] arr = students.stream().filter(a -&gt; a.getHeight() &gt; 170).toArray();</span></span><br><span class="line">        Student[] arr = students.stream().filter(a -&gt; a.getHeight() &gt; <span class="number">170</span>).toArray(len -&gt; <span class="keyword">new</span> <span class="title class_">Student</span>[len]);</span><br><span class="line">        System.out.println(Arrays.toString(arr));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Fileã€IOæµ"><a href="#Fileã€IOæµ" class="headerlink" title="Fileã€IOæµ"></a>Fileã€IOæµ</h1><h2 id="File"><a href="#File" class="headerlink" title="File"></a>File</h2><ul>
<li>Fileæ˜¯java.io.åŒ…ä¸‹çš„ç±»ï¼ŒFileç±»çš„å¯¹è±¡ï¼Œç”¨äºä»£è¡¨å½“å‰æ“ä½œç³»ç»Ÿçš„æ–‡ä»¶(å¯ä»¥æ˜¯æ–‡ä»¶ã€æˆ–æ–‡ä»¶å¤¹)ã€‚</li>
</ul>
<p>è·å–æ–‡ä»¶ä¿¡æ¯(å¤§å°ï¼Œæ–‡ä»¶åï¼Œä¿®æ”¹æ—¶é—´)<br>åˆ¤æ–­æ–‡ä»¶çš„ç±»å‹<br>åˆ›å»ºæ–‡ä»¶&#x2F;æ–‡ä»¶å¤¹<br>åˆ é™¤æ–‡ä»¶&#x2F;æ–‡ä»¶å¤¹</p>
<p><strong>ä½†æ˜¯éœ€è¦æˆ‘ä»¬æ³¨æ„ï¼š</strong>Fileå¯¹è±¡åªèƒ½å¯¹æ–‡ä»¶è¿›è¡Œæ“ä½œï¼Œä¸èƒ½æ“ä½œæ–‡ä»¶ä¸­çš„å†…å®¹ã€‚</p>
<h3 id="åˆ›å»ºå¯¹è±¡"><a href="#åˆ›å»ºå¯¹è±¡" class="headerlink" title="åˆ›å»ºå¯¹è±¡"></a>åˆ›å»ºå¯¹è±¡</h3><p>å­¦ä¹ Fileç±»å’Œå…¶ä»–ç±»ä¸€æ ·ï¼Œç¬¬ä¸€æ­¥æ˜¯åˆ›å»ºFileç±»çš„å¯¹è±¡ã€‚ æƒ³è¦åˆ›å»ºå¯¹è±¡ï¼Œæˆ‘ä»¬å¾—çœ‹Fileç±»æœ‰å“ªäº›æ„é€ æ–¹æ³•ã€‚</p>
<ul>
<li>åˆ›å»ºFileç±»çš„å¯¹è±¡<br>æ„é€ å™¨                                      è¯´æ˜<br>public File(String pathname)                æ ¹æ®æ–‡ä»¶è·¯å¾„åˆ›å»ºæ–‡ä»¶å¯¹è±¡<br>public File(string parentï¼ŒString child)    æ ¹æ®çˆ¶è·¯å¾„å’Œå­è·¯å¾„åå­—åˆ›å»ºæ–‡ä»¶å¯¹è±¡<br>public File(File parentï¼ŒString child)       æ ¹æ®çˆ¶è·¯å¾„å¯¹åº”æ–‡ä»¶å¯¹è±¡å’Œå­è·¯å¾„åå­—åˆ›å»ºæ–‡ä»¶å¯¹è±¡</li>
</ul>
<p>ä¸‹é¢æˆ‘ä»¬æ¼”ç¤ºä¸€ä¸‹ï¼ŒFileç±»åˆ›å»ºå¯¹è±¡çš„ä»£ç </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">éœ€æ±‚æˆ‘ä»¬æ³¨æ„çš„æ˜¯ï¼šè·¯å¾„ä¸­<span class="string">&quot;\&quot;è¦å†™æˆ&quot;</span>\\<span class="string">&quot;ï¼Œ è·¯å¾„ä¸­&quot;</span>/<span class="string">&quot;å¯ä»¥ç›´æ¥ç”¨</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡ï¼šæŒæ¡Fileåˆ›å»ºå¯¹è±¡ï¼Œä»£è¡¨å…·ä½“æ–‡ä»¶çš„æ–¹æ¡ˆã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FileTest1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºä¸€ä¸ªFileå¯¹è±¡ï¼ŒæŒ‡ä»£æŸä¸ªå…·ä½“çš„æ–‡ä»¶ã€‚</span></span><br><span class="line">        <span class="comment">// è·¯å¾„åˆ†éš”ç¬¦</span></span><br><span class="line">        <span class="comment">// File f1 = new File(&quot;D:/resource/ab.txt&quot;);</span></span><br><span class="line">        <span class="comment">// File f1 = new File(&quot;D:\\resource\\ab.txt&quot;);</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">f1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:&quot;</span> + File.separator +<span class="string">&quot;resource&quot;</span> + File.separator + <span class="string">&quot;ab.txt&quot;</span>);</span><br><span class="line">        System.out.println(f1.length()); <span class="comment">// æ–‡ä»¶å¤§å°</span></span><br><span class="line"></span><br><span class="line">        <span class="type">File</span> <span class="variable">f2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:/resource&quot;</span>);</span><br><span class="line">        System.out.println(f2.length());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ³¨æ„ï¼šFileå¯¹è±¡å¯ä»¥æŒ‡ä»£ä¸€ä¸ªä¸å­˜åœ¨çš„æ–‡ä»¶è·¯å¾„</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">f3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:/resource/aaaa.txt&quot;</span>);</span><br><span class="line">        System.out.println(f3.length());</span><br><span class="line">        System.out.println(f3.exists()); <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// æˆ‘ç°åœ¨è¦å®šä½çš„æ–‡ä»¶æ˜¯åœ¨æ¨¡å—ä¸­ï¼Œåº”è¯¥æ€ä¹ˆå®šä½å‘¢ï¼Ÿ</span></span><br><span class="line">        <span class="comment">// ç»å¯¹è·¯å¾„ï¼šå¸¦ç›˜ç¬¦çš„</span></span><br><span class="line">        <span class="comment">// File f4 = new File(&quot;D:\\code\\javasepromax\\file-io-app\\src\\itheima.txt&quot;);</span></span><br><span class="line">        <span class="comment">// ç›¸å¯¹è·¯å¾„ï¼ˆé‡ç‚¹ï¼‰ï¼šä¸å¸¦ç›˜ç¬¦ï¼Œé»˜è®¤æ˜¯ç›´æ¥å»å·¥ç¨‹ä¸‹å¯»æ‰¾æ–‡ä»¶çš„ã€‚</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">f4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;file-io-app\\src\\itheima.txt&quot;</span>);</span><br><span class="line">        System.out.println(f4.length());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>æ³¨æ„</li>
</ul>
<ul>
<li>Fileå¯¹è±¡æ—¢å¯ä»¥ä»£è¡¨æ–‡ä»¶ã€ ä¹Ÿå¯ä»¥ä»£è¡¨æ–‡ä»¶å¤¹ã€‚</li>
<li>Fileå°è£…çš„å¯¹è±¡ä»…ä»…æ˜¯ä¸€ ä¸ªè·¯å¾„å, è¿™ä¸ªè·¯å¾„å¯ä»¥æ˜¯å­˜åœ¨çš„,ä¹Ÿå…è®¸æ˜¯ä¸å­˜åœ¨çš„ã€‚</li>
</ul>
<ul>
<li><p>ç»å¯¹è·¯å¾„ã€ç›¸å¯¹è·¯å¾„ç»å¯¹è·¯å¾„:ä»ç›˜ç¬¦å¼€å§‹<br>File file1 &#x3D; new File(â€œD: \litheimalla.txtâ€);</p>
</li>
<li><p>ç›¸å¯¹è·¯å¾„:ä¸å¸¦ç›˜ç¬¦ï¼Œé»˜è®¤ç›´æ¥åˆ°å½“å‰å·¥ç¨‹ä¸‹çš„ç›®å½•å¯»æ‰¾æ–‡ä»¶ã€‚<br>File file3 &#x3D; new File(â€œæ¨¡å—å\la.txtâ€);</p>
</li>
</ul>
<h3 id="å¸¸è§æ–¹æ³•1ï¼šåˆ¤æ–­æ–‡ä»¶ç±»å‹ã€è·å–æ–‡ä»¶ä¿¡æ¯"><a href="#å¸¸è§æ–¹æ³•1ï¼šåˆ¤æ–­æ–‡ä»¶ç±»å‹ã€è·å–æ–‡ä»¶ä¿¡æ¯" class="headerlink" title="å¸¸è§æ–¹æ³•1ï¼šåˆ¤æ–­æ–‡ä»¶ç±»å‹ã€è·å–æ–‡ä»¶ä¿¡æ¯"></a>å¸¸è§æ–¹æ³•1ï¼šåˆ¤æ–­æ–‡ä»¶ç±»å‹ã€è·å–æ–‡ä»¶ä¿¡æ¯</h3><ul>
<li>Fileæä¾›çš„åˆ¤æ–­æ–‡ä»¶ç±»å‹ã€è·å–æ–‡ä»¶ä¿¡æ¯åŠŸèƒ½<br>æ–¹æ³•åç§°                                   è¯´æ˜<br>public boolean exists()                    åˆ¤æ–­å½“å‰æ–‡ä»¶å¯¹è±¡ï¼Œå¯¹åº”çš„æ–‡ä»¶è·¯å¾„æ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨è¿”å›true<br>public boolean isFile()                    åˆ¤æ–­å½“å‰æ–‡ä»¶å¯¹è±¡æŒ‡ä»£çš„æ˜¯å¦æ˜¯æ–‡ä»¶ï¼Œæ˜¯æ–‡ä»¶è¿”å›trueï¼Œåä¹‹ã€‚<br>public boolean isDirectory()               åˆ¤æ–­å½“å‰æ–‡ä»¶å¯¹è±¡æŒ‡ä»£çš„æ˜¯å¦æ˜¯æ–‡ä»¶å¤¹ï¼Œæ˜¯æ–‡ä»¶å¤¹è¿”å›trueï¼Œåä¹‹ã€‚<br>public string getName()                    è·å–æ–‡ä»¶çš„åç§°(åŒ…å«åç¼€)<br>public long length()                       è·å–æ–‡ä»¶çš„å¤§å°ï¼Œè¿”å›å­—èŠ‚ä¸ªæ•°<br>public long lastModified()                 è·å–æ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¶é—´ã€‚<br>public String getPath()                    è·å–åˆ›å»ºæ–‡ä»¶å¯¹è±¡æ—¶ï¼Œä½¿ç”¨çš„è·¯å¾„<br>public String getAbsolutePath()            è·å–ç»å¯¹è·¯å¾„</li>
</ul>
<p>è¯ä¸å¤šå°‘ï¼Œç›´æ¥ä¸Šä»£ç </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     ç›®æ ‡ï¼šæŒæ¡Fileæä¾›çš„åˆ¤æ–­æ–‡ä»¶ç±»å‹ã€è·å–æ–‡ä»¶ä¿¡æ¯åŠŸèƒ½</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FileTest2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> UnsupportedEncodingException &#123;</span><br><span class="line">        <span class="comment">// 1.åˆ›å»ºæ–‡ä»¶å¯¹è±¡ï¼ŒæŒ‡ä»£æŸä¸ªæ–‡ä»¶</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">f1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:/resource/ab.txt&quot;</span>);</span><br><span class="line">        <span class="comment">//File f1 = new File(&quot;D:/resource/&quot;);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€public boolean exists()ï¼šåˆ¤æ–­å½“å‰æ–‡ä»¶å¯¹è±¡ï¼Œå¯¹åº”çš„æ–‡ä»¶è·¯å¾„æ˜¯å¦å­˜åœ¨ï¼Œå­˜åœ¨è¿”å›true.</span></span><br><span class="line">        System.out.println(f1.exists());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€public boolean isFile() : åˆ¤æ–­å½“å‰æ–‡ä»¶å¯¹è±¡æŒ‡ä»£çš„æ˜¯å¦æ˜¯æ–‡ä»¶ï¼Œæ˜¯æ–‡ä»¶è¿”å›trueï¼Œåä¹‹ã€‚</span></span><br><span class="line">        System.out.println(f1.isFile());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4ã€public boolean isDirectory()  : åˆ¤æ–­å½“å‰æ–‡ä»¶å¯¹è±¡æŒ‡ä»£çš„æ˜¯å¦æ˜¯æ–‡ä»¶å¤¹ï¼Œæ˜¯æ–‡ä»¶å¤¹è¿”å›trueï¼Œåä¹‹ã€‚</span></span><br><span class="line">        System.out.println(f1.isDirectory());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é™¤äº†åˆ¤æ–­åŠŸèƒ½è¿˜æœ‰ä¸€äº›è·å–åŠŸèƒ½ï¼Œçœ‹ä»£ç </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">File</span> <span class="variable">f1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:/resource/ab.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 5.public String getName()ï¼šè·å–æ–‡ä»¶çš„åç§°ï¼ˆåŒ…å«åç¼€ï¼‰</span></span><br><span class="line">System.out.println(f1.getName());</span><br><span class="line"></span><br><span class="line"><span class="comment">// 6.public long length()ï¼šè·å–æ–‡ä»¶çš„å¤§å°ï¼Œè¿”å›å­—èŠ‚ä¸ªæ•°</span></span><br><span class="line">System.out.println(f1.length());</span><br><span class="line"></span><br><span class="line"><span class="comment">// 7.public long lastModified()ï¼šè·å–æ–‡ä»¶çš„æœ€åä¿®æ”¹æ—¶é—´ã€‚</span></span><br><span class="line"><span class="type">long</span> <span class="variable">time</span> <span class="operator">=</span> f1.lastModified();</span><br><span class="line"><span class="type">SimpleDateFormat</span> <span class="variable">sdf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyy/MM/dd HH:mm:ss&quot;</span>);</span><br><span class="line">System.out.println(sdf.format(time));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 8.public String getPath()ï¼šè·å–åˆ›å»ºæ–‡ä»¶å¯¹è±¡æ—¶ï¼Œä½¿ç”¨çš„è·¯å¾„</span></span><br><span class="line"><span class="type">File</span> <span class="variable">f2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\resource\\ab.txt&quot;</span>);</span><br><span class="line"><span class="type">File</span> <span class="variable">f3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;file-io-app\\src\\itheima.txt&quot;</span>);</span><br><span class="line">System.out.println(f2.getPath());</span><br><span class="line">System.out.println(f3.getPath());</span><br><span class="line"></span><br><span class="line"><span class="comment">// 9.public String getAbsolutePath()ï¼šè·å–ç»å¯¹è·¯å¾„</span></span><br><span class="line">System.out.println(f2.getAbsolutePath());</span><br><span class="line">System.out.println(f3.getAbsolutePath());</span><br></pre></td></tr></table></figure>
<h3 id="å¸¸ç”¨æ–¹æ³•2ï¼šåˆ›å»ºæ–‡ä»¶ã€åˆ é™¤æ–‡ä»¶"><a href="#å¸¸ç”¨æ–¹æ³•2ï¼šåˆ›å»ºæ–‡ä»¶ã€åˆ é™¤æ–‡ä»¶" class="headerlink" title="å¸¸ç”¨æ–¹æ³•2ï¼šåˆ›å»ºæ–‡ä»¶ã€åˆ é™¤æ–‡ä»¶"></a>å¸¸ç”¨æ–¹æ³•2ï¼šåˆ›å»ºæ–‡ä»¶ã€åˆ é™¤æ–‡ä»¶</h3><ul>
<li><p>Fileç±»åˆ›å»ºæ–‡ä»¶çš„åŠŸèƒ½<br>æ–¹æ³•åç§°                                  è¯´æ˜<br>public boolean createNewFile()           åˆ›å»ºä¸€ä¸ªæ–°çš„ç©ºçš„æ–‡ä»¶<br>public boolean mkdir()                   åªèƒ½åˆ›å»ºä¸€çº§æ–‡ä»¶å¤¹<br>public boolean mkdirs()                  å¯ä»¥åˆ›å»ºå¤šçº§æ–‡ä»¶å¤¹</p>
</li>
<li><p>Fileç±»åˆ é™¤æ–‡ä»¶çš„åŠŸèƒ½<br>æ–¹æ³•åç§°                                  è¯´æ˜<br>public boolean delete()                   åˆ é™¤æ–‡ä»¶ã€ç©ºæ–‡ä»¶å¤¹<br>æ³¨æ„:deleteæ–¹æ³•é»˜è®¤åªèƒ½åˆ é™¤æ–‡ä»¶å’Œç©ºæ–‡ä»¶å¤¹ï¼Œåˆ é™¤åçš„æ–‡ä»¶ä¸ä¼šè¿›å…¥å›æ”¶ç«™ã€‚</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡ï¼šæŒæ¡Fileåˆ›å»ºå’Œåˆ é™¤æ–‡ä»¶ç›¸å…³çš„æ–¹æ³•ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FileTest3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">// 1ã€public boolean createNewFile()ï¼šåˆ›å»ºä¸€ä¸ªæ–°æ–‡ä»¶ï¼ˆæ–‡ä»¶å†…å®¹ä¸ºç©ºï¼‰ï¼Œåˆ›å»ºæˆåŠŸè¿”å›true,åä¹‹ã€‚</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">f1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:/resource/itheima2.txt&quot;</span>);</span><br><span class="line">        System.out.println(f1.createNewFile());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€public boolean mkdir()ï¼šç”¨äºåˆ›å»ºæ–‡ä»¶å¤¹ï¼Œæ³¨æ„ï¼šåªèƒ½åˆ›å»ºä¸€çº§æ–‡ä»¶å¤¹</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">f2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:/resource/aaa&quot;</span>);</span><br><span class="line">        System.out.println(f2.mkdir());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€public boolean mkdirs()ï¼šç”¨äºåˆ›å»ºæ–‡ä»¶å¤¹ï¼Œæ³¨æ„ï¼šå¯ä»¥åˆ›å»ºå¤šçº§æ–‡ä»¶å¤¹</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">f3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:/resource/bbb/ccc/ddd/eee/fff/ggg&quot;</span>);</span><br><span class="line">        System.out.println(f3.mkdirs());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€public boolean delete()ï¼šåˆ é™¤æ–‡ä»¶ï¼Œæˆ–è€…ç©ºæ–‡ä»¶ï¼Œæ³¨æ„ï¼šä¸èƒ½åˆ é™¤éç©ºæ–‡ä»¶å¤¹ã€‚</span></span><br><span class="line">        System.out.println(f1.delete());</span><br><span class="line">        System.out.println(f2.delete());</span><br><span class="line">        <span class="type">File</span> <span class="variable">f4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:/resource&quot;</span>);</span><br><span class="line">        System.out.println(f4.delete());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>mkdir(): åªèƒ½åˆ›å»ºå•çº§æ–‡ä»¶å¤¹ã€</span><br><span class="line"><span class="number">2.</span>mkdirs(): æ‰èƒ½åˆ›å»ºå¤šçº§æ–‡ä»¶å¤¹</span><br><span class="line"><span class="number">3.</span>delete(): æ–‡ä»¶å¯ä»¥ç›´æ¥åˆ é™¤ï¼Œä½†æ˜¯æ–‡ä»¶å¤¹åªèƒ½åˆ é™¤ç©ºçš„æ–‡ä»¶å¤¹ï¼Œæ–‡ä»¶å¤¹æœ‰å†…å®¹åˆ é™¤ä¸äº†ã€‚</span><br></pre></td></tr></table></figure>
<h3 id="å¸¸ç”¨æ–¹æ³•3ï¼šéå†æ–‡ä»¶å¤¹"><a href="#å¸¸ç”¨æ–¹æ³•3ï¼šéå†æ–‡ä»¶å¤¹" class="headerlink" title="å¸¸ç”¨æ–¹æ³•3ï¼šéå†æ–‡ä»¶å¤¹"></a>å¸¸ç”¨æ–¹æ³•3ï¼šéå†æ–‡ä»¶å¤¹</h3><ul>
<li>Fileç±»æä¾›çš„éå†æ–‡ä»¶å¤¹çš„åŠŸèƒ½<br>æ–¹æ³•åç§°                            è¯´æ˜<br>public string[] list()              è·å–å½“å‰ç›®å½•ä¸‹æ‰€æœ‰çš„â€ä¸€çº§æ–‡ä»¶åç§°â€åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ä¸­å»è¿”å›ã€‚<br>public File[] listFiles()           è·å–å½“å‰ç›®å½•ä¸‹æ‰€æœ‰çš„â€ä¸€çº§æ–‡ä»¶å¯¹è±¡â€åˆ°ä¸€ä¸ªæ–‡ä»¶å¯¹è±¡æ•°ç»„ä¸­å»è¿”å›(é‡ç‚¹)</li>
</ul>
<p>æ¼”ç¤ºä¸€ä¸‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡ï¼šæŒæ¡Fileæä¾›çš„éå†æ–‡ä»¶å¤¹çš„æ–¹æ³•ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FileTest4</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 1ã€public String[] list()ï¼šè·å–å½“å‰ç›®å½•ä¸‹æ‰€æœ‰çš„&quot;ä¸€çº§æ–‡ä»¶åç§°&quot;åˆ°ä¸€ä¸ªå­—ç¬¦ä¸²æ•°ç»„ä¸­å»è¿”å›ã€‚</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">f1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\course\\å¾…ç ”å‘å†…å®¹&quot;</span>);</span><br><span class="line">        String[] names = f1.list();</span><br><span class="line">        <span class="keyword">for</span> (String name : names) &#123;</span><br><span class="line">            System.out.println(name);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€public File[] listFiles():ï¼ˆé‡ç‚¹ï¼‰è·å–å½“å‰ç›®å½•ä¸‹æ‰€æœ‰çš„&quot;ä¸€çº§æ–‡ä»¶å¯¹è±¡&quot;åˆ°ä¸€ä¸ªæ–‡ä»¶å¯¹è±¡æ•°ç»„ä¸­å»è¿”å›ï¼ˆé‡ç‚¹ï¼‰</span></span><br><span class="line">        File[] files = f1.listFiles();</span><br><span class="line">        <span class="keyword">for</span> (File file : files) &#123;</span><br><span class="line">            System.out.println(file.getAbsolutePath());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">File</span> <span class="variable">f</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:/resource/aaa&quot;</span>);</span><br><span class="line">        File[] files1 = f.listFiles();</span><br><span class="line">        System.out.println(Arrays.toString(files1));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œéœ€è¦æ³¨æ„å‡ ä¸ªé—®é¢˜</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>å½“ä¸»è°ƒæ˜¯æ–‡ä»¶æ—¶ï¼Œæˆ–è€…è·¯å¾„ä¸å­˜åœ¨æ—¶ï¼Œè¿”å›<span class="literal">null</span></span><br><span class="line"><span class="number">2.</span>å½“ä¸»è°ƒæ˜¯ç©ºæ–‡ä»¶å¤¹æ—¶ï¼Œè¿”å›ä¸€ä¸ªé•¿åº¦ä¸º<span class="number">0</span>çš„æ•°ç»„</span><br><span class="line"><span class="number">3.</span>å½“ä¸»è°ƒæ˜¯ä¸€ä¸ªæœ‰å†…å®¹çš„æ–‡ä»¶å¤¹æ—¶ï¼Œå°†é‡Œé¢æ‰€æœ‰ä¸€çº§æ–‡ä»¶å’Œæ–‡ä»¶å¤¹è·¯å¾„æ”¾åœ¨Fileæ•°ç»„ä¸­ï¼Œå¹¶æŠŠæ•°ç»„è¿”å›</span><br><span class="line"><span class="number">4.</span>å½“ä¸»è°ƒæ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œä¸”é‡Œé¢æœ‰éšè—æ–‡ä»¶æ—¶ï¼Œå°†é‡Œé¢æ‰€æœ‰æ–‡ä»¶å’Œæ–‡ä»¶å¤¹çš„è·¯å¾„æ”¾åœ¨FIleæ•°ç»„ä¸­ï¼ŒåŒ…å«éšè—æ–‡ä»¶</span><br><span class="line"><span class="number">5.</span>å½“ä¸»è°ƒæ˜¯ä¸€ä¸ªæ–‡ä»¶å¤¹ï¼Œä½†æ˜¯æ²¡æœ‰æƒé™è®¿é—®æ—¶ï¼Œè¿”å›<span class="literal">null</span></span><br></pre></td></tr></table></figure>

<h2 id="æ–¹æ³•é€’å½’"><a href="#æ–¹æ³•é€’å½’" class="headerlink" title="æ–¹æ³•é€’å½’"></a>æ–¹æ³•é€’å½’</h2><h3 id="é€’å½’ç®—æ³•å¼•å…¥"><a href="#é€’å½’ç®—æ³•å¼•å…¥" class="headerlink" title="é€’å½’ç®—æ³•å¼•å…¥"></a>é€’å½’ç®—æ³•å¼•å…¥</h3><ul>
<li><p>ä»€ä¹ˆæ˜¯é€’å½’ï¼Ÿ</p>
<p>é€’å½’æ˜¯ä¸€ç§ç®—æ³•ï¼Œä»å½¢å¼ä¸Šæ¥è¯´ï¼Œæ–¹æ³•è°ƒç”¨è‡ªå·±çš„å½¢å¼ç§°ä¹‹ä¸ºé€’å½’ã€‚</p>
</li>
<li><p>é€’å½’çš„å½¢å¼ï¼šæœ‰ç›´æ¥é€’å½’ã€é—´æ¥é€’å½’ï¼Œå¦‚ä¸‹é¢çš„ä»£ç ã€‚</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡ï¼šè®¤è¯†ä¸€ä¸‹é€’å½’çš„å½¢å¼ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RecursionTest1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        test1();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç›´æ¥æ–¹æ³•é€’å½’</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;----test1---&quot;</span>);</span><br><span class="line">        test1(); <span class="comment">// ç›´æ¥æ–¹æ³•é€’å½’</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é—´æ¥æ–¹æ³•é€’å½’</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;---test2---&quot;</span>);</span><br><span class="line">        test3();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test3</span><span class="params">()</span>&#123;</span><br><span class="line">        test2(); <span class="comment">// é—´æ¥é€’å½’</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å¦‚æœç›´æ¥æ‰§è¡Œä¸Šé¢çš„ä»£ç ï¼Œä¼šè¿›å…¥æ­»å¾ªç¯ï¼Œæœ€ç»ˆå¯¼è‡´æ ˆå†…å­˜æº¢å‡º</p>
<p>ä»¥ä¸Šåªæ˜¯ç”¨ä»£ç æ¼”ç¤ºäº†ä¸€ä¸‹ï¼Œé€’å½’çš„å½¢å¼ã€‚åœ¨ä¸‹ä¸€èŠ‚ï¼Œåœ¨é€šè¿‡ä¸€ä¸ªæ¡ˆä¾‹æ¥ç»™åŒå­¦ä»¬è®²ä¸€è®²é€’å½’çš„æ‰§è¡Œæµç¨‹ã€‚</p>
<h3 id="é€’å½’ç®—æ³•çš„æ‰§è¡Œæµç¨‹"><a href="#é€’å½’ç®—æ³•çš„æ‰§è¡Œæµç¨‹" class="headerlink" title="é€’å½’ç®—æ³•çš„æ‰§è¡Œæµç¨‹"></a>é€’å½’ç®—æ³•çš„æ‰§è¡Œæµç¨‹</h3><p>ä¸ºäº†å¼„æ¸…æ¥šé€’å½’çš„æ‰§è¡Œæµç¨‹ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬é€šè¿‡ä¸€ä¸ªæ¡ˆä¾‹æ¥å­¦ä¹ ä¸€ä¸‹ã€‚</p>
<p>æ¡ˆä¾‹éœ€æ±‚ï¼šè®¡ç®—nçš„é˜¶ä¹˜ï¼Œæ¯”å¦‚5çš„é˜¶ä¹˜ &#x3D; 1 * 2 * 3 * 4 * 5 ï¼› 6 çš„é˜¶ä¹˜ &#x3D;  1 * 2 * 3 * 4 * 5 * 6</p>
<p>åˆ†æéœ€æ±‚ç”¨é€’å½’è¯¥æ€ä¹ˆåš</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">å‡è®¾f(n)è¡¨ç¤ºnçš„é˜¶ä¹˜ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥æ¨å¯¼å‡ºä¸‹é¢çš„å¼å­</span><br><span class="line">	 f(<span class="number">5</span>) = <span class="number">1</span>+<span class="number">2</span>+<span class="number">3</span>+<span class="number">4</span>+<span class="number">5</span></span><br><span class="line">    f(<span class="number">5</span>) = f(<span class="number">4</span>)+<span class="number">5</span></span><br><span class="line">    f(<span class="number">4</span>) = f(<span class="number">3</span>)+<span class="number">4</span></span><br><span class="line">    f(<span class="number">3</span>) = f(<span class="number">2</span>)+<span class="number">3</span></span><br><span class="line">    f(<span class="number">2</span>) = f(<span class="number">1</span>)+<span class="number">2</span></span><br><span class="line">    f(<span class="number">1</span>) = <span class="number">1</span></span><br><span class="line">æ€»ç»“è§„å¾‹ï¼š</span><br><span class="line">	é™¤äº†f(<span class="number">1</span>) = <span class="number">1</span>; å‡ºå£</span><br><span class="line">	å…¶ä»–çš„f(n) = f(n-<span class="number">1</span>)+n</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥æŠŠf(n)å½“åšä¸€ä¸ªæ–¹æ³•ï¼Œé‚£ä¹ˆæ–¹æ³•çš„å†™æ³•å¦‚ä¸‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡ï¼šæŒæ¡é€’å½’çš„åº”ç”¨ï¼Œæ‰§è¡Œæµç¨‹å’Œç®—æ³•æ€æƒ³ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RecursionTest2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;5çš„é˜¶ä¹˜æ˜¯ï¼š&quot;</span> + f(<span class="number">5</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ±‚nä¸ªæ•°çš„é˜¶ä¹˜</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">f</span><span class="params">(<span class="type">int</span> n)</span>&#123;</span><br><span class="line">        <span class="comment">// ç»ˆç»“ç‚¹</span></span><br><span class="line">        <span class="keyword">if</span>(n == <span class="number">1</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> f(n - <span class="number">1</span>) * n;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™ä¸ªä»£ç çš„æ‰§è¡Œæµç¨‹ï¼Œæˆ‘ä»¬ç”¨å†…å­˜å›¾çš„å½¢å¼æ¥åˆ†æä¸€ä¸‹ï¼Œè¯¥æ¡ˆä¾‹ä¸­é€’å½’è°ƒç”¨çš„ç‰¹ç‚¹æ˜¯ï¼š<strong>ä¸€å±‚ä¸€å±‚è°ƒç”¨ï¼Œå†ä¸€å±‚ä¸€å±‚å¾€å›è¿”ã€‚</strong></p>
<h3 id="é€’å½’æ–‡ä»¶æœç´¢"><a href="#é€’å½’æ–‡ä»¶æœç´¢" class="headerlink" title="é€’å½’æ–‡ä»¶æœç´¢"></a>é€’å½’æ–‡ä»¶æœç´¢</h3><p>å­¦ä¹ å®Œé€’å½’ç®—æ³•æ‰§è¡Œæµç¨‹åï¼Œæœ€åæˆ‘ä»¬å›è¿‡å¤´æ¥ã€‚å†æ¥çœ‹ä¸€ä¸‹ï¼Œå¦‚æœä½¿ç”¨é€’å½’æ¥éå†æ–‡ä»¶å¤¹ã€‚</p>
<p>æ¡ˆä¾‹éœ€æ±‚ï¼šåœ¨<code>D:\\</code>åˆ¤æ–­ä¸‹æœç´¢QQ.exeè¿™ä¸ªæ–‡ä»¶ï¼Œç„¶åç›´æ¥è¾“å‡ºã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>å…ˆè°ƒç”¨æ–‡ä»¶å¤¹çš„listFilesæ–¹æ³•ï¼Œè·å–æ–‡ä»¶å¤¹çš„ä¸€çº§å†…å®¹ï¼Œå¾—åˆ°ä¸€ä¸ªæ•°ç»„</span><br><span class="line"><span class="number">2.</span>ç„¶åå†éå†æ•°ç»„ï¼Œè·å–æ•°ç»„ä¸­çš„Fileå¯¹è±¡</span><br><span class="line"><span class="number">3.</span>å› ä¸ºFileå¯¹è±¡å¯èƒ½æ˜¯æ–‡ä»¶ä¹Ÿå¯èƒ½æ˜¯æ–‡ä»¶å¤¹ï¼Œæ‰€ä»¥æ¥ä¸‹æ¥å°±éœ€è¦åˆ¤æ–­</span><br><span class="line">	åˆ¤æ–­Fileå¯¹è±¡å¦‚æœæ˜¯æ–‡ä»¶ï¼Œå°±è·å–æ–‡ä»¶åï¼Œå¦‚æœæ–‡ä»¶åæ˜¯`QQ.exe`åˆ™æ‰“å°ï¼Œå¦åˆ™ä¸æ‰“å°</span><br><span class="line">	åˆ¤æ–­Fileå¯¹è±¡å¦‚æœæ˜¯æ–‡ä»¶å¤¹ï¼Œå°±é€’å½’æ‰§è¡Œ<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>æ­¥éª¤</span><br><span class="line">æ‰€ä»¥ï¼šæŠŠ<span class="number">1</span>ï¼Œ<span class="number">2</span>,<span class="number">3</span>æ­¥éª¤å†™æˆæ–¹æ³•ï¼Œé€’å½’è°ƒç”¨å³å¯ã€‚</span><br></pre></td></tr></table></figure>

<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡ï¼šæŒæ¡æ–‡ä»¶æœç´¢çš„å®ç°ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RecursionTest3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">          searchFile(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:/&quot;</span>) , <span class="string">&quot;QQ.exe&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å»ç›®å½•ä¸‹æœç´¢æŸä¸ªæ–‡ä»¶</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> dir  ç›®å½•</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> fileName è¦æœç´¢çš„æ–‡ä»¶åç§°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">searchFile</span><span class="params">(File dir, String fileName)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">// 1ã€æŠŠéæ³•çš„æƒ…å†µéƒ½æ‹¦æˆªä½</span></span><br><span class="line">        <span class="keyword">if</span>(dir == <span class="literal">null</span> || !dir.exists() || dir.isFile())&#123;</span><br><span class="line">            <span class="keyword">return</span>; <span class="comment">// ä»£è¡¨æ— æ³•æœç´¢</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€dirä¸æ˜¯null,å­˜åœ¨ï¼Œä¸€å®šæ˜¯ç›®å½•å¯¹è±¡ã€‚</span></span><br><span class="line">        <span class="comment">// è·å–å½“å‰ç›®å½•ä¸‹çš„å…¨éƒ¨ä¸€çº§æ–‡ä»¶å¯¹è±¡ã€‚</span></span><br><span class="line">        File[] files = dir.listFiles();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€åˆ¤æ–­å½“å‰ç›®å½•ä¸‹æ˜¯å¦å­˜åœ¨ä¸€çº§æ–‡ä»¶å¯¹è±¡ï¼Œä»¥åŠæ˜¯å¦å¯ä»¥æ‹¿åˆ°ä¸€çº§æ–‡ä»¶å¯¹è±¡ã€‚</span></span><br><span class="line">        <span class="keyword">if</span>(files != <span class="literal">null</span> &amp;&amp; files.length &gt; <span class="number">0</span>)&#123;</span><br><span class="line">            <span class="comment">// 4ã€éå†å…¨éƒ¨ä¸€çº§æ–‡ä»¶å¯¹è±¡ã€‚</span></span><br><span class="line">            <span class="keyword">for</span> (File f : files) &#123;</span><br><span class="line">                <span class="comment">// 5ã€åˆ¤æ–­æ–‡ä»¶æ˜¯å¦æ˜¯æ–‡ä»¶,è¿˜æ˜¯æ–‡ä»¶å¤¹</span></span><br><span class="line">                <span class="keyword">if</span>(f.isFile())&#123;</span><br><span class="line">                    <span class="comment">// æ˜¯æ–‡ä»¶ï¼Œåˆ¤æ–­è¿™ä¸ªæ–‡ä»¶åæ˜¯å¦æ˜¯æˆ‘ä»¬è¦æ‰¾çš„</span></span><br><span class="line">                    <span class="keyword">if</span>(f.getName().contains(fileName))&#123;</span><br><span class="line">                        System.out.println(<span class="string">&quot;æ‰¾åˆ°äº†ï¼š&quot;</span> + f.getAbsolutePath());</span><br><span class="line">                        <span class="type">Runtime</span> <span class="variable">runtime</span> <span class="operator">=</span> Runtime.getRuntime();</span><br><span class="line">                        runtime.exec(f.getAbsolutePath());</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="comment">// æ˜¯æ–‡ä»¶å¤¹ï¼Œç»§ç»­é‡å¤è¿™ä¸ªè¿‡ç¨‹ï¼ˆé€’å½’ï¼‰</span></span><br><span class="line">                    searchFile(f, fileName);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="å­—ç¬¦é›†"><a href="#å­—ç¬¦é›†" class="headerlink" title="å­—ç¬¦é›†"></a>å­—ç¬¦é›†</h2><h3 id="å­—ç¬¦é›†çš„æ¥å†"><a href="#å­—ç¬¦é›†çš„æ¥å†" class="headerlink" title="å­—ç¬¦é›†çš„æ¥å†"></a>å­—ç¬¦é›†çš„æ¥å†</h3><p>æ‰€ä»¥ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ­£å¼å­¦ä¹ ä¸€ä¸‹å­—ç¬¦é›†ã€‚å…ˆæ¥å¸¦ç€åŒå­¦ä»¬ï¼Œäº†è§£ä¸€ä¸‹å­—ç¬¦é›†çš„æ¥å†ã€‚</p>
<p>æˆ‘ä»¬çŸ¥é“è®¡ç®—æœºæ˜¯ç¾å›½äººå‘æ˜çš„ï¼Œç”±äºè®¡ç®—æœºèƒ½å¤Ÿå¤„ç†çš„æ•°æ®åªèƒ½æ˜¯0å’Œ1ç»„æˆçš„äºŒè¿›åˆ¶æ•°æ®ï¼Œä¸ºäº†è®©è®¡ç®—æœºèƒ½å¤Ÿå¤„ç†å­—ç¬¦ï¼Œäºæ˜¯ç¾å›½äººå°±æŠŠä»–ä»¬ä¼šç”¨åˆ°çš„æ¯ä¸€ä¸ªå­—ç¬¦è¿›è¡Œäº†ç¼–ç ï¼ˆ<strong>æ‰€è°“ç¼–ç ï¼Œå°±æ˜¯ä¸ºä¸€ä¸ªå­—ç¬¦ç¼–ä¸€ä¸ªäºŒè¿›åˆ¶æ•°æ®</strong>ï¼‰ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh87.png"></p>
<p>ç¾å›½äººå¸¸ç”¨çš„å­—ç¬¦æœ‰è‹±æ–‡å­—æ¯ã€æ ‡ç‚¹ç¬¦å·ã€æ•°å­—ä»¥åŠä¸€äº›ç‰¹æ®Šå­—ç¬¦ï¼Œè¿™äº›å­—ç¬¦ä¸€å…±ä¹Ÿä¸åˆ°128ä¸ªï¼Œæ‰€ä»¥ä»–ä»¬ç”¨1ä¸ªå­—èŠ‚æ¥å­˜å‚¨1å­—ç¬¦å°±å¤Ÿäº†ã€‚ ç¾å›½äººæŠŠä»–ä»¬ç”¨åˆ°çš„å­—ç¬¦å’Œå­—ç¬¦å¯¹åº”çš„ç¼–ç æ€»ç»“æˆäº†ä¸€å¼ ç è¡¨ï¼Œè¿™å¼ ç è¡¨å«åšASCIIç è¡¨ï¼ˆä¹Ÿå«ASCIIå­—ç¬¦é›†ï¼‰ã€‚</p>
<p>å…¶å®è®¡ç®—æœºåªåœ¨ç¾å›½ç”¨æ˜¯æ²¡æœ‰é—®é¢˜çš„ï¼Œä½†æ˜¯è®¡ç®—æœºæ…¢æ…¢çš„æ™®åŠåˆ°å…¨ä¸–ç•Œï¼Œå½“æ™®åŠåˆ°ä¸­å›½çš„æ—¶å€™ï¼Œåœ¨è®¡ç®—æœºä¸­æƒ³è¦å­˜å‚¨ä¸­æ–‡ï¼Œé‚£ASCIIå­—ç¬¦é›†å°±ä¸å¤Ÿç”¨äº†ï¼Œå› ä¸ºä¸­æ–‡å¤ªå¤šäº†ï¼Œéšä¾¿æ•°ä¸€æ•°ä¹Ÿæœ‰å‡ ä¸‡ä¸ªå­—ç¬¦ã€‚</p>
<p>äºæ˜¯ä¸­å›½äººä¸ºäº†åœ¨è®¡ç®—æœºä¸­å­˜å‚¨ä¸­æ–‡ï¼Œä¹Ÿç¼–äº†ä¸€ä¸ªä¸­å›½äººç”¨çš„å­—ç¬¦é›†å«åšGBKå­—ç¬¦é›†ï¼Œè¿™é‡Œé¢åŒ…å«2ä¸‡å¤šä¸ªæ±‰å­—å­—ç¬¦ï¼Œ<strong>GBKä¸­ä¸€ä¸ªæ±‰å­—é‡‡ç”¨ä¸¤ä¸ªå­—èŠ‚æ¥å­˜å‚¨</strong>ï¼Œä¸ºäº†èƒ½å¤Ÿæ˜¾ç¤ºè‹±æ–‡å­—æ¯ï¼ŒGBKå­—ç¬¦é›†ä¹Ÿå…¼å®¹äº†ASCIIå­—ç¬¦é›†ï¼Œ<strong>åœ¨GBKå­—ç¬¦é›†ä¸­ä¸€ä¸ªå­—æ¯è¿˜æ˜¯é‡‡ç”¨ä¸€ä¸ªå­—èŠ‚æ¥å­˜å‚¨</strong>ã€‚</p>
<h3 id="æ±‰å­—å’Œå­—æ¯çš„ç¼–ç ç‰¹ç‚¹"><a href="#æ±‰å­—å’Œå­—æ¯çš„ç¼–ç ç‰¹ç‚¹" class="headerlink" title="æ±‰å­—å’Œå­—æ¯çš„ç¼–ç ç‰¹ç‚¹"></a>æ±‰å­—å’Œå­—æ¯çš„ç¼–ç ç‰¹ç‚¹</h3><p>æ¥ä¸‹æ¥ï¼Œå°±å¸¦ç€åŒå­¦ä»¬äº†è§£ä¸€ä¸‹ï¼Œè®¡ç®—æœºæ˜¯æ€ä¹ˆè¯†åˆ«ä¸­æ–‡å’Œè‹±æ–‡çš„ã€‚</p>
<p>æ¯”å¦‚ï¼šåœ¨æ–‡ä»¶ä¸­å­˜å‚¨ä¸€ä¸ª<code>æˆ‘aä½ </code>ï¼Œåº•å±‚å…¶å®å­˜å‚¨çš„æ˜¯è¿™æ ·çš„äºŒè¿›åˆ¶æ•°æ®ã€‚</p>
<p><strong>éœ€è¦æˆ‘ä»¬æ³¨æ„æ±‰å­—å’Œå­—æ¯çš„ç¼–ç ç‰¹ç‚¹ï¼š</strong></p>
<ul>
<li><ol>
<li>å¦‚æœæ˜¯å­˜å‚¨å­—æ¯ï¼Œé‡‡ç”¨1ä¸ªå­—èŠ‚æ¥å­˜å‚¨ï¼Œä¸€å…±8ä½ï¼Œå…¶ä¸­ç¬¬1ä½æ˜¯0</li>
<li>å¦‚æœæ˜¯å­˜å‚¨æ±‰å­—ï¼Œé‡‡ç”¨2ä¸ªå­—èŠ‚æ¥å­˜å‚¨ï¼Œä¸€å…±16ä½ï¼Œå…¶ä¸­ç¬¬1ä½æ˜¯1</li>
</ol>
</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh88.png"></p>
<p><strong>å½“è¯»å–æ–‡ä»¶ä¸­çš„å­—ç¬¦æ—¶ï¼Œé€šè¿‡è¯†åˆ«è¯»å–åˆ°çš„ç¬¬1ä½æ˜¯0è¿˜æ˜¯1æ¥åˆ¤æ–­æ˜¯å­—æ¯è¿˜æ˜¯æ±‰å­—</strong></p>
<ul>
<li>å¦‚æœè¯»å–åˆ°ç¬¬1ä½æ˜¯0ï¼Œå°±è®¤ä¸ºæ˜¯ä¸€ä¸ªå­—æ¯ï¼Œæ­¤æ—¶å¾€åè¯»1ä¸ªå­—èŠ‚ã€‚</li>
<li>å¦‚æœè¯»å–åˆ°ç¬¬1ä½æ˜¯1ï¼Œå°±è®¤ä¸ºæ˜¯ä¸€ä¸ªæ±‰å­—ï¼Œæ­¤æ—¶å¾€åè¯»2ä¸ªå­—èŠ‚ã€‚</li>
</ul>
<h3 id="Unicodeå­—ç¬¦é›†"><a href="#Unicodeå­—ç¬¦é›†" class="headerlink" title="Unicodeå­—ç¬¦é›†"></a>Unicodeå­—ç¬¦é›†</h3><p>åŒå­¦ä»¬æ³¨æ„äº†ï¼Œå’±ä»¬å›½å®¶å¯ä»¥ç”¨GBKå­—ç¬¦é›†æ¥è¡¨ç¤ºä¸­å›½äººä½¿ç”¨çš„æ–‡å­—ï¼Œé‚£ä¸–ç•Œä¸Šè¿˜æœ‰å¾ˆå¤šå…¶ä»–çš„å›½å®¶ï¼Œä»–ä»¬ä¹Ÿæœ‰è‡ªå·±çš„æ–‡å­—ï¼Œä»–ä»¬ä¹Ÿæƒ³è¦è‡ªå·±å›½å®¶çš„æ–‡å­—åœ¨è®¡ç®—æœºä¸­å¤„ç†ï¼Œäºæ˜¯å…¶ä»–å›½å®¶ä¹Ÿåœ¨æè‡ªå·±çš„å­—ç¬¦é›†ï¼Œå°±è¿™æ ·å…¨ä¸–ç•Œæäº†ä¸Šç™¾ä¸ªå­—ç¬¦é›†ï¼Œè€Œä¸”å„ä¸ªå›½å®¶çš„å­—ç¬¦é›†äº’ä¸å…¼å®¹ã€‚ è¿™æ ·å…¶å®å¾ˆä¸åˆ©äºå›½é™…åŒ–çš„äº¤æµï¼Œå¯èƒ½ä¸€ä¸ªæ–‡ä»¶åœ¨æˆ‘ä»¬å›½å®¶çš„ç”µè„‘ä¸Šæ‰“å¼€å¥½å¥½çš„ï¼Œä½†æ˜¯åœ¨å…¶ä»–å›½å®¶æ‰“å¼€å°±æ˜¯ä¹±ç äº†ã€‚</p>
<p>ä¸ºäº†è§£å†³å„ä¸ªå›½å®¶å­—ç¬¦é›†äº’ä¸å…¼å®¹çš„é—®é¢˜ï¼Œç”±å›½é™…åŒ–æ ‡å‡†ç»„ç»‡ç‰µå¤´ï¼Œè®¾è®¡äº†ä¸€å¥—å…¨ä¸–ç•Œé€šç”¨çš„å­—ç¬¦é›†ï¼Œå«åšUnicodeå­—ç¬¦é›†ã€‚åœ¨Unicodeå­—ç¬¦é›†ä¸­åŒ…å«äº†ä¸–ç•Œä¸Šæ‰€æœ‰å›½å®¶çš„æ–‡å­—ï¼Œä¸€ä¸ªå­—ç¬¦é‡‡ç”¨4ä¸ªè‡ªå·±æ‰å­˜å‚¨ã€‚</p>
<p>åœ¨Unicodeå­—ç¬¦é›†ä¸­ï¼Œé‡‡ç”¨ä¸€ä¸ªå­—ç¬¦4ä¸ªå­—èŠ‚çš„ç¼–ç æ–¹æ¡ˆï¼Œåˆé€ æˆå¦ä¸€ä¸ªé—®é¢˜ï¼šå¦‚æœæ˜¯è¯´è‹±è¯­çš„å›½å®¶ï¼Œä»–ä»¬åªéœ€è¦ç”¨åˆ°26å¤§å°å†™å­—æ¯ï¼ŒåŠ ä¸Šä¸€äº›æ ‡ç‚¹ç¬¦å·å°±å¤Ÿäº†ï¼Œæœ¬èº«ä¸€ä¸ªå­—èŠ‚å°±å¯ä»¥è¡¨ç¤ºå®Œï¼Œç”¨4ä¸ªå­—èŠ‚å°±æœ‰ç‚¹æµªè´¹ã€‚</p>
<p>äºæ˜¯åˆå¯¹Unicodeå­—ç¬¦é›†ä¸­çš„å­—ç¬¦è¿›è¡Œäº†é‡æ–°ç¼–ç ï¼Œä¸€å…±è®¾è®¡äº†ä¸‰ç§ç¼–ç æ–¹æ¡ˆã€‚åˆ†åˆ«æ˜¯UTF-32ã€UTF-16ã€UTF-8;  <strong>å…¶ä¸­æ¯”è¾ƒå¸¸ç”¨çš„ç¼–ç æ–¹æ¡ˆæ˜¯UTF-8</strong></p>
<p>ä¸‹é¢æˆ‘ä»¬è¯¦ç»†ä»‹ç»ä¸€ä¸‹UTF-8è¿™ç§ç¼–ç æ–¹æ¡ˆçš„ç‰¹ç‚¹ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>UTF-<span class="number">8</span>æ˜¯ä¸€ç§å¯å˜é•¿çš„ç¼–ç æ–¹æ¡ˆï¼Œå·¥åˆ†ä¸º<span class="number">4</span>ä¸ªé•¿åº¦åŒº</span><br><span class="line"><span class="number">2.</span>è‹±æ–‡å­—æ¯ã€æ•°å­—å <span class="number">1</span>ä¸ªå­—èŠ‚å…¼å®¹(ASCIIç¼–ç )</span><br><span class="line"><span class="number">3.</span>æ±‰å­—å­—ç¬¦å <span class="number">3</span>ä¸ªå­—èŠ‚</span><br><span class="line"><span class="number">4.</span>æå°‘æ•°å­—ç¬¦å <span class="number">4</span>ä¸ªå­—èŠ‚</span><br></pre></td></tr></table></figure>



<h3 id="å­—ç¬¦é›†å°ç»“"><a href="#å­—ç¬¦é›†å°ç»“" class="headerlink" title="å­—ç¬¦é›†å°ç»“"></a>å­—ç¬¦é›†å°ç»“</h3><p>æœ€åï¼Œæˆ‘ä»¬å°†å‰é¢ä»‹ç»è¿‡çš„å­—ç¬¦é›†å°ç»“ä¸€ä¸‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ASCIIå­—ç¬¦é›†ï¼šã€Šç¾å›½ä¿¡æ¯äº¤æ¢æ ‡å‡†ä»£ç ã€‹ï¼ŒåŒ…å«è‹±æ–‡å­—æ¯ã€æ•°å­—ã€æ ‡ç‚¹ç¬¦å·ã€æ§åˆ¶å­—ç¬¦</span><br><span class="line">	ç‰¹ç‚¹ï¼š<span class="number">1</span>ä¸ªå­—ç¬¦å <span class="number">1</span>ä¸ªå­—èŠ‚</span><br><span class="line"></span><br><span class="line">GBKå­—ç¬¦é›†ï¼šä¸­å›½äººè‡ªå·±çš„å­—ç¬¦é›†ï¼Œå…¼å®¹ASCIIå­—ç¬¦é›†ï¼Œè¿˜åŒ…å«<span class="number">2</span>ä¸‡å¤šä¸ªæ±‰å­—</span><br><span class="line">	ç‰¹ç‚¹ï¼š<span class="number">1</span>ä¸ªå­—æ¯å ç”¨<span class="number">1</span>ä¸ªå­—èŠ‚ï¼›<span class="number">1</span>ä¸ªæ±‰å­—å ç”¨<span class="number">2</span>ä¸ªå­—èŠ‚</span><br><span class="line"></span><br><span class="line">Unicodeå­—ç¬¦é›†ï¼šåŒ…å«ä¸–ç•Œä¸Šæ‰€æœ‰å›½å®¶çš„æ–‡å­—ï¼Œæœ‰ä¸‰ç§ç¼–ç æ–¹æ¡ˆï¼Œæœ€å¸¸ç”¨çš„æ˜¯UTF-<span class="number">8</span></span><br><span class="line">    UTF-<span class="number">8</span>ç¼–ç æ–¹æ¡ˆï¼šè‹±æ–‡å­—æ¯ã€æ•°å­—å <span class="number">1</span>ä¸ªå­—èŠ‚å…¼å®¹(ASCIIç¼–ç )ã€æ±‰å­—å­—ç¬¦å <span class="number">3</span>ä¸ªå­—èŠ‚</span><br></pre></td></tr></table></figure>


<h3 id="ç¼–ç å’Œè§£ç "><a href="#ç¼–ç å’Œè§£ç " class="headerlink" title="ç¼–ç å’Œè§£ç "></a>ç¼–ç å’Œè§£ç </h3><p>ææ¸…æ¥šå­—ç¬¦é›†çš„çŸ¥è¯†ä¹‹åï¼Œæˆ‘ä»¬æ¥ä¸‹æ¥å†å¸¦ç€åŒå­¦ä»¬ä½¿ç”¨Javaä»£ç å®Œæˆç¼–ç å’Œè§£ç çš„æ“ä½œã€‚</p>
<p>å…¶å®Stringç±»ç±»ä¸­å°±æä¾›äº†ç›¸åº”çš„æ–¹æ³•ï¼Œå¯ä»¥å®Œæˆç¼–ç å’Œè§£ç çš„æ“ä½œã€‚</p>
<ul>
<li>ç¼–ç ï¼šæŠŠå­—ç¬¦ä¸²æŒ‰ç…§æŒ‡å®šçš„å­—ç¬¦é›†è½¬æ¢ä¸ºå­—èŠ‚æ•°ç»„</li>
<li>è§£ç ï¼šæŠŠå­—èŠ‚æ•°ç»„æŒ‰ç…§æŒ‡å®šçš„å­—ç¬¦é›†è½¬æ¢ä¸ºå­—ç¬¦ä¸²</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡ï¼šæŒæ¡å¦‚ä½•ä½¿ç”¨Javaä»£ç å®Œæˆå¯¹å­—ç¬¦çš„ç¼–ç å’Œè§£ç ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">// 1ã€ç¼–ç </span></span><br><span class="line">        <span class="type">String</span> <span class="variable">data</span> <span class="operator">=</span> <span class="string">&quot;aæˆ‘b&quot;</span>;</span><br><span class="line">        <span class="type">byte</span>[] bytes = data.getBytes(); <span class="comment">// é»˜è®¤æ˜¯æŒ‰ç…§å¹³å°å­—ç¬¦é›†ï¼ˆUTF-8ï¼‰è¿›è¡Œç¼–ç çš„ã€‚</span></span><br><span class="line">        System.out.println(Arrays.toString(bytes));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æŒ‰ç…§æŒ‡å®šå­—ç¬¦é›†è¿›è¡Œç¼–ç ã€‚</span></span><br><span class="line">        <span class="type">byte</span>[] bytes1 = data.getBytes(<span class="string">&quot;GBK&quot;</span>);</span><br><span class="line">        System.out.println(Arrays.toString(bytes1));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€è§£ç </span></span><br><span class="line">        <span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(bytes); <span class="comment">// æŒ‰ç…§å¹³å°é»˜è®¤ç¼–ç ï¼ˆUTF-8ï¼‰è§£ç </span></span><br><span class="line">        System.out.println(s1);</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(bytes1, <span class="string">&quot;GBK&quot;</span>);</span><br><span class="line">        System.out.println(s2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="IOæµï¼ˆå­—èŠ‚æµï¼‰"><a href="#IOæµï¼ˆå­—èŠ‚æµï¼‰" class="headerlink" title="IOæµï¼ˆå­—èŠ‚æµï¼‰"></a>IOæµï¼ˆå­—èŠ‚æµï¼‰</h2><h3 id="IOæµæ¦‚è¿°"><a href="#IOæµæ¦‚è¿°" class="headerlink" title="IOæµæ¦‚è¿°"></a>IOæµæ¦‚è¿°</h3><p>å„ä½å°ä¼™ä¼´ï¼Œåœ¨å‰é¢æˆ‘ä»¬å·²ç»å­¦ä¹ è¿‡Fileç±»ã€‚ä½†æ˜¯æˆ‘ä»¬çŸ¥é“Fileåªèƒ½æ“ä½œæ–‡ä»¶ï¼Œä½†æ˜¯ä¸èƒ½æ“ä½œæ–‡ä»¶ä¸­çš„å†…å®¹ã€‚æˆ‘ä»¬ä¹Ÿå­¦ä¹ äº†å­—ç¬¦é›†ï¼Œä¸åŒçš„å­—ç¬¦é›†å­˜å­—ç¬¦æ•°æ®çš„åŸç†æ˜¯ä¸ä¸€æ ·çš„ã€‚æœ‰äº†å‰é¢ä¸¤ä¸ªçŸ¥è¯†çš„åŸºç¡€ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å†å­¦ä¹ IOæµï¼Œå°±å¯ä»¥å¯¹æ–‡ä»¶ä¸­çš„æ•°æ®è¿›è¡Œæ“ä½œäº†ã€‚</p>
<p>IOæµçš„ä½œç”¨ï¼šå°±æ˜¯å¯ä»¥å¯¹æ–‡ä»¶æˆ–è€…ç½‘ç»œä¸­çš„æ•°æ®è¿›è¡Œè¯»ã€å†™çš„æ“ä½œã€‚å¦‚ä¸‹å›¾æ‰€ç¤º</p>
<ul>
<li>æŠŠæ•°æ®ä»ç£ç›˜ã€ç½‘ç»œä¸­è¯»å–åˆ°ç¨‹åºä¸­æ¥ï¼Œç”¨åˆ°çš„æ˜¯è¾“å…¥æµã€‚</li>
<li>æŠŠç¨‹åºä¸­çš„æ•°æ®å†™å…¥ç£ç›˜ã€ç½‘ç»œä¸­ï¼Œç”¨åˆ°çš„æ˜¯è¾“å‡ºæµã€‚</li>
<li><strong>ç®€å•è®°ï¼šè¾“å…¥æµï¼ˆè¯»æ•°æ®ï¼‰ã€è¾“å‡ºæµï¼ˆå†™æ•°æ®ï¼‰</strong></li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh89.png"></p>
<p>IOæµåœ¨Javaä¸­æœ‰å¾ˆå¤šç§ï¼Œä¸åŒçš„æµæ¥å¹²ä¸åŒçš„äº‹æƒ…ã€‚JavaæŠŠå„ç§æµç”¨ä¸åŒçš„ç±»æ¥è¡¨ç¤ºï¼Œè¿™äº›æµçš„ç»§æ‰¿ä½“ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">IOæµåˆ†ä¸ºä¸¤å¤§æ´¾ç³»ï¼š</span><br><span class="line">	<span class="number">1.</span>å­—èŠ‚æµï¼šå­—èŠ‚æµåˆåˆ†ä¸ºå­—èŠ‚è¾“å…¥æµã€å­—èŠ‚è¾“å‡ºæµ</span><br><span class="line">	<span class="number">2.</span>å­—ç¬¦æµï¼šå­—ç¬¦æµç”±åˆ†ä¸ºå­—ç¬¦è¾“å…¥æµã€å­—ç¬¦è¾“å‡ºæµ</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh90.png"></p>
<h3 id="FileInputStreamè¯»å–ä¸€ä¸ªå­—èŠ‚"><a href="#FileInputStreamè¯»å–ä¸€ä¸ªå­—èŠ‚" class="headerlink" title="FileInputStreamè¯»å–ä¸€ä¸ªå­—èŠ‚"></a>FileInputStreamè¯»å–ä¸€ä¸ªå­—èŠ‚</h3><p>åŒå­¦ä»¬ï¼Œåœ¨ä¸ŠèŠ‚è¯¾è®¤è¯†äº†ä»€ä¹ˆæ˜¯IOæµï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å­¦ä¹ å­—èŠ‚æµä¸­çš„å­—èŠ‚è¾“å…¥æµï¼Œç”¨InputStreamæ¥è¡¨ç¤ºã€‚ä½†æ˜¯InputStreamæ˜¯æŠ½è±¡ç±»ï¼Œæˆ‘ä»¬ç”¨çš„æ˜¯å®ƒçš„å­ç±»ï¼Œå«FileInputStreamã€‚</p>
<p>éœ€è¦ç”¨åˆ°çš„æ–¹æ³•å¦‚ä¸‹å›¾æ‰€ç¤ºï¼šæœ‰æ„é€ æ–¹æ³•ã€æˆå‘˜æ–¹æ³•</p>
<p>æ„é€ å™¨                                         è¯´æ˜<br>public FileInputStream(File file)             åˆ›å»ºå­—èŠ‚è¾“å…¥æµç®¡é“ä¸æºæ–‡ä»¶æ¥é€š<br>public FileInputStream(String pathname)       åˆ›å»ºå­—èŠ‚è¾“å…¥æµç®¡é“ä¸æºæ–‡ä»¶æ¥é€š</p>
<p>æ–¹æ³•åç§°                           è¯´æ˜<br>public int read()                 æ¯æ¬¡è¯»å–ä¸€ä¸ªå­—èŠ‚è¿”å›ï¼Œå¦‚æœå‘ç°æ²¡æœ‰æ•°æ®å¯è¯»ä¼šè¿”å›-1.<br>public int read(byte[] buffer)    æ¯æ¬¡ç”¨ä¸€ä¸ªå­—èŠ‚æ•°ç»„å»è¯»å–æ•°æ®ï¼Œè¿”å›å­—èŠ‚æ•°ç»„è¯»å–äº†å¤šå°‘ä¸ªå­—èŠ‚ï¼Œå¦‚æœå‘ç°æ²¡æœ‰æ•°æ®å¯è¯»ä¼šè¿”å›-1.</p>
<p>ä½¿ç”¨FileInputStreamè¯»å–æ–‡ä»¶ä¸­çš„å­—èŠ‚æ•°æ®ï¼Œæ­¥éª¤å¦‚ä¸‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºFileInputStreamæ–‡ä»¶å­—èŠ‚è¾“å…¥æµç®¡é“ï¼Œä¸æºæ–‡ä»¶æ¥é€šã€‚</span><br><span class="line">ç¬¬äºŒæ­¥ï¼šè°ƒç”¨read()æ–¹æ³•å¼€å§‹è¯»å–æ–‡ä»¶çš„å­—èŠ‚æ•°æ®ã€‚</span><br><span class="line">ç¬¬ä¸‰æ­¥ï¼šè°ƒç”¨close()æ–¹æ³•é‡Šæ”¾èµ„æº</span><br></pre></td></tr></table></figure>

<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡ï¼šæŒæ¡æ–‡ä»¶å­—èŠ‚è¾“å…¥æµï¼Œæ¯æ¬¡è¯»å–ä¸€ä¸ªå­—èŠ‚ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FileInputStreamTest1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºæ–‡ä»¶å­—èŠ‚è¾“å…¥æµç®¡é“ï¼Œä¸æºæ–‡ä»¶æ¥é€šã€‚</span></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>((<span class="string">&quot;file-io-app\\src\\itheima01.txt&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€å¼€å§‹è¯»å–æ–‡ä»¶çš„å­—èŠ‚æ•°æ®ã€‚</span></span><br><span class="line">        <span class="comment">// public int read():æ¯æ¬¡è¯»å–ä¸€ä¸ªå­—èŠ‚è¿”å›ï¼Œå¦‚æœæ²¡æœ‰æ•°æ®äº†ï¼Œè¿”å›-1.</span></span><br><span class="line">        <span class="type">int</span> b; <span class="comment">// ç”¨äºè®°ä½è¯»å–çš„å­—èŠ‚ã€‚</span></span><br><span class="line">        <span class="keyword">while</span> ((b = is.read()) != -<span class="number">1</span>)&#123;</span><br><span class="line">            System.out.print((<span class="type">char</span>) b);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3ã€æµä½¿ç”¨å®Œæ¯•ä¹‹åï¼Œå¿…é¡»å…³é—­ï¼é‡Šæ”¾ç³»ç»Ÿèµ„æºï¼</span></span><br><span class="line">        is.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œéœ€è¦æ³¨æ„ä¸€ä¸ªé—®é¢˜ï¼šç”±äºä¸€ä¸ªä¸­æ–‡åœ¨UTF-8ç¼–ç æ–¹æ¡ˆä¸­æ˜¯å 3ä¸ªå­—èŠ‚ï¼Œé‡‡ç”¨ä¸€æ¬¡è¯»å–ä¸€ä¸ªå­—èŠ‚çš„æ–¹å¼ï¼Œè¯»ä¸€ä¸ªå­—èŠ‚å°±ç›¸å½“äºè¯»äº†1&#x2F;3ä¸ªæ±‰å­—ï¼Œæ­¤æ—¶å°†è¿™ä¸ªå­—èŠ‚è½¬æ¢ä¸ºå­—ç¬¦ï¼Œæ˜¯ä¼šæœ‰ä¹±ç çš„ã€‚</p>
<h3 id="FileInputStreamè¯»å–å¤šä¸ªå­—èŠ‚"><a href="#FileInputStreamè¯»å–å¤šä¸ªå­—èŠ‚" class="headerlink" title="FileInputStreamè¯»å–å¤šä¸ªå­—èŠ‚"></a>FileInputStreamè¯»å–å¤šä¸ªå­—èŠ‚</h3><p>æˆ‘ä»¬å­¦ä¹ äº†FileInputStreamè°ƒç”¨read()æ–¹æ³•ï¼Œå¯ä»¥ä¸€æ¬¡è¯»å–ä¸€ä¸ªå­—èŠ‚ã€‚ä½†æ˜¯è¿™ç§è¯»å–æ–¹å¼æ•ˆç‡å¤ªå¤ªå¤ªå¤ªæ…¢äº†ã€‚ ä¸ºäº†æé«˜æ•ˆç‡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¦ä¸€ä¸ªread(byte[] bytes)çš„é‡è½½æ–¹æ³•ï¼Œå¯ä»¥ä¸€æ¬¡è¯»å–å¤šä¸ªå­—èŠ‚ï¼Œè‡³äºä¸€æ¬¡è¯»å¤šå°‘ä¸ªå­—èŠ‚ï¼Œå°±åœ¨äºä½ ä¼ é€’çš„æ•°ç»„æœ‰å¤šå¤§ã€‚</p>
<p>ä½¿ç”¨FileInputStreamä¸€æ¬¡è¯»å–å¤šä¸ªå­—èŠ‚çš„æ­¥éª¤å¦‚ä¸‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºFileInputStreamæ–‡ä»¶å­—èŠ‚è¾“å…¥æµç®¡é“ï¼Œä¸æºæ–‡ä»¶æ¥é€šã€‚</span><br><span class="line">ç¬¬äºŒæ­¥ï¼šè°ƒç”¨read(<span class="type">byte</span>[] bytes)æ–¹æ³•å¼€å§‹è¯»å–æ–‡ä»¶çš„å­—èŠ‚æ•°æ®ã€‚</span><br><span class="line">ç¬¬ä¸‰æ­¥ï¼šè°ƒç”¨close()æ–¹æ³•é‡Šæ”¾èµ„æº</span><br></pre></td></tr></table></figure>

<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡ï¼šæŒæ¡ä½¿ç”¨FileInputStreamæ¯æ¬¡è¯»å–å¤šä¸ªå­—èŠ‚ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FileInputStreamTest2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºä¸€ä¸ªå­—èŠ‚è¾“å…¥æµå¯¹è±¡ä»£è¡¨å­—èŠ‚è¾“å…¥æµç®¡é“ä¸æºæ–‡ä»¶æ¥é€šã€‚</span></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;file-io-app\\src\\itheima02.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€å¼€å§‹è¯»å–æ–‡ä»¶ä¸­çš„å­—èŠ‚æ•°æ®ï¼šæ¯æ¬¡è¯»å–å¤šä¸ªå­—èŠ‚ã€‚</span></span><br><span class="line">        <span class="comment">//  public int read(byte b[]) throws IOException</span></span><br><span class="line">        <span class="comment">//  æ¯æ¬¡è¯»å–å¤šä¸ªå­—èŠ‚åˆ°å­—èŠ‚æ•°ç»„ä¸­å»ï¼Œè¿”å›è¯»å–çš„å­—èŠ‚æ•°é‡ï¼Œè¯»å–å®Œæ¯•ä¼šè¿”å›-1.</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€ä½¿ç”¨å¾ªç¯æ”¹é€ ã€‚</span></span><br><span class="line">        <span class="type">byte</span>[] buffer = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">3</span>];</span><br><span class="line">        <span class="type">int</span> len; <span class="comment">// è®°ä½æ¯æ¬¡è¯»å–äº†å¤šå°‘ä¸ªå­—èŠ‚ã€‚  abc 66</span></span><br><span class="line">        <span class="keyword">while</span> ((len = is.read(buffer)) != -<span class="number">1</span>)&#123;</span><br><span class="line">            <span class="comment">// æ³¨æ„ï¼šè¯»å–å¤šå°‘ï¼Œå€’å‡ºå¤šå°‘ã€‚</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">rs</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(buffer, <span class="number">0</span> , len);</span><br><span class="line">            System.out.print(rs);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// æ€§èƒ½å¾—åˆ°äº†æ˜æ˜¾çš„æå‡ï¼ï¼</span></span><br><span class="line">        <span class="comment">// è¿™ç§æ–¹æ¡ˆä¹Ÿä¸èƒ½é¿å…è¯»å–æ±‰å­—è¾“å‡ºä¹±ç çš„é—®é¢˜ï¼ï¼</span></span><br><span class="line"></span><br><span class="line">        is.close(); <span class="comment">// å…³é—­æµ</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>éœ€è¦æˆ‘ä»¬æ³¨æ„çš„æ˜¯ï¼š<strong>read(byte[] bytes)å®ƒçš„è¿”å›å€¼ï¼Œè¡¨ç¤ºå½“å‰è¿™ä¸€æ¬¡è¯»å–çš„å­—èŠ‚ä¸ªæ•°ã€‚</strong></li>
</ul>
<p>å‡è®¾æœ‰ä¸€ä¸ªa.txtæ–‡ä»¶å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">abcde</span><br></pre></td></tr></table></figure>

<p>æ¯æ¬¡è¯»å–è¿‡ç¨‹å¦‚ä¸‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ä¹Ÿå°±æ˜¯è¯´ï¼Œå¹¶ä¸æ˜¯æ¯æ¬¡è¯»å–çš„æ—¶å€™éƒ½æŠŠæ•°ç»„è£…æ»¡ï¼Œæ¯”å¦‚æ•°ç»„æ˜¯ <span class="type">byte</span>[] bytes = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">3</span>];</span><br><span class="line">ç¬¬ä¸€æ¬¡è°ƒç”¨read(bytes)è¯»å–äº†<span class="number">3</span>ä¸ªå­—èŠ‚(åˆ†åˆ«æ˜¯<span class="number">97</span>,<span class="number">98</span>,<span class="number">99</span>)ï¼Œå¹¶ä¸”å¾€æ•°ç»„ä¸­å­˜ï¼Œæ­¤æ—¶è¿”å›å€¼å°±æ˜¯<span class="number">3</span></span><br><span class="line">ç¬¬äºŒæ¬¡è°ƒç”¨read(bytes)è¯»å–äº†<span class="number">2</span>ä¸ªå­—èŠ‚(åˆ†åˆ«æ˜¯<span class="number">99</span>,<span class="number">100</span>),å¹¶ä¸”å¾€æ•°ç»„ä¸­å­˜ï¼Œæ­¤æ—¶è¿”å›å€¼æ˜¯<span class="number">2</span></span><br><span class="line">ç¬¬ä¸‰æ¬¡è°ƒç”¨read(bytes)æ–‡ä»¶ä¸­åé¢å·²ç»æ²¡æœ‰æ•°æ®äº†ï¼Œæ­¤æ—¶è¿”å›å€¼ä¸º-<span class="number">1</span></span><br></pre></td></tr></table></figure>

<ul>
<li>è¿˜éœ€è¦æ³¨æ„ä¸€ä¸ªé—®é¢˜ï¼šé‡‡ç”¨ä¸€æ¬¡è¯»å–å¤šä¸ªå­—èŠ‚çš„æ–¹å¼ï¼Œä¹Ÿæ˜¯å¯èƒ½æœ‰ä¹±ç çš„ã€‚å› ä¸ºä¹Ÿæœ‰å¯èƒ½è¯»å–åˆ°åŠä¸ªæ±‰å­—çš„æƒ…å†µã€‚</li>
</ul>
<h3 id="FileInputStreamè¯»å–å…¨éƒ¨å­—èŠ‚"><a href="#FileInputStreamè¯»å–å…¨éƒ¨å­—èŠ‚" class="headerlink" title="FileInputStreamè¯»å–å…¨éƒ¨å­—èŠ‚"></a>FileInputStreamè¯»å–å…¨éƒ¨å­—èŠ‚</h3><p>åŒå­¦ä»¬ï¼Œå‰é¢æˆ‘ä»¬åˆ°çš„è¯»å–æ–¹å¼ï¼Œä¸ç®¡æ˜¯ä¸€æ¬¡è¯»å–ä¸€ä¸ªå­—èŠ‚ï¼Œè¿˜æ˜¯ä¸€æ¬¡è¯»å–å¤šä¸ªå­—èŠ‚ï¼Œéƒ½æœ‰å¯èƒ½æœ‰ä¹±ç ã€‚é‚£ä¹ˆæ¥ä¸‹æ¥æˆ‘ä»¬ä»‹ç»ä¸€ç§ï¼Œä¸å‡ºç°ä¹±ç çš„è¯»å–æ–¹å¼ã€‚</p>
<p>æˆ‘ä»¬å¯ä»¥ä¸€æ¬¡æ€§è¯»å–æ–‡ä»¶ä¸­çš„å…¨éƒ¨å­—èŠ‚ï¼Œç„¶åæŠŠå…¨éƒ¨å­—èŠ‚è½¬æ¢ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå°±ä¸ä¼šæœ‰ä¹±ç äº†ã€‚</p>
<p>æ–¹å¼ä¸€:è‡ªå·±å®šä¹‰ä¸€ä¸ªå­—èŠ‚æ•°ç»„ä¸è¢«è¯»å–çš„æ–‡ä»¶å¤§å°ä¸€æ ·å¤§ï¼Œç„¶åä½¿ç”¨è¯¥å­—èŠ‚æ•°ç»„ï¼Œä¸€æ¬¡è¯»å®Œæ–‡ä»¶çš„å…¨éƒ¨å­—èŠ‚ã€‚<br>æ–¹æ³•åç§°                         è¯´æ˜<br>public int read(byte[] buffer)  æ¯æ¬¡ç”¨ä¸€ä¸ªå­—èŠ‚æ•°ç»„å»è¯»å–ï¼Œè¿”å›å­—èŠ‚æ•°ç»„è¯»å–äº†å¤šå°‘ä¸ªå­—èŠ‚ï¼Œå¦‚æœå‘ç°æ²¡æœ‰æ•°æ®å¯è¯»ä¼šè¿”å›-1.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1ã€ä¸€æ¬¡æ€§è¯»å–å®Œæ–‡ä»¶çš„å…¨éƒ¨å­—èŠ‚åˆ°ä¸€ä¸ªå­—èŠ‚æ•°ç»„ä¸­å»ã€‚</span></span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªå­—èŠ‚è¾“å…¥æµç®¡é“ä¸æºæ–‡ä»¶æ¥é€š</span></span><br><span class="line"><span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;file-io-app\\src\\itheima03.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2ã€å‡†å¤‡ä¸€ä¸ªå­—èŠ‚æ•°ç»„ï¼Œå¤§å°ä¸æ–‡ä»¶çš„å¤§å°æ­£å¥½ä¸€æ ·å¤§ã€‚</span></span><br><span class="line"><span class="type">File</span> <span class="variable">f</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;file-io-app\\src\\itheima03.txt&quot;</span>);</span><br><span class="line"><span class="type">long</span> <span class="variable">size</span> <span class="operator">=</span> f.length();</span><br><span class="line"><span class="type">byte</span>[] buffer = <span class="keyword">new</span> <span class="title class_">byte</span>[(<span class="type">int</span>) size];</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> is.read(buffer);</span><br><span class="line">System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(buffer));</span><br><span class="line"></span><br><span class="line"><span class="comment">//3ã€å…³é—­æµ</span></span><br><span class="line">is.close(); </span><br></pre></td></tr></table></figure>
<p>æ–¹å¼äºŒ:Javaå®˜æ–¹ä¸ºInputStreamæä¾›äº†å¦‚ä¸‹æ–¹æ³•ï¼Œå¯ä»¥ç›´æ¥æŠŠæ–‡ä»¶çš„å…¨éƒ¨å­—èŠ‚è¯»å–åˆ°ä¸€ä¸ªå­—èŠ‚æ•°ç»„ä¸­è¿”å›ã€‚<br>æ–¹æ³•åç§°                        è¯´æ˜<br>public byte[] readAllBytes() throws IOException<br>ç›´æ¥å°†å½“å‰å­—èŠ‚è¾“å…¥æµå¯¹åº”çš„æ–‡ä»¶å¯¹è±¡çš„å­—èŠ‚æ•°æ®è£…åˆ°ä¸€ä¸ªå­—èŠ‚æ•°ç»„è¿”å›</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1ã€ä¸€æ¬¡æ€§è¯»å–å®Œæ–‡ä»¶çš„å…¨éƒ¨å­—èŠ‚åˆ°ä¸€ä¸ªå­—èŠ‚æ•°ç»„ä¸­å»ã€‚</span></span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªå­—èŠ‚è¾“å…¥æµç®¡é“ä¸æºæ–‡ä»¶æ¥é€š</span></span><br><span class="line"><span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;file-io-app\\src\\itheima03.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//2ã€è°ƒç”¨æ–¹æ³•è¯»å–æ‰€æœ‰å­—èŠ‚ï¼Œè¿”å›ä¸€ä¸ªå­˜å‚¨æ‰€æœ‰å­—èŠ‚çš„å­—èŠ‚æ•°ç»„ã€‚</span></span><br><span class="line"><span class="type">byte</span>[] buffer = is.readAllBytes();</span><br><span class="line">System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(buffer));</span><br><span class="line"></span><br><span class="line"><span class="comment">//3ã€å…³é—­æµ</span></span><br><span class="line">is.close(); </span><br></pre></td></tr></table></figure>

<p>æœ€åï¼Œè¿˜æ˜¯è¦æ³¨æ„ä¸€ä¸ªé—®é¢˜ï¼š<strong>ä¸€æ¬¡è¯»å–æ‰€æœ‰å­—èŠ‚è™½ç„¶å¯ä»¥è§£å†³ä¹±ç é—®é¢˜ï¼Œä½†æ˜¯æ–‡ä»¶ä¸èƒ½è¿‡å¤§ï¼Œå¦‚æœæ–‡ä»¶è¿‡å¤§ï¼Œå¯èƒ½å¯¼è‡´å†…å­˜æº¢å‡ºã€‚</strong></p>
<h3 id="FileOutputStreamå†™å­—èŠ‚"><a href="#FileOutputStreamå†™å­—èŠ‚" class="headerlink" title="FileOutputStreamå†™å­—èŠ‚"></a>FileOutputStreamå†™å­—èŠ‚</h3><p>ä½¿ç”¨FIleInputStreamè¯»å–æ–‡ä»¶ä¸­çš„å­—èŠ‚æ•°æ®ã€‚ç„¶åæœ‰åŒå­¦å°±è¿«ä¸åŠå¾…çš„æƒ³å­¦ä¹ å¾€æ–‡ä»¶ä¸­å†™å…¥æ•°æ®äº†ã€‚</p>
<p>å¾€æ–‡ä»¶ä¸­å†™æ•°æ®éœ€è¦ç”¨åˆ°OutputStreamä¸‹é¢çš„ä¸€ä¸ªå­ç±»FileOutputStreamã€‚å†™è¾“å…¥çš„æµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤º</p>
<p>ä½¿ç”¨FileOutputStreamå¾€æ–‡ä»¶ä¸­å†™æ•°æ®çš„æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºFileOutputStreamæ–‡ä»¶å­—èŠ‚è¾“å‡ºæµç®¡é“ï¼Œä¸ç›®æ ‡æ–‡ä»¶æ¥é€šã€‚</span><br><span class="line">ç¬¬äºŒæ­¥ï¼šè°ƒç”¨wirte()æ–¹æ³•å¾€æ–‡ä»¶ä¸­å†™æ•°æ®</span><br><span class="line">ç¬¬ä¸‰æ­¥ï¼šè°ƒç”¨close()æ–¹æ³•é‡Šæ”¾èµ„æº</span><br></pre></td></tr></table></figure>

<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡ï¼šæŒæ¡æ–‡ä»¶å­—èŠ‚è¾“å‡ºæµFileOutputStreamçš„ä½¿ç”¨ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FileOutputStreamTest4</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºä¸€ä¸ªå­—èŠ‚è¾“å‡ºæµç®¡é“ä¸ç›®æ ‡æ–‡ä»¶æ¥é€šã€‚</span></span><br><span class="line">        <span class="comment">// è¦†ç›–ç®¡é“ï¼šè¦†ç›–ä¹‹å‰çš„æ•°æ®</span></span><br><span class="line"><span class="comment">//        OutputStream os =</span></span><br><span class="line"><span class="comment">//                new FileOutputStream(&quot;file-io-app/src/itheima04out.txt&quot;);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// è¿½åŠ æ•°æ®çš„ç®¡é“</span></span><br><span class="line">        <span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span></span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;file-io-app/src/itheima04out.txt&quot;</span>, <span class="literal">true</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€å¼€å§‹å†™å­—èŠ‚æ•°æ®å‡ºå»äº†</span></span><br><span class="line">        os.write(<span class="number">97</span>); <span class="comment">// 97å°±æ˜¯ä¸€ä¸ªå­—èŠ‚ï¼Œä»£è¡¨a</span></span><br><span class="line">        os.write(<span class="string">&#x27;b&#x27;</span>); <span class="comment">// &#x27;b&#x27;ä¹Ÿæ˜¯ä¸€ä¸ªå­—èŠ‚</span></span><br><span class="line">        <span class="comment">// os.write(&#x27;ç£Š&#x27;); // [ooo] é»˜è®¤åªèƒ½å†™å‡ºå»ä¸€ä¸ªå­—èŠ‚</span></span><br><span class="line"></span><br><span class="line">        <span class="type">byte</span>[] bytes = <span class="string">&quot;æˆ‘çˆ±ä½ ä¸­å›½abc&quot;</span>.getBytes();</span><br><span class="line">        os.write(bytes);</span><br><span class="line"></span><br><span class="line">        os.write(bytes, <span class="number">0</span>, <span class="number">15</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ¢è¡Œç¬¦</span></span><br><span class="line">        os.write(<span class="string">&quot;\r\n&quot;</span>.getBytes());</span><br><span class="line"></span><br><span class="line">        os.close(); <span class="comment">// å…³é—­æµ</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="å­—èŠ‚æµå¤åˆ¶æ–‡ä»¶"><a href="#å­—èŠ‚æµå¤åˆ¶æ–‡ä»¶" class="headerlink" title="å­—èŠ‚æµå¤åˆ¶æ–‡ä»¶"></a>å­—èŠ‚æµå¤åˆ¶æ–‡ä»¶</h3><p>åœ¨å‰é¢å·²ç»æŠŠå­—èŠ‚è¾“å…¥æµå’Œå­—èŠ‚è¾“å‡ºæµéƒ½å­¦ä¹ å®Œäº†ã€‚ç°åœ¨æˆ‘ä»¬å°±å¯ä»¥ç”¨è¿™ä¸¤ç§æµé…åˆèµ·æ¥ä½¿ç”¨ï¼Œåšä¸€ä¸ªæ–‡ä»¶å¤åˆ¶çš„ç»¼åˆæ¡ˆä¾‹ã€‚</p>
<p>æ¯”å¦‚ï¼šæˆ‘ä»¬è¦å¤åˆ¶ä¸€å¼ å›¾ç‰‡ï¼Œä»ç£ç›˜<code>D:/resource/meinv.png</code>çš„ä¸€ä¸ªä½ç½®ï¼Œå¤åˆ¶åˆ°<code>C:/data/meinv.png</code>ä½ç½®ã€‚</p>
<p>å¤åˆ¶æ–‡ä»¶çš„æ€è·¯å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>éœ€è¦åˆ›å»ºä¸€ä¸ªFileInputStreamæµä¸æºæ–‡ä»¶æ¥é€šï¼Œåˆ›å»ºFileOutputStreamä¸ç›®æ ‡æ–‡ä»¶æ¥é€š</span><br><span class="line"><span class="number">2.</span>ç„¶ååˆ›å»ºä¸€ä¸ªæ•°ç»„ï¼Œä½¿ç”¨FileInputStreamæ¯æ¬¡è¯»å–ä¸€ä¸ªå­—èŠ‚æ•°ç»„çš„æ•°æ®ï¼Œå­˜å¦‚æ•°ç»„ä¸­</span><br><span class="line"><span class="number">3.</span>ç„¶åå†ä½¿ç”¨FileOutputStreamæŠŠå­—èŠ‚æ•°ç»„ä¸­çš„æœ‰æ•ˆå…ƒç´ ï¼Œå†™å…¥åˆ°ç›®æ ‡æ–‡ä»¶ä¸­</span><br></pre></td></tr></table></figure>


<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡ï¼šä½¿ç”¨å­—èŠ‚æµå®Œæˆå¯¹æ–‡ä»¶çš„å¤åˆ¶æ“ä½œã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CopyTest5</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">// éœ€æ±‚ï¼šå¤åˆ¶ç…§ç‰‡ã€‚</span></span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºä¸€ä¸ªå­—èŠ‚è¾“å…¥æµç®¡é“ä¸æºæ–‡ä»¶æ¥é€š</span></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;D:/resource/meinv.png&quot;</span>);</span><br><span class="line">        <span class="comment">// 2ã€åˆ›å»ºä¸€ä¸ªå­—èŠ‚è¾“å‡ºæµç®¡é“ä¸ç›®æ ‡æ–‡ä»¶æ¥é€šã€‚</span></span><br><span class="line">        <span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;C:/data/meinv.png&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="number">10</span> / <span class="number">0</span>);</span><br><span class="line">        <span class="comment">// 3ã€åˆ›å»ºä¸€ä¸ªå­—èŠ‚æ•°ç»„ï¼Œè´Ÿè´£è½¬ç§»å­—èŠ‚æ•°æ®ã€‚</span></span><br><span class="line">        <span class="type">byte</span>[] buffer = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>]; <span class="comment">// 1KB.</span></span><br><span class="line">        <span class="comment">// 4ã€ä»å­—èŠ‚è¾“å…¥æµä¸­è¯»å–å­—èŠ‚æ•°æ®ï¼Œå†™å‡ºå»åˆ°å­—èŠ‚è¾“å‡ºæµä¸­ã€‚è¯»å¤šå°‘å†™å‡ºå»å¤šå°‘ã€‚</span></span><br><span class="line">        <span class="type">int</span> len; <span class="comment">// è®°ä½æ¯æ¬¡è¯»å–äº†å¤šå°‘ä¸ªå­—èŠ‚ã€‚</span></span><br><span class="line">        <span class="keyword">while</span> ((len = is.read(buffer)) != -<span class="number">1</span>)&#123;</span><br><span class="line">            os.write(buffer, <span class="number">0</span>, len);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        os.close();</span><br><span class="line">        is.close();</span><br><span class="line">        System.out.println(<span class="string">&quot;å¤åˆ¶å®Œæˆï¼ï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="IOæµèµ„æºé‡Šæ”¾"><a href="#IOæµèµ„æºé‡Šæ”¾" class="headerlink" title="IOæµèµ„æºé‡Šæ”¾"></a>IOæµèµ„æºé‡Šæ”¾</h2><h3 id="JDK7ä»¥å‰çš„èµ„æºé‡Šæ”¾"><a href="#JDK7ä»¥å‰çš„èµ„æºé‡Šæ”¾" class="headerlink" title="JDK7ä»¥å‰çš„èµ„æºé‡Šæ”¾"></a>JDK7ä»¥å‰çš„èµ„æºé‡Šæ”¾</h3><p>åœ¨JDK7ç‰ˆæœ¬ä»¥å‰ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨tryâ€¦catchâ€¦finallyè¯­å¥æ¥å¤„ç†ã€‚æ ¼å¼å¦‚ä¸‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    <span class="comment">//æœ‰å¯èƒ½äº§ç”Ÿå¼‚å¸¸çš„ä»£ç </span></span><br><span class="line">&#125;<span class="keyword">catch</span>(å¼‚å¸¸ç±» e)&#123;</span><br><span class="line">    <span class="comment">//å¤„ç†å¼‚å¸¸çš„ä»£ç </span></span><br><span class="line">&#125;<span class="keyword">finally</span>&#123;</span><br><span class="line">    <span class="comment">//é‡Šæ”¾èµ„æºçš„ä»£ç </span></span><br><span class="line">    <span class="comment">//finallyé‡Œé¢çš„ä»£ç æœ‰ä¸€ä¸ªç‰¹ç‚¹ï¼Œä¸ç®¡å¼‚å¸¸æ˜¯å¦å‘ç”Ÿï¼Œfinallyé‡Œé¢çš„ä»£ç éƒ½ä¼šæ‰§è¡Œã€‚</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ”¹é€ ä¸Šé¢çš„ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>  &#123;</span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            System.out.println(<span class="number">10</span> / <span class="number">0</span>);</span><br><span class="line">            <span class="comment">// 1ã€åˆ›å»ºä¸€ä¸ªå­—èŠ‚è¾“å…¥æµç®¡é“ä¸æºæ–‡ä»¶æ¥é€š</span></span><br><span class="line">            is = <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;file-io-app\\src\\itheima03.txt&quot;</span>);</span><br><span class="line">            <span class="comment">// 2ã€åˆ›å»ºä¸€ä¸ªå­—èŠ‚è¾“å‡ºæµç®¡é“ä¸ç›®æ ‡æ–‡ä»¶æ¥é€šã€‚</span></span><br><span class="line">            os = <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;file-io-app\\src\\itheima03copy.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line">            System.out.println(<span class="number">10</span> / <span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 3ã€åˆ›å»ºä¸€ä¸ªå­—èŠ‚æ•°ç»„ï¼Œè´Ÿè´£è½¬ç§»å­—èŠ‚æ•°æ®ã€‚</span></span><br><span class="line">            <span class="type">byte</span>[] buffer = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>]; <span class="comment">// 1KB.</span></span><br><span class="line">            <span class="comment">// 4ã€ä»å­—èŠ‚è¾“å…¥æµä¸­è¯»å–å­—èŠ‚æ•°æ®ï¼Œå†™å‡ºå»åˆ°å­—èŠ‚è¾“å‡ºæµä¸­ã€‚è¯»å¤šå°‘å†™å‡ºå»å¤šå°‘ã€‚</span></span><br><span class="line">            <span class="type">int</span> len; <span class="comment">// è®°ä½æ¯æ¬¡è¯»å–äº†å¤šå°‘ä¸ªå­—èŠ‚ã€‚</span></span><br><span class="line">            <span class="keyword">while</span> ((len = is.read(buffer)) != -<span class="number">1</span>)&#123;</span><br><span class="line">                os.write(buffer, <span class="number">0</span>, len);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;å¤åˆ¶å®Œæˆï¼ï¼&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="comment">// é‡Šæ”¾èµ„æºçš„æ“ä½œ</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">if</span>(os != <span class="literal">null</span>) os.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">if</span>(is != <span class="literal">null</span>) is.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä»£ç å†™åˆ°è¿™é‡Œï¼Œæœ‰å¾ˆå¤šåŒå­¦å°±å·²ç»çœ‹ä¸ä¸‹å»äº†ã€‚æ˜¯çš„ï¼Œæˆ‘ä¹Ÿçœ‹ä¸ä¸‹å»ï¼Œæœ¬æ¥å‡ è¡Œä»£ç å°±å†™å®Œäº†çš„ï¼ŒåŠ ä¸Štryâ€¦catchâ€¦finallyä¹‹åä»£ç å¤šäº†åå‡ è¡Œï¼Œè€Œä¸”é˜…è¯»æ€§å¹¶ä¸é«˜ã€‚éš¾å—â€¦.</p>
<h3 id="JDK7ä»¥åçš„èµ„æºé‡Šæ”¾"><a href="#JDK7ä»¥åçš„èµ„æºé‡Šæ”¾" class="headerlink" title="JDK7ä»¥åçš„èµ„æºé‡Šæ”¾"></a>JDK7ä»¥åçš„èµ„æºé‡Šæ”¾</h3><p>åˆšæ‰å·²ç»å‘ç°äº†tryâ€¦catchâ€¦finallyå¤„ç†å¼‚å¸¸ï¼Œå¹¶é‡Šæ”¾èµ„æºä»£ç æ¯”è¾ƒç¹çã€‚Javaåœ¨JDK7ç‰ˆæœ¬ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€ç§ç®€åŒ–çš„æ˜¯å¦èµ„æºçš„æ“ä½œï¼Œå®ƒä¼šè‡ªåŠ¨æ˜¯å¦èµ„æºã€‚ä»£ç å†™èµ·æ¥ä¹Ÿæƒ³å½“ç®€å•ã€‚</p>
<p>æ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>(èµ„æºå¯¹è±¡<span class="number">1</span>; èµ„æºå¯¹è±¡<span class="number">2</span>;)&#123;</span><br><span class="line">    ä½¿ç”¨èµ„æºçš„ä»£ç </span><br><span class="line">&#125;<span class="keyword">catch</span>(å¼‚å¸¸ç±» e)&#123;</span><br><span class="line">    å¤„ç†å¼‚å¸¸çš„ä»£ç </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ³¨æ„ï¼šæ³¨æ„åˆ°æ²¡æœ‰ï¼Œè¿™é‡Œæ²¡æœ‰é‡Šæ”¾èµ„æºçš„ä»£ç ã€‚å®ƒä¼šè‡ªåŠ¨æ˜¯å¦èµ„æº</span></span><br></pre></td></tr></table></figure>

<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡ï¼šæŒæ¡é‡Šæ”¾èµ„æºçš„æ–¹å¼ï¼štry-with-resource</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>  &#123;</span><br><span class="line">    	<span class="keyword">try</span> (</span><br><span class="line">          <span class="comment">// 1ã€åˆ›å»ºä¸€ä¸ªå­—èŠ‚è¾“å…¥æµç®¡é“ä¸æºæ–‡ä»¶æ¥é€š</span></span><br><span class="line">          <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;D:/resource/meinv.png&quot;</span>);</span><br><span class="line">          <span class="comment">// 2ã€åˆ›å»ºä¸€ä¸ªå­—èŠ‚è¾“å‡ºæµç®¡é“ä¸ç›®æ ‡æ–‡ä»¶æ¥é€šã€‚</span></span><br><span class="line">          <span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;C:/data/meinv.png&quot;</span>);</span><br><span class="line">        )&#123;</span><br><span class="line">            <span class="comment">// 3ã€åˆ›å»ºä¸€ä¸ªå­—èŠ‚æ•°ç»„ï¼Œè´Ÿè´£è½¬ç§»å­—èŠ‚æ•°æ®ã€‚</span></span><br><span class="line">            <span class="type">byte</span>[] buffer = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>]; <span class="comment">// 1KB.</span></span><br><span class="line">            <span class="comment">// 4ã€ä»å­—èŠ‚è¾“å…¥æµä¸­è¯»å–å­—èŠ‚æ•°æ®ï¼Œå†™å‡ºå»åˆ°å­—èŠ‚è¾“å‡ºæµä¸­ã€‚è¯»å¤šå°‘å†™å‡ºå»å¤šå°‘ã€‚</span></span><br><span class="line">            <span class="type">int</span> len; <span class="comment">// è®°ä½æ¯æ¬¡è¯»å–äº†å¤šå°‘ä¸ªå­—èŠ‚ã€‚</span></span><br><span class="line">            <span class="keyword">while</span> ((len = is.read(buffer)) != -<span class="number">1</span>)&#123;</span><br><span class="line">                os.write(buffer, <span class="number">0</span>, len);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(conn);</span><br><span class="line">            System.out.println(<span class="string">&quot;å¤åˆ¶å®Œæˆï¼ï¼&quot;</span>);</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="å­—ç¬¦æµ"><a href="#å­—ç¬¦æµ" class="headerlink" title="å­—ç¬¦æµ"></a>å­—ç¬¦æµ</h2><p>åŒå­¦ä»¬ï¼Œå‰é¢æˆ‘ä»¬å­¦ä¹ äº†å­—èŠ‚æµï¼Œä½¿ç”¨å­—èŠ‚æµå¯ä»¥è¯»å–æ–‡ä»¶ä¸­çš„å­—èŠ‚æ•°æ®ã€‚ä½†æ˜¯å¦‚æœæ–‡ä»¶ä¸­æœ‰ä¸­æ–‡ï¼Œä½¿ç”¨å­—èŠ‚æµæ¥è¯»å–ï¼Œå°±æœ‰å¯èƒ½è¯»åˆ°åŠä¸ªæ±‰å­—çš„æƒ…å†µï¼Œè¿™æ ·ä¼šå¯¼è‡´ä¹±ç ã€‚è™½ç„¶ä½¿ç”¨è¯»å–å…¨éƒ¨å­—èŠ‚çš„æ–¹æ³•ä¸ä¼šå‡ºç°ä¹±ç ï¼Œä½†æ˜¯å¦‚æœæ–‡ä»¶è¿‡å¤§åˆä¸å¤ªåˆé€‚ã€‚</p>
<p>æ‰€ä»¥Javaä¸“é—¨ä¸ºæˆ‘ä»¬æä¾›äº†å¦å¤–ä¸€ç§æµï¼Œå«å­—ç¬¦æµï¼Œå¯ä»¥å­—ç¬¦æµæ˜¯ä¸“é—¨ä¸ºè¯»å–æ–‡æœ¬æ•°æ®è€Œç”Ÿçš„ã€‚</p>
<h3 id="FileReaderç±»"><a href="#FileReaderç±»" class="headerlink" title="FileReaderç±»"></a>FileReaderç±»</h3><p>å…ˆç±»å­¦ä¹ å­—ç¬¦æµä¸­çš„FileReaderç±»ï¼Œè¿™æ˜¯å­—ç¬¦è¾“å…¥æµï¼Œç”¨æ¥å°†æ–‡ä»¶ä¸­çš„å­—ç¬¦æ•°æ®è¯»å–åˆ°ç¨‹åºä¸­æ¥ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh90.png"></p>
<p>FileReaderè¯»å–æ–‡ä»¶çš„æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºFileReaderå¯¹è±¡ä¸è¦è¯»å–çš„æºæ–‡ä»¶æ¥é€š</span><br><span class="line">ç¬¬äºŒæ­¥ï¼šè°ƒç”¨read()æ–¹æ³•è¯»å–æ–‡ä»¶ä¸­çš„å­—ç¬¦</span><br><span class="line">ç¬¬ä¸‰æ­¥ï¼šè°ƒç”¨close()æ–¹æ³•å…³é—­æµ</span><br></pre></td></tr></table></figure>


<p>éœ€è¦ç”¨åˆ°çš„æ–¹æ³•ï¼šå…ˆé€šè¿‡æ„é€ å™¨åˆ›å»ºå¯¹è±¡ï¼Œå†é€šè¿‡readæ–¹æ³•è¯»å–æ•°æ®ï¼ˆ<strong>æ³¨æ„ï¼šä¸¤ä¸ªreadæ–¹æ³•çš„è¿”å›å€¼ï¼Œå«ä¹‰ä¸ä¸€æ ·</strong>ï¼‰</p>
<p>æ„é€ å™¨                             è¯´æ˜<br>public FileReader(File file)       åˆ›å»ºå­—ç¬¦è¾“å…¥æµç®¡é“ä¸æºæ–‡ä»¶æ¥é€š<br>public FileReader(String pathname) åˆ›å»ºå­—ç¬¦è¾“å…¥æµç®¡é“ä¸æºæ–‡ä»¶æ¥é€š</p>
<p>æ–¹æ³•åç§°                     è¯´æ˜<br>public int read()<br>æ¯æ¬¡è¯»å–ä¸€ä¸ªå­—ç¬¦è¿”å›ï¼Œå¦‚æœå‘ç°æ²¡æœ‰æ•°æ®å¯è¯»ä¼šè¿”å›-1<br>public int read(char[ ] buffer)<br>å¦‚æœå‘ç°æ²¡æœ‰æ•°æ®å¯è¯»ä¼šè¿”å›-1.æ¯æ¬¡ç”¨ä¸€ä¸ªå­—ç¬¦æ•°ç»„å»è¯»å–æ•°æ®ï¼Œè¿”å›å­—ç¬¦æ•°ç»„è¯»å–äº†å¤šå°‘ä¸ªå­—ç¬¦ï¼Œ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡ï¼šæŒæ¡æ–‡ä»¶å­—ç¬¦è¾“å…¥æµã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FileReaderTest1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>  &#123;</span><br><span class="line">        <span class="keyword">try</span> (</span><br><span class="line">                <span class="comment">// 1ã€åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å­—ç¬¦è¾“å…¥æµç®¡é“ä¸æºæ–‡ä»¶æ¥é€š</span></span><br><span class="line">                <span class="type">Reader</span> <span class="variable">fr</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="string">&quot;io-app2\\src\\itheima01.txt&quot;</span>);</span><br><span class="line">                )&#123;</span><br><span class="line">            <span class="comment">// 2ã€ä¸€ä¸ªå­—ç¬¦ä¸€ä¸ªå­—ç¬¦çš„è¯»ï¼ˆæ€§èƒ½è¾ƒå·®ï¼‰</span></span><br><span class="line"><span class="comment">//            int c; // è®°ä½æ¯æ¬¡è¯»å–çš„å­—ç¬¦ç¼–å·ã€‚</span></span><br><span class="line"><span class="comment">//            while ((c = fr.read()) != -1)&#123;</span></span><br><span class="line"><span class="comment">//                System.out.print((char) c);</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line">            <span class="comment">// æ¯æ¬¡è¯»å–ä¸€ä¸ªå­—ç¬¦çš„å½¢å¼ï¼Œæ€§èƒ½è‚¯å®šæ˜¯æ¯”è¾ƒå·®çš„ã€‚</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// 3ã€æ¯æ¬¡è¯»å–å¤šä¸ªå­—ç¬¦ã€‚ï¼ˆæ€§èƒ½æ˜¯æ¯”è¾ƒä¸é”™çš„ï¼ï¼‰</span></span><br><span class="line">            <span class="type">char</span>[] buffer = <span class="keyword">new</span> <span class="title class_">char</span>[<span class="number">3</span>];</span><br><span class="line">            <span class="type">int</span> len; <span class="comment">// è®°ä½æ¯æ¬¡è¯»å–äº†å¤šå°‘ä¸ªå­—ç¬¦ã€‚</span></span><br><span class="line">            <span class="keyword">while</span> ((len = fr.read(buffer)) != -<span class="number">1</span>)&#123;</span><br><span class="line">                <span class="comment">// è¯»å–å¤šå°‘å€’å‡ºå¤šå°‘</span></span><br><span class="line">                System.out.print(<span class="keyword">new</span> <span class="title class_">String</span>(buffer, <span class="number">0</span>, len));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="FileWriterç±»"><a href="#FileWriterç±»" class="headerlink" title="FileWriterç±»"></a>FileWriterç±»</h3><p>æˆ‘ä»¬å­¦ä¹ äº†FileReaderï¼Œå®ƒå¯ä»¥å°†æ–‡ä»¶ä¸­çš„å­—ç¬¦æ•°æ®è¯»å–åˆ°ç¨‹åºä¸­æ¥ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±è¦å­¦ä¹ FileWriteräº†ï¼Œå®ƒå¯ä»¥å°†ç¨‹åºä¸­çš„å­—ç¬¦æ•°æ®å†™å…¥æ–‡ä»¶ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh90.png"></p>
<p>FileWriterå¾€æ–‡ä»¶ä¸­å†™å­—ç¬¦æ•°æ®çš„æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºFileWirterå¯¹è±¡ä¸è¦è¯»å–çš„ç›®æ ‡æ–‡ä»¶æ¥é€š</span><br><span class="line">ç¬¬äºŒæ­¥ï¼šè°ƒç”¨write(å­—ç¬¦æ•°æ®/å­—ç¬¦æ•°ç»„/å­—ç¬¦ä¸²)æ–¹æ³•è¯»å–æ–‡ä»¶ä¸­çš„å­—ç¬¦</span><br><span class="line">ç¬¬ä¸‰æ­¥ï¼šè°ƒç”¨close()æ–¹æ³•å…³é—­æµ</span><br></pre></td></tr></table></figure>

<p>éœ€è¦ç”¨åˆ°çš„æ–¹æ³•å¦‚ä¸‹ï¼šæ„é€ å™¨æ˜¯ç”¨æ¥åˆ›å»ºFileWriterå¯¹è±¡çš„ï¼Œæœ‰äº†å¯¹è±¡æ‰èƒ½è°ƒç”¨writeæ–¹æ³•å†™æ•°æ®åˆ°æ–‡ä»¶ã€‚</p>
<p>æ„é€ å™¨                            è¯´æ˜<br>public Filewriter(File file)<br>åˆ›å»ºå­—èŠ‚è¾“å‡ºæµç®¡é“ä¸æºæ–‡ä»¶å¯¹è±¡æ¥é€š</p>
<p>public Filewriter(string filepath)<br>åˆ›å»ºå­—èŠ‚è¾“å‡ºæµç®¡é“ä¸æºæ–‡ä»¶è·¯å¾„æ¥é€š</p>
<p>public Filewriter(File fileï¼Œboolean append)<br>åˆ›å»ºå­—èŠ‚è¾“å‡ºæµç®¡é“ä¸æºæ–‡ä»¶å¯¹è±¡æ¥é€šï¼Œå¯è¿½åŠ æ•°æ®</p>
<p>public Filewriter(string filepath, boolean append)<br>åˆ›å»ºå­—èŠ‚è¾“å‡ºæµç®¡é“ä¸æºæ–‡ä»¶è·¯å¾„æ¥é€šï¼Œå¯è¿½åŠ æ•°æ®</p>
<p>æ–¹æ³•åç§°                     è¯´æ˜<br>void write(int c)           å†™ä¸€ä¸ªå­—ç¬¦<br>void write(String str)      å†™ä¸€ä¸ªå­—ç¬¦ä¸²<br>void write(String str, int off, int len)    å†™ä¸€ä¸ªå­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†<br>void write(char[]cbuf)                      å†™å…¥ä¸€ä¸ªå­—ç¬¦æ•°ç»„<br>void write(char[] cbuf, int off, jint len)  å†™å…¥å­—ç¬¦æ•°ç»„çš„ä¸€éƒ¨åˆ†</p>
<p>æ¥ä¸‹æ¥ï¼Œç”¨ä»£ç æ¼”ç¤ºä¸€ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡ï¼šæŒæ¡æ–‡ä»¶å­—ç¬¦è¾“å‡ºæµï¼šå†™å­—ç¬¦æ•°æ®å‡ºå»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FileWriterTest2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> (</span><br><span class="line">                <span class="comment">// 0ã€åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å­—ç¬¦è¾“å‡ºæµç®¡é“ä¸ç›®æ ‡æ–‡ä»¶æ¥é€šã€‚</span></span><br><span class="line">                <span class="comment">// è¦†ç›–ç®¡é“</span></span><br><span class="line">                <span class="comment">// Writer fw = new FileWriter(&quot;io-app2/src/itheima02out.txt&quot;);</span></span><br><span class="line">                <span class="comment">// è¿½åŠ æ•°æ®çš„ç®¡é“</span></span><br><span class="line">                <span class="type">Writer</span> <span class="variable">fw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="string">&quot;io-app2/src/itheima02out.txt&quot;</span>, <span class="literal">true</span>);</span><br><span class="line">                )&#123;</span><br><span class="line">            <span class="comment">// 1ã€public void write(int c):å†™ä¸€ä¸ªå­—ç¬¦å‡ºå»</span></span><br><span class="line">            fw.write(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">            fw.write(<span class="number">97</span>);</span><br><span class="line">            <span class="comment">//fw.write(&#x27;ç£Š&#x27;); // å†™ä¸€ä¸ªå­—ç¬¦å‡ºå»</span></span><br><span class="line">            fw.write(<span class="string">&quot;\r\n&quot;</span>); <span class="comment">// æ¢è¡Œ</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// 2ã€public void write(String c)å†™ä¸€ä¸ªå­—ç¬¦ä¸²å‡ºå»</span></span><br><span class="line">            fw.write(<span class="string">&quot;æˆ‘çˆ±ä½ ä¸­å›½abc&quot;</span>);</span><br><span class="line">            fw.write(<span class="string">&quot;\r\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 3ã€public void write(String c ,int pos ,int len):å†™å­—ç¬¦ä¸²çš„ä¸€éƒ¨åˆ†å‡ºå»</span></span><br><span class="line">            fw.write(<span class="string">&quot;æˆ‘çˆ±ä½ ä¸­å›½abc&quot;</span>, <span class="number">0</span>, <span class="number">5</span>);</span><br><span class="line">            fw.write(<span class="string">&quot;\r\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 4ã€public void write(char[] buffer):å†™ä¸€ä¸ªå­—ç¬¦æ•°ç»„å‡ºå»</span></span><br><span class="line">            <span class="type">char</span>[] buffer = &#123;<span class="string">&#x27;é»‘&#x27;</span>, <span class="string">&#x27;é©¬&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>&#125;;</span><br><span class="line">            fw.write(buffer);</span><br><span class="line">            fw.write(<span class="string">&quot;\r\n&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 5ã€public void write(char[] buffer ,int pos ,int len):å†™å­—ç¬¦æ•°ç»„çš„ä¸€éƒ¨åˆ†å‡ºå»</span></span><br><span class="line">            fw.write(buffer, <span class="number">0</span>, <span class="number">2</span>);</span><br><span class="line">            fw.write(<span class="string">&quot;\r\n&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="FileWriterå†™çš„æ³¨æ„äº‹é¡¹"><a href="#FileWriterå†™çš„æ³¨æ„äº‹é¡¹" class="headerlink" title="FileWriterå†™çš„æ³¨æ„äº‹é¡¹"></a>FileWriterå†™çš„æ³¨æ„äº‹é¡¹</h3><p>å„ä½åŒå­¦ï¼Œåˆšæ‰æˆ‘ä»¬å·²ç»å­¦ä¹ äº†FileWriterå­—ç¬¦è¾“å‡ºæµçš„åŸºæœ¬ä½¿ç”¨ã€‚ä½†æ˜¯ï¼Œè¿™é‡Œæœ‰ä¸€ä¸ªå°é—®é¢˜éœ€è¦å’ŒåŒå­¦ä»¬è¯´ä¸‹ä¸€ï¼š<strong>FileWriterå†™å®Œæ•°æ®ä¹‹åï¼Œå¿…é¡»åˆ·æ–°æˆ–è€…å…³é—­ï¼Œå†™å‡ºå»çš„æ•°æ®æ‰èƒ½ç”Ÿæ•ˆã€‚</strong></p>
<p>æ¯”å¦‚ï¼šä¸‹é¢çš„ä»£ç åªè°ƒç”¨äº†å†™æ•°æ®çš„æ–¹æ³•ï¼Œæ²¡æœ‰å…³æµçš„æ–¹æ³•ã€‚å½“ä½ æ‰“å¼€ç›®æ ‡æ–‡ä»¶æ—¶ï¼Œæ˜¯çœ‹ä¸åˆ°ä»»ä½•æ•°æ®çš„ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.åˆ›å»ºFileWriterå¯¹è±¡</span></span><br><span class="line"><span class="type">Writer</span> <span class="variable">fw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="string">&quot;io-app2/src/itheima03out.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.å†™å­—ç¬¦æ•°æ®å‡ºå»</span></span><br><span class="line">fw.write(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">fw.write(<span class="string">&#x27;b&#x27;</span>);</span><br><span class="line">fw.write(<span class="string">&#x27;c&#x27;</span>);</span><br></pre></td></tr></table></figure>

<p>è€Œä¸‹é¢çš„ä»£ç ï¼ŒåŠ ä¸Šäº†flush()æ–¹æ³•ä¹‹åï¼Œæ•°æ®å°±ä¼šç«‹å³åˆ°ç›®æ ‡æ–‡ä»¶ä¸­å»ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.åˆ›å»ºFileWriterå¯¹è±¡</span></span><br><span class="line"><span class="type">Writer</span> <span class="variable">fw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="string">&quot;io-app2/src/itheima03out.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.å†™å­—ç¬¦æ•°æ®å‡ºå»</span></span><br><span class="line">fw.write(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">fw.write(<span class="string">&#x27;b&#x27;</span>);</span><br><span class="line">fw.write(<span class="string">&#x27;c&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//3.åˆ·æ–°</span></span><br><span class="line">fw.flush(); </span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢çš„ä»£ç ï¼Œè°ƒç”¨äº†close()æ–¹æ³•ï¼Œæ•°æ®ä¹Ÿä¼šç«‹å³åˆ°æ–‡ä»¶ä¸­å»ã€‚å› ä¸ºclose()æ–¹æ³•åœ¨å…³é—­æµä¹‹å‰ï¼Œä¼šå°†å†…å­˜ä¸­ç¼“å­˜çš„æ•°æ®å…ˆåˆ·æ–°åˆ°æ–‡ä»¶ï¼Œå†å…³æµã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.åˆ›å»ºFileWriterå¯¹è±¡</span></span><br><span class="line"><span class="type">Writer</span> <span class="variable">fw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="string">&quot;io-app2/src/itheima03out.txt&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.å†™å­—ç¬¦æ•°æ®å‡ºå»</span></span><br><span class="line">fw.write(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">fw.write(<span class="string">&#x27;b&#x27;</span>);</span><br><span class="line">fw.write(<span class="string">&#x27;c&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//3.å…³é—­æµ</span></span><br><span class="line">fw.close(); <span class="comment">//ä¼šå…ˆåˆ·æ–°ï¼Œå†å…³æµ</span></span><br></pre></td></tr></table></figure>

<p>ä½†æ˜¯éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå…³é—­æµä¹‹åï¼Œå°±ä¸èƒ½åœ¨å¯¹æµè¿›è¡Œæ“ä½œäº†ã€‚å¦åˆ™ä¼šå‡ºå¼‚å¸¸</p>
<h2 id="ç¼“å†²æµ"><a href="#ç¼“å†²æµ" class="headerlink" title="ç¼“å†²æµ"></a>ç¼“å†²æµ</h2><p>å­¦ä¹ å®Œå­—ç¬¦æµä¹‹åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å­¦ä¹ ä¸€ä¸‹ç¼“å†²æµã€‚æˆ‘ä»¬è¿˜æ˜¯å…ˆæ¥è®¤è¯†ä¸€ä¸‹ç¼“å­˜æµï¼Œå†æ¥è¯´ä¸€ä¸‹å®ƒçš„ä½œç”¨ã€‚ç¼“å†²æµæœ‰å››ç§ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh91.png"></p>
<p><strong>ç¼“å†²æµçš„ä½œç”¨</strong>ï¼šå¯ä»¥å¯¹åŸå§‹æµè¿›è¡ŒåŒ…è£…ï¼Œæé«˜åŸå§‹æµè¯»å†™æ•°æ®çš„æ€§èƒ½ã€‚</p>
<h3 id="ç¼“å†²å­—èŠ‚æµ"><a href="#ç¼“å†²å­—èŠ‚æµ" class="headerlink" title="ç¼“å†²å­—èŠ‚æµ"></a>ç¼“å†²å­—èŠ‚æµ</h3><p>æˆ‘ä»¬å…ˆæ¥å­¦ä¹ å­—èŠ‚ç¼“å†²æµæ˜¯å¦‚ä½•æé«˜è¯»å†™æ•°æ®çš„æ€§èƒ½çš„ï¼ŒåŸç†å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚æ˜¯å› ä¸ºåœ¨ç¼“å†²æµçš„åº•å±‚è‡ªå·±å°è£…äº†ä¸€ä¸ªé•¿åº¦ä¸º8KBï¼ˆ8129byteï¼‰çš„å­—èŠ‚æ•°ç»„ï¼Œä½†æ˜¯ç¼“å†²æµä¸èƒ½å•ç‹¬ä½¿ç”¨ï¼Œå®ƒéœ€è¦ä¾èµ–äºåŸå§‹æµã€‚</p>
<ul>
<li><strong>è¯»æ•°æ®æ—¶ï¼š</strong>å®ƒå…ˆç”¨åŸå§‹å­—èŠ‚è¾“å…¥æµä¸€æ¬¡æ€§è¯»å–8KBçš„æ•°æ®å­˜å…¥ç¼“å†²æµå†…éƒ¨çš„æ•°ç»„ä¸­ï¼ˆps: å…ˆä¸€æ¬¡å¤šå›¤ç‚¹è´§ï¼‰ï¼Œå†ä»8KBçš„å­—èŠ‚æ•°ç»„ä¸­è¯»å–ä¸€ä¸ªå­—èŠ‚æˆ–è€…å¤šä¸ªå­—èŠ‚ï¼ˆæŠŠæ¶ˆè€—å±¯çš„è´§ï¼‰ã€‚</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh92.png"></p>
<ul>
<li><strong>å†™æ•°æ®æ—¶ï¼š</strong> å®ƒæ˜¯å…ˆæŠŠæ•°æ®å†™åˆ°ç¼“å†²æµå†…éƒ¨çš„8BKçš„æ•°ç»„ä¸­ï¼ˆps: å…ˆæ”’ä¸€è½¦è´§ï¼‰ï¼Œç­‰æ•°ç»„å­˜æ»¡äº†ï¼Œå†é€šè¿‡åŸå§‹çš„å­—èŠ‚è¾“å‡ºæµï¼Œä¸€æ¬¡æ€§å†™åˆ°ç›®æ ‡æ–‡ä»¶ä¸­å»ï¼ˆæŠŠå›¤å¥½çš„è´§ï¼Œä¸€æ¬¡æ€§è¿èµ°ï¼‰ã€‚</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh93.png"></p>
<p>åœ¨åˆ›å»ºç¼“å†²å­—èŠ‚æµå¯¹è±¡æ—¶ï¼Œéœ€è¦å°è£…ä¸€ä¸ªåŸå§‹æµå¯¹è±¡è¿›æ¥ã€‚æ„é€ æ–¹æ³•å¦‚ä¸‹</p>
<p>æ„é€ å™¨                 è¯´æ˜<br>public BufferedInputStream(InputStream is)<br>æŠŠä½çº§çš„å­—èŠ‚è¾“å…¥æµåŒ…è£…æˆä¸€ä¸ªé«˜çº§çš„ç¼“å†²å­—èŠ‚è¾“å…¥æµï¼Œä»è€Œæé«˜è¯»æ•°æ®çš„æ€§èƒ½</p>
<p>public BufferedOutputStream(OutputStream os)<br>æŠŠä½çº§çš„å­—èŠ‚è¾“å‡ºæµåŒ…è£…æˆä¸€ä¸ªé«˜çº§çš„ç¼“å†²å­—èŠ‚è¾“å‡ºæµï¼Œä»è€Œæé«˜å†™æ•°æ®çš„æ€§èƒ½</p>
<p>å¦‚æœæˆ‘ä»¬ç”¨ç¼“å†²æµå¤åˆ¶æ–‡ä»¶ï¼Œä»£ç å†™æ³•å¦‚ä¸‹:</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BufferedInputStreamTest1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> (</span><br><span class="line">                <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;io-app2/src/itheima01.txt&quot;</span>);</span><br><span class="line">                <span class="comment">// 1ã€å®šä¹‰ä¸€ä¸ªå­—èŠ‚ç¼“å†²è¾“å…¥æµåŒ…è£…åŸå§‹çš„å­—èŠ‚è¾“å…¥æµ</span></span><br><span class="line">                <span class="type">InputStream</span> <span class="variable">bis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedInputStream</span>(is);</span><br><span class="line"></span><br><span class="line">                <span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;io-app2/src/itheima01_bak.txt&quot;</span>);</span><br><span class="line">                <span class="comment">// 2ã€å®šä¹‰ä¸€ä¸ªå­—èŠ‚ç¼“å†²è¾“å‡ºæµåŒ…è£…åŸå§‹çš„å­—èŠ‚è¾“å‡ºæµ</span></span><br><span class="line">                <span class="type">OutputStream</span> <span class="variable">bos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedOutputStream</span>(os);</span><br><span class="line">        )&#123;</span><br><span class="line"></span><br><span class="line">            <span class="type">byte</span>[] buffer = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">            <span class="type">int</span> len;</span><br><span class="line">            <span class="keyword">while</span> ((len = bis.read(buffer)) != -<span class="number">1</span>)&#123;</span><br><span class="line">                bos.write(buffer, <span class="number">0</span>, len);</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;å¤åˆ¶å®Œæˆï¼ï¼&quot;</span>);</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h3 id="2-2-å­—ç¬¦ç¼“å†²æµ"><a href="#2-2-å­—ç¬¦ç¼“å†²æµ" class="headerlink" title="2.2 å­—ç¬¦ç¼“å†²æµ"></a>2.2 å­—ç¬¦ç¼“å†²æµ</h3><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å­¦ä¹ å¦å¤–ä¸¤ä¸ªç¼“å†²æµâ€”â€”å­—ç¬¦ç¼“å†²æµã€‚å®ƒçš„åŸç†å’Œå­—èŠ‚ç¼“å†²æµæ˜¯ç±»ä¼¼çš„ï¼Œå®ƒåº•å±‚ä¹Ÿä¼šæœ‰ä¸€ä¸ª8KBçš„æ•°ç»„ï¼Œä½†æ˜¯è¿™é‡Œæ˜¯å­—ç¬¦æ•°ç»„ã€‚å­—ç¬¦ç¼“å†²æµä¹Ÿä¸èƒ½å•ç‹¬ä½¿ç”¨ï¼Œå®ƒéœ€è¦ä¾èµ–äºåŸå§‹å­—ç¬¦æµä¸€èµ·ä½¿ç”¨ã€‚</p>
<ul>
<li><strong>BufferedReaderè¯»æ•°æ®æ—¶ï¼š</strong>å®ƒå…ˆåŸå§‹å­—ç¬¦è¾“å…¥æµä¸€æ¬¡æ€§è¯»å–8KBçš„æ•°æ®å­˜å…¥ç¼“å†²æµå†…éƒ¨çš„æ•°ç»„ä¸­ï¼ˆps: å…ˆä¸€æ¬¡å¤šå›¤ç‚¹è´§ï¼‰ï¼Œå†ä»8KBçš„å­—ç¬¦æ•°ç»„ä¸­è¯»å–ä¸€ä¸ªå­—ç¬¦æˆ–è€…å¤šä¸ªå­—ç¬¦ï¼ˆæŠŠæ¶ˆè€—å±¯çš„è´§ï¼‰ã€‚</li>
</ul>
<p>åˆ›å»ºBufferedReaderå¯¹è±¡éœ€è¦ç”¨åˆ°BufferedReaderçš„æ„é€ æ–¹æ³•ï¼Œå†…éƒ¨éœ€è¦å°è£…ä¸€ä¸ªåŸå§‹çš„å­—ç¬¦è¾“å…¥æµï¼Œæˆ‘ä»¬å¯ä»¥ä¼ å…¥FileReader.</p>
<p>æ„é€ å™¨               è¯´æ˜<br>public BufferedReader(Reader n)<br>æŠŠä½çº§çš„å­—ç¬¦è¾“å…¥æµåŒ…è£…æˆå­—ç¬¦ç¼“å†²è¾“å…¥æµç®¡é“ï¼Œä»è€Œæé«˜å­—ç¬¦è¾“å…¥æµè¯»å­—ç¬¦æ•°æ®çš„æ€§èƒ½</p>
<p>è€Œä¸”BufferedReaderè¿˜è¦ç‰¹æœ‰çš„æ–¹æ³•ï¼Œä¸€æ¬¡å¯ä»¥è¯»å–æ–‡æœ¬æ–‡ä»¶ä¸­çš„ä¸€è¡Œ</p>
<p>æ–¹æ³•            è¯´æ˜<br>public string readLine()<br>è¯»å–ä¸€è¡Œæ•°æ®è¿”å›ï¼Œå¦‚æœæ²¡æœ‰æ•°æ®å¯è¯»äº†ï¼Œä¼šè¿”å›null</p>
<p>ä½¿ç”¨BufferedReaderè¯»å–æ•°æ®çš„ä»£ç å¦‚ä¸‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BufferedReaderTest2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>  &#123;</span><br><span class="line">        <span class="keyword">try</span> (</span><br><span class="line">                <span class="type">Reader</span> <span class="variable">fr</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="string">&quot;io-app2\\src\\itheima04.txt&quot;</span>);</span><br><span class="line">                <span class="comment">// åˆ›å»ºä¸€ä¸ªå­—ç¬¦ç¼“å†²è¾“å…¥æµåŒ…è£…åŸå§‹çš„å­—ç¬¦è¾“å…¥æµ</span></span><br><span class="line">                <span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(fr);</span><br><span class="line">        )&#123;</span><br><span class="line"><span class="comment">//            char[] buffer = new char[3];</span></span><br><span class="line"><span class="comment">//            int len;</span></span><br><span class="line"><span class="comment">//            while ((len = br.read(buffer)) != -1)&#123;</span></span><br><span class="line"><span class="comment">//                System.out.print(new String(buffer, 0, len));</span></span><br><span class="line"><span class="comment">//            &#125;</span></span><br><span class="line"><span class="comment">//            System.out.println(br.readLine());</span></span><br><span class="line"><span class="comment">//            System.out.println(br.readLine());</span></span><br><span class="line"><span class="comment">//            System.out.println(br.readLine());</span></span><br><span class="line"><span class="comment">//            System.out.println(br.readLine());</span></span><br><span class="line"></span><br><span class="line">            String line; <span class="comment">// è®°ä½æ¯æ¬¡è¯»å–çš„ä¸€è¡Œæ•°æ®</span></span><br><span class="line">            <span class="keyword">while</span> ((line = br.readLine()) != <span class="literal">null</span>)&#123;</span><br><span class="line">                System.out.println(line);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<ul>
<li><strong>BufferedWriterå†™æ•°æ®æ—¶ï¼š</strong> å®ƒæ˜¯å…ˆæŠŠæ•°æ®å†™åˆ°å­—ç¬¦ç¼“å†²æµå†…éƒ¨çš„8BKçš„æ•°ç»„ä¸­ï¼ˆps: å…ˆæ”’ä¸€è½¦è´§ï¼‰ï¼Œç­‰æ•°ç»„å­˜æ»¡äº†ï¼Œå†é€šè¿‡åŸå§‹çš„å­—ç¬¦è¾“å‡ºæµï¼Œä¸€æ¬¡æ€§å†™åˆ°ç›®æ ‡æ–‡ä»¶ä¸­å»ï¼ˆæŠŠå›¤å¥½çš„è´§ï¼Œä¸€æ¬¡æ€§è¿èµ°ï¼‰ã€‚å¦‚ä¸‹å›¾æ‰€ç¤º</li>
</ul>
<p>åˆ›å»ºBufferedWriterå¯¹è±¡æ—¶éœ€è¦ç”¨åˆ°BufferedWriterçš„æ„é€ æ–¹æ³•ï¼Œè€Œä¸”å†…éƒ¨éœ€è¦å°è£…ä¸€ä¸ªåŸå§‹çš„å­—ç¬¦è¾“å‡ºæµï¼Œæˆ‘ä»¬è¿™é‡Œå¯ä»¥ä¼ é€’FileWriterã€‚</p>
<p>æ„é€ å™¨                    è¯´æ˜<br>public BufferedWriter(Writer r)<br>æŠŠä½çº§çš„å­—ç¬¦è¾“å‡ºæµåŒ…è£…æˆä¸€ä¸ªé«˜çº§çš„ç¼“å†²å­—ç¬¦è¾“å‡ºæµç®¡é“ï¼Œä»è€Œæé«˜å­—ç¬¦è¾“å‡ºæµå†™æ•°æ®çš„æ€§èƒ½</p>
<p>è€Œä¸”BufferedWriteræ–°å¢äº†ä¸€ä¸ªåŠŸèƒ½ï¼Œå¯ä»¥ç”¨æ¥å†™ä¸€ä¸ªæ¢è¡Œç¬¦</p>
<p>æ–¹æ³•                    è¯´æ˜<br>public void newLine()   æ¢è¡Œ</p>
<p>æ¥ä¸‹æ¥ï¼Œç”¨ä»£ç æ¼”ç¤ºä¸€ä¸‹ï¼Œä½¿ç”¨BufferedWriterå¾€æ–‡ä»¶ä¸­å†™å…¥å­—ç¬¦æ•°æ®ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BufferedWriterTest3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> (</span><br><span class="line">                <span class="type">Writer</span> <span class="variable">fw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="string">&quot;io-app2/src/itheima05out.txt&quot;</span>, <span class="literal">true</span>);</span><br><span class="line">                <span class="comment">// åˆ›å»ºä¸€ä¸ªå­—ç¬¦ç¼“å†²è¾“å‡ºæµç®¡é“åŒ…è£…åŸå§‹çš„å­—ç¬¦è¾“å‡ºæµ</span></span><br><span class="line">                <span class="type">BufferedWriter</span> <span class="variable">bw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedWriter</span>(fw);</span><br><span class="line">        )&#123;</span><br><span class="line"></span><br><span class="line">            bw.write(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">            bw.write(<span class="number">97</span>);</span><br><span class="line">            bw.write(<span class="string">&#x27;ç£Š&#x27;</span>);</span><br><span class="line">            bw.newLine();</span><br><span class="line"></span><br><span class="line">            bw.write(<span class="string">&quot;æˆ‘çˆ±ä½ ä¸­å›½abc&quot;</span>);</span><br><span class="line">            bw.newLine();</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="ç¼“å†²æµæ€§èƒ½åˆ†æ"><a href="#ç¼“å†²æµæ€§èƒ½åˆ†æ" class="headerlink" title="ç¼“å†²æµæ€§èƒ½åˆ†æ"></a>ç¼“å†²æµæ€§èƒ½åˆ†æ</h3><p>æˆ‘ä»¬è¯´ç¼“å†²æµå†…éƒ¨å¤šäº†ä¸€ä¸ªæ•°ç»„ï¼Œå¯ä»¥æé«˜åŸå§‹æµçš„è¯»å†™æ€§èƒ½ã€‚è®²åˆ°è¿™ä¸€å®šæœ‰åŒå­¦æœ‰è¿™ä¹ˆä¸€ä¸ªç–‘é—®ï¼Œå®ƒå’Œæˆ‘ä»¬ä½¿ç”¨åŸå§‹æµï¼Œè‡ªå·±åŠ ä¸€ä¸ª8BKæ•°ç»„ä¸æ˜¯ä¸€æ ·çš„å—ï¼Ÿ ç¼“å†²æµå°±ä¸€å®šèƒ½æé«˜æ€§èƒ½å—ï¼Ÿå…ˆå‘Šè¯‰åŒå­¦ä»¬ç­”æ¡ˆï¼Œ<strong>ç¼“å†²æµä¸ä¸€å®šèƒ½æé«˜æ€§èƒ½</strong>ã€‚</p>
<blockquote>
<p>ä¸‹é¢æˆ‘ä»¬ç”¨ä¸€ä¸ªæ¯”è¾ƒå¤§æ–‡ä»¶ï¼ˆ889MBï¼‰å¤åˆ¶ï¼Œåšæ€§èƒ½æµ‹è¯•ï¼Œåˆ†åˆ«ä½¿ç”¨ä¸‹é¢å››ç§æ–¹å¼æ¥å®Œæˆæ–‡ä»¶å¤åˆ¶ï¼Œå¹¶è®°å½•æ–‡ä»¶å¤åˆ¶çš„æ—¶é—´ã€‚</p>
</blockquote>
<p>â‘  ä½¿ç”¨ä½çº§æµä¸€ä¸ªå­—èŠ‚ä¸€ä¸ªå­—èŠ‚çš„å¤åˆ¶</p>
<p>â‘¡ ä½¿ç”¨ä½çº§æµæŒ‰ç…§å­—èŠ‚æ•°ç»„çš„å½¢å¼å¤åˆ¶</p>
<p>â‘¢ ä½¿ç”¨ç¼“å†²æµä¸€ä¸ªå­—èŠ‚ä¸€ä¸ªå­—èŠ‚çš„å¤åˆ¶</p>
<p>â‘£ ä½¿ç”¨ç¼“å†²æµæŒ‰ç…§å­—èŠ‚æ•°ç»„çš„å½¢å¼å¤åˆ¶</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ä½çº§æµä¸€ä¸ªå­—èŠ‚å¤åˆ¶: æ…¢å¾—ç®€ç›´è®©äººæ— æ³•å¿å—</span><br><span class="line">ä½çº§æµæŒ‰ç…§å­—èŠ‚æ•°ç»„å¤åˆ¶(æ•°ç»„é•¿åº¦<span class="number">1024</span>): <span class="number">12.</span>117s</span><br><span class="line">ç¼“å†²æµä¸€ä¸ªå­—èŠ‚å¤åˆ¶: <span class="number">11.</span>058s</span><br><span class="line">ç¼“å†²æµæŒ‰ç…§å­—èŠ‚æ•°ç»„å¤åˆ¶(æ•°ç»„é•¿åº¦<span class="number">1024</span>): <span class="number">2.</span>163s</span><br><span class="line">ã€æ³¨æ„ï¼šè¿™é‡Œçš„æµ‹è¯•åªèƒ½åšä¸€ä¸ªå‚è€ƒï¼Œå’Œç”µè„‘æ€§èƒ½ä¹Ÿæœ‰ç›´æ¥å…³ç³»ã€‘</span><br></pre></td></tr></table></figure>

<p>ç»è¿‡ä¸Šé¢çš„æµ‹è¯•ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºä¸€ä¸ªç»“è®ºï¼š<strong>é»˜è®¤æƒ…å†µä¸‹ï¼Œé‡‡ç”¨ä¸€æ¬¡å¤åˆ¶1024ä¸ªå­—èŠ‚ï¼Œç¼“å†²æµå®Œèƒœã€‚</strong></p>
<blockquote>
<p>ä½†æ˜¯ï¼Œç¼“å†²æµå°±ä¸€å®šæ€§èƒ½é«˜å—ï¼Ÿæˆ‘ä»¬é‡‡ç”¨ä¸€æ¬¡å¤åˆ¶8192ä¸ªå­—èŠ‚è¯•è¯•</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ä½çº§æµæŒ‰ç…§å­—èŠ‚æ•°ç»„å¤åˆ¶(æ•°ç»„é•¿åº¦<span class="number">8192</span>): <span class="number">2.</span>535s</span><br><span class="line">ç¼“å†²æµæŒ‰ç…§å­—èŠ‚æ•°ç»„å¤åˆ¶(æ•°ç»„é•¿åº¦<span class="number">8192</span>): <span class="number">2.</span>088s</span><br></pre></td></tr></table></figure>

<p>ç»è¿‡ä¸Šé¢çš„æµ‹è¯•ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºä¸€ä¸ªç»“è®ºï¼š<strong>ä¸€æ¬¡è¯»å–8192ä¸ªå­—èŠ‚æ—¶ï¼Œä½çº§æµå’Œç¼“å†²æµæ€§èƒ½ç›¸å½“ã€‚</strong>ç›¸å·®çš„é‚£å‡ æ¯«ç§’å¯ä»¥å¿½ç•¥ä¸è®¡ã€‚</p>
<blockquote>
<p>ç»§ç»­æŠŠæ•°ç»„å˜å¤§ï¼Œçœ‹ä¸€çœ‹ç¼“å†²æµå°±ä¸€å®šæ€§èƒ½é«˜å—ï¼Ÿç°åœ¨é‡‡ç”¨ä¸€æ¬¡è¯»å–1024*32ä¸ªå­—èŠ‚æ•°æ®è¯•è¯•</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ä½çº§æµæŒ‰ç…§å­—èŠ‚æ•°ç»„å¤åˆ¶(æ•°ç»„é•¿åº¦<span class="number">8192</span>): <span class="number">1.</span>128s</span><br><span class="line">ç¼“å†²æµæŒ‰ç…§å­—èŠ‚æ•°ç»„å¤åˆ¶(æ•°ç»„é•¿åº¦<span class="number">8192</span>): <span class="number">1.</span>133s</span><br></pre></td></tr></table></figure>

<p>ç»è¿‡ä¸Šé¢çš„æµ‹è¯•ï¼Œæˆ‘ä»¬å¯ä»¥å¾—å‡ºä¸€ä¸ªç»“è®ºï¼š<strong>æ•°ç»„è¶Šå¤§æ€§èƒ½è¶Šé«˜ï¼Œä½çº§æµå’Œç¼“å†²æµæ€§èƒ½ç›¸å½“ã€‚</strong>ç›¸å·®çš„é‚£å‡ ç§’å¯ä»¥å¿½ç•¥ä¸è®¡ã€‚</p>
<blockquote>
<p>ç»§ç»­æŠŠæ•°ç»„å˜å¤§ï¼Œçœ‹ä¸€çœ‹ç¼“å†²æµå°±ä¸€å®šæ€§èƒ½é«˜å—ï¼Ÿç°åœ¨é‡‡ç”¨ä¸€æ¬¡è¯»å–1024*6ä¸ªå­—èŠ‚æ•°æ®è¯•è¯•</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ä½çº§æµæŒ‰ç…§å­—èŠ‚æ•°ç»„å¤åˆ¶(æ•°ç»„é•¿åº¦<span class="number">8192</span>): <span class="number">1.</span>039s</span><br><span class="line">ç¼“å†²æµæŒ‰ç…§å­—èŠ‚æ•°ç»„å¤åˆ¶(æ•°ç»„é•¿åº¦<span class="number">8192</span>): <span class="number">1.</span>151s</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶ä½ ä¼šå‘ç°ï¼Œå½“æ•°ç»„å¤§åˆ°ä¸€å®šç¨‹åº¦ï¼Œæ€§èƒ½å·²ç»æé«˜äº†å¤šå°‘äº†ï¼Œç”šè‡³ç¼“å†²æµçš„æ€§èƒ½è¿˜æ²¡æœ‰ä½çº§æµé«˜ã€‚</p>
<p>æœ€ç»ˆæ€»ç»“ä¸€ä¸‹ï¼š<strong>ç¼“å†²æµçš„æ€§èƒ½ä¸ä¸€å®šæ¯”ä½çº§æµé«˜ï¼Œå…¶å®ä½çº§æµè‡ªå·±åŠ ä¸€ä¸ªæ•°ç»„ï¼Œæ€§èƒ½å…¶å®æ˜¯ä¸å·®ã€‚</strong>åªä¸è¿‡ç¼“å†²æµå¸®ä½ åŠ äº†ä¸€ä¸ªç›¸å¯¹è€Œè¨€å¤§å°æ¯”è¾ƒåˆç†çš„æ•°ç»„ ã€‚</p>
<h2 id="ä¸‰ã€è½¬æ¢æµ"><a href="#ä¸‰ã€è½¬æ¢æµ" class="headerlink" title="ä¸‰ã€è½¬æ¢æµ"></a>ä¸‰ã€è½¬æ¢æµ</h2><p>å‰é¢æˆ‘ä»¬å­¦ä¹ è¿‡FileReaderè¯»å–æ–‡ä»¶ä¸­çš„å­—ç¬¦ï¼Œä½†æ˜¯åŒå­¦ä»¬æ³¨æ„äº†ï¼ŒFileReaderé»˜è®¤åªèƒ½è¯»å–UTF-8ç¼–ç æ ¼å¼çš„æ–‡ä»¶ã€‚å¦‚æœä½¿ç”¨FileReaderè¯»å–GBKæ ¼å¼çš„æ–‡ä»¶ï¼Œå¯èƒ½å­˜åœ¨ä¹±ç ï¼Œå› ä¸ºFileReaderå®ƒé‡åˆ°æ±‰å­—é»˜è®¤æ˜¯æŒ‰ç…§3ä¸ªå­—èŠ‚æ¥è¯»å–çš„ï¼Œè€ŒGBKæ ¼å¼çš„æ–‡ä»¶ä¸€ä¸ªæ±‰å­—æ˜¯å 2ä¸ªå­—èŠ‚ï¼Œè¿™æ ·å°±ä¼šå¯¼è‡´ä¹±ç ã€‚</p>
<p>Javaç»™æˆ‘ä»¬æä¾›äº†å¦å¤–ä¸¤ç§æµInputStreamReaderï¼ŒOutputStreamWriterï¼Œè¿™ä¸¤ä¸ªæµæˆ‘ä»¬æŠŠå®ƒå«åšè½¬æ¢æµã€‚å®ƒä»¬å¯ä»¥å°†å­—èŠ‚æµè½¬æ¢ä¸ºå­—ç¬¦æµï¼Œå¹¶ä¸”å¯ä»¥æŒ‡å®šç¼–ç æ–¹æ¡ˆã€‚</p>
<h3 id="InputStreamReaderç±»"><a href="#InputStreamReaderç±»" class="headerlink" title="InputStreamReaderç±»"></a>InputStreamReaderç±»</h3><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å…ˆå­¦ä¹ InputStreamReaderç±»ï¼Œä½ çœ‹è¿™ä¸ªç±»åå°±æ¯”è¾ƒæœ‰æ„æ€ï¼Œå‰é¢æ˜¯InputStreamè¡¨ç¤ºå­—èŠ‚è¾“å…¥æµï¼Œåé¢æ˜¯Readerè¡¨ç¤ºå­—ç¬¦è¾“å…¥æµï¼Œåˆåœ¨ä¸€èµ·æ„æ€å°±æ˜¯è¡¨ç¤ºå¯ä»¥æŠŠInputStreamè½¬æ¢ä¸ºReaderï¼Œæœ€ç»ˆInputStreamReaderå…¶å®ä¹Ÿæ˜¯Readerçš„å­ç±»ï¼Œæ‰€ä»¥ä¹Ÿç®—æ˜¯å­—ç¬¦è¾“å…¥æµã€‚</p>
<p>InputStreamReaderä¹Ÿæ˜¯ä¸èƒ½å•ç‹¬ä½¿ç”¨çš„ï¼Œå®ƒå†…éƒ¨éœ€è¦å°è£…ä¸€ä¸ªInputStreamçš„å­ç±»å¯¹è±¡ï¼Œå†æŒ‡å®šä¸€ä¸ªç¼–ç è¡¨ï¼Œå¦‚æœä¸æŒ‡å®šç¼–ç è¡¨ï¼Œé»˜è®¤ä¼šæŒ‰ç…§UTF-8å½¢å¼è¿›è¡Œè½¬æ¢ã€‚</p>
<blockquote>
<p>éœ€æ±‚ï¼šæˆ‘ä»¬å¯ä»¥å…ˆå‡†å¤‡ä¸€ä¸ªGBKæ ¼å¼çš„æ–‡ä»¶ï¼Œç„¶åä½¿ç”¨ä¸‹é¢çš„ä»£ç è¿›è¡Œè¯»å–ï¼Œçœ‹æ˜¯æ˜¯å¦æœ‰ä¹±ç ã€‚</p>
</blockquote>
<p>1åºŠå‰æ˜æœˆå…‰c<br>2ç–‘æ˜¯åœ°ä¸Šéœœb<br>3ä½å¤´æ€å§‘å¨˜a<br>abcde<br>GBKæ ¼å¼</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">InputStreamReaderTest2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> (</span><br><span class="line">                <span class="comment">// 1ã€å¾—åˆ°æ–‡ä»¶çš„åŸå§‹å­—èŠ‚æµï¼ˆGBKçš„å­—èŠ‚æµå½¢å¼ï¼‰</span></span><br><span class="line">                <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;io-app2/src/itheima06.txt&quot;</span>);</span><br><span class="line">                <span class="comment">// 2ã€æŠŠåŸå§‹çš„å­—èŠ‚è¾“å…¥æµæŒ‰ç…§æŒ‡å®šçš„å­—ç¬¦é›†ç¼–ç è½¬æ¢æˆå­—ç¬¦è¾“å…¥æµ</span></span><br><span class="line">                <span class="type">Reader</span> <span class="variable">isr</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(is, <span class="string">&quot;GBK&quot;</span>);</span><br><span class="line">                <span class="comment">// 3ã€æŠŠå­—ç¬¦è¾“å…¥æµåŒ…è£…æˆç¼“å†²å­—ç¬¦è¾“å…¥æµ</span></span><br><span class="line">                <span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(isr);</span><br><span class="line">                )&#123;</span><br><span class="line">            String line;</span><br><span class="line">            <span class="keyword">while</span> ((line = br.readLine()) != <span class="literal">null</span>)&#123;</span><br><span class="line">                System.out.println(line);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œå®Œä¹‹åï¼Œä½ ä¼šå‘ç°æ²¡æœ‰ä¹±ç ã€‚</p>
<h3 id="OutputStreamWriterç±»"><a href="#OutputStreamWriterç±»" class="headerlink" title="OutputStreamWriterç±»"></a>OutputStreamWriterç±»</h3><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å…ˆå­¦ä¹ OutputStreamWriterç±»ï¼Œä½ çœ‹è¿™ä¸ªç±»åä¹Ÿæ¯”è¾ƒæœ‰æ„æ€ï¼Œå‰é¢æ˜¯OutputStreamè¡¨ç¤ºå­—èŠ‚è¾“å‡ºæµï¼Œåé¢æ˜¯Writerè¡¨ç¤ºå­—ç¬¦è¾“å‡ºæµï¼Œåˆåœ¨ä¸€èµ·æ„æ€å°±æ˜¯è¡¨ç¤ºå¯ä»¥æŠŠOutputStreamè½¬æ¢ä¸ºWriterï¼Œæœ€ç»ˆOutputStreamWriterå…¶å®ä¹Ÿæ˜¯Writerçš„å­ç±»ï¼Œæ‰€ä»¥ä¹Ÿç®—æ˜¯å­—ç¬¦è¾“å‡ºæµã€‚</p>
<p>OutputStreamReaderä¹Ÿæ˜¯ä¸èƒ½å•ç‹¬ä½¿ç”¨çš„ï¼Œå®ƒå†…éƒ¨éœ€è¦å°è£…ä¸€ä¸ªOutputStreamçš„å­ç±»å¯¹è±¡ï¼Œå†æŒ‡å®šä¸€ä¸ªç¼–ç è¡¨ï¼Œå¦‚æœä¸æŒ‡å®šç¼–ç è¡¨ï¼Œé»˜è®¤ä¼šæŒ‰ç…§UTF-8å½¢å¼è¿›è¡Œè½¬æ¢ã€‚</p>
<blockquote>
<p>éœ€æ±‚ï¼šæˆ‘ä»¬å¯ä»¥å…ˆå‡†å¤‡ä¸€ä¸ªGBKæ ¼å¼çš„æ–‡ä»¶ï¼Œä½¿ç”¨ä¸‹é¢ä»£ç å¾€æ–‡ä»¶ä¸­å†™å­—ç¬¦æ•°æ®ã€‚</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OutputStreamWriterTest3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// æŒ‡å®šå†™å‡ºå»çš„å­—ç¬¦ç¼–ç ã€‚</span></span><br><span class="line">        <span class="keyword">try</span> (</span><br><span class="line">                <span class="comment">// 1ã€åˆ›å»ºä¸€ä¸ªæ–‡ä»¶å­—èŠ‚è¾“å‡ºæµ</span></span><br><span class="line">                <span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;io-app2/src/itheima07out.txt&quot;</span>);</span><br><span class="line">                <span class="comment">// 2ã€æŠŠåŸå§‹çš„å­—èŠ‚è¾“å‡ºæµï¼ŒæŒ‰ç…§æŒ‡å®šçš„å­—ç¬¦é›†ç¼–ç è½¬æ¢æˆå­—ç¬¦è¾“å‡ºè½¬æ¢æµã€‚</span></span><br><span class="line">                <span class="type">Writer</span> <span class="variable">osw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">OutputStreamWriter</span>(os, <span class="string">&quot;GBK&quot;</span>);</span><br><span class="line">                <span class="comment">// 3ã€æŠŠå­—ç¬¦è¾“å‡ºæµåŒ…è£…æˆç¼“å†²å­—ç¬¦è¾“å‡ºæµ</span></span><br><span class="line">                <span class="type">BufferedWriter</span> <span class="variable">bw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedWriter</span>(osw);</span><br><span class="line">                )&#123;</span><br><span class="line">            bw.write(<span class="string">&quot;æˆ‘æ˜¯ä¸­å›½äººabc&quot;</span>);</span><br><span class="line">            bw.write(<span class="string">&quot;æˆ‘çˆ±ä½ ä¸­å›½123&quot;</span>);</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="æ‰“å°æµ"><a href="#æ‰“å°æµ" class="headerlink" title="æ‰“å°æµ"></a>æ‰“å°æµ</h2><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å­¦ä¹ æ‰“å°æµï¼Œå…¶å®æ‰“å°æµæˆ‘ä»¬ä»å¼€å­¦ç¬¬ä¸€å¤©å°±ä¸€ç›´å†ä½¿ç”¨ï¼Œåªæ˜¯æ²¡æœ‰å­¦åˆ°ä½ æ„Ÿå—ä¸åˆ°è€Œå·²ã€‚æ‰“å°æµå¯ä»¥å®ç°æ›´åŠ æ–¹ä¾¿ï¼Œæ›´åŠ é«˜æ•ˆçš„å†™æ•°æ®çš„æ–¹å¼ã€‚</p>
<h3 id="æ‰“å°æµåŸºæœ¬ä½¿ç”¨"><a href="#æ‰“å°æµåŸºæœ¬ä½¿ç”¨" class="headerlink" title="æ‰“å°æµåŸºæœ¬ä½¿ç”¨"></a>æ‰“å°æµåŸºæœ¬ä½¿ç”¨</h3><p>æ‰“å°æµï¼Œè¿™é‡Œæ‰€è¯´çš„æ‰“å°å…¶å®å°±æ˜¯å†™æ•°æ®çš„æ„æ€ï¼Œå®ƒå’Œæ™®é€šçš„writeæ–¹æ³•å†™æ•°æ®è¿˜ä¸å¤ªä¸€æ ·ï¼Œä¸€èˆ¬ä¼šä½¿ç”¨æ‰“å°æµç‰¹æœ‰çš„æ–¹æ³•å«<code>print(æ•°æ®)</code>æˆ–è€…<code>println(æ•°æ®)</code>ï¼Œå®ƒæ‰“å°å•¥å°±è¾“å‡ºå•¥ã€‚</p>
<p>æ‰“å°æµæœ‰ä¸¤ä¸ªï¼Œä¸€ä¸ªæ˜¯å­—èŠ‚æ‰“å°æµPrintStreamï¼Œä¸€ä¸ªæ˜¯å­—ç¬¦æ‰“å°æµPrintWriterï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º</p>
<p><strong>PrintStreamå’ŒPrintWriterçš„ç”¨æ³•æ˜¯ä¸€æ ·çš„ï¼Œæ‰€ä»¥è¿™é‡Œå°±ä¸€å—æ¼”ç¤ºäº†ã€‚</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PrintTest1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> (</span><br><span class="line">                <span class="comment">// 1ã€åˆ›å»ºä¸€ä¸ªæ‰“å°æµç®¡é“</span></span><br><span class="line"><span class="comment">//                PrintStream ps =</span></span><br><span class="line"><span class="comment">//                        new PrintStream(&quot;io-app2/src/itheima08.txt&quot;, Charset.forName(&quot;GBK&quot;));</span></span><br><span class="line"><span class="comment">//                PrintStream ps =</span></span><br><span class="line"><span class="comment">//                        new PrintStream(&quot;io-app2/src/itheima08.txt&quot;);</span></span><br><span class="line">                <span class="type">PrintWriter</span> <span class="variable">ps</span> <span class="operator">=</span></span><br><span class="line">                        <span class="keyword">new</span> <span class="title class_">PrintWriter</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;io-app2/src/itheima08.txt&quot;</span>, <span class="literal">true</span>));</span><br><span class="line">                )&#123;</span><br><span class="line">                ps.print(<span class="number">97</span>);	<span class="comment">//æ–‡ä»¶ä¸­æ˜¾ç¤ºçš„å°±æ˜¯:97</span></span><br><span class="line">                ps.print(<span class="string">&#x27;a&#x27;</span>); <span class="comment">//æ–‡ä»¶ä¸­æ˜¾ç¤ºçš„å°±æ˜¯:a</span></span><br><span class="line">                ps.println(<span class="string">&quot;æˆ‘çˆ±ä½ ä¸­å›½abc&quot;</span>);	<span class="comment">//æ–‡ä»¶ä¸­æ˜¾ç¤ºçš„å°±æ˜¯:æˆ‘çˆ±ä½ ä¸­å›½abc</span></span><br><span class="line">                ps.println(<span class="literal">true</span>);<span class="comment">//æ–‡ä»¶ä¸­æ˜¾ç¤ºçš„å°±æ˜¯:true</span></span><br><span class="line">                ps.println(<span class="number">99.5</span>);<span class="comment">//æ–‡ä»¶ä¸­æ˜¾ç¤ºçš„å°±æ˜¯99.5</span></span><br><span class="line"></span><br><span class="line">                ps.write(<span class="number">97</span>); <span class="comment">//æ–‡ä»¶ä¸­æ˜¾ç¤ºaï¼Œå‘ç°å’Œå‰é¢printlnæ–¹æ³•çš„åŒºåˆ«äº†å—ï¼Ÿ</span></span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="é‡å®šå‘è¾“å‡ºè¯­å¥"><a href="#é‡å®šå‘è¾“å‡ºè¯­å¥" class="headerlink" title="é‡å®šå‘è¾“å‡ºè¯­å¥"></a>é‡å®šå‘è¾“å‡ºè¯­å¥</h3><p>å…¶å®æˆ‘ä»¬å¼€å­¦ç¬¬ä¸€è¯¾ï¼Œå°±ç»™åŒå­¦ä»¬è®²è¿‡<code>System.out.println()</code>è¿™å¥è¯è¡¨ç¤ºæ‰“å°è¾“å‡ºï¼Œä½†æ˜¯è‡³äºä¸ºä»€ä¹ˆèƒ½å¤Ÿè¾“å‡ºï¼Œå…¶å®æˆ‘ä»¬ä¸€ç›´ä¸æ¸…æ¥šã€‚</p>
<p>ä»¥å‰æ˜¯å› ä¸ºçŸ¥è¯†å‚¨å¤‡è¿˜ä¸å¤Ÿï¼Œæ— æ³•è§£é‡Šï¼Œåˆ°ç°åœ¨å°±å¯ä»¥ç»™åŒå­¦ä»¬æ­æ™“è°œåº•äº†ï¼Œå› ä¸ºSystemé‡Œé¢æœ‰ä¸€ä¸ªé™æ€å˜é‡å«outï¼Œoutçš„æ•°æ®ç±»å‹å°±æ˜¯PrintStreamï¼Œå®ƒå°±æ˜¯ä¸€ä¸ªæ‰“å°æµï¼Œè€Œä¸”è¿™ä¸ªæ‰“å°æµçš„é»˜è®¤è¾“å‡ºç›®çš„åœ°æ˜¯æ§åˆ¶å°ï¼Œæ‰€ä»¥æˆ‘ä»¬è°ƒç”¨<code>System.out.pirnln()</code>å°±å¯ä»¥å¾€æ§åˆ¶å°æ‰“å°è¾“å‡ºä»»æ„ç±»å‹çš„æ•°æ®ï¼Œè€Œä¸”æ‰“å°å•¥å°±è¾“å‡ºå•¥ã€‚</p>
<p>è€Œä¸”Systemè¿˜æä¾›äº†ä¸€ä¸ªæ–¹æ³•ï¼Œå¯ä»¥ä¿®æ”¹åº•å±‚çš„æ‰“å°æµï¼Œè¿™æ ·æˆ‘ä»¬å°±å¯ä»¥é‡å®šå‘æ‰“å°è¯­å¥çš„è¾“å‡ºç›®çš„åœ°äº†ã€‚æˆ‘ä»¬ç©ä¸€ä¸‹, ç›´æ¥ä¸Šä»£ç ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PrintTest2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è€éª¥ä¼æ¥&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;å¿—åœ¨åƒé‡Œ&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> ( <span class="type">PrintStream</span> <span class="variable">ps</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PrintStream</span>(<span class="string">&quot;io-app2/src/itheima09.txt&quot;</span>); )&#123;</span><br><span class="line">            <span class="comment">// æŠŠç³»ç»Ÿé»˜è®¤çš„æ‰“å°æµå¯¹è±¡æ”¹æˆè‡ªå·±è®¾ç½®çš„æ‰“å°æµ</span></span><br><span class="line">            System.setOut(ps);</span><br><span class="line"></span><br><span class="line">            System.out.println(<span class="string">&quot;çƒˆå£«æš®å¹´&quot;</span>);	</span><br><span class="line">            System.out.println(<span class="string">&quot;å£®å¿ƒä¸å·²&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶æ‰“å°è¯­å¥ï¼Œå°†å¾€æ–‡ä»¶ä¸­æ‰“å°æ•°æ®ï¼Œè€Œä¸åœ¨æ§åˆ¶å°ã€‚</p>
<h2 id="æ•°æ®æµ"><a href="#æ•°æ®æµ" class="headerlink" title="æ•°æ®æµ"></a>æ•°æ®æµ</h2><p>åŒå­¦ä»¬ï¼Œæ¥ä¸‹æˆ‘ä»¬å†å­¦ä¹ ä¸€ç§æµï¼Œè¿™ç§æµåœ¨å¼€å‘ä¸­å¶å°”ä¹Ÿä¼šç”¨åˆ°ã€‚æ¯”å¦‚ï¼Œæˆ‘ä»¬æƒ³æŠŠæ•°æ®å’Œæ•°æ®çš„ç±»å‹ä¸€å¹¶å†™åˆ°æ–‡ä»¶ä¸­å»ï¼Œè¯»å–çš„æ—¶å€™ä¹Ÿå°†æ•°æ®å’Œæ•°æ®ç±»å‹ä¸€å¹¶è¯»å‡ºæ¥ã€‚è¿™å°±å¯ä»¥ç”¨åˆ°æ•°æ®æµï¼Œæœ‰ä¸¤ä¸ªDataInputStreamå’ŒDataOutputStream.</p>
<h3 id="DataOutputStreamç±»"><a href="#DataOutputStreamç±»" class="headerlink" title="DataOutputStreamç±»"></a>DataOutputStreamç±»</h3><p>æˆ‘ä»¬å…ˆå­¦ä¹ DataOutputStreamç±»ï¼Œå®ƒä¹Ÿæ˜¯ä¸€ç§åŒ…è£…æµï¼Œåˆ›å»ºDataOutputStreamå¯¹è±¡æ—¶ï¼Œåº•å±‚éœ€è¦ä¾èµ–äºä¸€ä¸ªåŸå§‹çš„OutputStreamæµå¯¹è±¡ã€‚ç„¶åè°ƒç”¨å®ƒçš„wirteXxxæ–¹æ³•ï¼Œå†™çš„æ˜¯ç‰¹å®šç±»å‹çš„æ•°æ®ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/assets/1667924147403.png" alt="1667924147403"></p>
<p>æ„é€ å™¨            è¯´æ˜<br>public DataOutputstream(outputstream out)<br>åˆ›å»ºæ–°æ•°æ®è¾“å‡ºæµåŒ…è£…åŸºç¡€çš„å­—èŠ‚è¾“å‡ºæµ</p>
<p>æ–¹æ³•              è¯´æ˜<br>public final void writeByte(int v) throws IOException<br>å°†byteç±»å‹çš„æ•°æ®å†™å…¥åŸºç¡€çš„å­—èŠ‚è¾“å‡ºæµ<br>public final void writeInt(int v) throws IOException<br>å°†intç±»å‹çš„æ•°æ®å†™å…¥åŸºç¡€çš„å­—èŠ‚è¾“å‡ºæµ<br>public final void writeDouble(Double v) throws IOException<br>å°†doubleç±»å‹çš„æ•°æ®å†™å…¥åŸºç¡€çš„å­—èŠ‚è¾“å‡ºæµ<br>public final void writeUTF(String str) throws IOException<br>å°†å­—ç¬¦ä¸²æ•°æ®ä»¥UTF-8ç¼–ç æˆå­—èŠ‚å†™å…¥åŸºç¡€çš„å­—èŠ‚è¾“å‡ºæµ<br>public void write(int&#x2F;byte[ ]&#x2F;byte[]ä¸€éƒ¨åˆ†)<br>æ”¯æŒå†™å­—èŠ‚æ•°æ®å‡ºå»</p>
<p>ä»£ç å¦‚ä¸‹ï¼šå¾€æ–‡ä»¶ä¸­å†™æ•´æ•°ã€å°æ•°ã€å¸ƒå°”ç±»å‹æ•°æ®ã€å­—ç¬¦ä¸²æ•°æ®</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DataOutputStreamTest1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> (</span><br><span class="line">                <span class="comment">// 1ã€åˆ›å»ºä¸€ä¸ªæ•°æ®è¾“å‡ºæµåŒ…è£…ä½çº§çš„å­—èŠ‚è¾“å‡ºæµ</span></span><br><span class="line">                <span class="type">DataOutputStream</span> <span class="variable">dos</span> <span class="operator">=</span></span><br><span class="line">                        <span class="keyword">new</span> <span class="title class_">DataOutputStream</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;io-app2/src/itheima10out.txt&quot;</span>));</span><br><span class="line">                )&#123;</span><br><span class="line">            dos.writeInt(<span class="number">97</span>);</span><br><span class="line">            dos.writeDouble(<span class="number">99.5</span>);</span><br><span class="line">            dos.writeBoolean(<span class="literal">true</span>);</span><br><span class="line">            dos.writeUTF(<span class="string">&quot;é»‘é©¬ç¨‹åºå‘˜666ï¼&quot;</span>);</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="DataInputStreamç±»"><a href="#DataInputStreamç±»" class="headerlink" title="DataInputStreamç±»"></a>DataInputStreamç±»</h3><p>å­¦ä¹ å®ŒDataOutputStreamåï¼Œå†å­¦ä¹ DataIntputStreamç±»ï¼Œå®ƒä¹Ÿæ˜¯ä¸€ç§åŒ…è£…æµï¼Œåˆ›å»ºDataInputStreamå¯¹è±¡æ—¶ï¼Œåº•å±‚éœ€è¦ä¾èµ–äºä¸€ä¸ªåŸå§‹çš„InputStreamæµå¯¹è±¡ã€‚ç„¶åè°ƒç”¨å®ƒçš„readXxx()æ–¹æ³•å°±å¯ä»¥è¯»å–ç‰¹å®šç±»å‹çš„æ•°æ®ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/assets/1667924375953.png" alt="1667924375953"></p>
<p>æ„é€ å™¨                   è¯´æ˜<br>public DataInputstream(InputStream is)<br>åˆ›å»ºæ–°æ•°æ®è¾“å…¥æµåŒ…è£…åŸºç¡€çš„å­—èŠ‚è¾“å…¥æµ</p>
<p>æ–¹æ³•                     è¯´æ˜<br>Public final byte readByte() throws IOException<br>è¯»å–å­—èŠ‚æ•°æ®è¿”å›<br>public final int readInt() throwsIOException<br>è¯»å–intç±»å‹çš„æ•°æ®è¿”å›<br>public final double readDouble() throws IOException<br>è¯»å–doubleç±»å‹çš„æ•°æ®è¿”å›<br>public final string readUTF() throws IOException<br>è¯»å–å­—ç¬¦ä¸²æ•°ï¼ˆUTF-8ï¼‰æ®è¿”å›<br>public int readInt( )&#x2F;read(byte[])<br>æ”¯æŒè¯»å­—èŠ‚æ•°æ®è¿›æ¥</p>
<p>ä»£ç å¦‚ä¸‹ï¼šè¯»å–æ–‡ä»¶ä¸­ç‰¹å®šç±»å‹çš„æ•°æ®ï¼ˆæ•´æ•°ã€å°æ•°ã€å­—ç¬¦ä¸²ç­‰ï¼‰</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DataInputStreamTest2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> (</span><br><span class="line">                <span class="type">DataInputStream</span> <span class="variable">dis</span> <span class="operator">=</span></span><br><span class="line">                        <span class="keyword">new</span> <span class="title class_">DataInputStream</span>(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;io-app2/src/itheima10out.txt&quot;</span>));</span><br><span class="line">                )&#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> dis.readInt();</span><br><span class="line">            System.out.println(i);</span><br><span class="line"></span><br><span class="line">            <span class="type">double</span> <span class="variable">d</span> <span class="operator">=</span> dis.readDouble();</span><br><span class="line">            System.out.println(d);</span><br><span class="line"></span><br><span class="line">            <span class="type">boolean</span> <span class="variable">b</span> <span class="operator">=</span> dis.readBoolean();</span><br><span class="line">            System.out.println(b);</span><br><span class="line"></span><br><span class="line">            <span class="type">String</span> <span class="variable">rs</span> <span class="operator">=</span> dis.readUTF();</span><br><span class="line">            System.out.println(rs);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="åºåˆ—åŒ–æµ"><a href="#åºåˆ—åŒ–æµ" class="headerlink" title="åºåˆ—åŒ–æµ"></a>åºåˆ—åŒ–æµ</h2><p>å„ä½åŒå­¦åŒå­¦ï¼Œè¿˜æœ‰æœ€åä¸€ä¸ªæµè¦å­¦ä¹ ï¼Œå«åšåºåˆ—åŒ–æµã€‚åºåˆ—åŒ–æµæ˜¯å¹²ä»€ä¹ˆç”¨çš„å‘¢ï¼Ÿ æˆ‘ä»¬çŸ¥é“å­—èŠ‚æµæ˜¯ä»¥å­—èŠ‚ä¸ºå•ä½æ¥è¯»å†™æ•°æ®ã€å­—ç¬¦æµæ˜¯æŒ‰ç…§å­—ç¬¦ä¸ºå•ä½æ¥è¯»å†™æ•°æ®ã€è€Œå¯¹è±¡æµæ˜¯ä»¥å¯¹è±¡ä¸ºå•ä½æ¥è¯»å†™æ•°æ®ã€‚ä¹Ÿå°±æ˜¯æŠŠå¯¹è±¡å½“åšä¸€ä¸ªæ•´ä½“ï¼Œå¯ä»¥å†™ä¸€ä¸ªå¯¹è±¡åˆ°æ–‡ä»¶ï¼Œä¹Ÿå¯ä»¥ä»æ–‡ä»¶ä¸­æŠŠå¯¹è±¡è¯»å–å‡ºæ¥ã€‚</p>
<p>è¿™é‡Œæœ‰ä¸€ä¸ªæ–°è¯ åºåˆ—åŒ–ï¼Œç¬¬ä¸€æ¬¡å¬åŒå­¦ä»¬å¯èƒ½è¿˜æ¯”è¾ƒé™Œç”Ÿï¼Œæˆ‘æ¥ç»™åŒå­¦ä»¬è§£é‡Šä¸€ä¸‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">åºåˆ—åŒ–ï¼šæ„æ€å°±æ˜¯æŠŠå¯¹è±¡å†™åˆ°æ–‡ä»¶æˆ–è€…ç½‘ç»œä¸­å»ã€‚ï¼ˆç®€å•è®°ï¼šå†™å¯¹è±¡ï¼‰</span><br><span class="line">ååºåˆ—åŒ–ï¼šæ„æ€å°±æ˜¯æŠŠå¯¹è±¡ä»æ–‡ä»¶æˆ–è€…ç½‘ç»œä¸­è¯»å–å‡ºæ¥ã€‚ï¼ˆç®€å•è®°ï¼šè¯»å¯¹è±¡ï¼‰</span><br></pre></td></tr></table></figure>

<h3 id="ObjectOutputStraemç±»"><a href="#ObjectOutputStraemç±»" class="headerlink" title="ObjectOutputStraemç±»"></a>ObjectOutputStraemç±»</h3><p>æ¥ä¸‹æ¥ï¼Œå…ˆå­¦ä¹ ObjectOutputStreamæµï¼Œå®ƒä¹Ÿæ˜¯ä¸€ä¸ªåŒ…è£…æµï¼Œä¸èƒ½å•ç‹¬ä½¿ç”¨ï¼Œéœ€è¦ç»“åˆåŸå§‹çš„å­—èŠ‚è¾“å‡ºæµä½¿ç”¨ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼šå°†ä¸€ä¸ªUserå¯¹è±¡å†™åˆ°æ–‡ä»¶ä¸­å»</p>
<ul>
<li>ç¬¬ä¸€æ­¥ï¼šå…ˆå‡†å¤‡ä¸€ä¸ªUserç±»ï¼Œå¿…é¡»è®©å…¶å®ç°Serializableæ¥å£ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ³¨æ„ï¼šå¯¹è±¡å¦‚æœéœ€è¦åºåˆ—åŒ–ï¼Œå¿…é¡»å®ç°åºåˆ—åŒ–æ¥å£ã€‚</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">User</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String loginName;</span><br><span class="line">    <span class="keyword">private</span> String userName;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="comment">// transient è¿™ä¸ªæˆå‘˜å˜é‡å°†ä¸å‚ä¸åºåˆ—åŒ–ã€‚</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">transient</span> String passWord;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">User</span><span class="params">(String loginName, String userName, <span class="type">int</span> age, String passWord)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.loginName = loginName;</span><br><span class="line">        <span class="built_in">this</span>.userName = userName;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">        <span class="built_in">this</span>.passWord = passWord;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;User&#123;&quot;</span> +</span><br><span class="line">                <span class="string">&quot;loginName=&#x27;&quot;</span> + loginName + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, userName=&#x27;&quot;</span> + userName + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&quot;, age=&quot;</span> + age +</span><br><span class="line">                <span class="string">&quot;, passWord=&#x27;&quot;</span> + passWord + <span class="string">&#x27;\&#x27;&#x27;</span> +</span><br><span class="line">                <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li>ç¬¬äºŒæ­¥ï¼šå†åˆ›å»ºObjectOutputStreamæµå¯¹è±¡ï¼Œè°ƒç”¨writeObjectæ–¹æ³•å¯¹è±¡åˆ°æ–‡ä»¶ã€‚</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test1ObjectOutputStream</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> (</span><br><span class="line">                <span class="comment">// 2ã€åˆ›å»ºä¸€ä¸ªå¯¹è±¡å­—èŠ‚è¾“å‡ºæµåŒ…è£…åŸå§‹çš„å­—èŠ‚ è¾“å‡ºæµã€‚</span></span><br><span class="line">                <span class="type">ObjectOutputStream</span> <span class="variable">oos</span> <span class="operator">=</span></span><br><span class="line">                        <span class="keyword">new</span> <span class="title class_">ObjectOutputStream</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;io-app2/src/itheima11out.txt&quot;</span>));</span><br><span class="line">                )&#123;</span><br><span class="line">            <span class="comment">// 1ã€åˆ›å»ºä¸€ä¸ªJavaå¯¹è±¡ã€‚</span></span><br><span class="line">            <span class="type">User</span> <span class="variable">u</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">User</span>(<span class="string">&quot;admin&quot;</span>, <span class="string">&quot;å¼ ä¸‰&quot;</span>, <span class="number">32</span>, <span class="string">&quot;666888xyz&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 3ã€åºåˆ—åŒ–å¯¹è±¡åˆ°æ–‡ä»¶ä¸­å»</span></span><br><span class="line">            oos.writeObject(u);</span><br><span class="line">            System.out.println(<span class="string">&quot;åºåˆ—åŒ–å¯¹è±¡æˆåŠŸï¼ï¼&quot;</span>);</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>æ³¨æ„ï¼šå†™åˆ°æ–‡ä»¶ä¸­çš„å¯¹è±¡ï¼Œæ˜¯ä¸èƒ½ç”¨è®°äº‹æœ¬æ‰“å¼€çœ‹çš„ã€‚å› ä¸ºå¯¹è±¡æœ¬èº«å°±ä¸æ˜¯æ–‡æœ¬æ•°æ®ï¼Œæ‰“å¼€æ˜¯ä¹±ç </strong></p>
<p>æ€æ ·æ‰èƒ½è¯»æ‡‚æ–‡ä»¶ä¸­çš„å¯¹è±¡æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿè¿™é‡Œå¿…é¡»ç”¨ååºåˆ—åŒ–ï¼Œè‡ªå·±å†™ä»£ç è¯»ã€‚</p>
<h3 id="ObjectInputStreamç±»"><a href="#ObjectInputStreamç±»" class="headerlink" title="ObjectInputStreamç±»"></a>ObjectInputStreamç±»</h3><p>æ¥ä¸‹æ¥ï¼Œå­¦ä¹ ObjectInputStreamæµï¼Œå®ƒä¹Ÿæ˜¯ä¸€ä¸ªåŒ…è£…æµï¼Œä¸èƒ½å•ç‹¬ä½¿ç”¨ï¼Œéœ€è¦ç»“åˆåŸå§‹çš„å­—èŠ‚è¾“å…¥æµä½¿ç”¨ã€‚</p>
<p>æ¥ç€å‰é¢çš„æ¡ˆä¾‹ï¼Œæ–‡ä»¶ä¸­å·²ç»æœ‰ä¸€ä¸ªStudentå¯¹è±¡ï¼Œç°åœ¨è¦ä½¿ç”¨ObjectInputStreamè¯»å–å‡ºæ¥ã€‚ç§°ä¹‹ä¸ºååºåˆ—åŒ–ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test2ObjectInputStream</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> (</span><br><span class="line">            <span class="comment">// 1ã€åˆ›å»ºä¸€ä¸ªå¯¹è±¡å­—èŠ‚è¾“å…¥æµç®¡é“ï¼ŒåŒ…è£… ä½çº§çš„å­—èŠ‚è¾“å…¥æµä¸æºæ–‡ä»¶æ¥é€š</span></span><br><span class="line">            <span class="type">ObjectInputStream</span> <span class="variable">ois</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectInputStream</span>(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;io-app2/src/itheima11out.txt&quot;</span>));</span><br><span class="line">        )&#123;</span><br><span class="line">            <span class="type">User</span> <span class="variable">u</span> <span class="operator">=</span> (User) ois.readObject();</span><br><span class="line">            System.out.println(u);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h2 id="è¡¥å……çŸ¥è¯†ï¼šIOæ¡†æ¶"><a href="#è¡¥å……çŸ¥è¯†ï¼šIOæ¡†æ¶" class="headerlink" title="è¡¥å……çŸ¥è¯†ï¼šIOæ¡†æ¶"></a>è¡¥å……çŸ¥è¯†ï¼šIOæ¡†æ¶</h2><p>æœ€åï¼Œå†ç»™åŒå­¦ä»¬è¡¥å……è®²è§£ä¸€ä¸ªçŸ¥è¯†ï¼Œå«åšIOæ¡†æ¶ã€‚å®ƒæœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿæœ‰åŒå­¦ç»å¸¸é—®è€å¸ˆï¼Œæˆ‘ä»¬åªå­¦ä¹ äº†IOæµå¯¹æ–‡ä»¶å¤åˆ¶ï¼Œèƒ½ä¸èƒ½å¤åˆ¶æ–‡ä»¶å¤¹å‘€ï¼Ÿ </p>
<p>å½“ç„¶æ˜¯å¯ä»¥å’¯ï¼Œä½†æ˜¯å¦‚æœè®©æˆ‘ä»¬è‡ªå·±å†™å¤åˆ¶æ–‡ä»¶å¤¹çš„ä»£ç éœ€è¦ç”¨åˆ°é€’å½’ï¼Œè¿˜æ˜¯æ¯”è¾ƒéº»çƒ¦çš„ã€‚ä¸ºäº†ç®€åŒ–å¯¹IOæ“ä½œï¼Œ<strong>ç”±apacheå¼€æºåŸºé‡‘ç»„ç»‡æä¾›äº†ä¸€ç»„æœ‰å…³IOæµå°æ¡†æ¶ï¼Œå¯ä»¥æé«˜IOæµçš„å¼€å‘æ•ˆç‡ã€‚</strong></p>
<p>è¿™ä¸ªæ¡†æ¶çš„åå­—å«commons-ioï¼šå…¶æœ¬è´¨æ˜¯åˆ«äººå†™å¥½çš„ä¸€äº›å­—èŠ‚ç æ–‡ä»¶ï¼ˆclassæ–‡ä»¶ï¼‰ï¼Œæ‰“åŒ…æˆäº†ä¸€ä¸ªjaråŒ…ã€‚æˆ‘ä»¬åªéœ€è¦æŠŠjaråŒ…å¼•å…¥åˆ°æˆ‘ä»¬çš„é¡¹ç›®ä¸­ï¼Œå°±å¯ä»¥ç›´æ¥ç”¨äº†ã€‚ </p>
<p>è¿™é‡Œç»™åŒå­¦ä»¬ä»‹ç»ä¸€ä¸ªjaråŒ…ä¸­æä¾›çš„å·¥å…·ç±»å«FileUtilsï¼Œå®ƒçš„éƒ¨åˆ†åŠŸèƒ½å¦‚ä¸‹ï¼Œå¾ˆæ–¹ä¾¿ï¼Œä½ ä¸€çœ‹åå­—å°±çŸ¥é“æ€ä¹ˆç”¨äº†ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/assets/1667925627850.png" alt="1667925627850"></p>
<p>FileUtilsç±»æä¾›çš„éƒ¨åˆ†æ–¹æ³•å±•ç¤º                  è¯´æ˜<br>public static void copyFile(File srcFileï¼ŒFile destFile)<br>å¤åˆ¶æ–‡ä»¶ã€‚<br>public static void copyDirectory(File srcDirï¼ŒFile destDir)<br>å¤åˆ¶æ–‡ä»¶å¤¹<br>public static void deleteDirectory(File directory)<br>åˆ é™¤æ–‡ä»¶å¤¹<br>public static string readFileToString(File fileï¼Œstring encoding)<br>è¯»æ•°æ®<br>public static void writeStringToFile(File file,string data, String charnameï¼Œ boolean append)<br>å†™æ•°æ®</p>
<p>IOUtilsç±»æä¾›çš„éƒ¨åˆ†æ–¹æ³•å±•ç¤º                  è¯´æ˜<br>public static int copy(InputStream inputstreamï¼Œoutputstream outputstream)<br>å¤åˆ¶æ–‡ä»¶ã€‚<br>public static int copy(Reader readerï¼Œwriter writer)<br>å¤åˆ¶æ–‡ä»¶ã€‚<br>public static void write(String data,outputStream outputï¼Œstring charsetName)<br>å†™æ•°æ®</p>
<p>åœ¨å†™ä»£ç ä¹‹å‰ï¼Œå…ˆéœ€è¦å¼•å…¥jaråŒ…ï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>åœ¨æ¨¡å—çš„ç›®å½•ä¸‹ï¼Œæ–°å»ºä¸€ä¸ªlibæ–‡ä»¶å¤¹</span><br><span class="line"><span class="number">2.</span>æŠŠjaråŒ…å¤åˆ¶ç²˜è´´åˆ°libæ–‡ä»¶å¤¹ä¸‹</span><br><span class="line"><span class="number">3.</span>é€‰æ‹©libä¸‹çš„jaråŒ…ï¼Œå³é”®ç‚¹å‡»Add As Libraryï¼Œç„¶åå°±å¯ä»¥ç”¨äº†ã€‚</span><br></pre></td></tr></table></figure>

<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CommonsIOTest1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">//1.å¤åˆ¶æ–‡ä»¶</span></span><br><span class="line">        FileUtils.copyFile(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;io-app2\\src\\itheima01.txt&quot;</span>), <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;io-app2/src/a.txt&quot;</span>));</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.å¤åˆ¶æ–‡ä»¶å¤¹</span></span><br><span class="line">        FileUtils.copyDirectory(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\resource\\ç§äººçè—&quot;</span>), <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\resource\\ç§äººçè—3&quot;</span>));</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3.åˆ é™¤æ–‡ä»¶å¤¹</span></span><br><span class="line">        FileUtils.deleteDirectory(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\resource\\ç§äººçè—3&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Javaæä¾›çš„åŸç”Ÿçš„ä¸€è¡Œä»£ç æå®šå¾ˆå¤šäº‹æƒ…</span></span><br><span class="line">         Files.copy(Path.of(<span class="string">&quot;io-app2\\src\\itheima01.txt&quot;</span>), Path.of(<span class="string">&quot;io-app2\\src\\b.txt&quot;</span>));</span><br><span class="line">        System.out.println(Files.readString(Path.of(<span class="string">&quot;io-app2\\src\\itheima01.txt&quot;</span>)));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="ç‰¹æ®Šæ–‡ä»¶ã€æ—¥å¿—æŠ€æœ¯ã€å¤šçº¿ç¨‹"><a href="#ç‰¹æ®Šæ–‡ä»¶ã€æ—¥å¿—æŠ€æœ¯ã€å¤šçº¿ç¨‹" class="headerlink" title="ç‰¹æ®Šæ–‡ä»¶ã€æ—¥å¿—æŠ€æœ¯ã€å¤šçº¿ç¨‹"></a>ç‰¹æ®Šæ–‡ä»¶ã€æ—¥å¿—æŠ€æœ¯ã€å¤šçº¿ç¨‹</h1><h2 id="å±æ€§æ–‡ä»¶"><a href="#å±æ€§æ–‡ä»¶" class="headerlink" title="å±æ€§æ–‡ä»¶"></a>å±æ€§æ–‡ä»¶</h2><h3 id="ç‰¹æ®Šæ–‡ä»¶æ¦‚è¿°"><a href="#ç‰¹æ®Šæ–‡ä»¶æ¦‚è¿°" class="headerlink" title="ç‰¹æ®Šæ–‡ä»¶æ¦‚è¿°"></a>ç‰¹æ®Šæ–‡ä»¶æ¦‚è¿°</h3><p>åŒå­¦ä»¬ï¼Œå‰é¢æˆ‘ä»¬å­¦ä¹ äº†IOæµï¼Œæˆ‘ä»¬çŸ¥é“IOæµæ˜¯ç”¨æ¥è¯»ã€å†™æ–‡ä»¶ä¸­çš„æ•°æ®ã€‚ä½†æ˜¯æˆ‘ä»¬æ¥è§¦åˆ°çš„æ–‡ä»¶éƒ½æ˜¯æ™®é€šçš„æ–‡æœ¬æ–‡ä»¶ï¼Œæ™®é€šçš„æ–‡æœ¬æ–‡ä»¶é‡Œé¢çš„æ•°æ®æ˜¯æ²¡æœ‰ä»»ä½•æ ¼å¼è§„èŒƒçš„ï¼Œç”¨æˆ·å¯ä»¥éšæ„ç¼–å†™ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>
<p>åƒè¿™ç§æ™®é€šçš„æ–‡æœ¬æ–‡ä»¶ï¼Œæ²¡æœ‰ä»»ä½•è§„å¾‹å¯è¨€ï¼Œä¸æ–¹ä¾¿ç¨‹åºå¯¹æ–‡ä»¶ä¸­çš„æ•°æ®ä¿¡æ¯å¤„ç†ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh94.png"></p>
<p>åœ¨ä»¥åçš„Javaå¼€å‘è¿‡ç¨‹ä¸­è¿˜ä¼šé‡åˆ°ä¸€äº›ç‰¹æ®Šçš„æ–‡æœ¬æ–‡ä»¶ï¼Œè¿™äº›æ–‡ä»¶æ˜¯æœ‰ä¸€äº›æ ¼å¼è¦æ±‚çš„ï¼Œæ–¹ä¾¿ç¨‹åºå¯¹æ–‡ä»¶ä¸­çš„æ•°æ®è¿›è¡Œå¤„ç†ã€‚</p>
<p>æ¯”å¦‚ï¼Œåé¢æˆ‘ä»¬ä¼šç”¨åˆ°ä¸¤ç§ç‰¹æ®Šçš„æ–‡æœ¬æ–‡ä»¶ï¼Œä¸€ç§æ˜¯propertiesæ–‡ä»¶ï¼Œè¿˜æœ‰ä¸€ç§æ˜¯xmlæ–‡ä»¶ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh95.png"></p>
<ul>
<li>åç¼€ä¸º.propertiesçš„æ–‡ä»¶ï¼Œç§°ä¹‹ä¸ºå±æ€§æ–‡ä»¶ï¼Œå®ƒå¯ä»¥å¾ˆæ–¹ä¾¿çš„å­˜å‚¨ä¸€äº›ç±»ä¼¼äºé”®å€¼å¯¹çš„æ•°æ®ã€‚ç»å¸¸å½“åšè½¯ä»¶çš„é…ç½®æ–‡ä»¶ä½¿ç”¨ã€‚</li>
<li>è€Œxmlæ–‡ä»¶èƒ½å¤Ÿè¡¨ç¤ºæ›´åŠ å¤æ‚çš„æ•°æ®å…³ç³»ï¼Œæ¯”å¦‚è¦è¡¨ç¤ºå¤šä¸ªç”¨æˆ·çš„ç”¨æˆ·åã€å¯†ç ã€å®¶ä¹¡ã€æ€§åˆ«ç­‰ã€‚åœ¨åé¢ï¼Œä¹Ÿç»å¸¸å½“åšè½¯ä»¶çš„é…ç½®æ–‡ä»¶ä½¿ç”¨ã€‚</li>
</ul>
<p>ç°åœ¨ï¼Œå­¦ä¹ ç‰¹æ®Šçš„æ–‡ä»¶ä¸»è¦å­¦ä¹ ä»€ä¹ˆå‘¢ï¼Ÿ ä¸»è¦å­¦ä¹ ä»¥ä¸‹çš„ä¸‰ç‚¹</p>
<ol>
<li>äº†è§£å®ƒä»¬çš„ç‰¹ç‚¹ã€ä½œç”¨</li>
<li>å­¦ä¹ ä½¿ç”¨ç¨‹åºè¯»å–å®ƒä»¬é‡Œé¢çš„æ•°æ®</li>
<li>å­¦ä¹ ä½¿ç”¨ç¨‹åºæŠŠæ•°æ®å­˜å‚¨åˆ°è¿™äº›æ–‡ä»¶é‡Œ</li>
</ol>
<h3 id="Propertieså±æ€§æ–‡ä»¶"><a href="#Propertieså±æ€§æ–‡ä»¶" class="headerlink" title="Propertieså±æ€§æ–‡ä»¶"></a>Propertieså±æ€§æ–‡ä»¶</h3><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å…ˆå­¦ä¹ Propertiesè¿™ç§å±æ€§æ–‡ä»¶ã€‚é¦–å…ˆæˆ‘ä»¬è¦æŒæ¡å±æ€§æ–‡ä»¶çš„æ ¼å¼ï¼š</p>
<ol>
<li>å±æ€§æ–‡ä»¶åç¼€ä»¥<code>.properties</code>ç»“å°¾</li>
<li>å±æ€§æ–‡ä»¶é‡Œé¢çš„æ¯ä¸€è¡Œéƒ½æ˜¯ä¸€ä¸ªé”®å€¼å¯¹ï¼Œé”®å’Œå€¼ä¸­é—´ç”¨&#x3D;éš”å¼€ã€‚æ¯”å¦‚: <code>admin=123456</code> </li>
<li><code>#</code>è¡¨ç¤ºè¿™æ ·æ˜¯æ³¨é‡Šä¿¡æ¯ï¼Œæ˜¯ç”¨æ¥è§£é‡Šè¿™ä¸€è¡Œé…ç½®æ˜¯ä»€ä¹ˆæ„æ€ã€‚</li>
<li>æ¯ä¸€è¡Œæœ«å°¾ä¸è¦ä¹ æƒ¯æ€§åŠ åˆ†å·ï¼Œä»¥åŠç©ºæ ¼ç­‰å­—ç¬¦ï¼›ä¸ç„¶ä¼šæŠŠåˆ†å·ï¼Œç©ºæ ¼ä¼šå½“åšå€¼çš„ä¸€éƒ¨åˆ†ã€‚</li>
<li>é”®ä¸èƒ½é‡å¤ï¼Œå€¼å¯ä»¥é‡å¤</li>
</ol>
<p>å¦‚ä¸‹å›¾æ‰€ç¤º</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh96.png"></p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å­¦ä¹ å¦‚ä½•è¯»å–å±æ€§æ–‡ä»¶ä¸­çš„æ•°æ®ã€‚è¿™é‡Œéœ€è¦ç»™åŒå­¦ä»¬ï¼Œä»‹ç»ä¸€ä¸ªæ¥å«Properties.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>Propertiesæ˜¯ä»€ä¹ˆï¼Ÿ</span><br><span class="line">    Propertiesæ˜¯Mapæ¥å£ä¸‹é¢çš„ä¸€ä¸ªå®ç°ç±»ï¼Œæ‰€ä»¥Propertiesä¹Ÿæ˜¯ä¸€ç§åŒåˆ—é›†åˆï¼Œç”¨æ¥å­˜å‚¨é”®å€¼å¯¹ã€‚	  ä½†æ˜¯ä¸€èˆ¬ä¸ä¼šæŠŠå®ƒå½“åšé›†åˆæ¥ä½¿ç”¨ã€‚</span><br><span class="line">    </span><br><span class="line"><span class="number">2.</span>Propertiesæ ¸å¿ƒä½œç”¨ï¼Ÿ</span><br><span class="line">    Propertiesç±»çš„å¯¹è±¡ï¼Œç”¨æ¥è¡¨ç¤ºå±æ€§æ–‡ä»¶ï¼Œå¯ä»¥ç”¨æ¥è¯»å–å±æ€§æ–‡ä»¶ä¸­çš„é”®å€¼å¯¹ã€‚</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>ä½¿ç”¨Propertiesè¯»å–å±æ€§æ–‡ä»¶ä¸­çš„é”®å€¼å¯¹</strong>ï¼Œéœ€è¦ç”¨åˆ°çš„æ–¹æ³•å¦‚ä¸‹ã€‚</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/assets/1667992486134.png" alt="1667992486134"></p>
<p>æ„é€ å™¨                       è¯´æ˜<br>public Properties()<br>ç”¨äºæ„å»ºPropertiesé›†åˆå¯¹è±¡(ç©ºå®¹å™¨)</p>
<p>å¸¸ç”¨æ–¹æ³•                     è¯´æ˜<br>public void load(InputStream is)<br>é€šè¿‡å­—èŠ‚è¾“å…¥æµï¼Œè¯»å–å±æ€§æ–‡ä»¶é‡Œçš„é”®å€¼å¯¹æ•°æ®<br>public void load(Reader reader)<br>é€šè¿‡å­—ç¬¦è¾“å…¥æµï¼Œè¯»å–å±æ€§æ–‡ä»¶é‡Œçš„é”®å€¼å¯¹æ•°æ®<br>public string getProperty(String key)<br>æ ¹æ®é”®è·å–å€¼(å…¶å®å°±æ˜¯getæ–¹æ³•çš„æ•ˆæœ)<br>public Set<String> stringPropertyNames()<br>è·å–å…¨éƒ¨é”®çš„é›†åˆ(å…¶å®å°±æ˜¯ketSetæ–¹æ³•çš„æ•ˆæœ)</p>
<p>å®ç”¨Propertiesè¯»å–å±æ€§æ–‡ä»¶çš„æ­¥éª¤å¦‚ä¸‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>ã€åˆ›å»ºä¸€ä¸ªPropertiesçš„å¯¹è±¡å‡ºæ¥ï¼ˆé”®å€¼å¯¹é›†åˆï¼Œç©ºå®¹å™¨ï¼‰</span><br><span class="line"><span class="number">2</span>ã€è°ƒç”¨load(å­—ç¬¦è¾“å…¥æµ/å­—èŠ‚è¾“å…¥æµ)æ–¹æ³•ï¼Œå¼€å§‹åŠ è½½å±æ€§æ–‡ä»¶ä¸­çš„é”®å€¼å¯¹æ•°æ®åˆ°propertieså¯¹è±¡ä¸­å»</span><br><span class="line"><span class="number">3</span>ã€è°ƒç”¨getProperty(é”®)æ–¹æ³•ï¼Œæ ¹æ®é”®å–å€¼</span><br></pre></td></tr></table></figure>

<p>ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡ï¼šæŒæ¡ä½¿ç”¨Propertiesç±»è¯»å–å±æ€§æ–‡ä»¶ä¸­çš„é”®å€¼å¯¹ä¿¡æ¯ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PropertiesTest1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºä¸€ä¸ªPropertiesçš„å¯¹è±¡å‡ºæ¥ï¼ˆé”®å€¼å¯¹é›†åˆï¼Œç©ºå®¹å™¨ï¼‰</span></span><br><span class="line">        <span class="type">Properties</span> <span class="variable">properties</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line">        System.out.println(properties);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€å¼€å§‹åŠ è½½å±æ€§æ–‡ä»¶ä¸­çš„é”®å€¼å¯¹æ•°æ®åˆ°propertieså¯¹è±¡ä¸­å»</span></span><br><span class="line">        properties.load(<span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="string">&quot;properties-xml-log-app\\src\\users.properties&quot;</span>));</span><br><span class="line">        System.out.println(properties);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€æ ¹æ®é”®å–å€¼</span></span><br><span class="line">        System.out.println(properties.getProperty(<span class="string">&quot;èµµæ•&quot;</span>));</span><br><span class="line">        System.out.println(properties.getProperty(<span class="string">&quot;å¼ æ— å¿Œ&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4ã€éå†å…¨éƒ¨çš„é”®å’Œå€¼ã€‚</span></span><br><span class="line">        <span class="comment">//è·å–é”®çš„é›†åˆ</span></span><br><span class="line">        Set&lt;String&gt; keys = properties.stringPropertyNames();</span><br><span class="line">        <span class="keyword">for</span> (String key : keys) &#123;</span><br><span class="line">            <span class="comment">//å†æ ¹æ®é”®è·å–å€¼</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">value</span> <span class="operator">=</span> properties.getProperty(key);</span><br><span class="line">            System.out.println(key + <span class="string">&quot;----&gt;&quot;</span> + value);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        properties.forEach((k, v) -&gt; &#123;</span><br><span class="line">            System.out.println(k + <span class="string">&quot;----&gt;&quot;</span> + v);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>ä½¿ç”¨Propertieså¾€å±æ€§æ–‡ä»¶ä¸­å†™é”®å€¼å¯¹</strong>ï¼Œéœ€è¦ç”¨åˆ°çš„æ–¹æ³•å¦‚ä¸‹</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="/assets/1667993320872.png" alt="1667993320872"></p>
<p>å¸¸ç”¨æ–¹æ³•                    è¯´æ˜<br>public Object setProperty(String key,String value)<br>ä¿å­˜é”®å€¼å¯¹æ•°æ®åˆ°Propertieså¯¹è±¡ä¸­å»ã€‚<br>public void store(OutputStream osï¼ŒString comments)<br>æŠŠé”®å€¼å¯¹æ•°æ®ï¼Œé€šè¿‡å­—èŠ‚è¾“å‡ºæµå†™å‡ºåˆ°å±æ€§æ–‡ä»¶é‡Œå»<br>public void store(writer w,String comments)<br>æŠŠé”®å€¼å¯¹æ•°æ®ï¼Œé€šè¿‡å­—ç¬¦è¾“å‡ºæµå†™å‡ºåˆ°å±æ€§æ–‡ä»¶é‡Œå»</p>
<p>å¾€Propertieså±æ€§æ–‡ä»¶ä¸­å†™é”®å€¼å¯¹çš„æ­¥éª¤å¦‚ä¸‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>ã€å…ˆå‡†å¤‡ä¸€ä¸ª.propertieså±æ€§æ–‡ä»¶ï¼ŒæŒ‰ç…§æ ¼å¼å†™å‡ ä¸ªé”®å€¼å¯¹</span><br><span class="line"><span class="number">1</span>ã€åˆ›å»ºPropertieså¯¹è±¡å‡ºæ¥ï¼Œ</span><br><span class="line"><span class="number">2</span>ã€è°ƒç”¨setPropertyå­˜å‚¨ä¸€äº›é”®å€¼å¯¹æ•°æ®</span><br><span class="line"><span class="number">3</span>ã€è°ƒç”¨store(å­—ç¬¦è¾“å‡ºæµ/å­—èŠ‚è¾“å‡ºæµ, æ³¨é‡Š)ï¼Œå°†Propertiesé›†åˆä¸­çš„é”®å’Œå€¼å†™åˆ°æ–‡ä»¶ä¸­</span><br><span class="line">    æ³¨æ„ï¼šç¬¬äºŒä¸ªå‚æ•°æ˜¯æ³¨é‡Šï¼Œå¿…é¡»å¾—åŠ ï¼›</span><br></pre></td></tr></table></figure>

<p>å…ˆå‡†å¤‡ä¸€ä¸ª<code>users.properties</code>å±æ€§æ–‡ä»¶ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º</p>
<p>#ä»¥ä¸‹å†…å®¹éƒ½æ˜¯ç”¨æˆ·åå’Œå¯†ç ã€‚<br>admin&#x3D;123456<br>å¼ æ— å¿Œ&#x3D;minmin<br>å‘¨èŠ·è‹¥&#x3D;wuji<br>èµµæ•&#x3D;wuji</p>
<p>æ¥ä¸‹æ¥ï¼Œç¼–å†™ä»£ç è¯»å–ä¸Šé¢çš„å±æ€§æ–‡ä»¶ã€‚ä»£ç å¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PropertiesTest2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºPropertieså¯¹è±¡å‡ºæ¥ï¼Œå…ˆç”¨å®ƒå­˜å‚¨ä¸€äº›é”®å€¼å¯¹æ•°æ®</span></span><br><span class="line">        <span class="type">Properties</span> <span class="variable">properties</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line">        properties.setProperty(<span class="string">&quot;å¼ æ— å¿Œ&quot;</span>, <span class="string">&quot;minmin&quot;</span>);</span><br><span class="line">        properties.setProperty(<span class="string">&quot;æ®·ç´ ç´ &quot;</span>, <span class="string">&quot;cuishan&quot;</span>);</span><br><span class="line">        properties.setProperty(<span class="string">&quot;å¼ ç¿ å±±&quot;</span>, <span class="string">&quot;susu&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€æŠŠpropertieså¯¹è±¡ä¸­çš„é”®å€¼å¯¹æ•°æ®å­˜å…¥åˆ°å±æ€§æ–‡ä»¶ä¸­å»</span></span><br><span class="line">        properties.store(<span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="string">&quot;properties-xml-log-app/src/users2.properties&quot;</span>)</span><br><span class="line">                         , <span class="string">&quot;i saved many users!&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>







<h2 id="XMLæ–‡ä»¶"><a href="#XMLæ–‡ä»¶" class="headerlink" title="XMLæ–‡ä»¶"></a>XMLæ–‡ä»¶</h2><p>åŒå­¦ä»¬ï¼Œåœ¨ä¸Šä¸€èŠ‚æˆ‘ä»¬å­¦ä¹ äº†propertieså±æ€§æ–‡ä»¶ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬å†å­¦ä¹ ä¸€ç§åœ¨å¼€å‘ä¸­ç»å¸¸ä½¿ç”¨çš„æ–‡ä»¶ï¼Œå«åšxmlæ–‡ä»¶ã€‚æˆ‘ä»¬å…ˆæ¥ç»™åŒå­¦ä»¬ä»‹ç»ä¸€ä¸‹ï¼Œä»€ä¹ˆæ˜¯xmlæ–‡ä»¶ï¼Œç„¶åå†æ¥å­¦ä¹ å¦‚ä½•è¯»å–xmlæ–‡ä»¶ä¸­çš„æ•°æ®ã€‚</p>
<h3 id="XMLæ–‡ä»¶æ¦‚è¿°"><a href="#XMLæ–‡ä»¶æ¦‚è¿°" class="headerlink" title="XMLæ–‡ä»¶æ¦‚è¿°"></a>XMLæ–‡ä»¶æ¦‚è¿°</h3><p><strong>é¦–å…ˆï¼Œæˆ‘ä»¬æ¥è®¤è¯†ä¸€ä¸‹ï¼Œä»€ä¹ˆæ˜¯XMLï¼Ÿ</strong></p>
<p>XMLæ˜¯å¯æ‰©å±•çš„æ ‡è®°è¯­è¨€ï¼Œæ„æ€æ˜¯å®ƒæ˜¯ç”±ä¸€äº›æ ‡ç­¾ç»„æˆ	çš„ï¼Œè€Œè¿™äº›æ ‡ç­¾æ˜¯è‡ªå·±å®šä¹‰çš„ã€‚æœ¬è´¨ä¸Šä¸€ç§æ•°æ®æ ¼å¼ï¼Œå¯ä»¥ç”¨æ¥è¡¨ç¤ºå¤æ‚çš„æ•°æ®å…³ç³»ã€‚</p>
<p>XMLæ–‡ä»¶æœ‰å¦‚ä¸‹çš„ç‰¹ç‚¹ï¼š</p>
<ul>
<li>XMLä¸­çš„<code>&lt;æ ‡ç­¾å&gt;</code> ç§°ä¸ºä¸€ä¸ªæ ‡ç­¾æˆ–è€…ä¸€ä¸ªå…ƒç´ ï¼Œä¸€èˆ¬æ˜¯æˆå¯¹å‡ºç°çš„ã€‚</li>
<li>XMLä¸­çš„æ ‡ç­¾åå¯ä»¥è‡ªå·±å®šä¹‰ï¼ˆå¯æ‰©å±•ï¼‰ï¼Œä½†æ˜¯å¿…é¡»è¦æ­£ç¡®çš„åµŒå¥—</li>
<li>XMLä¸­åªèƒ½æœ‰ä¸€ä¸ªæ ¹æ ‡ç­¾ã€‚</li>
<li>XMLæ ‡å‡†ä¸­å¯ä»¥æœ‰å±æ€§</li>
<li>XMLå¿…é¡»ç¬¬ä¸€è¡Œæœ‰ä¸€ä¸ªæ–‡æ¡£å£°æ˜ï¼Œæ ¼å¼æ˜¯å›ºå®šçš„<code>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</code></li>
<li>XMLæ–‡ä»¶å¿…é¡»æ˜¯ä»¥.xmlä¸ºåç¼€ç»“å°¾</li>
</ul>
<p>å¦‚ä¸‹å›¾æ‰€ç¤º</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh97.png"><br><strong>æ¥ä¸‹ï¼ŒåŒå­¦ä»¬å¯ä»¥è·Ÿç€æ­¥éª¤æ–°å»ºä¸€ä¸ªXMLæ–‡ä»¶ï¼Œè¯•è¯•ï¼</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh98.png"></p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="comment">&lt;!-- æ³¨é‡Šï¼šä»¥ä¸ŠæŠ¬å¤´å£°æ˜å¿…é¡»æ”¾åœ¨ç¬¬ä¸€è¡Œï¼Œå¿…é¡»æœ‰ --&gt;</span></span><br><span class="line"><span class="comment">&lt;!--  æ ¹æ ‡ç­¾åªèƒ½æœ‰ä¸€ä¸ª --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">users</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">user</span> <span class="attr">id</span>=<span class="string">&quot;1&quot;</span> <span class="attr">desc</span>=<span class="string">&quot;ç¬¬ä¸€ä¸ªç”¨æˆ·&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>å¼ æ— å¿Œ<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">sex</span>&gt;</span>ç”·<span class="tag">&lt;/<span class="name">sex</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">åœ°å€</span>&gt;</span>å…‰æ˜é¡¶<span class="tag">&lt;/<span class="name">åœ°å€</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">password</span>&gt;</span>minmin<span class="tag">&lt;/<span class="name">password</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">user</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">people</span>&gt;</span>å¾ˆå¤šäºº<span class="tag">&lt;/<span class="name">people</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">user</span> <span class="attr">id</span>=<span class="string">&quot;2&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">name</span>&gt;</span>æ•æ•<span class="tag">&lt;/<span class="name">name</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">sex</span>&gt;</span>å¥³<span class="tag">&lt;/<span class="name">sex</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">åœ°å€</span>&gt;</span>å…‰æ˜é¡¶<span class="tag">&lt;/<span class="name">åœ°å€</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">password</span>&gt;</span>wuji<span class="tag">&lt;/<span class="name">password</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">user</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">users</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p>ä¸Šé¢XMLæ–‡ä»¶ä¸­çš„æ•°æ®æ ¼å¼æ˜¯æœ€ä¸ºå¸¸è§çš„ï¼Œæ ‡ç­¾æœ‰å±æ€§ã€æ–‡æœ¬ã€è¿˜æœ‰åˆç†çš„åµŒå¥—ã€‚XMLæ–‡ä»¶ä¸­é™¤äº†å†™ä»¥ä¸Šçš„æ•°æ®æ ¼å¼ä¹‹å¤–ï¼Œè¿˜æœ‰ä¸€äº›ç‰¹æ®Šçš„å­—ç¬¦ä¸èƒ½ç›´æ¥å†™ã€‚</p>
<ul>
<li><p>åƒ <code>&lt;,&gt;,&amp; </code>ç­‰è¿™äº›ç¬¦å·ä¸èƒ½å‡ºç°åœ¨æ ‡ç­¾çš„æ–‡æœ¬ä¸­ï¼Œå› ä¸ºæ ‡ç­¾æ ¼å¼æœ¬èº«å°±æœ‰&lt;&gt;ï¼Œä¼šå’Œæ ‡ç­¾æ ¼å¼å†²çªã€‚</p>
<p>å¦‚æœæ ‡ç­¾æ–‡æœ¬ä¸­æœ‰è¿™äº›ç‰¹æ®Šå­—ç¬¦ï¼Œéœ€è¦ç”¨ä¸€äº›å ä½ç¬¦ä»£æ›¿ã€‚</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&amp;lt;  è¡¨ç¤º &lt;</span><br><span class="line">&amp;gt;  è¡¨ç¤º &gt;</span><br><span class="line">&amp;amp; è¡¨ç¤º &amp;</span><br><span class="line">&amp;apos; è¡¨ç¤º &#x27;</span><br><span class="line">&amp;quot; è¡¨ç¤º &quot;</span><br></pre></td></tr></table></figure>

<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">data</span>&gt;</span> 3 <span class="symbol">&amp;lt;</span> 2 <span class="symbol">&amp;amp;</span><span class="symbol">&amp;amp;</span> 5 <span class="symbol">&amp;gt;</span> 4 <span class="tag">&lt;/<span class="name">data</span>&gt;</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>å¦‚æœåœ¨æ ‡ç­¾æ–‡æœ¬ä¸­ï¼Œå‡ºç°å¤§é‡çš„ç‰¹æ®Šå­—ç¬¦ï¼Œä¸æƒ³ä½¿ç”¨ç‰¹æ®Šå­—ç¬¦ï¼Œæ­¤æ—¶å¯ä»¥ç”¨CDATAåŒºï¼Œæ ¼å¼å¦‚ä¸‹</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">data1</span>&gt;</span></span><br><span class="line">    &lt;![CDATA[</span><br><span class="line">          3 &lt; 2 &amp;&amp; 5 &gt; 4</span><br><span class="line">    ]]&gt;</span><br><span class="line"><span class="tag">&lt;/<span class="name">data1</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>æœ€åï¼Œç»™åŒå­¦ä»¬èŠèŠï¼ŒXMLåœ¨å®é™…å¼€å‘ä¸­æœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ</strong></p>
<p>å…³äºXMLæ˜¯ä»€ä¹ˆï¼Œä»¥åŠXMLçš„æ ¼å¼ï¼Œè¿˜æœ‰XMLæœ‰ä»€ä¹ˆä½œç”¨ï¼Œå°±å…ˆè®¤è¯†åˆ°è¿™é‡Œã€‚</p>
<h3 id="XMLè§£æ1"><a href="#XMLè§£æ1" class="headerlink" title="XMLè§£æ1"></a>XMLè§£æ1</h3><p>ä½¿ç”¨ç¨‹åºè¯»å–XMLæ–‡ä»¶ä¸­çš„æ•°æ®ï¼Œç§°ä¹‹ä¸ºXMLè§£æã€‚è¿™é‡Œå¹¶ä¸éœ€è¦æˆ‘ä»¬è‡ªå·±å†™IOæµä»£ç å»è¯»å–xmlæ–‡ä»¶ä¸­çš„æ•°æ®ã€‚å…¶å®æœ‰å¾ˆå¤šå¼€æºçš„ï¼Œå¥½ç”¨çš„XMLè§£ææ¡†æ¶ï¼Œæœ€çŸ¥åçš„æ˜¯DOM4Jï¼ˆç¬¬ä¸‰æ–¹å¼€å‘çš„ï¼‰</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh99.png"></p>
<p>ç”±äºDOM4Jæ˜¯ç¬¬ä¸‰æ–¹æä¾›çš„ï¼Œæ‰€ä»¥éœ€è¦æŠŠç¬¬ä¸‰æ–¹æä¾›çš„JaråŒ…å¯¼å…¥åˆ°è‡ªå·±çš„é¡¹ç›®ä¸­æ¥ï¼Œæ‰å¯ä»¥ä½¿ç”¨ã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹ï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh100.png"></p>
<p>DOM4Jè§£æXMLæ–‡ä»¶çš„æ€æƒ³æ˜¯ï¼šæ–‡æ¡£å¯¹è±¡æ¨¡å‹ï¼ˆæ„æ€æ˜¯æŠŠæ•´ä¸ªXMLæ–‡æ¡£ã€æ¯ä¸€ä¸ªæ ‡ç­¾ã€æ¯ä¸€ä¸ªå±æ€§éƒ½ç­‰éƒ½å½“åšå¯¹è±¡æ¥çœ‹å¾…ï¼‰ã€‚Dowumentå¯¹è±¡è¡¨ç¤ºçœŸä¸ªXMLæ–‡æ¡£ã€Elementå¯¹è±¡è¡¨ç¤ºæ ‡ç­¾ï¼ˆå…ƒç´ ï¼‰ã€Attributeå¯¹è±¡è¡¨ç¤ºå±æ€§ã€æ ‡ç­¾ä¸­çš„å†…å®¹å°±æ˜¯æ–‡æœ¬</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh101.png"></p>
<p>DOM4Jè§£æXMLéœ€è¦ç”¨åˆ°çš„æ–¹æ³•å¦‚ä¸‹å›¾æ‰€ç¤º</p>
<ul>
<li><p>SAXReader: Dom4jæä¾›çš„è§£æå™¨ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯ä»£è¡¨æ•´ä¸ªDom4jæ¡†æ¶<br>æ„é€ å™¨&#x2F;æ–¹æ³•                        è¯´æ˜<br>public SAXReader()                æ„å»ºDom4Jçš„è§£æå™¨å¯¹è±¡<br>public Document read(String url)  æŠŠXMLæ–‡ä»¶è¯»æˆDocumentå¯¹è±¡<br>public Document read(InputStream is) é€šè¿‡å­—èŠ‚è¾“å…¥æµè¯»å–XMLæ–‡ä»¶</p>
</li>
<li><p>Document<br>æ–¹æ³•å                     è¯´æ˜<br>Element getRootElement()  è·å¾—æ ¹å…ƒç´ å¯¹è±¡</p>
</li>
</ul>
<p>XMLè§£æçš„è¿‡ç¨‹ï¼Œæ˜¯ä»æ ¹å…ƒç´ å¼€å§‹ï¼Œä»å¤–å±‚å¾€é‡Œå±‚è§£æã€‚ æˆ‘ä»¬å…ˆæŠŠDocumentå¯¹è±¡ï¼Œå’Œæ ¹å…ƒç´ è·å–å‡ºæ¥</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Dom4JTest1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºä¸€ä¸ªDom4Jæ¡†æ¶æä¾›çš„è§£æå™¨å¯¹è±¡</span></span><br><span class="line">        <span class="type">SAXReader</span> <span class="variable">saxReader</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SAXReader</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€ä½¿ç”¨saxReaderå¯¹è±¡æŠŠéœ€è¦è§£æçš„XMLæ–‡ä»¶è¯»æˆä¸€ä¸ªDocumentå¯¹è±¡ã€‚</span></span><br><span class="line">        <span class="type">Document</span> <span class="variable">document</span> <span class="operator">=</span></span><br><span class="line">                saxReader.read(<span class="string">&quot;properties-xml-log-app\\src\\helloworld.xml&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€ä»æ–‡æ¡£å¯¹è±¡ä¸­è§£æXMLæ–‡ä»¶çš„å…¨éƒ¨æ•°æ®äº†</span></span><br><span class="line">        <span class="type">Element</span> <span class="variable">root</span> <span class="operator">=</span> document.getRootElement();</span><br><span class="line">        System.out.println(root.getName());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh102.png"></p>
<h3 id="XMLè§£æ2"><a href="#XMLè§£æ2" class="headerlink" title="XMLè§£æ2"></a>XMLè§£æ2</h3><p>è·å–åˆ°XMLæ–‡ä»¶çš„æ ¹å…ƒç´ ä¹‹åï¼Œæ¥ä¸‹æ¥ï¼Œå°±å¯ä»¥ç”¨æ ¹å…ƒç´ åœ¨è·å–åˆ°å®ƒé‡Œé¢çš„å­å…ƒç´ ï¼ˆåŒ…æ‹¬å­æ ‡ç­¾ã€è¡¨å±æ€§ç­‰ï¼‰ã€‚éœ€è¦ç”¨åˆ°çš„æ–¹æ³•å¦‚ä¸‹å›¾æ‰€ç¤º</p>
<p>æ–¹æ³•å                                  è¯´æ˜<br>public string getName()<br>å¾—åˆ°å…ƒç´ åå­—<br>public List<Element> elements()<br>å¾—åˆ°å½“å‰å…ƒç´ ä¸‹æ‰€æœ‰å­å…ƒç´ <br>public list<Element> elements(String name)<br>å¾—åˆ°å½“å‰å…ƒç´ ä¸‹æŒ‡å®šåå­—çš„å­å…ƒç´ è¿”å›é›†åˆ<br>public Element element(String name)<br>å¾—åˆ°å½“å‰å…ƒç´ ä¸‹æŒ‡å®šåå­—çš„å­å…ƒç´ ,å¦‚æœæœ‰å¾ˆå¤šåå­—ç›¸åŒçš„è¿”å›ç¬¬ä¸€ä¸ª<br>public stringattributeValue(String name)<br>é€šè¿‡å±æ€§åç›´æ¥å¾—åˆ°å±æ€§å€¼<br>public String elementText(å­å…ƒç´ å)<br>å¾—åˆ°æŒ‡å®šåç§°çš„å­å…ƒç´ çš„æ–‡æœ¬<br>public string getText()<br>å¾—åˆ°æ–‡æœ¬</p>
<p>æ¥ä¸‹æ¥ï¼ŒæŠŠä¸Šé¢çš„æ–¹æ³•å…ˆä¸€ä¸ªä¸€ä¸ªçš„æ¼”ç¤ºä¸€ä¸‹ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Dom4JTest1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºä¸€ä¸ªDom4Jæ¡†æ¶æä¾›çš„è§£æå™¨å¯¹è±¡</span></span><br><span class="line">        <span class="type">SAXReader</span> <span class="variable">saxReader</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SAXReader</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€ä½¿ç”¨saxReaderå¯¹è±¡æŠŠéœ€è¦è§£æçš„XMLæ–‡ä»¶è¯»æˆä¸€ä¸ªDocumentå¯¹è±¡ã€‚</span></span><br><span class="line">        <span class="type">Document</span> <span class="variable">document</span> <span class="operator">=</span></span><br><span class="line">                saxReader.read(<span class="string">&quot;properties-xml-log-app\\src\\helloworld.xml&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€ä»æ–‡æ¡£å¯¹è±¡ä¸­è§£æXMLæ–‡ä»¶çš„å…¨éƒ¨æ•°æ®äº†</span></span><br><span class="line">        <span class="type">Element</span> <span class="variable">root</span> <span class="operator">=</span> document.getRootElement();</span><br><span class="line">        System.out.println(root.getName());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4ã€è·å–æ ¹å…ƒç´ ä¸‹çš„å…¨éƒ¨ä¸€çº§å­å…ƒç´ ã€‚</span></span><br><span class="line">        <span class="comment">// List&lt;Element&gt; elements = root.elements();</span></span><br><span class="line">        List&lt;Element&gt; elements = root.elements(<span class="string">&quot;user&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (Element element : elements) &#123;</span><br><span class="line">            System.out.println(element.getName());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 5ã€è·å–å½“å‰å…ƒç´ ä¸‹çš„æŸä¸ªå­å…ƒç´ ã€‚</span></span><br><span class="line">        <span class="type">Element</span> <span class="variable">people</span> <span class="operator">=</span> root.element(<span class="string">&quot;people&quot;</span>);</span><br><span class="line">        System.out.println(people.getText());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å¦‚æœä¸‹é¢æœ‰å¾ˆå¤šå­å…ƒç´ userï¼Œé»˜è®¤è·å–ç¬¬ä¸€ä¸ªã€‚</span></span><br><span class="line">        <span class="type">Element</span> <span class="variable">user</span> <span class="operator">=</span> root.element(<span class="string">&quot;user&quot;</span>);</span><br><span class="line">        System.out.println(user.elementText(<span class="string">&quot;name&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 6ã€è·å–å…ƒç´ çš„å±æ€§ä¿¡æ¯å‘¢ï¼Ÿ</span></span><br><span class="line">        System.out.println(user.attributeValue(<span class="string">&quot;id&quot;</span>));</span><br><span class="line">        <span class="type">Attribute</span> <span class="variable">id</span> <span class="operator">=</span> user.attribute(<span class="string">&quot;id&quot;</span>);</span><br><span class="line">        System.out.println(id.getName());</span><br><span class="line">        System.out.println(id.getValue());</span><br><span class="line"></span><br><span class="line">        List&lt;Attribute&gt; attributes = user.attributes();</span><br><span class="line">        <span class="keyword">for</span> (Attribute attribute : attributes) &#123;</span><br><span class="line">            System.out.println(attribute.getName() + <span class="string">&quot;=&quot;</span> + attribute.getValue());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 7ã€å¦‚ä½•è·å–å…¨éƒ¨çš„æ–‡æœ¬å†…å®¹:è·å–å½“å‰å…ƒç´ ä¸‹çš„å­å…ƒç´ æ–‡æœ¬å€¼</span></span><br><span class="line">        System.out.println(user.elementText(<span class="string">&quot;name&quot;</span>));</span><br><span class="line">        System.out.println(user.elementText(<span class="string">&quot;åœ°å€&quot;</span>));</span><br><span class="line">        System.out.println(user.elementTextTrim(<span class="string">&quot;åœ°å€&quot;</span>)); <span class="comment">// å–å‡ºæ–‡æœ¬å»é™¤å‰åç©ºæ ¼</span></span><br><span class="line">        System.out.println(user.elementText(<span class="string">&quot;password&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="type">Element</span> <span class="variable">data</span> <span class="operator">=</span> user.element(<span class="string">&quot;data&quot;</span>);</span><br><span class="line">        System.out.println(data.getText());</span><br><span class="line">        System.out.println(data.getTextTrim()); <span class="comment">// å–å‡ºæ–‡æœ¬å»é™¤å‰åç©ºæ ¼</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="XMLæ–‡ä»¶å†™å…¥"><a href="#XMLæ–‡ä»¶å†™å…¥" class="headerlink" title="XMLæ–‡ä»¶å†™å…¥"></a>XMLæ–‡ä»¶å†™å…¥</h3><p>åœ¨å‰é¢æˆ‘ä»¬å·²ç»å­¦ä¹ äº†XMLè§£æï¼Œæ„æ€å°±æ˜¯ä½¿ç”¨ç¨‹åºæŠŠXMLæ–‡ä»¶ä¸­çš„æ•°æ®è¯»å–å‡ºæ¥ã€‚åè¿‡æ¥èƒ½ä¸èƒ½å¾€XMLæ–‡ä»¶ä¸­å†™å…¥æ•°æ®å‘¢ï¼Ÿ ç­”æ¡ˆæ˜¯å¯ä»¥çš„ã€‚</p>
<p>DOM4Jä¹Ÿæä¾›äº†å¾€XMLæ–‡ä»¶ä¸­å†™æ ‡ç­¾çš„æ–¹æ³•ï¼Œä½†æ˜¯ç”¨èµ·æ¥æ¯”è¾ƒéº»çƒ¦ã€‚è¿™é‡Œä¸å»ºè®®ä½¿ç”¨</p>
<p>æˆ‘ä»¬è‡ªå·±ä½¿ç”¨StringBuilderæŒ‰ç…§æ ‡ç­¾çš„æ ¼å¼æ‹¼æ¥ï¼Œç„¶åå†ä½¿ç”¨BufferedWriterå†™åˆ°XMLæ–‡ä»¶ä¸­å»å°±å¯ä»¥äº†ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Dom4JTest2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 1ã€ä½¿ç”¨ä¸€ä¸ªStringBuilderå¯¹è±¡æ¥æ‹¼æ¥XMLæ ¼å¼çš„æ•°æ®ã€‚</span></span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        sb.append(<span class="string">&quot;&lt;?xml version=\&quot;1.0\&quot; encoding=\&quot;UTF-8\&quot; ?&gt;\r\n&quot;</span>);</span><br><span class="line">        sb.append(<span class="string">&quot;&lt;book&gt;\r\n&quot;</span>);</span><br><span class="line">        sb.append(<span class="string">&quot;\t&lt;name&gt;&quot;</span>).append(<span class="string">&quot;ä»å…¥é—¨åˆ°è·‘è·¯&quot;</span>).append(<span class="string">&quot;&lt;/name&gt;\r\n&quot;</span>);</span><br><span class="line">        sb.append(<span class="string">&quot;\t&lt;author&gt;&quot;</span>).append(<span class="string">&quot;dlei&quot;</span>).append(<span class="string">&quot;&lt;/author&gt;\r\n&quot;</span>);</span><br><span class="line">        sb.append(<span class="string">&quot;\t&lt;price&gt;&quot;</span>).append(<span class="number">999.99</span>).append(<span class="string">&quot;&lt;/price&gt;\r\n&quot;</span>);</span><br><span class="line">        sb.append(<span class="string">&quot;&lt;/book&gt;&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> (</span><br><span class="line">                <span class="type">BufferedWriter</span> <span class="variable">bw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedWriter</span>(<span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="string">&quot;properties-xml-log-app/src/book.xml&quot;</span>));</span><br><span class="line">                )&#123;</span><br><span class="line">            bw.write(sb.toString());</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="XMLçº¦æŸï¼ˆäº†è§£ï¼‰"><a href="#XMLçº¦æŸï¼ˆäº†è§£ï¼‰" class="headerlink" title="XMLçº¦æŸï¼ˆäº†è§£ï¼‰"></a>XMLçº¦æŸï¼ˆäº†è§£ï¼‰</h3><p>å„ä½å°ä¼™ä¼´ï¼Œå…³äºXMLè¿˜æœ‰æœ€åä¸€ä¸ªçŸ¥è¯†éœ€è¦å¤§å®¶äº†è§£ä¸€ä¸‹ã€‚è¿™ä¸ªçŸ¥è¯†å«åšçº¦æŸXMLæ–‡ä»¶çš„ç¼–å†™ï¼Œæˆ‘è®²è¿™ä¸ªçŸ¥è¯†çš„ç›®çš„æ˜¯å› ä¸ºåŒå­¦ä»¬ä»¥ååœ¨å¼€å‘è¿‡ç¨‹ä¸­ä¼šé‡åˆ°è¿™ä¸ªçŸ¥è¯†ï¼Œä½†æ˜¯è¿™ä¸ªä»£ç ä¸éœ€è¦å¤§å®¶å†™ï¼Œäº†è§£ä¸€ä¸‹å°±å¯ä»¥äº†ã€‚</p>
<p><strong>é¦–å…ˆï¼Œè¯´ä¸€äº›ä»€ä¹ˆæ˜¯XMLçº¦æŸï¼Ÿ</strong></p>
<p>XMLçº¦æŸæŒ‡çš„æ˜¯é™åˆ¶XMLæ–‡ä»¶ä¸­çš„æ ‡ç­¾æˆ–è€…å±æ€§ï¼Œåªèƒ½æŒ‰ç…§è§„å®šçš„æ ¼å¼å†™ã€‚</p>
<p>æ¯”å¦‚æˆ‘åœ¨é¡¹ç›®ä¸­ï¼Œæƒ³çº¦æŸä¸€ä¸ªXMLæ–‡ä»¶ä¸­çš„æ ‡ç­¾åªèƒ½å†™&lt;ä¹¦&gt;ã€&lt;ä¹¦å&gt;ã€&lt;ä½œè€…&gt;ã€&lt;å”®ä»·&gt;è¿™å‡ ä¸ªæ ‡ç­¾ï¼Œå¦‚æœå†™å…¶ä»–æ ‡ç­¾å°±æŠ¥é”™ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh103.png"></p>
<p>æ€ä¹ˆæ‰èƒ½è¾¾åˆ°ä¸Šé¢çš„æ•ˆæœå‘¢ï¼Ÿæœ‰ä¸¤ç§çº¦æŸæŠ€æœ¯ï¼Œä¸€ç§æ˜¯DTDçº¦æŸã€ä¸€ç§æ˜¯Schameçº¦æŸã€‚</p>
<ul>
<li><p>DTDçº¦æŸæ¡ˆä¾‹</p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºbook.xmlä¸­å¼•å…¥äº†DTDçº¦æŸæ–‡ä»¶ï¼Œbook.xmlæ–‡ä»¶ä¸­çš„æ ‡ç­¾å°±å—åˆ°DTDæ–‡ä»¶çš„çº¦æŸ</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh104.png"></p>
<p>DTDæ–‡ä»¶è§£é‡Š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;!ELEMENT ä¹¦æ¶(ä¹¦+)&gt;   è¡¨ç¤ºæ ¹æ ‡ç­¾æ˜¯&lt;ä¹¦æ¶&gt;ï¼Œå¹¶ä¸”ä¹¦æ¶ä¸­æœ‰å­æ ‡ç­¾&lt;ä¹¦&gt;</span><br><span class="line">&lt;!ELEMENT ä¹¦(ä¹¦åã€ä½œè€…ã€å”®ä»·)&gt; è¡¨ç¤ºä¹¦æ˜¯ä¸€ä¸ªæ ‡ç­¾ï¼Œä¸”ä¹¦ä¸­æœ‰å­æ ‡ç­¾&lt;ä¹¦å&gt;ã€&lt;ä½œè€…&gt;ã€&lt;å”®ä»·&gt;</span><br><span class="line">&lt;!ELEMENT ä¹¦å(#PCDATA)&gt;	è¡¨ç¤º&lt;ä¹¦å&gt;æ˜¯ä¸€ä¸ªæ ‡ç­¾ï¼Œä¸”&lt;ä¹¦å&gt;é‡Œé¢æ˜¯æ™®é€šæ–‡æœ¬</span><br><span class="line">&lt;!ELEMENT ä½œè€…(#PCDATA)&gt;	è¡¨ç¤º&lt;ä½œè€…&gt;æ˜¯ä¸€ä¸ªæ ‡ç­¾ï¼Œä¸”&lt;ä½œè€…&gt;é‡Œé¢æ˜¯æ™®é€šæ–‡æœ¬</span><br><span class="line">&lt;!ELEMENT å”®ä»·(#PCDATA)&gt;	è¡¨ç¤º&lt;å”®ä»·&gt;æ˜¯ä¸€ä¸ªæ ‡ç­¾ï¼Œä¸”&lt;å”®ä»·&gt;é‡Œé¢æ˜¯æ™®é€šæ–‡æœ¬</span><br></pre></td></tr></table></figure>


</li>
<li><p>Schameçº¦æŸæ¡ˆä¾‹</p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå·¦è¾¹çš„book2.xmlæ–‡ä»¶å°±å—åˆ°å³è¾¹schameæ–‡ä»¶ï¼ˆ.xsdç»“å°¾çš„æ–‡ä»¶ï¼‰çš„çº¦æŸã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh105.png"></p>
</li>
</ul>
<h2 id="æ—¥å¿—æŠ€æœ¯"><a href="#æ—¥å¿—æŠ€æœ¯" class="headerlink" title="æ—¥å¿—æŠ€æœ¯"></a>æ—¥å¿—æŠ€æœ¯</h2><h3 id="æ—¥å¿—æ¦‚è¿°"><a href="#æ—¥å¿—æ¦‚è¿°" class="headerlink" title="æ—¥å¿—æ¦‚è¿°"></a>æ—¥å¿—æ¦‚è¿°</h3><p>å¥½çš„åŒå­¦ä»¬ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å­¦ä¹ ä¸€ä¸ªå°†æ¥æˆ‘ä»¬ä¼šç”¨åˆ°çš„ä¸€ä¸ªæŠ€æœ¯ï¼Œå«åšæ—¥å¿—æŠ€æœ¯ã€‚é¦–å…ˆåŒå­¦ä»¬è‚¯å®šæƒ³çŸ¥é“ä»€ä¹ˆæ˜¯æ—¥å¿—ï¼Ÿ</p>
<p>æƒ³ææ¸…æ¥šä»€ä¹ˆæ˜¯æ—¥å¿—ï¼Œå…¶å®å¯ä»¥é€šè¿‡ä¸‹é¢å‡ ä¸ªé—®é¢˜æ¥äº†è§£çš„ã€‚</p>
<ul>
<li>ç³»ç»Ÿç³»ç»Ÿèƒ½è®°ä½æŸäº›æ•°æ®è¢«è°æ“ä½œï¼Œæ¯”å¦‚è¢«è°åˆ é™¤äº†ï¼Ÿ</li>
<li>æƒ³åˆ†æç”¨æˆ·æµè§ˆç³»ç»Ÿçš„å…·ä½“æƒ…å†µï¼Œæ¯”å¦‚æŒ–æ˜ç”¨æˆ·çš„å…·ä½“å–œå¥½ï¼Ÿ</li>
<li>å½“ç³»ç»Ÿåœ¨å¼€å‘ä¸­æˆ–è€…ä¸Šçº¿åå‡ºç°äº†Bugï¼Œå´©æºƒäº†ï¼Œè¯¥é€šè¿‡ä»€ä¹ˆå»åˆ†æï¼Œå®šä½Bug?</li>
</ul>
<p>è€Œæ—¥å¿—å°±å¯ä»¥å¸®æˆ‘ä»¬è§£å†³ä»¥ä¸Šçš„é—®é¢˜ã€‚æ‰€ä»¥æ—¥å¿—å°±å¥½æ¯”ç”Ÿæ´»ä¸­çš„æ—¥è®°ï¼Œæ—¥è®°å¯ä»¥è®°å½•ç”Ÿæ´»ä¸­çš„ç‚¹ç‚¹æ»´æ»´ï¼›è€Œç¨‹åºä¸­çš„æ—¥å¿—ï¼Œé€šå¸¸å°±æ˜¯ä¸€ä¸ªæ–‡ä»¶ï¼Œé‡Œé¢è®°å½•äº†ç¨‹åºè¿è¡Œè¿‡ç¨‹ä¸­äº§ç”Ÿçš„å„ç§æ•°æ®ã€‚</p>
<p>æ—¥å¿—æŠ€æœ¯æœ‰å¦‚ä¸‹å¥½å¤„</p>
<ol>
<li>æ—¥å¿—å¯ä»¥å°†ç³»ç»Ÿæ‰§è¡Œçš„ä¿¡æ¯ï¼Œæ–¹ä¾¿çš„è®°å½•åˆ°æŒ‡å®šä½ç½®ï¼Œå¯ä»¥æ˜¯æ§åˆ¶å°ã€å¯ä»¥æ˜¯æ–‡ä»¶ã€å¯ä»¥æ˜¯æ•°æ®åº“ä¸­ã€‚</li>
<li>æ—¥å¿—å¯ä»¥éšæ—¶ä»¥å¼€å…³çš„å½¢å¼æ§åˆ¶å¯åœï¼Œæ— éœ€ä¾µå…¥åˆ°æºä»£ç ä¸­å»ä¿®æ”¹ã€‚</li>
</ol>
<h3 id="æ—¥å¿—çš„ä½“ç³»"><a href="#æ—¥å¿—çš„ä½“ç³»" class="headerlink" title="æ—¥å¿—çš„ä½“ç³»"></a>æ—¥å¿—çš„ä½“ç³»</h3><p>åœ¨ä¸Šä¸€èŠ‚ç»™åŒå­¦ä»¬ä»‹ç»äº†ï¼Œä»€ä¹ˆæ˜¯æ—¥å¿—ï¼Œæ—¥å¿—èƒ½å¹²ä»€ä¹ˆã€‚æ¥ä¸‹æ¥éœ€è¦ç»™åŒå­¦ä»¬ä»‹ç»ä¸€ä¸‹æœ‰å“ªäº›æ—¥å¿—æŠ€æœ¯ï¼Œä»¥åŠæ—¥å¿—çš„ä½“ç³»ã€‚</p>
<p>å¤§å®¶æ³¨æ„äº†åœ¨è¡Œå†…ï¼Œå…¶å®æœ‰å¾ˆå¤šæ—¥å¿—æ¡†æ¶ç»™å¼€å‘è€…ä½¿ç”¨ã€‚æ‰€è°“æ—¥å¿—æ¡†æ¶å°±æ˜¯ç”±ä¸€äº›ç‰›äººæˆ–è€…ç¬¬ä¸‰æ–¹å…¬å¸å·²ç»åšå¥½çš„å®ç°ä»£ç ï¼Œåæ¥è€…å°±å¯ä»¥ç›´æ¥æ‹¿è¿‡å»ä½¿ç”¨ã€‚</p>
<p>æ—¥å¿—æ¡†æ¶æœ‰å¾ˆå¤šç§ï¼Œæ¯”å¦‚æœ‰JULï¼ˆjava.util.loggingï¼‰ã€Log4jã€logbackç­‰ã€‚ä½†æ˜¯è¿™äº›æ—¥å¿—æ¡†æ¶å¦‚æœä½¿ç”¨çš„APIæ–¹æ³•éƒ½ä¸ä¸€æ ·çš„è¯ï¼Œä½¿ç”¨è€…çš„å­¦ä¹ æˆæœ¬å°±å¾ˆé«˜ã€‚ä¸ºäº†é™ä½ç¨‹åºå‘˜çš„å­¦ä¹ å‹åŠ›ï¼Œè¡Œå†…æä¾›äº†ä¸€å¥—æ—¥å¿—æ¥å£ï¼Œç„¶åæ‰€æœ‰çš„æ—¥å¿—æ¡†æ¶éƒ½æŒ‰ç…§æ—¥å¿—æ¥å£çš„APIæ¥å®ç°å°±å¯ä»¥äº†ã€‚</p>
<p>è¿™æ ·ç¨‹åºå‘˜åªè¦ä¼šä¸€å¥—æ—¥å¿—æ¡†æ¶ï¼Œé‚£ä¹ˆå…¶ä»–çš„ä¹Ÿå°±å¯ä»¥é€šè¿‡ç”¨ï¼Œç”šè‡³å¯ä»¥åœ¨å¤šå¥—æ—¥å¿—æ¡†æ¶ä¹‹é—´æ¥å›åˆ‡æ¢ã€‚æ¯”è¾ƒå¸¸ç”¨çš„æ—¥å¿—æ¡†æ¶ï¼Œå’Œæ—¥å¿—æ¥å£çš„å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤º</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh106.png"></p>
<p><strong>è¿™é‡Œæ¨èåŒå­¦ä»¬ä½¿ç”¨Logbackæ—¥å¿—æ¡†æ¶ï¼Œä¹Ÿåœ¨è¡Œä¸šä¸­æœ€ä¸ºå¹¿æ³›ä½¿ç”¨çš„ã€‚</strong></p>
<p><strong>Logbackæ—¥å¿—åˆ†ä¸ºå“ªå‡ ä¸ªæ¨¡å—</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh107.png"></p>
<h3 id="Logbackå¿«é€Ÿå…¥é—¨"><a href="#Logbackå¿«é€Ÿå…¥é—¨" class="headerlink" title="Logbackå¿«é€Ÿå…¥é—¨"></a>Logbackå¿«é€Ÿå…¥é—¨</h3><p>æ¥ä¸‹æ¥ï¼Œå°±å¸¦é¢†åŒå­¦ä»¬å¿«é€Ÿä½¿ç”¨ä¸€ä¸‹Logbackæ—¥å¿—æ¡†æ¶ï¼Œä½¿ç”¨Logbackè®°å½•å‡ æ¡æ—¥å¿—ä¿¡æ¯åˆ°æ–‡ä»¶ä¸­å»å’Œå°†æ—¥å¿—ä¿¡æ¯æ‰“å°åœ¨æ§åˆ¶å°ä¸Šã€‚</p>
<p>ç”±äºLogbackæ˜¯ç¬¬ä¸‰æ–¹æä¾›çš„æŠ€æœ¯ï¼Œæ‰€ä»¥é¦–å…ˆéœ€è¦å•Šå°†JaråŒ…å¼•å…¥åˆ°é¡¹ç›®ä¸­ï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹</p>
<ol>
<li><p>åœ¨èµ„æ–™ä¸­æ‰¾åˆ°<code>slftj-api.jarã€logback-core.jarã€logback-classes.jar</code> è¿™ä¸‰ä¸ªjaråŒ…ï¼Œå¤åˆ¶ä¸€ä¸‹</p>
</li>
<li><p>åœ¨å½“å‰æ¨¡å—ä¸‹é¢æ–°å»ºä¸€ä¸ªlibæ–‡ä»¶å¤¹ï¼ŒæŠŠåˆšåˆšå¤åˆ¶çš„ä¸‰ä¸ªjaråŒ…éƒ½ç²˜è´´åˆ°æ­¤å¤„</p>
</li>
<li><p>ä»èµ„æ–™ä¸­æ‰¾åˆ°<code>logback.xml</code>é…ç½®æ–‡ä»¶ï¼Œå°†æ­¤æ–‡ä»¶å¤åˆ¶ç²˜è´´åˆ°srcç›®å½•ä¸‹ï¼ˆå¿…é¡»æ˜¯srcç›®å½•ï¼‰</p>
</li>
<li><p>ç„¶åå°±å¯ä»¥å¼€å§‹å†™ä»£ç äº†ï¼Œåœ¨ä»£ç ä¸­åˆ›å»ºä¸€ä¸ªæ—¥å¿—è®°å½•æ—¥å¯¹è±¡</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Logger</span> <span class="variable">LOGGER</span> <span class="operator">=</span> LoggerFactory.getLogger(<span class="string">&quot;å½“å‰ç±»å&quot;</span>);</span><br></pre></td></tr></table></figure>
</li>
<li><p>å¼€å§‹è®°å½•æ—¥å¿—ï¼Œä»£ç å¦‚ä¸‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LogBackTest</span> &#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ªLoggeræ—¥å¿—å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Logger</span> <span class="variable">LOGGER</span> <span class="operator">=</span> LoggerFactory.getLogger(<span class="string">&quot;LogBackTest&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//while (true) &#123;</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                LOGGER.info(<span class="string">&quot;chuæ³•æ–¹æ³•å¼€å§‹æ‰§è¡Œ~~~&quot;</span>);</span><br><span class="line">                chu(<span class="number">10</span>, <span class="number">0</span>);</span><br><span class="line">                LOGGER.info(<span class="string">&quot;chuæ³•æ–¹æ³•æ‰§è¡ŒæˆåŠŸ~~~&quot;</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                LOGGER.error(<span class="string">&quot;chuæ³•æ–¹æ³•æ‰§è¡Œå¤±è´¥äº†ï¼Œå‡ºç°äº†bug~~~&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        <span class="comment">//&#125;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">chu</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span>&#123;</span><br><span class="line">        LOGGER.debug(<span class="string">&quot;å‚æ•°a:&quot;</span> + a);</span><br><span class="line">        LOGGER.debug(<span class="string">&quot;å‚æ•°b:&quot;</span> + b);</span><br><span class="line">        <span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> a / b;</span><br><span class="line">        LOGGER.info(<span class="string">&quot;ç»“æœæ˜¯ï¼š&quot;</span> + c);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>å½“æˆ‘ä»¬è¿è¡Œç¨‹åºæ—¶ï¼Œå°±å¯ä»¥çœ‹åˆ°æ§åˆ¶å°è®°å½•çš„æ—¥å¿—</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh108.png"></p>
<p>åŒæ—¶åœ¨æ–‡ä»¶ä¸­ï¼Œä¹Ÿæœ‰ä¸€ä»½è¿™æ ·çš„æ—¥å¿—ä¿¡æ¯ã€‚æ–‡ä»¶åœ¨å“ªé‡Œå†…ï¼Œä»é…ç½®æ–‡ä»¶ä¸­å»æ‰¾</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh109.png"></p>
<p>æ‰“å¼€<code>D:/log/itheima-data.log</code>çœ‹ä¸€ä¸‹æ–‡ä»¶ä¸­æ˜¯å¦æœ‰è®°å½•æ—¥å¿—å§ï¼ï¼</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh110.png"></p>
<p>å…³äºLogbackçš„å¿«é€Ÿå…¥é—¨æˆ‘ä»¬å°±åšå®Œäº†ã€‚è‡³äºæ—¥å¿—çš„é…ç½®æ–‡ä»¶ä¸­ï¼Œå…¶ä»–çš„é…ç½®æ˜¯ä»€ä¹ˆå«ä¹‰æˆ‘ä»¬ä¸‹ä¸€èŠ‚å†ç»§ç»­å­¦ä¹ ã€‚</p>
<h3 id="æ—¥å¿—é…ç½®æ–‡ä»¶"><a href="#æ—¥å¿—é…ç½®æ–‡ä»¶" class="headerlink" title="æ—¥å¿—é…ç½®æ–‡ä»¶"></a>æ—¥å¿—é…ç½®æ–‡ä»¶</h3><p>Logbackæä¾›äº†ä¸€ä¸ªæ ¸å¿ƒé…ç½®æ–‡ä»¶logback.xmlï¼Œæ—¥å¿—æ¡†æ¶åœ¨è®°å½•æ—¥å¿—æ—¶ä¼šè¯»å–é…ç½®æ–‡ä»¶ä¸­çš„é…ç½®ä¿¡æ¯ï¼Œä»è€Œè®°å½•æ—¥å¿—çš„å½¢å¼ã€‚å…·ä½“å¯ä»¥åšå“ªäº›é…ç½®å‘¢ï¼Ÿ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> å¯ä»¥é…ç½®æ—¥å¿—è¾“å‡ºçš„ä½ç½®æ˜¯æ–‡ä»¶ã€è¿˜æ˜¯æ§åˆ¶å°</span><br><span class="line"><span class="number">2.</span> å¯ä»¥é…ç½®æ—¥å¿—è¾“å‡ºçš„æ ¼å¼</span><br><span class="line"><span class="number">3.</span> è¿˜å¯ä»¥é…ç½®æ—¥å¿—å…³é—­å’Œå¼€å¯ã€ä»¥åŠå“ªäº›æ—¥å¿—è¾“å‡ºå“ªäº›æ—¥å¿—ä¸è¾“å‡ºã€‚</span><br></pre></td></tr></table></figure>

<ul>
<li><strong>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæ§åˆ¶æ—¥å¿—å¾€æ–‡ä»¶ä¸­è¾“å‡ºï¼Œè¿˜æ˜¯å¾€æ§åˆ¶å°è¾“å‡º</strong></li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh111.png"></p>
<ul>
<li><strong>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæ§åˆ¶æ‰“å¼€å’Œå…³é—­æ—¥å¿—</strong></li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh112.png"></p>
<ul>
<li><p><strong>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæ§åˆ¶æ—¥å¿—çš„è¾“å‡ºçš„æ ¼å¼</strong></p>
<p>æ—¥å¿—æ ¼å¼æ˜¯ç”±ä¸€äº›ç‰¹æ®Šçš„ç¬¦å·ç»„æˆï¼Œå¯ä»¥æ ¹æ®éœ€è¦åˆ å‡ä¸æƒ³çœ‹åˆ°çš„éƒ¨åˆ†ã€‚æ¯”å¦‚ä¸æƒ³çœ‹åˆ°çº¿ç¨‹åé‚£å°±ä¸è¦[%thread]ã€‚ä½†æ˜¯ä¸å»ºè®®åŒå­¦ä»¬æ›´æ”¹è¿™äº›æ ¼å¼ï¼Œå› ä¸ºè¿™äº›éƒ½æ˜¯æ—¥å¿—å¾ˆåŸºæœ¬çš„ä¿¡æ¯ã€‚</p>
</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh113.png"></p>
<h3 id="3-5-é…ç½®æ—¥å¿—çº§åˆ«"><a href="#3-5-é…ç½®æ—¥å¿—çº§åˆ«" class="headerlink" title="3.5 é…ç½®æ—¥å¿—çº§åˆ«"></a>3.5 é…ç½®æ—¥å¿—çº§åˆ«</h3><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh114.png"></p>
<ul>
<li>åœ¨å“ªé‡Œé…ç½®æ—¥å¿—çº§åˆ«å‘¢ï¼Ÿå¦‚ä¸‹å›¾æ‰€ç¤º</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh115.png"></p>
<ul>
<li><p>Logbackåªè¾“å‡ºå¤§äºæˆ–è€…ç­‰äºæ ¸å¿ƒé…ç½®æ–‡ä»¶é…ç½®çš„æ—¥å¿—çº§åˆ«ä¿¡æ¯ã€‚å°äºé…ç½®çº§åˆ«çš„æ—¥å¿—ä¿¡æ¯ï¼Œä¸è¢«è®°å½•ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">é…ç½®çš„æ˜¯traceï¼Œåˆ™traceã€debugã€infoã€warnã€errorçº§åˆ«çš„æ—¥å¿—éƒ½è¢«è¾“å‡º</span><br><span class="line">é…ç½®çš„æ˜¯debug, åˆ™debugã€infoã€warnã€errorçº§åˆ«çš„æ—¥å¿—è¢«è¾“å‡º</span><br><span class="line">é…ç½®çš„æ˜¯info,åˆ™infoã€warnã€errorçº§åˆ«çš„æ—¥å¿—è¢«è¾“å‡º</span><br><span class="line">...</span><br></pre></td></tr></table></figure></li>
</ul>
<h2 id="å¤šçº¿ç¨‹"><a href="#å¤šçº¿ç¨‹" class="headerlink" title="å¤šçº¿ç¨‹"></a>å¤šçº¿ç¨‹</h2><p>åŒå­¦ä»¬ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æ¥å­¦ä¹ ä¸€ä¸ªå…¨æ–°è€Œä¸”éå¸¸é‡è¦çš„çŸ¥è¯†ï¼Œå«åšå¤šçº¿ç¨‹ã€‚é¦–å…ˆå’ŒåŒå­¦ä»¬èŠèŠä»€ä¹ˆæ˜¯çº¿ç¨‹ï¼Ÿ<strong>çº¿ç¨‹å…¶å®æ˜¯ç¨‹åºä¸­çš„ä¸€æ¡æ‰§è¡Œè·¯å¾„ã€‚</strong></p>
<p> æˆ‘ä»¬ä¹‹å‰å†™è¿‡çš„ç¨‹åºï¼Œå…¶å®éƒ½æ˜¯å•çº¿ç¨‹ç¨‹åºï¼Œå¦‚ä¸‹å›¾ä»£ç ï¼Œå¦‚æœå‰é¢çš„forå¾ªç¯æ²¡æœ‰æ‰§è¡Œå®Œï¼Œforå¾ªç¯ä¸‹é¢çš„ä»£ç æ˜¯ä¸ä¼šæ‰§è¡Œçš„ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh116.png"></p>
<p><strong>æ€æ ·çš„ç¨‹åºæ‰æ˜¯å¤šçº¿ç¨‹ç¨‹åºå‘¢ï¼Ÿ</strong> å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œ12306ç½‘ç«™å°±æ˜¯æ”¯æŒå¤šçº¿ç¨‹çš„ï¼Œå› ä¸ºåŒæ—¶å¯ä»¥æœ‰å¾ˆå¤šäººä¸€èµ·è¿›å…¥ç½‘ç«™è´­ç¥¨ï¼Œè€Œä¸”æ¯ä¸€ä¸ªäººäº’ä¸å½±å“ã€‚å†æ¯”å¦‚ç™¾åº¦ç½‘ç›˜ï¼Œå¯ä»¥åŒæ—¶ä¸‹è½½æˆ–è€…ä¸Šä¼ å¤šä¸ªæ–‡ä»¶ã€‚è¿™äº›ç¨‹åºä¸­å…¶å®å°±æœ‰å¤šæ¡æ‰§è¡Œè·¯å¾„ï¼Œæ¯ä¸€æ¡æ‰§è¡Œæ‰§è¡Œè·¯å¾„å°±æ˜¯ä¸€æ¡çº¿ç¨‹ï¼Œæ‰€ä»¥è¿™æ ·çš„ç¨‹åºå°±æ˜¯å¤šçº¿ç¨‹ç¨‹åºã€‚</p>
<p>è®¤è¯†äº†ä»€ä¹ˆæ˜¯å¤šçº¿ç¨‹ç¨‹åºï¼Œé‚£å¦‚ä½•ä½¿ç”¨Javaåˆ›å»ºçº¿ç¨‹å‘¢ï¼Ÿ Javaæä¾›äº†å‡ ç§åˆ›å»ºçº¿ç¨‹çš„æ–¹å¼ï¼Œä¸‹ä¸€èŠ‚å†ä¸€ç§ä¸€ç§çš„å­¦ä¹ ã€‚</p>
<h3 id="çº¿ç¨‹åˆ›å»ºæ–¹å¼1"><a href="#çº¿ç¨‹åˆ›å»ºæ–¹å¼1" class="headerlink" title="çº¿ç¨‹åˆ›å»ºæ–¹å¼1"></a>çº¿ç¨‹åˆ›å»ºæ–¹å¼1</h3><p>Javaä¸ºå¼€å‘è€…æä¾›äº†ä¸€ä¸ªç±»å«åšThreadï¼Œæ­¤ç±»çš„å¯¹è±¡ç”¨æ¥è¡¨ç¤ºçº¿ç¨‹ã€‚åˆ›å»ºçº¿ç¨‹å¹¶æ‰§è¡Œçº¿ç¨‹çš„æ­¥éª¤å¦‚ä¸‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>å®šä¹‰ä¸€ä¸ªå­ç±»ç»§æ‰¿Threadç±»ï¼Œå¹¶é‡å†™runæ–¹æ³•</span><br><span class="line"><span class="number">2.</span>åˆ›å»ºThreadçš„å­ç±»å¯¹è±¡</span><br><span class="line"><span class="number">3.</span>è°ƒç”¨startæ–¹æ³•å¯åŠ¨çº¿ç¨‹ï¼ˆå¯åŠ¨çº¿ç¨‹åï¼Œä¼šè‡ªåŠ¨æ‰§è¡Œrunæ–¹æ³•ä¸­çš„ä»£ç ï¼‰</span><br></pre></td></tr></table></figure>

<p>ä»£ç å¦‚ä¸‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    <span class="comment">// 2ã€å¿…é¡»é‡å†™Threadç±»çš„runæ–¹æ³•</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// æè¿°çº¿ç¨‹çš„æ‰§è¡Œä»»åŠ¡ã€‚</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;å­çº¿ç¨‹MyThreadè¾“å‡ºï¼š&quot;</span> + i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å†å®šä¹‰ä¸€ä¸ªæµ‹è¯•ç±»ï¼Œåœ¨æµ‹è¯•ç±»ä¸­åˆ›å»ºMyThreadçº¿ç¨‹å¯¹è±¡ï¼Œå¹¶å¯åŠ¨çº¿ç¨‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadTest1</span> &#123;</span><br><span class="line">    <span class="comment">// mainæ–¹æ³•æ˜¯ç”±ä¸€æ¡é»˜è®¤çš„ä¸»çº¿ç¨‹è´Ÿè´£æ‰§è¡Œã€‚</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 3ã€åˆ›å»ºMyThreadçº¿ç¨‹ç±»çš„å¯¹è±¡ä»£è¡¨ä¸€ä¸ªçº¿ç¨‹</span></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyThread</span>();</span><br><span class="line">        <span class="comment">// 4ã€å¯åŠ¨çº¿ç¨‹ï¼ˆè‡ªåŠ¨æ‰§è¡Œrunæ–¹æ³•çš„ï¼‰</span></span><br><span class="line">        t.start(); </span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;ä¸»çº¿ç¨‹mainè¾“å‡ºï¼š&quot;</span> + i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ‰“å°ç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬ä¼šå‘ç°MyThreadå’Œmainçº¿ç¨‹åœ¨ç›¸äº’æŠ¢å¤ºCPUçš„æ‰§è¡Œæƒï¼ˆ<strong>æ³¨æ„ï¼šå“ªä¸€ä¸ªçº¿ç¨‹å…ˆæ‰§è¡Œï¼Œå“ªä¸€ä¸ªçº¿ç¨‹åæ‰§è¡Œï¼Œç›®å‰æˆ‘ä»¬æ˜¯æ— æ³•æ§åˆ¶çš„ï¼Œæ¯æ¬¡è¾“å‡ºç»“æœéƒ½ä¼šä¸ä¸€æ ·</strong>ï¼‰</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh117.png"></p>
<p><strong>æœ€åæˆ‘ä»¬è¿˜éœ€è¦æ³¨æ„ä¸€ç‚¹</strong>ï¼šä¸èƒ½ç›´æ¥å»è°ƒç”¨runæ–¹æ³•ï¼Œå¦‚æœç›´æ¥è°ƒç”¨runæ–¹æ³•å°±ä¸è®¤ä¸ºæ˜¯ä¸€æ¡çº¿ç¨‹å¯åŠ¨äº†ï¼Œè€Œæ˜¯æŠŠThreadå½“åšä¸€ä¸ªæ™®é€šå¯¹è±¡ï¼Œæ­¤æ—¶runæ–¹æ³•ä¸­çš„æ‰§è¡Œçš„ä»£ç ä¼šæˆä¸ºä¸»çº¿ç¨‹çš„ä¸€éƒ¨åˆ†ã€‚æ­¤æ—¶æ‰§è¡Œç»“æœæ˜¯è¿™æ ·çš„ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh118.png"></p>
<h3 id="çº¿ç¨‹åˆ›å»ºæ–¹å¼2"><a href="#çº¿ç¨‹åˆ›å»ºæ–¹å¼2" class="headerlink" title="çº¿ç¨‹åˆ›å»ºæ–¹å¼2"></a>çº¿ç¨‹åˆ›å»ºæ–¹å¼2</h3><p>æ¥ä¸‹æ¥æˆ‘ä»¬å­¦ä¹ çº¿ç¨‹çš„ç¬¬äºŒç§åˆ›å»ºæ–¹å¼ã€‚Javaä¸ºå¼€å‘è€…æä¾›äº†ä¸€ä¸ªRunnableæ¥å£ï¼Œè¯¥æ¥å£ä¸­åªæœ‰ä¸€ä¸ªrunæ–¹æ³•ï¼Œæ„æ€å°±æ˜¯é€šè¿‡Runnableæ¥å£çš„å®ç°ç±»å¯¹è±¡ä¸“é—¨æ¥è¡¨ç¤ºçº¿ç¨‹è¦æ‰§è¡Œçš„ä»»åŠ¡ã€‚å…·ä½“æ­¥éª¤å¦‚ä¸‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>å…ˆå†™ä¸€ä¸ªRunnableæ¥å£çš„å®ç°ç±»ï¼Œé‡å†™runæ–¹æ³•(è¿™é‡Œé¢å°±æ˜¯çº¿ç¨‹è¦æ‰§è¡Œçš„ä»£ç )</span><br><span class="line"><span class="number">2.</span>å†åˆ›å»ºä¸€ä¸ªRunnableå®ç°ç±»çš„å¯¹è±¡</span><br><span class="line"><span class="number">3.</span>åˆ›å»ºä¸€ä¸ªThreadå¯¹è±¡ï¼ŒæŠŠRunnableå®ç°ç±»çš„å¯¹è±¡ä¼ é€’ç»™Thread</span><br><span class="line"><span class="number">4.</span>è°ƒç”¨Threadå¯¹è±¡çš„start()æ–¹æ³•å¯åŠ¨çº¿ç¨‹ï¼ˆå¯åŠ¨åä¼šè‡ªåŠ¨æ‰§è¡ŒRunnableé‡Œé¢çš„runæ–¹æ³•ï¼‰</span><br></pre></td></tr></table></figure>

<p>ä»£ç å¦‚ä¸‹ï¼šå…ˆå‡†å¤‡ä¸€ä¸ªRunnableæ¥å£çš„å®ç°ç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 1ã€å®šä¹‰ä¸€ä¸ªä»»åŠ¡ç±»ï¼Œå®ç°Runnableæ¥å£</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyRunnable</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="comment">// 2ã€é‡å†™runnableçš„runæ–¹æ³•</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// çº¿ç¨‹è¦æ‰§è¡Œçš„ä»»åŠ¡ã€‚</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;å­çº¿ç¨‹è¾“å‡º ===ã€‹&quot;</span> + i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å†å†™ä¸€ä¸ªæµ‹è¯•ç±»ï¼Œåœ¨æµ‹è¯•ç±»ä¸­åˆ›å»ºçº¿ç¨‹å¯¹è±¡ï¼Œå¹¶æ‰§è¡Œçº¿ç¨‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadTest2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 3ã€åˆ›å»ºä»»åŠ¡å¯¹è±¡ã€‚</span></span><br><span class="line">        <span class="type">Runnable</span> <span class="variable">target</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyRunnable</span>();</span><br><span class="line">        <span class="comment">// 4ã€æŠŠä»»åŠ¡å¯¹è±¡äº¤ç»™ä¸€ä¸ªçº¿ç¨‹å¯¹è±¡å¤„ç†ã€‚</span></span><br><span class="line">        <span class="comment">//  public Thread(Runnable target)</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(target).start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;ä¸»çº¿ç¨‹mainè¾“å‡º ===ã€‹&quot;</span> + i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œä¸Šé¢ä»£ç ï¼Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤º<strong>ï¼ˆæ³¨æ„ï¼šæ²¡æœ‰å‡ºç°ä¸‹é¢äº¤æ›¿æ‰§è¡Œçš„æ•ˆæœï¼Œä¹Ÿæ˜¯æ­£å¸¸çš„ï¼‰</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">ä¸»çº¿ç¨‹mainè¾“å‡º ===ã€‹<span class="number">1</span></span><br><span class="line">ä¸»çº¿ç¨‹mainè¾“å‡º ===ã€‹<span class="number">2</span></span><br><span class="line">ä¸»çº¿ç¨‹mainè¾“å‡º ===ã€‹<span class="number">3</span></span><br><span class="line">å­çº¿ç¨‹è¾“å‡º ===ã€‹<span class="number">1</span></span><br><span class="line">å­çº¿ç¨‹è¾“å‡º ===ã€‹<span class="number">2</span></span><br><span class="line">å­çº¿ç¨‹è¾“å‡º ===ã€‹<span class="number">3</span></span><br><span class="line">å­çº¿ç¨‹è¾“å‡º ===ã€‹<span class="number">4</span></span><br><span class="line">å­çº¿ç¨‹è¾“å‡º ===ã€‹<span class="number">5</span></span><br><span class="line">ä¸»çº¿ç¨‹mainè¾“å‡º ===ã€‹<span class="number">4</span></span><br><span class="line">ä¸»çº¿ç¨‹mainè¾“å‡º ===ã€‹<span class="number">5</span></span><br></pre></td></tr></table></figure>



<h3 id="çº¿ç¨‹åˆ›å»ºæ–¹å¼2â€”åŒ¿åå†…éƒ¨ç±»"><a href="#çº¿ç¨‹åˆ›å»ºæ–¹å¼2â€”åŒ¿åå†…éƒ¨ç±»" class="headerlink" title="çº¿ç¨‹åˆ›å»ºæ–¹å¼2â€”åŒ¿åå†…éƒ¨ç±»"></a>çº¿ç¨‹åˆ›å»ºæ–¹å¼2â€”åŒ¿åå†…éƒ¨ç±»</h3><p>åŒå­¦ä»¬æ³¨æ„äº†ï¼Œç°åœ¨è¿™ç§å†™æ³•ä¸æ˜¯æ–°çŸ¥è¯†ã€‚åªæ˜¯å°†å‰é¢ç¬¬äºŒç§æ–¹å¼ç”¨åŒ¿åå†…éƒ¨ç±»æ”¹å†™ä¸€ä¸‹ã€‚å› ä¸ºåŒå­¦ä»¬åœ¨çœ‹åˆ«äººå†™çš„ä»£ç æ—¶ï¼Œæœ‰å¯èƒ½ä¼šçœ‹åˆ°è¿™ç§å†™æ³•ã€‚ä½ çŸ¥é“æ˜¯æ€ä¹ˆå›äº‹å°±å¯ä»¥äº†ã€‚</p>
<p>åˆšåˆšæˆ‘ä»¬å­¦ä¹ çš„ç¬¬äºŒç§çº¿ç¨‹çš„åˆ›å»ºæ–¹å¼ï¼Œéœ€è¦å†™ä¸€ä¸ªRunnableæ¥å£çš„å®ç°ç±»ï¼Œç„¶åå†æŠŠRunnableå®ç°ç±»çš„å¯¹è±¡ä¼ é€’ç»™Threadå¯¹è±¡ã€‚</p>
<p><strong>ç°åœ¨æˆ‘ä¸æƒ³å†™Runnableå®ç°ç±»ï¼Œäºæ˜¯å¯ä»¥ç›´æ¥åˆ›å»ºRunnableæ¥å£çš„åŒ¿åå†…éƒ¨ç±»å¯¹è±¡ï¼Œä¼ é€’ç»™Threadå¯¹è±¡ã€‚</strong></p>
<p>ä»£ç å¦‚ä¸‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadTest2_2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 1ã€ç›´æ¥åˆ›å»ºRunnableæ¥å£çš„åŒ¿åå†…éƒ¨ç±»å½¢å¼ï¼ˆä»»åŠ¡å¯¹è±¡ï¼‰</span></span><br><span class="line">        <span class="type">Runnable</span> <span class="variable">target</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Runnable</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) &#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;å­çº¿ç¨‹1è¾“å‡ºï¼š&quot;</span> + i);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(target).start();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç®€åŒ–å½¢å¼1ï¼š</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">Runnable</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) &#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;å­çº¿ç¨‹2è¾“å‡ºï¼š&quot;</span> + i);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;).start();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç®€åŒ–å½¢å¼2ï¼š</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) &#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;å­çº¿ç¨‹3è¾“å‡ºï¼š&quot;</span> + i);</span><br><span class="line">                &#125;</span><br><span class="line">        &#125;).start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;ä¸»çº¿ç¨‹mainè¾“å‡ºï¼š&quot;</span> + i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="çº¿ç¨‹çš„åˆ›å»ºæ–¹å¼3"><a href="#çº¿ç¨‹çš„åˆ›å»ºæ–¹å¼3" class="headerlink" title="çº¿ç¨‹çš„åˆ›å»ºæ–¹å¼3"></a>çº¿ç¨‹çš„åˆ›å»ºæ–¹å¼3</h3><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å­¦ä¹ çº¿ç¨‹çš„ç¬¬ä¸‰ç§åˆ›å»ºæ–¹å¼ã€‚å·²ç»æœ‰ä¸¤ç§äº†ä¸ºä»€ä¹ˆè¿˜æœ‰è¦ç¬¬ä¸‰ç§å‘¢ï¼Ÿ è¿™æ ·ï¼Œæˆ‘ä»¬å…ˆåˆ†æä¸€ä¸‹å‰é¢ä¸¤ç§éƒ½å­˜åœ¨çš„ä¸€ä¸ªé—®é¢˜ã€‚ç„¶åå†å¼•å‡ºç¬¬ä¸‰ç§å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<ul>
<li><p>å‡è®¾çº¿ç¨‹æ‰§è¡Œå®Œæ¯•ä¹‹åæœ‰ä¸€äº›æ•°æ®éœ€è¦è¿”å›ï¼Œå‰é¢ä¸¤ç§æ–¹å¼é‡å†™çš„runæ–¹æ³•å‡æ²¡æœ‰è¿”å›ç»“æœã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span>&#123;</span><br><span class="line">    ...çº¿ç¨‹æ‰§è¡Œçš„ä»£ç ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>JDK5æä¾›äº†Callableæ¥å£å’ŒFutureTaskç±»æ¥åˆ›å»ºçº¿ç¨‹ï¼Œå®ƒæœ€å¤§çš„ä¼˜ç‚¹å°±æ˜¯æœ‰è¿”å›å€¼ã€‚</p>
<p>åœ¨Callableæ¥å£ä¸­æœ‰ä¸€ä¸ªcallæ–¹æ³•ï¼Œé‡å†™callæ–¹æ³•å°±æ˜¯çº¿ç¨‹è¦æ‰§è¡Œçš„ä»£ç ï¼Œå®ƒæ˜¯æœ‰è¿”å›å€¼çš„</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> T <span class="title function_">call</span><span class="params">()</span>&#123;</span><br><span class="line">    ...çº¿ç¨‹æ‰§è¡Œçš„ä»£ç ...</span><br><span class="line">    <span class="keyword">return</span> ç»“æœ;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>ç¬¬ä¸‰ç§åˆ›å»ºçº¿ç¨‹çš„æ–¹å¼ï¼Œæ­¥éª¤å¦‚ä¸‹</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>å…ˆå®šä¹‰ä¸€ä¸ªCallableæ¥å£çš„å®ç°ç±»ï¼Œé‡å†™callæ–¹æ³•</span><br><span class="line"><span class="number">2.</span>åˆ›å»ºCallableå®ç°ç±»çš„å¯¹è±¡</span><br><span class="line"><span class="number">3.</span>åˆ›å»ºFutureTaskç±»çš„å¯¹è±¡ï¼Œå°†Callableå¯¹è±¡ä¼ é€’ç»™FutureTask</span><br><span class="line"><span class="number">4.</span>åˆ›å»ºThreadå¯¹è±¡ï¼Œå°†Futureå¯¹è±¡ä¼ é€’ç»™Thread</span><br><span class="line"><span class="number">5.</span>è°ƒç”¨Threadçš„start()æ–¹æ³•å¯åŠ¨çº¿ç¨‹(å¯åŠ¨åä¼šè‡ªåŠ¨æ‰§è¡Œcallæ–¹æ³•)</span><br><span class="line">   ç­‰call()æ–¹æ³•æ‰§è¡Œå®Œä¹‹åï¼Œä¼šè‡ªåŠ¨å°†è¿”å›å€¼ç»“æœå°è£…åˆ°FutrueTaskå¯¹è±¡ä¸­</span><br><span class="line">   </span><br><span class="line"><span class="number">6.</span>è°ƒç”¨FutrueTaskå¯¹çš„get()æ–¹æ³•è·å–è¿”å›ç»“æœ</span><br></pre></td></tr></table></figure>

<p>ä»£ç å¦‚ä¸‹ï¼šå…ˆå‡†å¤‡ä¸€ä¸ªCallableæ¥å£çš„å®ç°ç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 1ã€è®©å­ç±»ç»§æ‰¿Threadçº¿ç¨‹ç±»ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    <span class="comment">// 2ã€å¿…é¡»é‡å†™Threadç±»çš„runæ–¹æ³•</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// æè¿°çº¿ç¨‹çš„æ‰§è¡Œä»»åŠ¡ã€‚</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;å­çº¿ç¨‹MyThreadè¾“å‡ºï¼š&quot;</span> + i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å†å®šä¹‰ä¸€ä¸ªæµ‹è¯•ç±»ï¼Œåœ¨æµ‹è¯•ç±»ä¸­åˆ›å»ºçº¿ç¨‹å¹¶å¯åŠ¨çº¿ç¨‹ï¼Œè¿˜è¦è·å–è¿”å›ç»“æœ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadTest3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">// 3ã€åˆ›å»ºä¸€ä¸ªCallableçš„å¯¹è±¡</span></span><br><span class="line">        Callable&lt;String&gt; call = <span class="keyword">new</span> <span class="title class_">MyCallable</span>(<span class="number">100</span>);</span><br><span class="line">        <span class="comment">// 4ã€æŠŠCallableçš„å¯¹è±¡å°è£…æˆä¸€ä¸ªFutureTaskå¯¹è±¡ï¼ˆä»»åŠ¡å¯¹è±¡ï¼‰</span></span><br><span class="line">        <span class="comment">// æœªæ¥ä»»åŠ¡å¯¹è±¡çš„ä½œç”¨ï¼Ÿ</span></span><br><span class="line">        <span class="comment">// 1ã€æ˜¯ä¸€ä¸ªä»»åŠ¡å¯¹è±¡ï¼Œå®ç°äº†Runnableå¯¹è±¡.</span></span><br><span class="line">        <span class="comment">// 2ã€å¯ä»¥åœ¨çº¿ç¨‹æ‰§è¡Œå®Œæ¯•ä¹‹åï¼Œç”¨æœªæ¥ä»»åŠ¡å¯¹è±¡è°ƒç”¨getæ–¹æ³•è·å–çº¿ç¨‹æ‰§è¡Œå®Œæ¯•åçš„ç»“æœã€‚</span></span><br><span class="line">        FutureTask&lt;String&gt; f1  = <span class="keyword">new</span> <span class="title class_">FutureTask</span>&lt;&gt;(call);</span><br><span class="line">        <span class="comment">// 5ã€æŠŠä»»åŠ¡å¯¹è±¡äº¤ç»™ä¸€ä¸ªThreadå¯¹è±¡</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(f1).start();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        Callable&lt;String&gt; call2 = <span class="keyword">new</span> <span class="title class_">MyCallable</span>(<span class="number">200</span>);</span><br><span class="line">        FutureTask&lt;String&gt; f2  = <span class="keyword">new</span> <span class="title class_">FutureTask</span>&lt;&gt;(call2);</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(f2).start();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 6ã€è·å–çº¿ç¨‹æ‰§è¡Œå®Œæ¯•åè¿”å›çš„ç»“æœã€‚</span></span><br><span class="line">        <span class="comment">// æ³¨æ„ï¼šå¦‚æœæ‰§è¡Œåˆ°è¿™å„¿ï¼Œå‡å¦‚ä¸Šé¢çš„çº¿ç¨‹è¿˜æ²¡æœ‰æ‰§è¡Œå®Œæ¯•</span></span><br><span class="line">        <span class="comment">// è¿™é‡Œçš„ä»£ç ä¼šæš‚åœï¼Œç­‰å¾…ä¸Šé¢çº¿ç¨‹æ‰§è¡Œå®Œæ¯•åæ‰ä¼šè·å–ç»“æœã€‚</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">rs</span> <span class="operator">=</span> f1.get();</span><br><span class="line">        System.out.println(rs);</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">rs2</span> <span class="operator">=</span> f2.get();</span><br><span class="line">        System.out.println(rs2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="å¤šçº¿ç¨‹-1"><a href="#å¤šçº¿ç¨‹-1" class="headerlink" title="å¤šçº¿ç¨‹"></a>å¤šçº¿ç¨‹</h1><h2 id="å¤šçº¿ç¨‹å¸¸ç”¨æ–¹æ³•"><a href="#å¤šçº¿ç¨‹å¸¸ç”¨æ–¹æ³•" class="headerlink" title="å¤šçº¿ç¨‹å¸¸ç”¨æ–¹æ³•"></a>å¤šçº¿ç¨‹å¸¸ç”¨æ–¹æ³•</h2><p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh119.png"></p>
<p>ä¸‹é¢æˆ‘ä»¬æ¼”ç¤ºä¸€ä¸‹<code>getName()</code>ã€<code>setName(String name)</code>ã€<code>currentThread()</code>ã€<code>sleep(long time)</code>è¿™äº›æ–¹æ³•çš„ä½¿ç”¨æ•ˆæœã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyThread</span><span class="params">(String name)</span>&#123;</span><br><span class="line">        <span class="built_in">super</span>(name); <span class="comment">//1.æ‰§è¡Œçˆ¶ç±»Thread(String name)æ„é€ å™¨ï¼Œä¸ºå½“å‰çº¿ç¨‹è®¾ç½®åå­—äº†</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//2.currentThread() å“ªä¸ªçº¿ç¨‹æ‰§è¡Œå®ƒï¼Œå®ƒå°±ä¼šå¾—åˆ°å“ªä¸ªçº¿ç¨‹å¯¹è±¡ã€‚</span></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t</span> <span class="operator">=</span> Thread.currentThread();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">3</span>; i++) &#123;</span><br><span class="line">            <span class="comment">//3.getName() è·å–çº¿ç¨‹åç§°</span></span><br><span class="line">            System.out.println(t.getName() + <span class="string">&quot;è¾“å‡ºï¼š&quot;</span> + i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å†æµ‹è¯•ç±»ä¸­ï¼Œåˆ›å»ºçº¿ç¨‹å¯¹è±¡ï¼Œå¹¶å¯åŠ¨çº¿ç¨‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadTest1</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyThread</span>();</span><br><span class="line">        t1.setName(String name) <span class="comment">//è®¾ç½®çº¿ç¨‹åç§°;</span></span><br><span class="line">        t1.start();</span><br><span class="line">        System.out.println(t1.getName());  <span class="comment">//Thread-0</span></span><br><span class="line"></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyThread</span>(<span class="string">&quot;2å·çº¿ç¨‹&quot;</span>);</span><br><span class="line">        <span class="comment">// t2.setName(&quot;2å·çº¿ç¨‹&quot;);</span></span><br><span class="line">        t2.start();</span><br><span class="line">        System.out.println(t2.getName()); <span class="comment">// Thread-1</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä¸»çº¿ç¨‹å¯¹è±¡çš„åå­—</span></span><br><span class="line">        <span class="comment">// å“ªä¸ªçº¿ç¨‹æ‰§è¡Œå®ƒï¼Œå®ƒå°±ä¼šå¾—åˆ°å“ªä¸ªçº¿ç¨‹å¯¹è±¡ã€‚</span></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">m</span> <span class="operator">=</span> Thread.currentThread();</span><br><span class="line">        m.setName(<span class="string">&quot;æœ€ç‰›çš„çº¿ç¨‹&quot;</span>);</span><br><span class="line">        System.out.println(m.getName()); <span class="comment">// main</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">5</span>; i++) &#123;</span><br><span class="line">            System.out.println(m.getName() + <span class="string">&quot;çº¿ç¨‹è¾“å‡ºï¼š&quot;</span> + i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œä¸Šé¢ä»£ç ï¼Œæ•ˆæœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæˆ‘ä»¬å‘ç°æ¯ä¸€æ¡çº¿ç¨‹éƒ½æœ‰è‡ªå·±äº†åå­—äº†ã€‚</p>
<p>1å·çº¿ç¨‹<br>2å·çº¿ç¨‹<br>æœ€ç‰›çš„çº¿ç¨‹<br>æœ€ç‰›çš„çº¿ç¨‹çº¿ç¨‹è¾“å‡º:1<br>æœ€ç‰›çš„çº¿ç¨‹çº¿ç¨‹è¾“å‡º:2<br>æœ€ç‰›çš„çº¿ç¨‹çº¿ç¨‹è¾“å‡º:3<br>æœ€ç‰›çš„çº¿ç¨‹çº¿ç¨‹è¾“å‡º:4<br>æœ€ç‰›çš„çº¿ç¨‹çº¿ç¨‹è¾“å‡º:5<br>2å·çº¿ç¨‹è¾“å‡º:1<br>2å·çº¿ç¨‹è¾“å‡º:2<br>2å·çº¿ç¨‹è¾“å‡º:3<br>1å·çº¿ç¨‹è¾“å‡º:1<br>1å·çº¿ç¨‹è¾“å‡º:2<br>1å·çº¿ç¨‹è¾“å‡º:3</p>
<p><strong>æœ€åå†æ¼”ç¤ºä¸€ä¸‹joinè¿™ä¸ªæ–¹æ³•æ˜¯ä»€ä¹ˆæ•ˆæœã€‚</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadTest2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">// joinæ–¹æ³•ä½œç”¨ï¼šè®©å½“å‰è°ƒç”¨è¿™ä¸ªæ–¹æ³•çš„çº¿ç¨‹å…ˆæ‰§è¡Œå®Œã€‚</span></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyThread</span>(<span class="string">&quot;1å·çº¿ç¨‹&quot;</span>);</span><br><span class="line">        t1.start();</span><br><span class="line">        t1.join();</span><br><span class="line"></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyThread</span>(<span class="string">&quot;2å·çº¿ç¨‹&quot;</span>);</span><br><span class="line">        t2.start();</span><br><span class="line">        t2.join();</span><br><span class="line"></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyThread</span>(<span class="string">&quot;3å·çº¿ç¨‹&quot;</span>);</span><br><span class="line">        t3.start();</span><br><span class="line">        t3.join();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œæ•ˆæœæ˜¯1å·çº¿ç¨‹å…ˆæ‰§è¡Œå®Œï¼Œå†æ‰§è¡Œ2å·çº¿ç¨‹ï¼›2å·çº¿ç¨‹æ‰§è¡Œå®Œï¼Œå†æ‰§è¡Œ3å·çº¿ç¨‹ï¼›3å·çº¿ç¨‹æ‰§è¡Œå®Œå°±ç»“æŸäº†ã€‚</p>
<p>1å·çº¿ç¨‹è¾“å‡º:1<br>1å·çº¿ç¨‹è¾“å‡º:2<br>1å·çº¿ç¨‹è¾“å‡º:3<br>2å·çº¿ç¨‹è¾“å‡º:1<br>2å·çº¿ç¨‹è¾“å‡º:2<br>2å·çº¿ç¨‹è¾“å‡º:3<br>3å·çº¿ç¨‹è¾“å‡º:1<br>3å·çº¿ç¨‹è¾“å‡º:2<br>3å·çº¿ç¨‹è¾“å‡º:3</p>
<p>æˆ‘ä»¬å†å°è¯•ï¼ŒæŠŠjoin()æ–¹æ³•å»æ‰ï¼Œå†çœ‹æ‰§è¡Œæ•ˆæœã€‚æ­¤æ—¶ä½ ä¼šå‘ç°2å·çº¿ç¨‹æ²¡æœ‰æ‰§è¡Œå®Œ1å·çº¿ç¨‹å°±æ‰§è¡Œäº†<strong>ï¼ˆæ•ˆæœæ˜¯å¤šæ¬¡è¿è¡Œæ‰å‡ºç°çš„ï¼Œæ ¹æ®ä¸ªäººç”µè„‘è€Œå¼‚ï¼Œå¯èƒ½æœ‰åŒå­¦åŠå¤©ä¹Ÿå‡ºç°ä¸äº†ä¹Ÿæ˜¯æ­£å¸¸çš„ï¼‰</strong></p>
<p>3å·çº¿ç¨‹è¾“å‡º:1<br>3å·çº¿ç¨‹è¾“å‡º:2<br>3å·çº¿ç¨‹è¾“å‡º:3<br>2å·çº¿ç¨‹è¾“å‡º:1        çœ‹ï¼Œ2å·æ‰§è¡Œæ²¡æœ‰æ‰§è¡Œå®Œï¼Œ1å·çº¿ç¨‹å°±å¼€å§‹æ‰§è¡Œäº†<br>1å·çº¿ç¨‹è¾“å‡º:1<br>2å·çº¿ç¨‹è¾“å‡º:2<br>1å·çº¿ç¨‹è¾“å‡º:2<br>2å·çº¿ç¨‹è¾“å‡º:3<br>1å·çº¿ç¨‹è¾“å‡º:3</p>
<h2 id="çº¿ç¨‹å®‰å…¨é—®é¢˜"><a href="#çº¿ç¨‹å®‰å…¨é—®é¢˜" class="headerlink" title="çº¿ç¨‹å®‰å…¨é—®é¢˜"></a>çº¿ç¨‹å®‰å…¨é—®é¢˜</h2><p>å„ä½å°ä¼™ä¼´ï¼Œå‰é¢æˆ‘ä»¬å·²ç»å­¦ä¹ äº†å¦‚ä½•åˆ›å»ºçº¿ç¨‹ï¼Œä»¥åŠçº¿ç¨‹çš„å¸¸ç”¨æ–¹æ³•ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¦å­¦ä¹ ä¸€ä¸ªåœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­ï¼Œä½¿ç”¨çº¿ç¨‹æ—¶æœ€é‡è¦çš„ä¸€ä¸ªé—®é¢˜ï¼Œå«çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚</p>
<h3 id="çº¿ç¨‹å®‰å…¨é—®é¢˜æ¦‚è¿°"><a href="#çº¿ç¨‹å®‰å…¨é—®é¢˜æ¦‚è¿°" class="headerlink" title="çº¿ç¨‹å®‰å…¨é—®é¢˜æ¦‚è¿°"></a>çº¿ç¨‹å®‰å…¨é—®é¢˜æ¦‚è¿°</h3><ul>
<li><strong>é¦–å…ˆï¼Œä»€ä¹ˆæ˜¯çº¿ç¨‹å®‰å…¨é—®é¢˜å‘¢ï¼Ÿ</strong></li>
</ul>
<p><strong>çº¿ç¨‹å®‰å…¨é—®é¢˜æŒ‡çš„æ˜¯ï¼Œå¤šä¸ªçº¿ç¨‹åŒæ—¶æ“ä½œåŒä¸€ä¸ªå…±äº«èµ„æºçš„æ—¶å€™ï¼Œå¯èƒ½ä¼šå‡ºç°ä¸šåŠ¡å®‰å…¨é—®é¢˜ã€‚</strong></p>
<p>ä¸‹é¢é€šè¿‡ä¸€ä¸ªå–é’±çš„æ¡ˆä¾‹ç»™åŒå­¦ä»¬æ¼”ç¤ºä¸€ä¸‹ã€‚æ¡ˆä¾‹éœ€æ±‚å¦‚ä¸‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">åœºæ™¯ï¼šå°æ˜å’Œå°çº¢æ˜¯ä¸€å¯¹å¤«å¦»ï¼Œä»–ä»¬æœ‰ä¸€ä¸ªå…±äº«è´¦æˆ·ï¼Œä½™é¢æ˜¯<span class="number">10</span>ä¸‡å…ƒï¼Œå°çº¢å’Œå°æ˜åŒæ—¶æ¥å–é’±ï¼Œå¹¶ä¸”<span class="number">2</span>äººå„è‡ªéƒ½åœ¨å–é’±<span class="number">10</span>ä¸‡å…ƒï¼Œå¯èƒ½å‡ºç°ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿ</span><br></pre></td></tr></table></figure>

<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå°æ˜å’Œå°çº¢å‡è®¾éƒ½æ˜¯ä¸€ä¸ªçº¿ç¨‹ï¼Œæœ¬ç±»æ¯ä¸ªçº¿ç¨‹éƒ½åº”è¯¥æ‰§è¡Œå®Œä¸‰æ­¥æ“ä½œï¼Œæ‰ç®—æ˜¯å®Œæˆçš„å–é’±çš„æ“ä½œã€‚ä½†æ˜¯çœŸå®æ‰§è¡Œè¿‡ç¨‹å¯èƒ½æ˜¯ä¸‹é¢è¿™æ ·å­çš„</p>
<p>â€‹	â‘  å°çº¢çº¿ç¨‹åªæ‰§è¡Œäº†åˆ¤æ–­ä½™é¢æ˜¯å¦è¶³å¤Ÿï¼ˆæ¡ä»¶ä¸ºtrueï¼‰ï¼Œç„¶åCPUçš„æ‰§è¡Œæƒå°±è¢«å°çº¢çº¿ç¨‹æŠ¢èµ°äº†ã€‚</p>
<p>â€‹	â‘¡ å°çº¢çº¿ç¨‹ä¹Ÿæ‰§è¡Œäº†åˆ¤æ–­äº†ä½™é¢æ˜¯å¦è¶³å¤Ÿï¼ˆæ¡ä»¶ä¹Ÿæ˜¯trueï¼‰, ç„¶åCPUæ‰§è¡Œæƒåˆè¢«å°æ˜çº¿ç¨‹æŠ¢èµ°äº†ã€‚</p>
<p>â€‹	â‘¢ å°æ˜çº¿ç¨‹ç”±äºåˆšæ‰å·²ç»åˆ¤æ–­ä½™é¢æ˜¯å¦è¶³å¤Ÿäº†ï¼Œç›´æ¥æ‰§è¡Œç¬¬2æ­¥ï¼Œåå‡ºäº†10ä¸‡å…ƒé’±ï¼Œæ­¤æ—¶å…±äº«è´¦æˆ·æœˆä¸º0ã€‚ç„¶åCPUæ‰§è¡Œæƒåˆè¢«å°çº¢çº¿ç¨‹æŠ¢èµ°ã€‚ </p>
<p>â€‹	â‘£ å°çº¢çº¿ç¨‹ç”±äºåˆšåˆšä¹Ÿå·²ç»åˆ¤æ–­ä½™é¢æ˜¯å¦è¶³å¤Ÿäº†ï¼Œç›´æ¥æ‰§è¡Œç¬¬2æ­¥ï¼Œåå‡ºäº†10ä¸‡å…ƒé’±ï¼Œæ­¤æ—¶å…±äº«è´¦æˆ·æœˆä¸º-10ä¸‡ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh120.png"></p>
<p><strong>ä½ ä¼šå‘ç°ï¼Œåœ¨è¿™ä¸ªå–é’±æ¡ˆä¾‹ä¸­ï¼Œä¸¤ä¸ªäººæŠŠå…±äº«è´¦æˆ·çš„é’±éƒ½å–äº†10ä¸‡ï¼Œä½†é—®é¢˜æ˜¯åªæœ‰10ä¸‡å—é’±å•Šï¼ï¼ï¼</strong></p>
<p>ä»¥ä¸Šå–é’±æ¡ˆä¾‹ä¸­çš„é—®é¢˜ï¼Œå°±æ˜¯çº¿ç¨‹å®‰å…¨é—®é¢˜çš„ä¸€ç§ä½“ç°ã€‚</p>
<h3 id="çº¿ç¨‹å®‰å…¨é—®é¢˜çš„ä»£ç æ¼”ç¤º"><a href="#çº¿ç¨‹å®‰å…¨é—®é¢˜çš„ä»£ç æ¼”ç¤º" class="headerlink" title="çº¿ç¨‹å®‰å…¨é—®é¢˜çš„ä»£ç æ¼”ç¤º"></a>çº¿ç¨‹å®‰å…¨é—®é¢˜çš„ä»£ç æ¼”ç¤º</h3><p>å…ˆå®šä¹‰ä¸€ä¸ªå…±äº«çš„è´¦æˆ·ç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Account</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String cardId; <span class="comment">// å¡å·</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> money; <span class="comment">// ä½™é¢ã€‚</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Account</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Account</span><span class="params">(String cardId, <span class="type">double</span> money)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.cardId = cardId;</span><br><span class="line">        <span class="built_in">this</span>.money = money;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å°æ˜ å°çº¢åŒæ—¶è¿‡æ¥çš„</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">drawMoney</span><span class="params">(<span class="type">double</span> money)</span> &#123;</span><br><span class="line">        <span class="comment">// å…ˆææ¸…æ¥šæ˜¯è°æ¥å–é’±ï¼Ÿ</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> Thread.currentThread().getName();</span><br><span class="line">        <span class="comment">// 1ã€åˆ¤æ–­ä½™é¢æ˜¯å¦è¶³å¤Ÿ</span></span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">this</span>.money &gt;= money)&#123;</span><br><span class="line">            System.out.println(name + <span class="string">&quot;æ¥å–é’±&quot;</span> + money + <span class="string">&quot;æˆåŠŸï¼&quot;</span>);</span><br><span class="line">            <span class="built_in">this</span>.money -= money;</span><br><span class="line">            System.out.println(name + <span class="string">&quot;æ¥å–é’±åï¼Œä½™é¢å‰©ä½™ï¼š&quot;</span> + <span class="built_in">this</span>.money);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(name + <span class="string">&quot;æ¥å–é’±ï¼šä½™é¢ä¸è¶³~&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getCardId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> cardId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setCardId</span><span class="params">(String cardId)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.cardId = cardId;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getMoney</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> money;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setMoney</span><span class="params">(<span class="type">double</span> money)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.money = money;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨å®šä¹‰ä¸€ä¸ªæ˜¯å–é’±çš„çº¿ç¨‹ç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DrawThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Account acc;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">DrawThread</span><span class="params">(Account acc, String name)</span>&#123;</span><br><span class="line">        <span class="built_in">super</span>(name);</span><br><span class="line">        <span class="built_in">this</span>.acc = acc;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// å–é’±(å°æ˜ï¼Œå°çº¢)</span></span><br><span class="line">        acc.drawMoney(<span class="number">100000</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æœ€åï¼Œå†å†™ä¸€ä¸ªæµ‹è¯•ç±»ï¼Œåœ¨æµ‹è¯•ç±»ä¸­åˆ›å»ºä¸¤ä¸ªçº¿ç¨‹å¯¹è±¡</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">         <span class="comment">// 1ã€åˆ›å»ºä¸€ä¸ªè´¦æˆ·å¯¹è±¡ï¼Œä»£è¡¨ä¸¤ä¸ªäººçš„å…±äº«è´¦æˆ·ã€‚</span></span><br><span class="line">        <span class="type">Account</span> <span class="variable">acc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Account</span>(<span class="string">&quot;ICBC-110&quot;</span>, <span class="number">100000</span>);</span><br><span class="line">        <span class="comment">// 2ã€åˆ›å»ºä¸¤ä¸ªçº¿ç¨‹ï¼Œåˆ†åˆ«ä»£è¡¨å°æ˜ å°çº¢ï¼Œå†å»åŒä¸€ä¸ªè´¦æˆ·å¯¹è±¡ä¸­å–é’±10ä¸‡ã€‚</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">DrawThread</span>(acc, <span class="string">&quot;å°æ˜&quot;</span>).start(); <span class="comment">// å°æ˜</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">DrawThread</span>(acc, <span class="string">&quot;å°çº¢&quot;</span>).start(); <span class="comment">// å°çº¢</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç¨‹åºï¼Œæ‰§è¡Œæ•ˆæœå¦‚ä¸‹ã€‚ä½ ä¼šå‘ç°ä¸¤ä¸ªäººéƒ½å–äº†10ä¸‡å—é’±ï¼Œä½™é¢ä¸º-10å®Œäº†ã€‚</p>
<p>å°çº¢æ¥å–é’±100000.0æˆåŠŸ!<br>å°æ˜æ¥å–é’±100000.0æˆåŠŸ!<br>å°çº¢æ¥å–é’±åï¼Œä½™é¢å‰©ä½™:0.0<br>å°æ˜æ¥å–é’±åï¼Œä½™é¢å‰©ä½™:-100000.0</p>
<h3 id="çº¿ç¨‹åŒæ­¥æ–¹æ¡ˆ"><a href="#çº¿ç¨‹åŒæ­¥æ–¹æ¡ˆ" class="headerlink" title="çº¿ç¨‹åŒæ­¥æ–¹æ¡ˆ"></a>çº¿ç¨‹åŒæ­¥æ–¹æ¡ˆ</h3><p>ä¸ºäº†è§£å†³å‰é¢çš„çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨çº¿ç¨‹åŒæ­¥æ€æƒ³ã€‚åŒæ­¥æœ€å¸¸è§çš„æ–¹æ¡ˆå°±æ˜¯åŠ é”ï¼Œ<strong>æ„æ€æ˜¯æ¯æ¬¡åªå…è®¸ä¸€ä¸ªçº¿ç¨‹åŠ é”ï¼ŒåŠ é”åæ‰èƒ½è¿›å…¥è®¿é—®ï¼Œè®¿é—®å®Œæ¯•åè‡ªåŠ¨é‡Šæ”¾é”ï¼Œç„¶åå…¶ä»–çº¿ç¨‹æ‰èƒ½å†åŠ é”è¿›æ¥ã€‚</strong></p>
<p>ç­‰å°çº¢çº¿ç¨‹æ‰§è¡Œå®Œäº†ï¼ŒæŠŠä½™é¢æ”¹ä¸º0ï¼Œå‡ºå»äº†å°±ä¼šé‡Šæ”¾é”ã€‚è¿™æ—¶å°æ˜çº¿ç¨‹å°±å¯ä»¥åŠ é”è¿›æ¥æ‰§è¡Œï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>
<p>é‡‡ç”¨åŠ é”çš„æ–¹æ¡ˆï¼Œå°±å¯ä»¥è§£å†³å‰é¢ä¸¤ä¸ªçº¿ç¨‹éƒ½å–10ä¸‡å—é’±çš„é—®é¢˜ã€‚æ€ä¹ˆåŠ é”å‘¢ï¼ŸJavaæä¾›äº†ä¸‰ç§æ–¹æ¡ˆ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>åŒæ­¥ä»£ç å—</span><br><span class="line"><span class="number">2.</span>åŒæ­¥æ–¹æ³•</span><br><span class="line"><span class="number">3.</span>Locké”</span><br></pre></td></tr></table></figure>



<h3 id="åŒæ­¥ä»£ç å—"><a href="#åŒæ­¥ä»£ç å—" class="headerlink" title="åŒæ­¥ä»£ç å—"></a>åŒæ­¥ä»£ç å—</h3><p>æˆ‘ä»¬å…ˆæ¥å­¦ä¹ åŒæ­¥ä»£ç å—ã€‚å®ƒçš„ä½œç”¨å°±æ˜¯æŠŠè®¿é—®å…±äº«æ•°æ®çš„ä»£ç é”èµ·æ¥ï¼Œä»¥æ­¤ä¿è¯çº¿ç¨‹å®‰å…¨ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é”å¯¹è±¡ï¼šå¿…é¡»æ˜¯ä¸€ä¸ªå”¯ä¸€çš„å¯¹è±¡ï¼ˆåŒä¸€ä¸ªåœ°å€ï¼‰</span></span><br><span class="line"><span class="keyword">synchronized</span>(é”å¯¹è±¡)&#123;</span><br><span class="line">    <span class="comment">//...è®¿é—®å…±äº«æ•°æ®çš„ä»£ç ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨åŒæ­¥ä»£ç å—ï¼Œæ¥è§£å†³å‰é¢ä»£ç é‡Œé¢çš„çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚æˆ‘ä»¬åªéœ€è¦ä¿®æ”¹DrawThreadç±»ä¸­çš„ä»£ç å³å¯ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å°æ˜ å°çº¢çº¿ç¨‹åŒæ—¶è¿‡æ¥çš„</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">drawMoney</span><span class="params">(<span class="type">double</span> money)</span> &#123;</span><br><span class="line">    <span class="comment">// å…ˆææ¸…æ¥šæ˜¯è°æ¥å–é’±ï¼Ÿ</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> Thread.currentThread().getName();</span><br><span class="line">    <span class="comment">// 1ã€åˆ¤æ–­ä½™é¢æ˜¯å¦è¶³å¤Ÿ</span></span><br><span class="line">    <span class="comment">// thisæ­£å¥½ä»£è¡¨å…±äº«èµ„æºï¼</span></span><br><span class="line">    <span class="keyword">synchronized</span> (<span class="built_in">this</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="built_in">this</span>.money &gt;= money)&#123;</span><br><span class="line">            System.out.println(name + <span class="string">&quot;æ¥å–é’±&quot;</span> + money + <span class="string">&quot;æˆåŠŸï¼&quot;</span>);</span><br><span class="line">            <span class="built_in">this</span>.money -= money;</span><br><span class="line">            System.out.println(name + <span class="string">&quot;æ¥å–é’±åï¼Œä½™é¢å‰©ä½™ï¼š&quot;</span> + <span class="built_in">this</span>.money);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(name + <span class="string">&quot;æ¥å–é’±ï¼šä½™é¢ä¸è¶³~&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶å†è¿è¡Œæµ‹è¯•ç±»ï¼Œè§‚å¯Ÿæ˜¯å¦ä¼šå‡ºç°ä¸åˆç†çš„æƒ…å†µã€‚</p>
<p><strong>æœ€åï¼Œå†ç»™åŒå­¦ä»¬è¯´ä¸€ä¸‹é”å¯¹è±¡å¦‚ä½•é€‰æ‹©çš„é—®é¢˜</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>å»ºè®®æŠŠå…±äº«èµ„æºä½œä¸ºé”å¯¹è±¡, ä¸è¦å°†éšä¾¿æ— å…³çš„å¯¹è±¡å½“åšé”å¯¹è±¡</span><br><span class="line"><span class="number">2.</span>å¯¹äºå®ä¾‹æ–¹æ³•ï¼Œå»ºè®®ä½¿ç”¨<span class="built_in">this</span>ä½œä¸ºé”å¯¹è±¡</span><br><span class="line"><span class="number">3.</span>å¯¹äºé™æ€æ–¹æ³•ï¼Œå»ºè®®æŠŠç±»çš„å­—èŠ‚ç (ç±»å.class)å½“åšé”å¯¹è±¡</span><br></pre></td></tr></table></figure>



<h3 id="åŒæ­¥æ–¹æ³•"><a href="#åŒæ­¥æ–¹æ³•" class="headerlink" title="åŒæ­¥æ–¹æ³•"></a>åŒæ­¥æ–¹æ³•</h3><p>æ¥ä¸‹æ¥ï¼Œå­¦ä¹ åŒæ­¥æ–¹æ³•è§£å†³çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚<strong>å…¶å®åŒæ­¥æ–¹æ³•ï¼Œå°±æ˜¯æŠŠæ•´ä¸ªæ–¹æ³•ç»™é”ä½ï¼Œä¸€ä¸ªçº¿ç¨‹è°ƒç”¨è¿™ä¸ªæ–¹æ³•ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨çš„æ—¶å€™å°±æ‰§è¡Œä¸äº†ï¼Œåªæœ‰ç­‰ä¸Šä¸€ä¸ªçº¿ç¨‹è°ƒç”¨ç»“æŸï¼Œä¸‹ä¸€ä¸ªçº¿ç¨‹è°ƒç”¨æ‰èƒ½ç»§ç»­æ‰§è¡Œã€‚</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åŒæ­¥æ–¹æ³•</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">drawMoney</span><span class="params">(<span class="type">double</span> money)</span> &#123;</span><br><span class="line">    <span class="comment">// å…ˆææ¸…æ¥šæ˜¯è°æ¥å–é’±ï¼Ÿ</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> Thread.currentThread().getName();</span><br><span class="line">    <span class="comment">// 1ã€åˆ¤æ–­ä½™é¢æ˜¯å¦è¶³å¤Ÿ</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">this</span>.money &gt;= money)&#123;</span><br><span class="line">        System.out.println(name + <span class="string">&quot;æ¥å–é’±&quot;</span> + money + <span class="string">&quot;æˆåŠŸï¼&quot;</span>);</span><br><span class="line">        <span class="built_in">this</span>.money -= money;</span><br><span class="line">        System.out.println(name + <span class="string">&quot;æ¥å–é’±åï¼Œä½™é¢å‰©ä½™ï¼š&quot;</span> + <span class="built_in">this</span>.money);</span><br><span class="line">    &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">        System.out.println(name + <span class="string">&quot;æ¥å–é’±ï¼šä½™é¢ä¸è¶³~&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ”¹å®Œä¹‹åï¼Œå†æ¬¡è¿è¡Œæµ‹è¯•ç±»ï¼Œè§‚å¯Ÿæ˜¯å¦ä¼šå‡ºç°ä¸åˆç†çš„æƒ…å†µã€‚</p>
<p><strong>æ¥ç€ï¼Œå†é—®åŒå­¦ä»¬ä¸€ä¸ªé—®é¢˜ï¼ŒåŒæ­¥æ–¹æ³•æœ‰æ²¡æœ‰é”å¯¹è±¡ï¼Ÿé”å¯¹è±¡æ˜¯è°ï¼Ÿ</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">åŒæ­¥æ–¹æ³•ä¹Ÿæ˜¯æœ‰é”å¯¹è±¡ï¼Œåªä¸è¿‡è¿™ä¸ªé”å¯¹è±¡æ²¡æœ‰æ˜¾ç¤ºçš„å†™å‡ºæ¥è€Œå·²ã€‚</span><br><span class="line">	<span class="number">1.</span>å¯¹äºå®ä¾‹æ–¹æ³•ï¼Œé”å¯¹è±¡å…¶å®æ˜¯<span class="built_in">this</span>ï¼ˆä¹Ÿå°±æ˜¯æ–¹æ³•çš„è°ƒç”¨è€…ï¼‰</span><br><span class="line">	<span class="number">2.</span>å¯¹äºé™æ€æ–¹æ³•ï¼Œé”å¯¹è±¡æ—¶ç±»çš„å­—èŠ‚ç å¯¹è±¡ï¼ˆç±»å.classï¼‰</span><br></pre></td></tr></table></figure>

<p><strong>æœ€ç»ˆï¼Œæ€»ç»“ä¸€ä¸‹åŒæ­¥ä»£ç å—å’ŒåŒæ­¥æ–¹æ³•æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>ä¸å­˜åœ¨å“ªä¸ªå¥½ä¸ä¸å¥½ï¼Œåªæ˜¯ä¸€ä¸ªé”ä½çš„èŒƒå›´å¤§ï¼Œä¸€ä¸ªèŒƒå›´å°</span><br><span class="line"><span class="number">2.</span>åŒæ­¥æ–¹æ³•æ˜¯å°†æ–¹æ³•ä¸­æ‰€æœ‰çš„ä»£ç é”ä½</span><br><span class="line"><span class="number">3.</span>åŒæ­¥ä»£ç å—æ˜¯å°†æ–¹æ³•ä¸­çš„éƒ¨åˆ†ä»£ç é”ä½</span><br></pre></td></tr></table></figure>



<h3 id="Locké”"><a href="#Locké”" class="headerlink" title="Locké”"></a>Locké”</h3><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†æ¥å­¦ä¹ ä¸€ç§ï¼Œçº¿ç¨‹å®‰å…¨é—®é¢˜çš„è§£å†³åŠæ³•ï¼Œå«åšLocké”ã€‚</p>
<p>Locké”æ˜¯JDK5ç‰ˆæœ¬ä¸“é—¨æä¾›çš„ä¸€ç§é”å¯¹è±¡ï¼Œé€šè¿‡è¿™ä¸ªé”å¯¹è±¡çš„æ–¹æ³•æ¥è¾¾åˆ°åŠ é”ï¼Œå’Œé‡Šæ”¾é”çš„ç›®çš„ï¼Œä½¿ç”¨èµ·æ¥æ›´åŠ çµæ´»ã€‚æ ¼å¼å¦‚ä¸‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>é¦–å…ˆåœ¨æˆå‘˜å˜é‡ä½å­ï¼Œéœ€è¦åˆ›å»ºä¸€ä¸ªLockæ¥å£çš„å®ç°ç±»å¯¹è±¡ï¼ˆè¿™ä¸ªå¯¹è±¡å°±æ˜¯é”å¯¹è±¡ï¼‰</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">final</span> <span class="type">Lock</span> <span class="variable">lk</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ReentrantLock</span>();</span><br><span class="line"><span class="number">2.</span>åœ¨éœ€è¦ä¸Šé”çš„åœ°æ–¹åŠ å…¥ä¸‹é¢çš„ä»£ç </span><br><span class="line">	 lk.lock(); <span class="comment">// åŠ é”</span></span><br><span class="line">	 <span class="comment">//...ä¸­é—´æ˜¯è¢«é”ä½çš„ä»£ç ...</span></span><br><span class="line">	 lk.unlock(); <span class="comment">// è§£é”</span></span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨Locké”æ”¹å†™å‰é¢DrawThreadä¸­å–é’±çš„æ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºäº†ä¸€ä¸ªé”å¯¹è±¡</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="type">Lock</span> <span class="variable">lk</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ReentrantLock</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">drawMoney</span><span class="params">(<span class="type">double</span> money)</span> &#123;</span><br><span class="line">        <span class="comment">// å…ˆææ¸…æ¥šæ˜¯è°æ¥å–é’±ï¼Ÿ</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> Thread.currentThread().getName();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            lk.lock(); <span class="comment">// åŠ é”</span></span><br><span class="line">            <span class="comment">// 1ã€åˆ¤æ–­ä½™é¢æ˜¯å¦è¶³å¤Ÿ</span></span><br><span class="line">            <span class="keyword">if</span>(<span class="built_in">this</span>.money &gt;= money)&#123;</span><br><span class="line">                System.out.println(name + <span class="string">&quot;æ¥å–é’±&quot;</span> + money + <span class="string">&quot;æˆåŠŸï¼&quot;</span>);</span><br><span class="line">                <span class="built_in">this</span>.money -= money;</span><br><span class="line">                System.out.println(name + <span class="string">&quot;æ¥å–é’±åï¼Œä½™é¢å‰©ä½™ï¼š&quot;</span> + <span class="built_in">this</span>.money);</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                System.out.println(name + <span class="string">&quot;æ¥å–é’±ï¼šä½™é¢ä¸è¶³~&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            lk.unlock(); <span class="comment">// è§£é”</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œç¨‹åºç»“æœï¼Œè§‚å¯Ÿæ˜¯å¦æœ‰çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚åˆ°æ­¤ä¸‰ç§è§£å†³çº¿ç¨‹å®‰å…¨é—®é¢˜çš„åŠæ³•æˆ‘ä»¬å°±å­¦ä¹ å®Œäº†ã€‚</p>
<h2 id="çº¿ç¨‹é€šä¿¡ï¼ˆäº†è§£ï¼‰"><a href="#çº¿ç¨‹é€šä¿¡ï¼ˆäº†è§£ï¼‰" class="headerlink" title="çº¿ç¨‹é€šä¿¡ï¼ˆäº†è§£ï¼‰"></a>çº¿ç¨‹é€šä¿¡ï¼ˆäº†è§£ï¼‰</h2><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å­¦ä¹ ä¸€ä¸‹çº¿ç¨‹é€šä¿¡ã€‚</p>
<p><strong>é¦–å…ˆï¼Œä»€ä¹ˆæ˜¯çº¿ç¨‹é€šä¿¡å‘¢ï¼Ÿ</strong></p>
<ul>
<li>å½“å¤šä¸ªçº¿ç¨‹å…±åŒæ“ä½œå…±äº«èµ„æºæ—¶ï¼Œçº¿ç¨‹é—´é€šè¿‡æŸç§æ–¹å¼äº’ç›¸å‘ŠçŸ¥è‡ªå·±çš„çŠ¶æ€ï¼Œä»¥ç›¸äº’åè°ƒï¼Œé¿å…æ— æ•ˆçš„èµ„æºæŒ£æŠ¢ã€‚</li>
</ul>
<p><strong>çº¿ç¨‹é€šä¿¡çš„å¸¸è§æ¨¡å¼ï¼šæ˜¯ç”Ÿäº§è€…ä¸æ¶ˆè´¹è€…æ¨¡å‹</strong></p>
<ul>
<li>ç”Ÿäº§è€…çº¿ç¨‹è´Ÿè´£ç”Ÿæˆæ•°æ®</li>
<li>æ¶ˆè´¹è€…çº¿ç¨‹è´Ÿè´£æ¶ˆè´¹ç”Ÿäº§è€…ç”Ÿæˆçš„æ•°æ®</li>
<li>æ³¨æ„ï¼šç”Ÿäº§è€…ç”Ÿäº§å®Œæ•°æ®ååº”è¯¥è®©è‡ªå·±ç­‰å¾…ï¼Œé€šçŸ¥å…¶ä»–æ¶ˆè´¹è€…æ¶ˆè´¹ï¼›æ¶ˆè´¹è€…æ¶ˆè´¹å®Œæ•°æ®ä¹‹ååº”è¯¥è®©è‡ªå·±ç­‰å¾…ï¼ŒåŒæ—¶é€šçŸ¥ç”Ÿäº§è€…ç”Ÿæˆã€‚</li>
</ul>
<p>æ¯”å¦‚ä¸‹é¢æ¡ˆä¾‹ä¸­ï¼Œæœ‰3ä¸ªå¨å¸ˆï¼ˆç”Ÿäº§è€…çº¿ç¨‹ï¼‰ï¼Œä¸¤ä¸ªé¡¾å®¢ï¼ˆæ¶ˆè´¹è€…çº¿ç¨‹ï¼‰ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å…ˆåˆ†æä¸€ä¸‹å®Œæˆè¿™ä¸ªæ¡ˆä¾‹çš„æ€è·¯</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>å…ˆç¡®å®šåœ¨è¿™ä¸ªæ¡ˆä¾‹ä¸­ï¼Œä»€ä¹ˆæ˜¯å…±äº«æ•°æ®ï¼Ÿ</span><br><span class="line">	ç­”ï¼šè¿™é‡Œæ¡ˆä¾‹ä¸­æ¡Œå­æ˜¯å…±äº«æ•°æ®ï¼Œå› ä¸ºå¨å¸ˆå’Œé¡¾å®¢éƒ½éœ€è¦å¯¹æ¡Œå­ä¸Šçš„åŒ…å­è¿›è¡Œæ“ä½œã€‚</span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>å†ç¡®å®šæœ‰é‚£å‡ æ¡çº¿ç¨‹ï¼Ÿå“ªä¸ªæ˜¯ç”Ÿäº§è€…ï¼Œå“ªä¸ªæ˜¯æ¶ˆè´¹è€…ï¼Ÿ</span><br><span class="line">	ç­”ï¼šå¨å¸ˆæ˜¯ç”Ÿäº§è€…çº¿ç¨‹ï¼Œ<span class="number">3</span>æ¡ç”Ÿäº§è€…çº¿ç¨‹ï¼› </span><br><span class="line">	   é¡¾å®¢æ˜¯æ¶ˆè´¹è€…çº¿ç¨‹ï¼Œ<span class="number">2</span>æ¡æ¶ˆè´¹è€…çº¿ç¨‹</span><br><span class="line">	   </span><br><span class="line"><span class="number">3.</span>ä»€ä¹ˆæ—¶å€™å°†å“ªä¸€ä¸ªçº¿ç¨‹è®¾ç½®ä¸ºä»€ä¹ˆçŠ¶æ€</span><br><span class="line">	ç”Ÿäº§è€…çº¿ç¨‹(å¨å¸ˆ)æ”¾åŒ…å­ï¼š</span><br><span class="line">		 <span class="number">1</span>)å…ˆåˆ¤æ–­æ˜¯å¦æœ‰åŒ…å­</span><br><span class="line">		 <span class="number">2</span>)æ²¡æœ‰åŒ…å­æ—¶ï¼Œå¨å¸ˆå¼€å§‹åšåŒ…å­, åšå®Œä¹‹åæŠŠåˆ«äººå”¤é†’ï¼Œç„¶åè®©è‡ªå·±ç­‰å¾…</span><br><span class="line">		 <span class="number">3</span>)æœ‰åŒ…å­æ—¶ï¼Œä¸åšåŒ…å­äº†ï¼Œç›´æ¥å”¤é†’åˆ«äººã€ç„¶åè®©è‡ªå·±ç­‰å¾…</span><br><span class="line">		 	</span><br><span class="line">	æ¶ˆè´¹è€…çº¿ç¨‹(é¡¾å®¢)åƒåŒ…å­ï¼š</span><br><span class="line">		 <span class="number">1</span>)å…ˆåˆ¤æ–­æ˜¯å¦æœ‰åŒ…å­</span><br><span class="line">		 <span class="number">2</span>)æœ‰åŒ…å­æ—¶ï¼Œé¡¾å®¢å¼€å§‹åƒåŒ…å­, åƒå®Œä¹‹åæŠŠåˆ«äººå”¤é†’ï¼Œç„¶åè®©è‡ªå·±ç­‰å¾…</span><br><span class="line">		 <span class="number">3</span>)æ²¡æœ‰åŒ…å­æ—¶ï¼Œä¸åƒåŒ…å­äº†ï¼Œç›´æ¥å”¤é†’åˆ«äººã€ç„¶åè®©è‡ªå·±ç­‰å¾…</span><br></pre></td></tr></table></figure>

<p>æŒ‰ç…§ä¸Šé¢åˆ†æçš„æ€è·¯å†™ä»£ç ã€‚å…ˆå†™æ¡Œå­ç±»ï¼Œä»£ç å¦‚ä¸‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Desk</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ”¾1ä¸ªåŒ…å­çš„æ–¹æ³•</span></span><br><span class="line">    <span class="comment">// å¨å¸ˆ1 å¨å¸ˆ2 å¨å¸ˆ3</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">put</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> Thread.currentThread().getName();</span><br><span class="line">            <span class="comment">// åˆ¤æ–­æ˜¯å¦æœ‰åŒ…å­ã€‚</span></span><br><span class="line">            <span class="keyword">if</span>(list.size() == <span class="number">0</span>)&#123;</span><br><span class="line">                list.add(name + <span class="string">&quot;åšçš„è‚‰åŒ…å­&quot;</span>);</span><br><span class="line">                System.out.println(name + <span class="string">&quot;åšäº†ä¸€ä¸ªè‚‰åŒ…å­~~&quot;</span>);</span><br><span class="line">                Thread.sleep(<span class="number">2000</span>);</span><br><span class="line"></span><br><span class="line">                <span class="comment">// å”¤é†’åˆ«äºº, ç­‰å¾…è‡ªå·±</span></span><br><span class="line">                <span class="built_in">this</span>.notifyAll();</span><br><span class="line">                <span class="built_in">this</span>.wait();</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// æœ‰åŒ…å­äº†ï¼Œä¸åšäº†ã€‚</span></span><br><span class="line">                <span class="comment">// å”¤é†’åˆ«äºº, ç­‰å¾…è‡ªå·±</span></span><br><span class="line">                <span class="built_in">this</span>.notifyAll();</span><br><span class="line">                <span class="built_in">this</span>.wait();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åƒè´§1 åƒè´§2</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">get</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> Thread.currentThread().getName();</span><br><span class="line">            <span class="keyword">if</span>(list.size() == <span class="number">1</span>)&#123;</span><br><span class="line">                <span class="comment">// æœ‰åŒ…å­ï¼Œåƒäº†</span></span><br><span class="line">                System.out.println(name  + <span class="string">&quot;åƒäº†ï¼š&quot;</span> + list.get(<span class="number">0</span>));</span><br><span class="line">                list.clear();</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">                <span class="built_in">this</span>.notifyAll();</span><br><span class="line">                <span class="built_in">this</span>.wait();</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// æ²¡æœ‰åŒ…å­</span></span><br><span class="line">                <span class="built_in">this</span>.notifyAll();</span><br><span class="line">                <span class="built_in">this</span>.wait();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å†å†™æµ‹è¯•ç±»ï¼Œåœ¨æµ‹è¯•ç±»ä¸­ï¼Œåˆ›å»º3ä¸ªå¨å¸ˆçº¿ç¨‹å¯¹è±¡ï¼Œå†åˆ›å»º2ä¸ªé¡¾å®¢å¯¹è±¡ï¼Œå¹¶å¯åŠ¨æ‰€æœ‰çº¿ç¨‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//   éœ€æ±‚ï¼š3ä¸ªç”Ÿäº§è€…çº¿ç¨‹ï¼Œè´Ÿè´£ç”Ÿäº§åŒ…å­ï¼Œæ¯ä¸ªçº¿ç¨‹æ¯æ¬¡åªèƒ½ç”Ÿäº§1ä¸ªåŒ…å­æ”¾åœ¨æ¡Œå­ä¸Š</span></span><br><span class="line">        <span class="comment">//      2ä¸ªæ¶ˆè´¹è€…çº¿ç¨‹è´Ÿè´£åƒåŒ…å­ï¼Œæ¯äººæ¯æ¬¡åªèƒ½ä»æ¡Œå­ä¸Šæ‹¿1ä¸ªåŒ…å­åƒã€‚</span></span><br><span class="line">        <span class="type">Desk</span> <span class="variable">desk</span>  <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Desk</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ›å»º3ä¸ªç”Ÿäº§è€…çº¿ç¨‹ï¼ˆ3ä¸ªå¨å¸ˆï¼‰</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">                desk.put();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;å¨å¸ˆ1&quot;</span>).start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">                desk.put();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;å¨å¸ˆ2&quot;</span>).start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">                desk.put();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;å¨å¸ˆ3&quot;</span>).start();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ›å»º2ä¸ªæ¶ˆè´¹è€…çº¿ç¨‹ï¼ˆ2ä¸ªåƒè´§ï¼‰</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">                desk.get();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;åƒè´§1&quot;</span>).start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">                desk.get();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="string">&quot;åƒè´§2&quot;</span>).start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œä¸Šé¢ä»£ç ï¼Œè¿è¡Œç»“æœå¦‚ä¸‹ï¼šä½ ä¼šå‘ç°å¤šä¸ªçº¿ç¨‹ç›¸äº’åè°ƒæ‰§è¡Œï¼Œé¿å…æ— æ•ˆçš„èµ„æºæŒ£æŠ¢ã€‚</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">å¨å¸ˆ1åšäº†ä¸€ä¸ªè‚‰åŒ…å­~~</span><br><span class="line">åƒè´§2åƒäº†ï¼šå¨å¸ˆ1åšçš„è‚‰åŒ…å­</span><br><span class="line">å¨å¸ˆ3åšäº†ä¸€ä¸ªè‚‰åŒ…å­~~</span><br><span class="line">åƒè´§2åƒäº†ï¼šå¨å¸ˆ3åšçš„è‚‰åŒ…å­</span><br><span class="line">å¨å¸ˆ1åšäº†ä¸€ä¸ªè‚‰åŒ…å­~~</span><br><span class="line">åƒè´§1åƒäº†ï¼šå¨å¸ˆ1åšçš„è‚‰åŒ…å­</span><br><span class="line">å¨å¸ˆ2åšäº†ä¸€ä¸ªè‚‰åŒ…å­~~</span><br><span class="line">åƒè´§2åƒäº†ï¼šå¨å¸ˆ2åšçš„è‚‰åŒ…å­</span><br><span class="line">å¨å¸ˆ3åšäº†ä¸€ä¸ªè‚‰åŒ…å­~~</span><br><span class="line">åƒè´§1åƒäº†ï¼šå¨å¸ˆ3åšçš„è‚‰åŒ…å­</span><br></pre></td></tr></table></figure>



<h2 id="çº¿ç¨‹æ± "><a href="#çº¿ç¨‹æ± " class="headerlink" title="çº¿ç¨‹æ± "></a>çº¿ç¨‹æ± </h2><h3 id="çº¿ç¨‹æ± æ¦‚è¿°"><a href="#çº¿ç¨‹æ± æ¦‚è¿°" class="headerlink" title="çº¿ç¨‹æ± æ¦‚è¿°"></a>çº¿ç¨‹æ± æ¦‚è¿°</h3><p>å„ä½å°ä¼™ä¼´ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å­¦ä¹ ä¸€ä¸‹çº¿ç¨‹æ± æŠ€æœ¯ã€‚å…ˆè®¤è¯†ä¸€ä¸‹ä»€ä¹ˆæ˜¯çº¿ç¨‹æ± æŠ€æœ¯ï¼Ÿ å…¶å®ï¼Œ<strong>çº¿ç¨‹æ± å°±æ˜¯ä¸€ä¸ªå¯ä»¥å¤ç”¨çº¿ç¨‹çš„æŠ€æœ¯</strong>ã€‚</p>
<p>è¦ç†è§£ä»€ä¹ˆæ˜¯çº¿ç¨‹å¤ç”¨æŠ€æœ¯ï¼Œæˆ‘ä»¬å…ˆå¾—çœ‹ä¸€ä¸‹ä¸ä½¿ç”¨çº¿ç¨‹æ± ä¼šæœ‰ä»€ä¹ˆé—®é¢˜ï¼Œç†è§£äº†è¿™äº›é—®é¢˜ä¹‹åï¼Œæˆ‘ä»¬åœ¨è§£é‡Šçº¿ç¨‹å¤ç”¨åŒå­¦ä»¬å°±å¥½ç†è§£äº†ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å‡è®¾ï¼šç”¨æˆ·æ¯æ¬¡å‘èµ·ä¸€ä¸ªè¯·æ±‚ç»™åå°ï¼Œåå°å°±åˆ›å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹æ¥å¤„ç†ï¼Œä¸‹æ¬¡æ–°çš„ä»»åŠ¡è¿‡æ¥è‚¯å®šä¹Ÿä¼šåˆ›å»ºæ–°çš„çº¿ç¨‹ï¼Œå¦‚æœç”¨æˆ·é‡éå¸¸å¤§ï¼Œåˆ›å»ºçš„çº¿ç¨‹ä¹Ÿè®²è¶Šæ¥è¶Šå¤šã€‚ç„¶è€Œï¼Œåˆ›å»ºçº¿ç¨‹æ˜¯å¼€é”€å¾ˆå¤§çš„ï¼Œå¹¶ä¸”è¯·æ±‚è¿‡å¤šæ—¶ï¼Œä¼šä¸¥é‡å½±å“ç³»ç»Ÿæ€§èƒ½ã€‚</span><br></pre></td></tr></table></figure>

<p>è€Œä½¿ç”¨çº¿ç¨‹æ± ï¼Œå°±å¯ä»¥è§£å†³ä¸Šé¢çš„é—®é¢˜ã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œçº¿ç¨‹æ± å†…éƒ¨ä¼šæœ‰ä¸€ä¸ªå®¹å™¨ï¼Œå­˜å‚¨å‡ ä¸ªæ ¸å¿ƒçº¿ç¨‹ï¼Œå‡è®¾æœ‰3ä¸ªæ ¸å¿ƒçº¿ç¨‹ï¼Œè¿™3ä¸ªæ ¸å¿ƒçº¿ç¨‹å¯ä»¥å¤„ç†3ä¸ªä»»åŠ¡ã€‚</p>
<p>ä½†æ˜¯ä»»åŠ¡æ€»æœ‰è¢«æ‰§è¡Œå®Œçš„æ—¶å€™ï¼Œå‡è®¾ç¬¬1ä¸ªçº¿ç¨‹çš„ä»»åŠ¡æ‰§è¡Œå®Œäº†ï¼Œé‚£ä¹ˆç¬¬1ä¸ªçº¿ç¨‹å°±ç©ºé—²ä¸‹æ¥äº†ï¼Œæœ‰æ–°çš„ä»»åŠ¡æ—¶ï¼Œç©ºé—²ä¸‹æ¥çš„ç¬¬1ä¸ªçº¿ç¨‹å¯ä»¥å»æ‰§è¡Œå…¶ä»–ä»»åŠ¡ã€‚ä¾æ­¤å†…æ¨ï¼Œè¿™3ä¸ªçº¿ç¨‹å¯ä»¥ä¸æ–­çš„å¤ç”¨ï¼Œä¹Ÿå¯ä»¥æ‰§è¡Œå¾ˆå¤šä¸ªä»»åŠ¡ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh121.png"></p>
<p><strong>æ‰€ä»¥ï¼Œçº¿ç¨‹æ± å°±æ˜¯ä¸€ä¸ªçº¿ç¨‹å¤ç”¨æŠ€æœ¯ï¼Œå®ƒå¯ä»¥æé«˜çº¿ç¨‹çš„åˆ©ç”¨ç‡ã€‚</strong></p>
<h3 id="åˆ›å»ºçº¿ç¨‹æ± "><a href="#åˆ›å»ºçº¿ç¨‹æ± " class="headerlink" title="åˆ›å»ºçº¿ç¨‹æ± "></a>åˆ›å»ºçº¿ç¨‹æ± </h3><p>åœ¨JDK5ç‰ˆæœ¬ä¸­æä¾›äº†ä»£è¡¨çº¿ç¨‹æ± çš„æ¥å£ExecutorServiceï¼Œè€Œè¿™ä¸ªæ¥å£ä¸‹æœ‰ä¸€ä¸ªå®ç°ç±»å«ThreadPoolExecutorç±»ï¼Œä½¿ç”¨ThreadPoolExecutorç±»å°±å¯ä»¥ç”¨æ¥åˆ›å»ºçº¿ç¨‹æ± å¯¹è±¡ã€‚</p>
<p>ä¸‹é¢æ˜¯å®ƒçš„æ„é€ å™¨ï¼Œå‚æ•°æ¯”è¾ƒå¤šï¼Œä¸è¦æ€•ï¼Œå¹²å°±å®Œäº†^_^ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh122.png"></p>
<p>æ¥ä¸‹æ¥ï¼Œç”¨è¿™7ä¸ªå‚æ•°çš„æ„é€ å™¨æ¥åˆ›å»ºçº¿ç¨‹æ± çš„å¯¹è±¡ã€‚ä»£ç å¦‚ä¸‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ExecutorService</span> <span class="variable">pool</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadPoolExecutor</span>(</span><br><span class="line">    <span class="number">3</span>,	<span class="comment">//æ ¸å¿ƒçº¿ç¨‹æ•°æœ‰3ä¸ª</span></span><br><span class="line">    <span class="number">5</span>,  <span class="comment">//æœ€å¤§çº¿ç¨‹æ•°æœ‰5ä¸ªã€‚   ä¸´æ—¶çº¿ç¨‹æ•°=æœ€å¤§çº¿ç¨‹æ•°-æ ¸å¿ƒçº¿ç¨‹æ•°=5-3=2</span></span><br><span class="line">    <span class="number">8</span>,	<span class="comment">//ä¸´æ—¶çº¿ç¨‹å­˜æ´»çš„æ—¶é—´8ç§’ã€‚ æ„æ€æ˜¯ä¸´æ—¶çº¿ç¨‹8ç§’æ²¡æœ‰ä»»åŠ¡æ‰§è¡Œï¼Œå°±ä¼šè¢«é”€æ¯æ‰ã€‚</span></span><br><span class="line">    TimeUnit.SECONDS,<span class="comment">//æ—¶é—´å•ä½ï¼ˆç§’ï¼‰</span></span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">ArrayBlockingQueue</span>&lt;&gt;(<span class="number">4</span>), <span class="comment">//ä»»åŠ¡é˜»å¡é˜Ÿåˆ—ï¼Œæ²¡æœ‰æ¥å¾—åŠæ‰§è¡Œçš„ä»»åŠ¡åœ¨ï¼Œä»»åŠ¡é˜Ÿåˆ—ä¸­ç­‰å¾…</span></span><br><span class="line">    Executors.defaultThreadFactory(), <span class="comment">//ç”¨äºåˆ›å»ºçº¿ç¨‹çš„å·¥å‚å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">ThreadPoolExecutor</span>.CallerRunsPolicy() <span class="comment">//æ‹’ç»ç­–ç•¥</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure>

<p>å…³äºçº¿ç¨‹æ± ï¼Œæˆ‘ä»¬éœ€è¦æ³¨æ„ä¸‹é¢çš„ä¸¤ä¸ªé—®é¢˜</p>
<ul>
<li><p>ä¸´æ—¶çº¿ç¨‹ä»€ä¹ˆæ—¶å€™åˆ›å»ºï¼Ÿ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æ–°ä»»åŠ¡æäº¤æ—¶ï¼Œå‘ç°æ ¸å¿ƒçº¿ç¨‹éƒ½åœ¨å¿™ã€ä»»åŠ¡é˜Ÿåˆ—æ»¡äº†ã€å¹¶ä¸”è¿˜å¯ä»¥åˆ›å»ºä¸´æ—¶çº¿ç¨‹ï¼Œæ­¤æ—¶ä¼šåˆ›å»ºä¸´æ—¶çº¿ç¨‹ã€‚</span><br></pre></td></tr></table></figure>
</li>
<li><p>ä»€ä¹ˆæ—¶å€™å¼€å§‹æ‹’ç»æ–°çš„ä»»åŠ¡ï¼Ÿ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æ ¸å¿ƒçº¿ç¨‹å’Œä¸´æ—¶çº¿ç¨‹éƒ½åœ¨å¿™ã€ä»»åŠ¡é˜Ÿåˆ—ä¹Ÿæ»¡äº†ã€æ–°ä»»åŠ¡è¿‡æ¥æ—¶æ‰ä¼šå¼€å§‹æ‹’ç»ä»»åŠ¡ã€‚</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="çº¿ç¨‹æ± æ‰§è¡ŒRunnableä»»åŠ¡"><a href="#çº¿ç¨‹æ± æ‰§è¡ŒRunnableä»»åŠ¡" class="headerlink" title="çº¿ç¨‹æ± æ‰§è¡ŒRunnableä»»åŠ¡"></a>çº¿ç¨‹æ± æ‰§è¡ŒRunnableä»»åŠ¡</h3><p>åˆ›å»ºå¥½çº¿ç¨‹æ± ä¹‹åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨çº¿ç¨‹æ± æ‰§è¡Œä»»åŠ¡äº†ã€‚çº¿ç¨‹æ± æ‰§è¡Œçš„ä»»åŠ¡å¯ä»¥æœ‰ä¸¤ç§ï¼Œä¸€ç§æ˜¯Runnableä»»åŠ¡ï¼›ä¸€ç§æ˜¯callableä»»åŠ¡ã€‚ä¸‹é¢çš„executeæ–¹æ³•å¯ä»¥ç”¨æ¥æ‰§è¡ŒRunnableä»»åŠ¡ã€‚</p>
<p>æ–¹æ³•åç§°              è¯´æ˜<br>void execute(Runnable command)<br>æ‰§è¡Œ Runnableä»»åŠ¡<br>Future<T> submit(Callable<T> task)<br>æ‰§è¡Œcallableä»»åŠ¡ï¼Œè¿”å›æœªæ¥ä»»åŠ¡å¯¹è±¡ï¼Œç”¨äºè·å–çº¿ç¨‹è¿”å›çš„ç»“æœ<br>void shutdown()<br>ç­‰å…¨éƒ¨ä»»åŠ¡æ‰§è¡Œå®Œæ¯•åï¼Œå†å…³é—­çº¿ç¨‹æ± !<br>List<Runnable> shutdownNow()<br>ç«‹åˆ»å…³é—­çº¿ç¨‹æ± ï¼Œåœæ­¢æ­£åœ¨æ‰§è¡Œçš„ä»»åŠ¡ï¼Œå¹¶è¿”å›é˜Ÿåˆ—ä¸­æœªæ‰§è¡Œçš„ä»»åŠ¡</p>
<p>å…ˆå‡†å¤‡ä¸€ä¸ªçº¿ç¨‹ä»»åŠ¡ç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyRunnable</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// ä»»åŠ¡æ˜¯å¹²å•¥çš„ï¼Ÿ</span></span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">&quot; ==&gt; è¾“å‡º666~~&quot;</span>);</span><br><span class="line">        <span class="comment">//ä¸ºäº†æ¨¡æ‹Ÿçº¿ç¨‹ä¸€ç›´åœ¨æ‰§è¡Œï¼Œè¿™é‡Œç¡ä¹…ä¸€ç‚¹</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(Integer.MAX_VALUE);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æ˜¯æ‰§è¡ŒRunnableä»»åŠ¡çš„ä»£ç ï¼Œæ³¨æ„é˜…è¯»æ³¨é‡Šï¼Œå¯¹ç…§ç€å‰é¢çš„7ä¸ªå‚æ•°ç†è§£ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">ExecutorService</span> <span class="variable">pool</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadPoolExecutor</span>(</span><br><span class="line">    <span class="number">3</span>,	<span class="comment">//æ ¸å¿ƒçº¿ç¨‹æ•°æœ‰3ä¸ª</span></span><br><span class="line">    <span class="number">5</span>,  <span class="comment">//æœ€å¤§çº¿ç¨‹æ•°æœ‰5ä¸ªã€‚   ä¸´æ—¶çº¿ç¨‹æ•°=æœ€å¤§çº¿ç¨‹æ•°-æ ¸å¿ƒçº¿ç¨‹æ•°=5-3=2</span></span><br><span class="line">    <span class="number">8</span>,	<span class="comment">//ä¸´æ—¶çº¿ç¨‹å­˜æ´»çš„æ—¶é—´8ç§’ã€‚ æ„æ€æ˜¯ä¸´æ—¶çº¿ç¨‹8ç§’æ²¡æœ‰ä»»åŠ¡æ‰§è¡Œï¼Œå°±ä¼šè¢«é”€æ¯æ‰ã€‚</span></span><br><span class="line">    TimeUnit.SECONDS,<span class="comment">//æ—¶é—´å•ä½ï¼ˆç§’ï¼‰</span></span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">ArrayBlockingQueue</span>&lt;&gt;(<span class="number">4</span>), <span class="comment">//ä»»åŠ¡é˜»å¡é˜Ÿåˆ—ï¼Œæ²¡æœ‰æ¥å¾—åŠæ‰§è¡Œçš„ä»»åŠ¡åœ¨ï¼Œä»»åŠ¡é˜Ÿåˆ—ä¸­ç­‰å¾…</span></span><br><span class="line">    Executors.defaultThreadFactory(), <span class="comment">//ç”¨äºåˆ›å»ºçº¿ç¨‹çš„å·¥å‚å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">ThreadPoolExecutor</span>.CallerRunsPolicy() <span class="comment">//æ‹’ç»ç­–ç•¥</span></span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="type">Runnable</span> <span class="variable">target</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyRunnable</span>();</span><br><span class="line">pool.execute(target); <span class="comment">// çº¿ç¨‹æ± ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªæ–°çº¿ç¨‹ï¼Œè‡ªåŠ¨å¤„ç†è¿™ä¸ªä»»åŠ¡ï¼Œè‡ªåŠ¨æ‰§è¡Œçš„ï¼</span></span><br><span class="line">pool.execute(target); <span class="comment">// çº¿ç¨‹æ± ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªæ–°çº¿ç¨‹ï¼Œè‡ªåŠ¨å¤„ç†è¿™ä¸ªä»»åŠ¡ï¼Œè‡ªåŠ¨æ‰§è¡Œçš„ï¼</span></span><br><span class="line">pool.execute(target); <span class="comment">// çº¿ç¨‹æ± ä¼šè‡ªåŠ¨åˆ›å»ºä¸€ä¸ªæ–°çº¿ç¨‹ï¼Œè‡ªåŠ¨å¤„ç†è¿™ä¸ªä»»åŠ¡ï¼Œè‡ªåŠ¨æ‰§è¡Œçš„ï¼</span></span><br><span class="line"><span class="comment">//ä¸‹é¢4ä¸ªä»»åŠ¡åœ¨ä»»åŠ¡é˜Ÿåˆ—é‡Œæ’é˜Ÿ</span></span><br><span class="line">pool.execute(target);</span><br><span class="line">pool.execute(target);</span><br><span class="line">pool.execute(target);</span><br><span class="line">pool.execute(target);</span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¸‹é¢2ä¸ªä»»åŠ¡ï¼Œä¼šè¢«ä¸´æ—¶çº¿ç¨‹çš„åˆ›å»ºæ—¶æœºäº†</span></span><br><span class="line">pool.execute(target);</span><br><span class="line">pool.execute(target);</span><br><span class="line"><span class="comment">// åˆ°äº†æ–°ä»»åŠ¡çš„æ‹’ç»æ—¶æœºäº†ï¼</span></span><br><span class="line">pool.execute(target);</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œä¸Šé¢çš„ä»£ç ï¼Œç»“æœè¾“å‡ºå¦‚ä¸‹</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh123.png"></p>
<h3 id="çº¿ç¨‹æ± æ‰§è¡ŒCallableä»»åŠ¡"><a href="#çº¿ç¨‹æ± æ‰§è¡ŒCallableä»»åŠ¡" class="headerlink" title="çº¿ç¨‹æ± æ‰§è¡ŒCallableä»»åŠ¡"></a>çº¿ç¨‹æ± æ‰§è¡ŒCallableä»»åŠ¡</h3><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å­¦ä¹ ä½¿ç”¨çº¿ç¨‹æ± æ‰§è¡ŒCallableä»»åŠ¡ã€‚callableä»»åŠ¡ç›¸å¯¹äºRunnableä»»åŠ¡æ¥è¯´ï¼Œå°±æ˜¯å¤šäº†ä¸€ä¸ªè¿”å›å€¼ã€‚</p>
<p>æ‰§è¡ŒCallableä»»åŠ¡éœ€è¦ç”¨åˆ°ä¸‹é¢çš„submitæ–¹æ³•</p>
<p>æ–¹æ³•åç§°                  è¯´æ˜<br>void execute(Runnable command)<br>æ‰§è¡Œä»»åŠ¡&#x2F;å‘½ä»¤ï¼Œæ²¡æœ‰è¿”å›å€¼ï¼Œä¸€èˆ¬ç”¨æ¥æ‰§è¡ŒRunnableä»»åŠ¡<br>Future<T> submit(Callable<T> task)<br>æ‰§è¡Œä»»åŠ¡ï¼Œè¿”å›æœªæ¥ä»»åŠ¡å¯¹è±¡è·å–çº¿ç¨‹ç»“æœï¼Œä¸€èˆ¬æ‹¿æ¥æ‰§è¡Œcallableä»»åŠ¡<br>void shutdown<br>ç­‰ä»»åŠ¡æ‰§è¡Œå®Œæ¯•åå…³é—­çº¿ç¨‹æ± <br>List<Runnable> shutdownNow()<br>ç«‹åˆ»å…³é—­ï¼Œåœæ­¢æ­£åœ¨æ‰§è¡Œçš„ä»»åŠ¡ï¼Œå¹¶è¿”å›é˜Ÿåˆ—ä¸­æœªæ‰§è¡Œçš„ä»»åŠ¡</p>
<p>å…ˆå‡†å¤‡ä¸€ä¸ªCallableçº¿ç¨‹ä»»åŠ¡</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyCallable</span> <span class="keyword">implements</span> <span class="title class_">Callable</span>&lt;String&gt; &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> n;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyCallable</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.n = n;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2ã€é‡å†™callæ–¹æ³•</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">// æè¿°çº¿ç¨‹çš„ä»»åŠ¡ï¼Œè¿”å›çº¿ç¨‹æ‰§è¡Œè¿”å›åçš„ç»“æœã€‚</span></span><br><span class="line">        <span class="comment">// éœ€æ±‚ï¼šæ±‚1-nçš„å’Œè¿”å›ã€‚</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= n; i++) &#123;</span><br><span class="line">            sum += i;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> Thread.currentThread().getName() + <span class="string">&quot;æ±‚å‡ºäº†1-&quot;</span> + n + <span class="string">&quot;çš„å’Œæ˜¯ï¼š&quot;</span> + sum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å†å‡†å¤‡ä¸€ä¸ªæµ‹è¯•ç±»ï¼Œåœ¨æµ‹è¯•ç±»ä¸­åˆ›å»ºçº¿ç¨‹æ± ï¼Œå¹¶æ‰§è¡Œcallableä»»åŠ¡ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadPoolTest2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">// 1ã€é€šè¿‡ThreadPoolExecutoråˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ± å¯¹è±¡ã€‚</span></span><br><span class="line">        <span class="type">ExecutorService</span> <span class="variable">pool</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadPoolExecutor</span>(</span><br><span class="line">            <span class="number">3</span>,</span><br><span class="line">            <span class="number">5</span>,</span><br><span class="line">            <span class="number">8</span>,</span><br><span class="line">            TimeUnit.SECONDS, </span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">ArrayBlockingQueue</span>&lt;&gt;(<span class="number">4</span>),</span><br><span class="line">            Executors.defaultThreadFactory(),</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">ThreadPoolExecutor</span>.CallerRunsPolicy());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€ä½¿ç”¨çº¿ç¨‹å¤„ç†Callableä»»åŠ¡ã€‚</span></span><br><span class="line">        Future&lt;String&gt; f1 = pool.submit(<span class="keyword">new</span> <span class="title class_">MyCallable</span>(<span class="number">100</span>));</span><br><span class="line">        Future&lt;String&gt; f2 = pool.submit(<span class="keyword">new</span> <span class="title class_">MyCallable</span>(<span class="number">200</span>));</span><br><span class="line">        Future&lt;String&gt; f3 = pool.submit(<span class="keyword">new</span> <span class="title class_">MyCallable</span>(<span class="number">300</span>));</span><br><span class="line">        Future&lt;String&gt; f4 = pool.submit(<span class="keyword">new</span> <span class="title class_">MyCallable</span>(<span class="number">400</span>));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€æ‰§è¡Œå®ŒCallableä»»åŠ¡åï¼Œéœ€è¦è·å–è¿”å›ç»“æœã€‚</span></span><br><span class="line">        System.out.println(f1.get());</span><br><span class="line">        System.out.println(f2.get());</span><br><span class="line">        System.out.println(f3.get());</span><br><span class="line">        System.out.println(f4.get());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œåï¼Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤º</p>
<p>pool-1-thread-1æ±‚å‡ºäº†1-100çš„å’Œæ˜¯:5050<br>pool-1-thread-2æ±‚å‡ºäº†1-200çš„å’Œæ˜¯:20100<br>pool-1-thread-3æ±‚å‡ºäº†1-300çš„å’Œæ˜¯:45150<br>pool-1-thread-2æ±‚å‡ºäº†1-400çš„å’Œæ˜¯:80200</p>
<h3 id="çº¿ç¨‹æ± å·¥å…·ç±»ï¼ˆExecutorsï¼‰"><a href="#çº¿ç¨‹æ± å·¥å…·ç±»ï¼ˆExecutorsï¼‰" class="headerlink" title="çº¿ç¨‹æ± å·¥å…·ç±»ï¼ˆExecutorsï¼‰"></a>çº¿ç¨‹æ± å·¥å…·ç±»ï¼ˆExecutorsï¼‰</h3><p>æœ‰åŒå­¦å¯èƒ½ä¼šè§‰å¾—å‰é¢åˆ›å»ºçº¿ç¨‹æ± çš„ä»£ç å‚æ•°å¤ªå¤šã€è®°ä¸ä½ï¼Œæœ‰æ²¡æœ‰å¿«æ·çš„åˆ›å»ºçº¿ç¨‹æ± çš„æ–¹æ³•å‘¢ï¼Ÿæœ‰çš„ã€‚Javaä¸ºå¼€å‘è€…æä¾›äº†ä¸€ä¸ªåˆ›å»ºçº¿ç¨‹æ± çš„å·¥å…·ç±»ï¼Œå«åšExecutorsï¼Œå®ƒæä¾›äº†æ–¹æ³•å¯ä»¥åˆ›å»ºå„ç§ä¸èƒ½ç‰¹ç‚¹çš„çº¿ç¨‹æ± ã€‚å¦‚ä¸‹å›¾æ‰€ç¤º</p>
<p>æ–¹æ³•åç§°                         è¯´æ˜<br>public static ExecutorService newFixedThreadPool(int nThreads)<br>åˆ›å»ºå›ºå®šçº¿ç¨‹æ•°é‡çš„çº¿ç¨‹æ± ï¼Œå¦‚æœæŸä¸ªçº¿ç¨‹å› ä¸ºæ‰§è¡Œå¼‚å¸¸è€Œç»“æŸï¼Œé‚£ä¹ˆçº¿ç¨‹æ± ä¼šè¡¥å……ä¸€ä¸ªæ–°çº¿ç¨‹æ›¿ä»£å®ƒã€‚</p>
<p>public static ExecutorService newsingleThreadExecutor()<br>åˆ›å»ºåªæœ‰ä¸€ä¸ªçº¿ç¨‹çš„çº¿ç¨‹æ± å¯¹è±¡ï¼Œå¦‚æœè¯¥çº¿ç¨‹å‡ºç°å¼‚å¸¸è€Œç»“æŸï¼Œé‚£ä¹ˆçº¿ç¨‹æ± ä¼šè¡¥å……ä¸€ä¸ªæ–°çº¿ç¨‹ã€‚</p>
<p>public static Executorservice newCachedThreadPool()<br>çº¿ç¨‹æ•°é‡éšç€ä»»åŠ¡å¢åŠ è€Œå¢åŠ ï¼Œå¦‚æœçº¿åˆ©ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ä¸”ç©ºé—²äº†60såˆ™ä¼šè¢«å›æ”¶æ‰ã€‚</p>
<p>public static ScheduledExecutorService newScheduledThreadPool(int corePoolsize)<br>åˆ›å»ºâ€”ä¸ªçº¿ç¨‹æ± ï¼Œå¯ä»¥å®ç°åœ¨ç»™å®šçš„å»¶è¿Ÿåè¿è¡Œä»»åŠ¡ï¼Œæˆ–è€…å®šæœŸæ‰§è¡Œä»»åŠ¡ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¼”ç¤ºä¸€ä¸‹åˆ›å»ºå›ºå®šçº¿ç¨‹æ•°é‡çš„çº¿ç¨‹æ± ã€‚è¿™å‡ ä¸ªæ–¹æ³•ç”¨å¾—ä¸å¤šï¼Œæ‰€ä»¥è¿™é‡Œä¸åšè¿‡å¤šæ¼”ç¤ºï¼ŒåŒå­¦ä»¬äº†è§£ä¸€ä¸‹å°±è¡Œäº†ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadPoolTest3</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">// 1ã€é€šè¿‡Executorsåˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ± å¯¹è±¡ã€‚</span></span><br><span class="line">        <span class="type">ExecutorService</span> <span class="variable">pool</span> <span class="operator">=</span> Executors.newFixedThreadPool(<span class="number">17</span>);</span><br><span class="line">        <span class="comment">// è€å¸ˆï¼šæ ¸å¿ƒçº¿ç¨‹æ•°é‡åˆ°åº•é…ç½®å¤šå°‘å‘¢ï¼Ÿï¼Ÿï¼Ÿ</span></span><br><span class="line">        <span class="comment">// è®¡ç®—å¯†é›†å‹çš„ä»»åŠ¡ï¼šæ ¸å¿ƒçº¿ç¨‹æ•°é‡ = CPUçš„æ ¸æ•° + 1</span></span><br><span class="line">        <span class="comment">// IOå¯†é›†å‹çš„ä»»åŠ¡ï¼šæ ¸å¿ƒçº¿ç¨‹æ•°é‡ = CPUæ ¸æ•° * 2</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€ä½¿ç”¨çº¿ç¨‹å¤„ç†Callableä»»åŠ¡ã€‚</span></span><br><span class="line">        Future&lt;String&gt; f1 = pool.submit(<span class="keyword">new</span> <span class="title class_">MyCallable</span>(<span class="number">100</span>));</span><br><span class="line">        Future&lt;String&gt; f2 = pool.submit(<span class="keyword">new</span> <span class="title class_">MyCallable</span>(<span class="number">200</span>));</span><br><span class="line">        Future&lt;String&gt; f3 = pool.submit(<span class="keyword">new</span> <span class="title class_">MyCallable</span>(<span class="number">300</span>));</span><br><span class="line">        Future&lt;String&gt; f4 = pool.submit(<span class="keyword">new</span> <span class="title class_">MyCallable</span>(<span class="number">400</span>));</span><br><span class="line"></span><br><span class="line">        System.out.println(f1.get());</span><br><span class="line">        System.out.println(f2.get());</span><br><span class="line">        System.out.println(f3.get());</span><br><span class="line">        System.out.println(f4.get());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Executorsåˆ›å»ºçº¿ç¨‹æ± è¿™ä¹ˆå¥½ç”¨ï¼Œä¸ºä»€ä¹ˆä¸æ¨èåŒå­¦ä»¬ä½¿ç”¨å‘¢ï¼ŸåŸå› åœ¨è¿™é‡Œï¼šçœ‹ä¸‹å›¾ï¼Œè¿™æ˜¯ã€Šé˜¿é‡Œå·´å·´Javaå¼€å‘æ‰‹å†Œã€‹æä¾›çš„å¼ºåˆ¶è§„èŒƒè¦æ±‚ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh124.png"></p>
<h2 id="è¡¥å……çŸ¥è¯†"><a href="#è¡¥å……çŸ¥è¯†" class="headerlink" title="è¡¥å……çŸ¥è¯†"></a>è¡¥å……çŸ¥è¯†</h2><p>æœ€åï¼Œæˆ‘ä»¬å†è¡¥å……å‡ ä¸ªæ¦‚å¿µæ€§çš„çŸ¥è¯†ç‚¹ï¼ŒåŒå­¦ä»¬çŸ¥é“è¿™äº›æ¦‚å¿µä»€ä¹ˆæ„æ€å°±å¯ä»¥äº†ã€‚</p>
<h3 id="å¹¶å‘å’Œå¹¶è¡Œ"><a href="#å¹¶å‘å’Œå¹¶è¡Œ" class="headerlink" title="å¹¶å‘å’Œå¹¶è¡Œ"></a>å¹¶å‘å’Œå¹¶è¡Œ</h3><p>å…ˆå­¦ä¹ ç¬¬ä¸€ä¸ªè¡¥å……çŸ¥è¯†ç‚¹ï¼Œå¹¶å‘å’Œå¹¶è¡Œã€‚åœ¨è®²è§£å¹¶å‘å’Œå¹¶è¡Œçš„å«ä¹‰ä¹‹å‰ï¼Œæˆ‘ä»¬å…ˆæ¥äº†è§£ä¸€ä¸‹ä»€ä¹ˆæ˜¯è¿›ç¨‹ã€çº¿ç¨‹ï¼Ÿ</p>
<ul>
<li>æ­£å¸¸è¿è¡Œçš„ç¨‹åºï¼ˆè½¯ä»¶ï¼‰å°±æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„è¿›ç¨‹</li>
<li>çº¿ç¨‹æ˜¯å±äºè¿›ç¨‹ï¼Œä¸€ä¸ªè¿›ç¨‹ä¸­åŒ…å«å¤šä¸ªçº¿ç¨‹</li>
<li>è¿›ç¨‹ä¸­çš„çº¿ç¨‹å…¶å®å¹¶å‘å’Œå¹¶è¡ŒåŒæ—¶å­˜åœ¨ï¼ˆç»§ç»­å¾€ä¸‹çœ‹ï¼‰</li>
</ul>
<p>æˆ‘ä»¬å¯ä»¥æ‰“å¼€ç³»ç»Ÿçš„ä»»åŠ¡ç®¡ç†å™¨çœ‹çœ‹ï¼ˆå¿«æ·é”®ï¼šCtrl+Shfit+Escï¼‰ï¼Œè‡ªå·±çš„ç”µè„‘ä¸Šç›®å‰æœ‰å“ªäº›è¿›ç¨‹ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh125.png"></p>
<p>çŸ¥é“äº†ä»€ä¹ˆæ˜¯è¿›ç¨‹å’Œçº¿ç¨‹ä¹‹åï¼Œæ¥ç€æˆ‘ä»¬å†æ¥å­¦ä¹ å¹¶å‘å’Œå¹¶è¡Œçš„å«ä¹‰ã€‚</p>
<p><strong>é¦–å…ˆï¼Œæ¥å­¦ä¹ ä¸€ä¸‹ä»€ä¹ˆæ˜¯å¹¶å‘ï¼Ÿ</strong></p>
<p>è¿›ç¨‹ä¸­çš„çº¿ç¨‹ç”±CPUè´Ÿè´£è°ƒåº¦æ‰§è¡Œï¼Œä½†æ˜¯CPUåŒæ—¶å¤„ç†çº¿ç¨‹çš„æ•°é‡æ˜¯ä¼˜å…ˆçš„ï¼Œä¸ºäº†ä¿è¯å…¨éƒ¨çº¿ç¨‹éƒ½èƒ½æ‰§è¡Œåˆ°ï¼ŒCPUé‡‡ç”¨è½®è¯¢æœºåˆ¶ä¸ºç³»ç»Ÿçš„æ¯ä¸ªçº¿ç¨‹æœåŠ¡ï¼Œç”±äºCPUåˆ‡æ¢çš„é€Ÿåº¦å¾ˆå¿«ï¼Œç»™æˆ‘ä»¬çš„æ„Ÿè§‰è¿™äº›çº¿ç¨‹åœ¨åŒæ—¶æ‰§è¡Œï¼Œè¿™å°±æ˜¯å¹¶å‘ã€‚ï¼ˆç®€å•è®°ï¼šå¹¶å‘å°±æ˜¯å¤šæ¡çº¿ç¨‹äº¤æ›¿æ‰§è¡Œï¼‰</p>
<p><strong>æ¥ä¸‹ï¼Œå†æ¥å­¦ä¹ ä¸€ä¸‹ä»€ä¹ˆæ˜¯å¹¶è¡Œï¼Ÿ</strong></p>
<p>å¹¶è¡ŒæŒ‡çš„æ˜¯ï¼Œå¤šä¸ªçº¿ç¨‹åŒæ—¶è¢«CPUè°ƒåº¦æ‰§è¡Œã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå¤šä¸ªCPUæ ¸å¿ƒåœ¨æ‰§è¡Œå¤šæ¡çº¿ç¨‹</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh126.png"></p>
<p><strong>æœ€åä¸€ä¸ªé—®é¢˜ï¼Œå¤šçº¿ç¨‹åˆ°åº•æ˜¯å¹¶å‘è¿˜æ˜¯å¹¶è¡Œå‘¢ï¼Ÿ</strong></p>
<p>å…¶å®å¤šä¸ªçº¿ç¨‹åœ¨æˆ‘ä»¬çš„ç”µè„‘ä¸Šæ‰§è¡Œï¼Œå¹¶å‘å’Œå¹¶è¡Œæ˜¯åŒæ—¶å­˜åœ¨çš„ã€‚</p>
<h3 id="çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ"><a href="#çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ"></a>çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ</h3><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å­¦ä¹ æœ€åä¸€ä¸ªæœ‰å…³çº¿ç¨‹çš„çŸ¥è¯†ç‚¹ï¼Œå«åšçº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸã€‚æ‰€è°“ç”Ÿå‘½å‘¨æœŸå°±æ˜¯çº¿ç¨‹ä»ç”Ÿåˆ°æ­»çš„è¿‡ç¨‹ä¸­é—´æœ‰å“ªäº›çŠ¶æ€ï¼Œä»¥åŠè¿™äº›çŠ¶æ€ä¹‹é—´æ˜¯æ€ä¹ˆåˆ‡æ¢çš„ã€‚</p>
<p>ä¸ºäº†è®©å¤§å®¶åŒå¥½çš„ç†è§£çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸï¼Œå…ˆç”¨äººçš„ç”Ÿå‘½å‘¨æœŸä¸¾ä¸ªä¾‹å­ï¼Œäººä»ç”Ÿåˆ°æ­»æœ‰ä¸‹é¢çš„å‡ ä¸ªè¿‡ç¨‹ã€‚åœ¨äººçš„ç”Ÿå‘½å‘¨æœŸè¿‡ç¨‹ä¸­ï¼Œå„ç§çŠ¶æ€ä¹‹é—´å¯èƒ½ä¼šæœ‰åˆ‡æ¢ï¼Œçº¿ç¨‹ä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh127.png"></p>
<p>æ¥ä¸‹æ¥å°±æ¥å­¦ä¹ çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸã€‚åœ¨Threadç±»ä¸­æœ‰ä¸€ä¸ªåµŒå¥—çš„æšä¸¾ç±»å«Thread.Statusï¼Œè¿™é‡Œé¢å®šä¹‰äº†çº¿ç¨‹çš„6ä¸­çŠ¶æ€ã€‚å¦‚ä¸‹å›¾æ‰€ç¤º</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh128.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">NEW: æ–°å»ºçŠ¶æ€ï¼Œçº¿ç¨‹è¿˜æ²¡æœ‰å¯åŠ¨</span><br><span class="line">RUNNABLE: å¯ä»¥è¿è¡ŒçŠ¶æ€ï¼Œçº¿ç¨‹è°ƒç”¨äº†start()æ–¹æ³•åå¤„äºè¿™ä¸ªçŠ¶æ€</span><br><span class="line">BLOCKED: é”é˜»å¡çŠ¶æ€ï¼Œæ²¡æœ‰è·å–åˆ°é”å¤„äºè¿™ä¸ªçŠ¶æ€</span><br><span class="line">WAITING: æ— é™ç­‰å¾…çŠ¶æ€ï¼Œçº¿ç¨‹æ‰§è¡Œæ—¶è¢«è°ƒç”¨äº†waitæ–¹æ³•å¤„äºè¿™ä¸ªçŠ¶æ€</span><br><span class="line">TIMED_WAITING: è®¡æ—¶ç­‰å¾…çŠ¶æ€ï¼Œçº¿ç¨‹æ‰§è¡Œæ—¶è¢«è°ƒç”¨äº†sleep(æ¯«ç§’)æˆ–è€…wait(æ¯«ç§’)æ–¹æ³•å¤„äºè¿™ä¸ªçŠ¶æ€</span><br><span class="line">TERMINATED: ç»ˆæ­¢çŠ¶æ€, çº¿ç¨‹æ‰§è¡Œå®Œæ¯•æˆ–è€…é‡åˆ°å¼‚å¸¸æ—¶ï¼Œå¤„äºè¿™ä¸ªçŠ¶æ€ã€‚</span><br></pre></td></tr></table></figure>

<p>è¿™å‡ ç§çŠ¶æ€ä¹‹é—´åˆ‡æ¢å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤º</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh129.png"></p>
<h1 id="ç½‘ç»œç¼–ç¨‹"><a href="#ç½‘ç»œç¼–ç¨‹" class="headerlink" title="ç½‘ç»œç¼–ç¨‹"></a>ç½‘ç»œç¼–ç¨‹</h1><h2 id="ç½‘ç»œç¼–ç¨‹æ¦‚è¿°"><a href="#ç½‘ç»œç¼–ç¨‹æ¦‚è¿°" class="headerlink" title="ç½‘ç»œç¼–ç¨‹æ¦‚è¿°"></a>ç½‘ç»œç¼–ç¨‹æ¦‚è¿°</h2><p>åŒå­¦ä»¬ï¼Œä»Šå¤©æˆ‘ä»¬å­¦ä¹ çš„è¯¾ç¨‹å†…å®¹å«ç½‘ç»œç¼–ç¨‹ã€‚æ„æ€å°±æ˜¯ç¼–å†™çš„åº”ç”¨ç¨‹åºå¯ä»¥ä¸ç½‘ç»œä¸Šå…¶ä»–è®¾å¤‡ä¸­çš„åº”ç”¨ç¨‹åºè¿›è¡Œæ•°æ®äº¤äº’ã€‚</p>
<p>ç½‘ç»œç¼–ç¨‹æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿè¿™ä¸ªå°±ä¸è¨€è€Œå–»äº†ï¼Œæ¯”å¦‚æˆ‘ä»¬ç»å¸¸ç”¨çš„å¾®ä¿¡æ”¶å‘æ¶ˆæ¯å°±éœ€è¦ç”¨åˆ°ç½‘ç»œé€šä¿¡çš„æŠ€æœ¯ã€åœ¨æ¯”å¦‚æˆ‘ä»¬æ‰“å¼€æµè§ˆå™¨å¯ä»¥æµè§ˆå„ç§ç½‘ç»œã€è§†é¢‘ç­‰ä¹Ÿéœ€è¦ç”¨åˆ°ç½‘ç»œç¼–ç¨‹çš„æŠ€æœ¯ã€‚</p>
<p>æˆ‘ä»¬çŸ¥é“ä»€ä¹ˆæ˜¯ç½‘ç»œç¼–ç¨‹ã€ä¹ŸçŸ¥é“ç½‘ç»œç¼–ç¨‹èƒ½å¹²ä»€ä¹ˆåäº†ï¼Œé‚£Javaç»™æˆ‘ä»¬æä¾›äº†å“ªäº›ç½‘ç»œç¼–ç¨‹çš„è§£å†³æ–¹æ¡ˆå‘¢ï¼Ÿ</p>
<p>Javaæä¾›çš„ç½‘ç»œç¼–ç¨‹çš„è§£å†³æ–¹æ¡ˆéƒ½æ˜¯åœ¨java.netåŒ…ä¸‹ã€‚åœ¨æ­£å¼å­¦ä¹ Javaç½‘ç»œç¼–ç¨‹æŠ€æœ¯ä¹‹å‰ï¼Œæˆ‘ä»¬è¿˜éœ€è¦å­¦ä¹ ä¸€äº›ç½‘ç»œé€šä¿¡çš„å‰ç½®çŸ¥è¯†ç†è®ºçŸ¥è¯†ï¼Œåªæœ‰è¿™äº›å‰ç½®çŸ¥è¯†åšåŸºç¡€ï¼Œæˆ‘ä»¬å­¦ä¹ ç½‘ç»œç¼–ç¨‹ä»£ç ç¼–å†™æ‰èµ·æ¥æ‰èƒ½ç»§ç»­ä¸‹å»ã€‚</p>
<p>é¦–å…ˆå’ŒåŒå­¦ä»¬èŠèŠç½‘ç»œé€šä¿¡çš„åŸºæœ¬æ¶æ„ã€‚é€šä¿¡çš„åŸºæœ¬æ¶æ„ä¸»è¦æœ‰ä¸¤ç§å½¢å¼ï¼šä¸€ç§æ˜¯CSæ¶æ„ï¼ˆClient å®¢æˆ·ç«¯&#x2F;ServeræœåŠ¡ç«¯ï¼‰ã€ä¸€ç§æ˜¯BSæ¶æ„ï¼ˆBrower æµè§ˆå™¨&#x2F;ServeræœåŠ¡ç«¯ï¼‰ã€‚</p>
<ul>
<li><strong>CSæ¶æ„çš„ç‰¹ç‚¹ï¼š</strong>CSæ¶æ„éœ€è¦ç”¨æˆ·åœ¨è‡ªå·±çš„ç”µè„‘æˆ–è€…æ‰‹æœºä¸Šå®‰è£…å®¢æˆ·ç«¯è½¯ä»¶ï¼Œç„¶åç”±å®¢æˆ·ç«¯è½¯ä»¶é€šè¿‡ç½‘ç»œè¿æ¥æœåŠ¡å™¨ç¨‹åºï¼Œç”±æœåŠ¡å™¨æŠŠæ•°æ®å‘ç»™å®¢æˆ·ç«¯ï¼Œå®¢æˆ·ç«¯å°±å¯ä»¥åœ¨é¡µé¢ä¸Šçœ‹åˆ°å„ç§æ•°æ®äº†ã€‚</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh130.png"></p>
<ul>
<li><p><strong>BSæ¶æ„çš„ç‰¹ç‚¹ï¼š</strong>BSæ¶æ„ä¸éœ€è¦å¼€å‘å®¢æˆ·ç«¯è½¯ä»¶ï¼Œç”¨æˆ·åªéœ€è¦é€šè¿‡æµè§ˆå™¨è¾“å…¥ç½‘å€å°±å¯ä»¥ç›´æ¥ä»æœåŠ¡å™¨è·å–æ•°æ®ï¼Œå¹¶ç”±æœåŠ¡å™¨å°†æ•°æ®è¿”å›ç»™æµè§ˆå™¨ï¼Œç”¨æˆ·åœ¨é¡µé¢ä¸Šå°±å¯ä»¥çœ‹åˆ°å„ç§æ•°æ®äº†ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh131.png"></p>
</li>
</ul>
<p>è¿™ä¸¤ç§ç»“æ„ä¸ç®¡æ˜¯CSã€è¿˜æ˜¯BSéƒ½æ˜¯éœ€è¦ç”¨åˆ°ç½‘ç»œç¼–ç¨‹çš„ç›¸å…³æŠ€æœ¯ã€‚æˆ‘ä»¬å­¦ä¹ Javaçš„ç¨‹åºå‘˜ï¼Œä»¥åä»äº‹çš„å·¥ä½œæ–¹å‘ä¸»è¦è¿˜æ˜¯BSæ¶æ„çš„ã€‚</p>
<h2 id="ç½‘ç»œç¼–ç¨‹ä¸‰è¦ç´ "><a href="#ç½‘ç»œç¼–ç¨‹ä¸‰è¦ç´ " class="headerlink" title="ç½‘ç»œç¼–ç¨‹ä¸‰è¦ç´ "></a>ç½‘ç»œç¼–ç¨‹ä¸‰è¦ç´ </h2><p>å„ä½å°ä¼™ä¼´ï¼Œæˆ‘ä»¬å‰é¢å·²ç»çŸ¥é“ä»€ä¹ˆæ˜¯ç½‘ç»œç¼–ç¨‹äº†ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬è¿˜éœ€è¦å­¦ä¹ ä¸€äº›ç½‘ç»œç¼–ç¨‹çš„åŸºæœ¬æ¦‚å¿µï¼Œæ‰èƒ½å»ç¼–å†™ç½‘ç»œç¼–ç¨‹çš„åº”ç”¨ç¨‹åºã€‚</p>
<p>æœ‰å“ªä¸‰è¦ç´ å‘¢ï¼Ÿåˆ†åˆ«æ˜¯IPåœ°å€ã€ç«¯å£å·ã€é€šä¿¡åè®®</p>
<ol>
<li><p>IPåœ°å€ï¼šè¡¨ç¤ºè®¾å¤‡åœ¨ç½‘ç»œä¸­çš„åœ°å€ï¼Œæ˜¯ç½‘ç»œä¸­è®¾å¤‡çš„å”¯ä¸€æ ‡è¯†</p>
</li>
<li><p>ç«¯å£å·ï¼šåº”ç”¨ç¨‹åºåœ¨è®¾å¤‡ä¸­å”¯ä¸€çš„æ ‡è¯†</p>
</li>
<li><p>åè®®ï¼šè¿æ¥å’Œæ•°æ®åœ¨ç½‘ç»œä¸­ä¼ è¾“çš„è§„åˆ™ã€‚</p>
</li>
</ol>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼šå‡è®¾ç°åœ¨è¦ä»ä¸€å°ç”µè„‘ä¸­çš„å¾®ä¿¡ä¸Šï¼Œå‘ä¸€å¥â€œä½ æ„å•¥ï¼Ÿâ€åˆ°å…¶ä»–ç”µè„‘çš„å¾®ä¿¡ä¸Šï¼Œæµç¨‹å¦‚ä¸‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>å…ˆé€šè¿‡ipåœ°å€æ‰¾åˆ°å¯¹æ–¹çš„ç”µè„‘</span><br><span class="line"><span class="number">2.</span>å†é€šè¿‡ç«¯å£å·æ‰¾åˆ°å¯¹æ–¹çš„ç”µè„‘ä¸Šçš„åº”ç”¨ç¨‹åº</span><br><span class="line"><span class="number">3.</span>æŒ‰ç…§åŒæ–¹çº¦å®šå¥½çš„è§„åˆ™å‘é€ã€æ¥æ”¶æ•°æ®</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh132.png"></p>
<h3 id="IPåœ°å€"><a href="#IPåœ°å€" class="headerlink" title="IPåœ°å€"></a>IPåœ°å€</h3><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è¯¦ç»†ä»‹ç»ä¸€ä¸‹IPåœ°å€ã€‚<strong>IPï¼ˆIneternet Protocolï¼‰å…¨ç§°äº’è”ç½‘åè®®åœ°å€ï¼Œæ˜¯åˆ†é…ç»™ç½‘ç»œè®¾å¤‡çš„å”¯ä¸€è¡¨ç¤ºã€‚</strong>IPåœ°å€åˆ†ä¸ºï¼šIPV4åœ°å€ã€IPV6åœ°å€</p>
<p>IPV4åœ°å€ç”±32ä¸ªæ¯”ç‰¹ä½ï¼ˆ4ä¸ªå­—èŠ‚ï¼‰ç»„æˆï¼Œå¦‚æœä¸‹å›¾æ‰€ç¤ºï¼Œä½†æ˜¯ç”±äºé‡‡ç”¨äºŒè¿›åˆ¶å¤ªä¸å®¹æ˜“é˜…è¯»äº†ï¼Œäºæ˜¯å°±å°†æ¯8ä½çœ‹æˆä¸€ç»„ï¼ŒæŠŠæ¯ä¸€ç»„ç”¨åè¿›åˆ¶è¡¨ç¤ºï¼ˆå«åšç‚¹åˆ†åè¿›åˆ¶è¡¨ç¤ºæ³•ï¼‰ã€‚æ‰€ä»¥å°±æœ‰äº†æˆ‘ä»¬ç»å¸¸çœ‹åˆ°çš„IPåœ°å€å½¢å¼ï¼Œå¦‚ï¼š192.168.1.66</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh133.png"></p>
<p>å¦‚æœæƒ³æŸ¥çœ‹æœ¬æœºçš„IPåœ°å€ï¼Œå¯ä»¥åœ¨å‘½ä»¤è¡Œçª—å£ï¼Œè¾“å…¥<code>ipconfig</code>å‘½ä»¤æŸ¥çœ‹ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh134.png"></p>
<p>ç»è¿‡ä¸æ–­çš„å‘å±•ï¼Œç°åœ¨è¶Šæ¥è¶Šå¤šçš„è®¾å¤‡éœ€è¦è”ç½‘ï¼ŒIPV4åœ°å€å·²ç»ä¸å¤Ÿç”¨äº†ï¼Œæ‰€ä»¥æ‰©å±•å‡ºæ¥äº†IPV6åœ°å€ã€‚</p>
<p>IPV6é‡‡ç”¨128ä½äºŒè¿›åˆ¶æ•°æ®æ¥è¡¨ç¤ºï¼ˆ16ä¸ªå­—èŠ‚ï¼‰ï¼Œå·ç§°å¯ä»¥ä¸ºåœ°çƒä¸Šçš„æ¯ä¸€ç²’æ²™å­ç¼–ä¸€ä¸ªIPåœ°å€ï¼Œ</p>
<p>IPV6æ¯”è¾ƒé•¿ï¼Œä¸ºäº†æ–¹ä¾¿é˜…è¯»ï¼Œæ¯16ä½ç¼–æˆä¸€ç»„ï¼Œæ¯ç»„é‡‡ç”¨åå…­è¿›åˆ¶æ•°æ®è¡¨ç¤ºï¼Œç„¶åç”¨å†’å·éš”å¼€ï¼ˆç§°ä¸ºå†’åˆ†åå…­è¿›åˆ¶è¡¨ç¤ºæ³•ï¼‰ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh135.png"></p>
<p>æˆ‘ä»¬åœ¨å‘½ä»¤è¡Œçª—å£è¾“å…¥<code>ipconfig</code>å‘½ä»¤ï¼ŒåŒæ ·å¯ä»¥çœ‹åˆ°ipv6åœ°å€ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh136.png"></p>
<p>ç°åœ¨çš„ç½‘ç»œè®¾å¤‡ï¼Œä¸€èˆ¬IPV4å’ŒIPV6åœ°å€éƒ½æ˜¯æ”¯æŒçš„ã€‚</p>
<hr>
<p>èŠå®Œä»€ä¹ˆæ˜¯IPåœ°å€å’ŒIPåœ°å€åˆ†ç±»ä¹‹åï¼Œæ¥ä¸‹æ¥å†ç»™å¤§å®¶ä»‹ç»ä¸€ä¸‹å’ŒIPåœ°å€ç›¸å…³çš„ä¸€ä¸ªä¸œè¥¿ï¼Œå«åšåŸŸåã€‚</p>
<p>æˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸Šè®¿é—®æŸä¸€ä¸ªç½‘ç«™æ˜¯ï¼Œå°±éœ€è¦åœ¨æµè§ˆå™¨çš„åœ°å€æ è¾“å…¥ç½‘å€ï¼Œè¿™ä¸ªç½‘å€çš„ä¸“ä¸šè¯´æ³•å«åšåŸŸåã€‚æ¯”å¦‚ï¼šä¼ æ™ºæ’­å®¢çš„åŸŸåæ˜¯<code>http://www.itcast.cn</code>ã€‚</p>
<p>åŸŸåå’ŒIPå…¶å®æ˜¯ä¸€ä¸€å¯¹åº”çš„ï¼Œç”±è¿è¥å•†æ¥ç®¡ç†åŸŸåå’ŒIPçš„å¯¹åº”å…³ç³»ã€‚æˆ‘ä»¬åœ¨æµè§ˆå™¨ä¸Šæ•²ä¸€ä¸ªåŸŸåæ—¶ï¼Œé¦–å…ˆç”±è¿è¥å•†çš„åŸŸåè§£ææœåŠ¡ï¼ŒæŠŠåŸŸåè½¬æ¢ä¸ºipåœ°å€ï¼Œå†é€šè¿‡IPåœ°å€å»è®¿é—®å¯¹åº”çš„æœåŠ¡å™¨è®¾å¤‡ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh137.png"></p>
<p>å…³äºIPåœ°å€ï¼Œè¿˜æœ‰ä¸€ä¸ªç‰¹æ®Šçš„åœ°å€éœ€è¦æˆ‘ä»¬è®°ä½ä¸€ä¸‹ã€‚å°±æ˜¯æˆ‘ä»¬åœ¨å­¦ä¹ é˜¶æ®µè¿›è¡Œæµ‹è¯•æ—¶ï¼Œç»å¸¸ä¼šè‡ªå·±ç»™è‡ªå·±æ¶ˆæ¯ï¼Œéœ€è¦ç”¨åˆ°ä¸€ä¸ªæœ¬åœ°å›é€åœ°å€ï¼š<code>127.0.0.1</code></p>
<p>æœ€åç»™åŒå­¦ä»¬ä»‹ç»ï¼Œä¸¤ä¸ªå’ŒIPåœ°å€ç›¸å…³çš„å‘½ä»¤</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ipconfig: æŸ¥çœ‹æœ¬æœºçš„ipåœ°å€</span><br><span class="line">pring åŸŸå/ip  æ£€æµ‹å½“å‰ç”µè„‘ä¸æŒ‡å®šçš„ipæ˜¯å¦è¿é€š</span><br></pre></td></tr></table></figure>

<p>pingå‘½ä»¤å‡ºç°ä»¥ä¸‹çš„æç¤ºï¼Œè¯´æ˜ç½‘ç»œæ˜¯é€šè¿‡çš„</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh138.png"></p>
<h3 id="InetAddressç±»"><a href="#InetAddressç±»" class="headerlink" title="InetAddressç±»"></a>InetAddressç±»</h3><p>å„ä½å°ä¼™ä¼´ï¼Œåœ¨ä¸Šä¸€èŠ‚è¯¾æˆ‘ä»¬å­¦ä¹ äº†ç½‘ç»œç¼–ç¨‹çš„ä¸‰è¦ç´ ä¹‹ä¸€ï¼ŒIPåœ°å€ã€‚æŒ‰ç…§é¢å‘å¯¹è±¡çš„è®¾è®¡æ€æƒ³ï¼ŒJavaä¸­ä¹Ÿæœ‰ä¸€ä¸ªç±»ç”¨æ¥è¡¨IPåœ°å€ï¼Œè¿™ä¸ªç±»æ˜¯InetAddressç±»ã€‚æˆ‘ä»¬åœ¨å¼€å‘ç½‘ç»œé€šä¿¡ç¨‹åºçš„æ—¶å€™ï¼Œå¯èƒ½æœ‰æ—¶å€™ä¼šè·å–æœ¬æœºçš„IPåœ°å€ï¼Œä»¥åŠæµ‹è¯•ä¸å…¶ä»–åœ°å€æ˜¯å¦è¿é€šï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥ä½¿ç”¨InetAddressç±»æ¥å®Œæˆã€‚ä¸‹é¢å­¦ä¹ å‡ ä¸ªInetAddressçš„æ–¹æ³•ã€‚</p>
<p>åç§°                      è¯´æ˜<br>public static InetAddress getLocalHost()<br>è·å–æœ¬æœºIPï¼Œä¼šä»¥ä¸€ä¸ªinetAddressçš„å¯¹è±¡è¿”å›<br>public static InetAddress getByName(String host)<br>æ ¹æ®ipåœ°å€æˆ–è€…åŸŸåï¼Œè¿”å›ä¸€ä¸ªinetAdresså¯¹è±¡<br>public string getHostName()<br>è·å–è¯¥ipåœ°å€å¯¹è±¡å¯¹åº”çš„ä¸»æœºåã€‚<br>public string getHostAddress()<br>è·å–è¯¥ipåœ°å€å¯¹è±¡ä¸­çš„ipåœ°å€ä¿¡æ¯ã€‚<br>public boolean isReachable(int timeout)<br>åœ¨æŒ‡å®šæ¯«ç§’å†…ï¼Œåˆ¤æ–­ä¸»æœºä¸è¯¥ipå¯¹åº”çš„ä¸»æœºæ˜¯å¦èƒ½è¿é€š</p>
<p>æ¼”ç¤ºä¸Šé¢å‡ ä¸ªæ–¹æ³•çš„æ•ˆæœ</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">InetAddressTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">// 1ã€è·å–æœ¬æœºIPåœ°å€å¯¹è±¡çš„</span></span><br><span class="line">        <span class="type">InetAddress</span> <span class="variable">ip1</span> <span class="operator">=</span> InetAddress.getLocalHost();</span><br><span class="line">        System.out.println(ip1.getHostName());</span><br><span class="line">        System.out.println(ip1.getHostAddress());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€è·å–æŒ‡å®šIPæˆ–è€…åŸŸåçš„IPåœ°å€å¯¹è±¡ã€‚</span></span><br><span class="line">        <span class="type">InetAddress</span> <span class="variable">ip2</span> <span class="operator">=</span> InetAddress.getByName(<span class="string">&quot;www.baidu.com&quot;</span>);</span><br><span class="line">        System.out.println(ip2.getHostName());</span><br><span class="line">        System.out.println(ip2.getHostAddress());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ping www.baidu.com</span></span><br><span class="line">        System.out.println(ip2.isReachable(<span class="number">6000</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="ç«¯å£å·"><a href="#ç«¯å£å·" class="headerlink" title="ç«¯å£å·"></a>ç«¯å£å·</h3><p>ç«¯å£å·ï¼šæŒ‡çš„æ˜¯è®¡ç®—æœºè®¾å¤‡ä¸Šè¿è¡Œçš„åº”ç”¨ç¨‹åºçš„æ ‡è¯†ï¼Œè¢«è§„å®šä¸ºä¸€ä¸ª16ä½çš„äºŒè¿›åˆ¶æ•°æ®ï¼ŒèŒƒå›´ï¼ˆ0~65535ï¼‰</p>
<p>ç«¯å£å·åˆ†ä¸ºä¸€ä¸‹å‡ ç±»ï¼ˆäº†è§£ä¸€ä¸‹ï¼‰</p>
<ul>
<li>å‘¨çŸ¥ç«¯å£ï¼š0~1023ï¼Œè¢«é¢„å…ˆå®šä¹‰çš„çŸ¥ååº”ç”¨ç¨‹åºå ç”¨ï¼ˆå¦‚ï¼šHTTPå ç”¨80ï¼ŒFTPå ç”¨21ï¼‰</li>
<li>æ³¨å†Œç«¯å£ï¼š1024~49151ï¼Œåˆ†é…ç»™ç”¨æˆ·ç»å¸¸æˆ–è€…æŸäº›åº”ç”¨ç¨‹åº</li>
<li>åŠ¨æ€ç«¯å£ï¼š49152~65536ï¼Œä¹‹æ‰€ä»¥ç§°ä¸ºåŠ¨æ€ç«¯å£ï¼Œæ˜¯å› ä¸ºå®ƒä¸€èˆ¬ä¸å›ºå®šåˆ†é…ç»™æŸè¿›ç¨‹ï¼Œè€Œæ˜¯åŠ¨æ€åˆ†é…çš„ã€‚</li>
</ul>
<p>éœ€è¦æˆ‘ä»¬æ³¨æ„çš„æ˜¯ï¼ŒåŒä¸€ä¸ªè®¡ç®—æœºè®¾å¤‡ä¸­ï¼Œä¸èƒ½å‡ºç°ä¸¤ä¸ªåº”ç”¨ç¨‹åºï¼Œç”¨åŒä¸€ä¸ªç«¯å£å·</p>
<h3 id="åè®®"><a href="#åè®®" class="headerlink" title="åè®®"></a>åè®®</h3><p>å„ä½åŒå­¦ï¼Œå‰é¢æˆ‘ä»¬å·²ç»å­¦ä¹ äº†IPåœ°å€å’Œç«¯å£å·ï¼Œä½†æ˜¯æƒ³è¦å®Œæˆæ•°æ®é€šä¿¡è¿˜éœ€è¦æœ‰é€šä¿¡åè®®ã€‚</p>
<p><strong>ç½‘ç»œä¸Šé€šä¿¡çš„è®¾å¤‡ï¼Œäº‹å…ˆè§„å®šçš„è¿æ¥è§„åˆ™ï¼Œä»¥åŠä¼ è¾“æ•°æ®çš„è§„åˆ™è¢«ç§°ä¸ºç½‘ç»œé€šä¿¡åè®®ã€‚</strong></p>
<p>ä¸ºäº†è®©ä¸–ç•Œä¸Šå„ç§ä¸Šç½‘è®¾å¤‡èƒ½å¤Ÿäº’è”äº’é€šï¼Œè‚¯å®šéœ€è¦æœ‰ä¸€ä¸ªç»„ç»‡å‡ºæ¥ï¼ŒæŒ‡å®šä¸€ä¸ªè§„åˆ™ï¼Œå¤§å®¶éƒ½éµå®ˆè¿™ä¸ªè§„åˆ™ï¼Œæ‰èƒ½è¿›è¡Œæ•°æ®é€šä¿¡ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh139.png"></p>
<p>åªè¦æŒ‰ç…§OSIç½‘ç»œå‚è€ƒæ¨¡å‹åˆ¶é€ çš„è®¾å¤‡ï¼Œå°±å¯ä»¥åœ¨å›½é™…äº’è”ç½‘ä¸Šäº’è”äº’é€šã€‚å…¶ä¸­ä¼ è¾“å±‚æœ‰ä¸¤ä¸ªåè®®ï¼Œæ˜¯æˆ‘ä»¬ä»Šå¤©ä¼šæ¥è§¦åˆ°çš„ï¼ˆUDPåè®®ã€TCPåè®®ï¼‰</p>
<ul>
<li><strong>UDPåè®®ç‰¹ç‚¹</strong></li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh140.png"></p>
<ul>
<li><p><strong>TPCåè®®ç‰¹ç‚¹</strong></p>
</li>
<li><p>ç‰¹ç‚¹:é¢å‘è¿æ¥ã€å¯é é€šä¿¡ã€‚</p>
</li>
<li><p>TCPçš„æœ€ç»ˆç›®çš„:è¦ä¿è¯åœ¨ä¸å¯é çš„ä¿¡é“ä¸Šå®ç°å¯é çš„ä¼ è¾“ã€‚</p>
</li>
<li><p>TCPä¸»è¦æœ‰ä¸‰ä¸ªæ­¥éª¤å®ç°å¯é ä¼ è¾“:ä¸‰æ¬¡æ¡æ‰‹å»ºç«‹è¿æ¥ï¼Œä¼ è¾“æ•°æ®è¿›è¡Œç¡®è®¤ï¼Œå››æ¬¡æŒ¥æ‰‹æ–­å¼€è¿æ¥ã€‚</p>
</li>
</ul>
<p>ä¸‰æ¬¡æ¡æ‰‹å¦‚ä¸‹å›¾æ‰€ç¤º<strong>ï¼šç›®çš„æ˜¯ç¡®è®¤é€šä¿¡åŒæ–¹ï¼Œæ‰‹æ³•æ¶ˆæ¯éƒ½æ˜¯æ­£å¸¸æ²¡é—®é¢˜çš„</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh141.png"></p>
<p>å››æ¬¡æŒ¥æ‰‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<strong>ç›®çš„æ˜¯ç¡®ä¿åŒæ–¹æ•°æ®çš„æ”¶å‘å·²ç»å®Œæˆï¼Œæ²¡æœ‰æ•°æ®ä¸¢å¤±</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh142.png"></p>
<h2 id="UDPé€šä¿¡ä»£ç ï¼ˆå…¥é—¨æ¡ˆä¾‹ï¼‰"><a href="#UDPé€šä¿¡ä»£ç ï¼ˆå…¥é—¨æ¡ˆä¾‹ï¼‰" class="headerlink" title="UDPé€šä¿¡ä»£ç ï¼ˆå…¥é—¨æ¡ˆä¾‹ï¼‰"></a>UDPé€šä¿¡ä»£ç ï¼ˆå…¥é—¨æ¡ˆä¾‹ï¼‰</h2><p>æœ‰äº†ç½‘ç»œç¼–ç¨‹çš„ä¸‰è¦ç´ åŸºç¡€çŸ¥è¯†ä¹‹åï¼Œæˆ‘ä»¬å°±å¯ä»¥å¼€å§‹å­¦ä¹ ç¼–å†™ç½‘ç»œé€šä¿¡çš„ç¨‹åºäº†ã€‚é¦–å…ˆå­¦ä¹ åŸºäºUDPåè®®é€šä¿¡çš„ä»£ç ç¼–å†™ã€‚</p>
<p>UDPæ˜¯é¢å‘æ— è¿æ¥çš„ã€ä¸éœ€è¦ç¡®è®¤åŒæ–¹æ˜¯å¦å­˜åœ¨ï¼Œæ‰€ä»¥å®ƒæ˜¯ä¸å¯é çš„åè®®ã€‚Javaæä¾›äº†ä¸€ä¸ªç±»å«DatagramSocketæ¥å®ŒæˆåŸºäºUDPåè®®çš„æ”¶å‘æ•°æ®ã€‚ä½¿ç”¨DatagramSocketæ”¶å‘æ•°æ®æ—¶ï¼Œæ•°æ®è¦ä»¥æ•°æ®åŒ…çš„å½¢å¼ä½“ç°ï¼Œä¸€ä¸ªæ•°æ®åŒ…é™åˆ¶åœ¨64KBä»¥å†…</p>
<p>å…·ä½“æµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼šå‡è®¾æˆ‘ä»¬æŠŠDatagramSocketçœ‹åšæ˜¯è¡—é“ä¸¤å¤©çš„äººï¼Œç°åœ¨å·¦è¾¹çš„äººè¦æ‰”ä¸€ç›˜éŸ­èœåˆ°å³è¾¹ï¼Œè¿™é‡Œçš„éŸ­èœå°±æ˜¯æ•°æ®ï¼Œä½†æ˜¯æ•°æ®éœ€è¦ç”¨ä¸€ä¸ªç›˜å­è£…èµ·æ¥ï¼Œè¿™é‡Œçš„ç›˜å­å°±æ˜¯DatagramPacketæ•°æ®åŒ…çš„æ„æ€ã€‚é€šä¿¡åŒæ–¹éƒ½éœ€è¦æœ‰DatagramSocket(æ‰”ã€æ¥éŸ­èœäºº)ï¼Œè¿˜éœ€è¦æœ‰DatagramPacket(è£…éŸ­èœçš„ç›˜å­)</p>
<p>ä¸‹é¢æˆ‘ä»¬çœ‹ä¸€ä¸ªæ¡ˆä¾‹ï¼Œéœ€è¦æœ‰ä¸¤ä¸ªç¨‹åºï¼Œä¸€ä¸ªè¡¨ç¤ºå®¢æˆ·ç«¯ç¨‹åºï¼Œä¸€ä¸ªè¡¨ç¤ºæœåŠ¡ç«¯ç¨‹åºã€‚</p>
<p>éœ€æ±‚ï¼šå®¢æˆ·ç«¯ç¨‹åºå‘ä¸€ä¸ªå­—ç¬¦ä¸²æ•°æ®ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯ç¨‹åºæ¥æ”¶æ•°æ®å¹¶æ‰“å°ã€‚</p>
<h3 id="å®¢æˆ·ç«¯ç¨‹åº"><a href="#å®¢æˆ·ç«¯ç¨‹åº" class="headerlink" title="å®¢æˆ·ç«¯ç¨‹åº"></a>å®¢æˆ·ç«¯ç¨‹åº</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡ï¼šå®ŒæˆUDPé€šä¿¡å¿«é€Ÿå…¥é—¨ï¼šå®ç°1å‘1æ”¶ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºå®¢æˆ·ç«¯å¯¹è±¡ï¼ˆå‘éŸ­èœå‡ºå»çš„äººï¼‰</span></span><br><span class="line">        <span class="type">DatagramSocket</span> <span class="variable">socket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramSocket</span>(<span class="number">7777</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€åˆ›å»ºæ•°æ®åŒ…å¯¹è±¡å°è£…è¦å‘å‡ºå»çš„æ•°æ®ï¼ˆåˆ›å»ºä¸€ä¸ªéŸ­èœç›˜å­ï¼‰</span></span><br><span class="line">       <span class="comment">/* public DatagramPacket(byte buf[], int length,</span></span><br><span class="line"><span class="comment">             InetAddress address, int port)</span></span><br><span class="line"><span class="comment">               å‚æ•°ä¸€ï¼šå°è£…è¦å‘å‡ºå»çš„æ•°æ®ã€‚</span></span><br><span class="line"><span class="comment">               å‚æ•°äºŒï¼šå‘é€å‡ºå»çš„æ•°æ®å¤§å°ï¼ˆå­—èŠ‚ä¸ªæ•°ï¼‰</span></span><br><span class="line"><span class="comment">               å‚æ•°ä¸‰ï¼šæœåŠ¡ç«¯çš„IPåœ°å€ï¼ˆæ‰¾åˆ°æœåŠ¡ç«¯ä¸»æœºï¼‰</span></span><br><span class="line"><span class="comment">               å‚æ•°å››ï¼šæœåŠ¡ç«¯ç¨‹åºçš„ç«¯å£ã€‚</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">        <span class="type">byte</span>[] bytes = <span class="string">&quot;æˆ‘æ˜¯å¿«ä¹çš„å®¢æˆ·ç«¯ï¼Œæˆ‘çˆ±ä½ abc&quot;</span>.getBytes();</span><br><span class="line">        <span class="type">DatagramPacket</span> <span class="variable">packet</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramPacket</span>(bytes, bytes.length</span><br><span class="line">                , InetAddress.getLocalHost(),  <span class="number">6666</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€å¼€å§‹æ­£å¼å‘é€è¿™ä¸ªæ•°æ®åŒ…çš„æ•°æ®å‡ºå»äº†</span></span><br><span class="line">        socket.send(packet);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;å®¢æˆ·ç«¯æ•°æ®å‘é€å®Œæ¯•~~~&quot;</span>);</span><br><span class="line">        socket.close(); <span class="comment">// é‡Šæ”¾èµ„æºï¼</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="æœåŠ¡ç«¯ç¨‹åº"><a href="#æœåŠ¡ç«¯ç¨‹åº" class="headerlink" title="æœåŠ¡ç«¯ç¨‹åº"></a>æœåŠ¡ç«¯ç¨‹åº</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Server</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;----æœåŠ¡ç«¯å¯åŠ¨----&quot;</span>);</span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºä¸€ä¸ªæœåŠ¡ç«¯å¯¹è±¡ï¼ˆåˆ›å»ºä¸€ä¸ªæ¥éŸ­èœçš„äººï¼‰ æ³¨å†Œç«¯å£</span></span><br><span class="line">        <span class="type">DatagramSocket</span> <span class="variable">socket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramSocket</span>(<span class="number">6666</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€åˆ›å»ºä¸€ä¸ªæ•°æ®åŒ…å¯¹è±¡ï¼Œç”¨äºæ¥æ”¶æ•°æ®çš„ï¼ˆåˆ›å»ºä¸€ä¸ªéŸ­èœç›˜å­ï¼‰</span></span><br><span class="line">        <span class="type">byte</span>[] buffer = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span> * <span class="number">64</span>]; <span class="comment">// 64KB.</span></span><br><span class="line">        <span class="type">DatagramPacket</span> <span class="variable">packet</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramPacket</span>(buffer, buffer.length);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€å¼€å§‹æ­£å¼ä½¿ç”¨æ•°æ®åŒ…æ¥æ¥æ”¶å®¢æˆ·ç«¯å‘æ¥çš„æ•°æ®</span></span><br><span class="line">        socket.receive(packet);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4ã€ä»å­—èŠ‚æ•°ç»„ä¸­ï¼ŒæŠŠæ¥æ”¶åˆ°çš„æ•°æ®ç›´æ¥æ‰“å°å‡ºæ¥</span></span><br><span class="line">        <span class="comment">// æ¥æ”¶å¤šå°‘å°±å€’å‡ºå¤šå°‘</span></span><br><span class="line">        <span class="comment">// è·å–æœ¬æ¬¡æ•°æ®åŒ…æ¥æ”¶äº†å¤šå°‘æ•°æ®ã€‚</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> packet.getLength();</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">rs</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(buffer, <span class="number">0</span> , len);</span><br><span class="line">        System.out.println(rs);</span><br><span class="line"></span><br><span class="line">        System.out.println(packet.getAddress().getHostAddress());</span><br><span class="line">        System.out.println(packet.getPort());</span><br><span class="line"></span><br><span class="line">        socket.close(); <span class="comment">// é‡Šæ”¾èµ„æº</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="UDPé€šä¿¡ä»£ç ï¼ˆå¤šå‘å¤šæ”¶ï¼‰"><a href="#UDPé€šä¿¡ä»£ç ï¼ˆå¤šå‘å¤šæ”¶ï¼‰" class="headerlink" title="UDPé€šä¿¡ä»£ç ï¼ˆå¤šå‘å¤šæ”¶ï¼‰"></a>UDPé€šä¿¡ä»£ç ï¼ˆå¤šå‘å¤šæ”¶ï¼‰</h2><p>åˆšæ‰çš„æ¡ˆä¾‹ï¼Œæˆ‘ä»¬åªèƒ½å®¢æˆ·ç«¯å‘ä¸€æ¬¡ï¼ŒæœåŠ¡ç«¯æ¥æ”¶ä¸€æ¬¡å°±ç»“æŸäº†ã€‚ä¸‹é¢æˆ‘ä»¬æƒ³æŠŠè¿™ä¸ªä»£ç æ”¹è¿›ä¸€ä¸‹ï¼Œ</p>
<p>éœ€æ±‚ï¼šå®ç°å®¢æˆ·ç«¯ä¸æ–­çš„å‘æ•°æ®ï¼Œè€ŒæœåŠ¡ç«¯èƒ½ä¸æ–­çš„æ¥æ”¶æ•°æ®ï¼Œå®¢æˆ·ç«¯å‘é€exitæ—¶å®¢æˆ·ç«¯ç¨‹åºé€€å‡ºã€‚</p>
<h3 id="å®¢æˆ·ç«¯ç¨‹åº-1"><a href="#å®¢æˆ·ç«¯ç¨‹åº-1" class="headerlink" title="å®¢æˆ·ç«¯ç¨‹åº"></a>å®¢æˆ·ç«¯ç¨‹åº</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡ï¼šå®ŒæˆUDPé€šä¿¡å¿«é€Ÿå…¥é—¨ï¼šå®ç°å®¢æˆ·ç«¯åå¤çš„å‘ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºå®¢æˆ·ç«¯å¯¹è±¡ï¼ˆå‘éŸ­èœå‡ºå»çš„äººï¼‰</span></span><br><span class="line">        <span class="type">DatagramSocket</span> <span class="variable">socket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramSocket</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€åˆ›å»ºæ•°æ®åŒ…å¯¹è±¡å°è£…è¦å‘å‡ºå»çš„æ•°æ®ï¼ˆåˆ›å»ºä¸€ä¸ªéŸ­èœç›˜å­ï¼‰</span></span><br><span class="line">       <span class="comment">/* public DatagramPacket(byte buf[], int length,</span></span><br><span class="line"><span class="comment">             InetAddress address, int port)</span></span><br><span class="line"><span class="comment">               å‚æ•°ä¸€ï¼šå°è£…è¦å‘å‡ºå»çš„æ•°æ®ã€‚</span></span><br><span class="line"><span class="comment">               å‚æ•°äºŒï¼šå‘é€å‡ºå»çš„æ•°æ®å¤§å°ï¼ˆå­—èŠ‚ä¸ªæ•°ï¼‰</span></span><br><span class="line"><span class="comment">               å‚æ•°ä¸‰ï¼šæœåŠ¡ç«¯çš„IPåœ°å€ï¼ˆæ‰¾åˆ°æœåŠ¡ç«¯ä¸»æœºï¼‰</span></span><br><span class="line"><span class="comment">               å‚æ•°å››ï¼šæœåŠ¡ç«¯ç¨‹åºçš„ç«¯å£ã€‚</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;è¯·è¯´ï¼š&quot;</span>);</span><br><span class="line">            <span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span> sc.nextLine();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// ä¸€æ—¦å‘ç°ç”¨æˆ·è¾“å…¥çš„exitå‘½ä»¤ï¼Œå°±é€€å‡ºå®¢æˆ·ç«¯</span></span><br><span class="line">            <span class="keyword">if</span>(<span class="string">&quot;exit&quot;</span>.equals(msg))&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;æ¬¢è¿ä¸‹æ¬¡å…‰ä¸´ï¼é€€å‡ºæˆåŠŸï¼&quot;</span>);</span><br><span class="line">                socket.close(); <span class="comment">// é‡Šæ”¾èµ„æº</span></span><br><span class="line">                <span class="keyword">break</span>; <span class="comment">// è·³å‡ºæ­»å¾ªç¯</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="type">byte</span>[] bytes = msg.getBytes();</span><br><span class="line">            <span class="type">DatagramPacket</span> <span class="variable">packet</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramPacket</span>(bytes, bytes.length</span><br><span class="line">                    , InetAddress.getLocalHost(),  <span class="number">6666</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 3ã€å¼€å§‹æ­£å¼å‘é€è¿™ä¸ªæ•°æ®åŒ…çš„æ•°æ®å‡ºå»äº†</span></span><br><span class="line">            socket.send(packet);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="æœåŠ¡ç«¯ç¨‹åº-1"><a href="#æœåŠ¡ç«¯ç¨‹åº-1" class="headerlink" title="æœåŠ¡ç«¯ç¨‹åº"></a>æœåŠ¡ç«¯ç¨‹åº</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡ï¼šå®ŒæˆUDPé€šä¿¡å¿«é€Ÿå…¥é—¨-æœåŠ¡ç«¯åå¤çš„æ”¶</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Server</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;----æœåŠ¡ç«¯å¯åŠ¨----&quot;</span>);</span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºä¸€ä¸ªæœåŠ¡ç«¯å¯¹è±¡ï¼ˆåˆ›å»ºä¸€ä¸ªæ¥éŸ­èœçš„äººï¼‰ æ³¨å†Œç«¯å£</span></span><br><span class="line">        <span class="type">DatagramSocket</span> <span class="variable">socket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramSocket</span>(<span class="number">6666</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€åˆ›å»ºä¸€ä¸ªæ•°æ®åŒ…å¯¹è±¡ï¼Œç”¨äºæ¥æ”¶æ•°æ®çš„ï¼ˆåˆ›å»ºä¸€ä¸ªéŸ­èœç›˜å­ï¼‰</span></span><br><span class="line">        <span class="type">byte</span>[] buffer = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span> * <span class="number">64</span>]; <span class="comment">// 64KB.</span></span><br><span class="line">        <span class="type">DatagramPacket</span> <span class="variable">packet</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DatagramPacket</span>(buffer, buffer.length);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="comment">// 3ã€å¼€å§‹æ­£å¼ä½¿ç”¨æ•°æ®åŒ…æ¥æ¥æ”¶å®¢æˆ·ç«¯å‘æ¥çš„æ•°æ®</span></span><br><span class="line">            socket.receive(packet);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 4ã€ä»å­—èŠ‚æ•°ç»„ä¸­ï¼ŒæŠŠæ¥æ”¶åˆ°çš„æ•°æ®ç›´æ¥æ‰“å°å‡ºæ¥</span></span><br><span class="line">            <span class="comment">// æ¥æ”¶å¤šå°‘å°±å€’å‡ºå¤šå°‘</span></span><br><span class="line">            <span class="comment">// è·å–æœ¬æ¬¡æ•°æ®åŒ…æ¥æ”¶äº†å¤šå°‘æ•°æ®ã€‚</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> packet.getLength();</span><br><span class="line"></span><br><span class="line">            <span class="type">String</span> <span class="variable">rs</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(buffer, <span class="number">0</span> , len);</span><br><span class="line">            System.out.println(rs);</span><br><span class="line"></span><br><span class="line">            System.out.println(packet.getAddress().getHostAddress());</span><br><span class="line">            System.out.println(packet.getPort());</span><br><span class="line">            System.out.println(<span class="string">&quot;--------------------------------------&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="TCPé€šä¿¡ï¼ˆä¸€å‘ä¸€æ”¶ï¼‰"><a href="#TCPé€šä¿¡ï¼ˆä¸€å‘ä¸€æ”¶ï¼‰" class="headerlink" title="TCPé€šä¿¡ï¼ˆä¸€å‘ä¸€æ”¶ï¼‰"></a>TCPé€šä¿¡ï¼ˆä¸€å‘ä¸€æ”¶ï¼‰</h2><p>å­¦ä¹ å®ŒUDPé€šä¿¡çš„ä»£ç ç¼–å†™ä¹‹åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å­¦ä¹ TCPé€šä¿¡çš„ä»£ç å¦‚ä½•ç¼–å†™ã€‚Javaæä¾›äº†ä¸€ä¸ªjava.net.Socketç±»æ¥å®ŒæˆTCPé€šä¿¡ã€‚</p>
<p>æˆ‘ä»¬å…ˆè®²ä¸€ä¸‹Socketå®ŒæˆTCPé€šä¿¡çš„æµç¨‹ï¼Œå†è®²ä»£ç æ€ä¹ˆç¼–å†™å°±å¾ˆå¥½ç†è§£äº†ã€‚å¦‚ä¸‹å›¾æ‰€ç¤º</p>
<ol>
<li>å½“åˆ›å»ºSocketå¯¹è±¡æ—¶ï¼Œå°±ä¼šåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯åˆ›å»ºä¸€ä¸ªæ•°æ®é€šä¿¡çš„ç®¡é“ï¼Œåœ¨å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ä¸¤è¾¹éƒ½ä¼šæœ‰ä¸€ä¸ªSocketå¯¹è±¡æ¥è®¿é—®è¿™ä¸ªé€šä¿¡ç®¡é“ã€‚</li>
<li>ç°åœ¨å‡è®¾å®¢æˆ·ç«¯è¦å‘é€ä¸€ä¸ªâ€œåœ¨ä¸€èµ·â€ç»™æœåŠ¡ç«¯ï¼Œå®¢æˆ·ç«¯è¿™è¾¹å…ˆéœ€è¦é€šè¿‡Socketå¯¹è±¡è·å–åˆ°ä¸€ä¸ªå­—èŠ‚è¾“å‡ºæµï¼Œé€šè¿‡å­—èŠ‚è¾“å‡ºæµå†™æ•°æ®åˆ°æœåŠ¡ç«¯</li>
<li>ç„¶åæœåŠ¡ç«¯è¿™è¾¹é€šè¿‡Socketå¯¹è±¡å¯ä»¥è·å–å­—èŠ‚è¾“å…¥æµï¼Œé€šè¿‡å­—èŠ‚è¾“å…¥æµå°±å¯ä»¥è¯»å–å®¢æˆ·ç«¯å†™è¿‡æ¥çš„æ•°æ®ï¼Œå¹¶å¯¹æ•°æ®è¿›è¡Œå¤„ç†ã€‚</li>
<li>æœåŠ¡ç«¯å¤„ç†å®Œæ•°æ®ä¹‹åï¼Œå‡è®¾éœ€è¦æŠŠâ€œæ²¡æ„Ÿè§‰â€å‘ç»™å®¢æˆ·ç«¯ç«¯ï¼Œé‚£ä¹ˆæœåŠ¡ç«¯è¿™è¾¹å†é€šè¿‡Socketè·å–åˆ°ä¸€ä¸ªå­—èŠ‚è¾“å‡ºæµï¼Œå°†æ•°æ®å†™ç»™å®¢æˆ·ç«¯</li>
<li>å®¢æˆ·ç«¯è¿™è¾¹å†è·å–è¾“å…¥æµï¼Œé€šè¿‡å­—èŠ‚è¾“å…¥æµæ¥è¯»å–æœåŠ¡ç«¯å†™è¿‡æ¥çš„æ•°æ®ã€‚</li>
</ol>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh143.png"></p>
<h3 id="TCPå®¢æˆ·ç«¯"><a href="#TCPå®¢æˆ·ç«¯" class="headerlink" title="TCPå®¢æˆ·ç«¯"></a>TCPå®¢æˆ·ç«¯</h3><p>ä¸‹é¢æˆ‘ä»¬å†™ä¸€ä¸ªå®¢æˆ·ç«¯ï¼Œç”¨æ¥å¾€æœåŠ¡ç«¯å‘æ•°æ®ã€‚ç”±äºåŸå§‹çš„å­—èŠ‚æµä¸æ˜¯å¾ˆå¥½ç”¨ï¼Œè¿™é‡Œæ ¹æ®æˆ‘çš„ç»éªŒï¼Œæˆ‘åŸå§‹çš„OutputStreamåŒ…è£…ä¸ºDataOutputStreamæ˜¯æ¯”è¾ƒå¥½ç”¨çš„ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  ç›®æ ‡ï¼šå®ŒæˆTCPé€šä¿¡å¿«é€Ÿå…¥é—¨-å®¢æˆ·ç«¯å¼€å‘ï¼šå®ç°1å‘1æ”¶ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºSocketå¯¹è±¡ï¼Œå¹¶åŒæ—¶è¯·æ±‚ä¸æœåŠ¡ç«¯ç¨‹åºçš„è¿æ¥ã€‚</span></span><br><span class="line">        <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Socket</span>(<span class="string">&quot;127.0.0.1&quot;</span>, <span class="number">8888</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€ä»socketé€šä¿¡ç®¡é“ä¸­å¾—åˆ°ä¸€ä¸ªå­—èŠ‚è¾“å‡ºæµï¼Œç”¨æ¥å‘æ•°æ®ç»™æœåŠ¡ç«¯ç¨‹åºã€‚</span></span><br><span class="line">        <span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span> socket.getOutputStream();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€æŠŠä½çº§çš„å­—èŠ‚è¾“å‡ºæµåŒ…è£…æˆæ•°æ®è¾“å‡ºæµ</span></span><br><span class="line">        <span class="type">DataOutputStream</span> <span class="variable">dos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DataOutputStream</span>(os);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4ã€å¼€å§‹å†™æ•°æ®å‡ºå»äº†</span></span><br><span class="line">        dos.writeUTF(<span class="string">&quot;åœ¨ä¸€èµ·ï¼Œå¥½å—ï¼Ÿ&quot;</span>);</span><br><span class="line">        dos.close();</span><br><span class="line"></span><br><span class="line">        socket.close(); <span class="comment">// é‡Šæ”¾è¿æ¥èµ„æº</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="TCPæœåŠ¡ç«¯"><a href="#TCPæœåŠ¡ç«¯" class="headerlink" title="TCPæœåŠ¡ç«¯"></a>TCPæœåŠ¡ç«¯</h3><p>ä¸Šé¢æˆ‘ä»¬åªæ˜¯å†™äº†TCPå®¢æˆ·ç«¯ï¼Œè¿˜æ²¡æœ‰æœåŠ¡ç«¯ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬æŠŠæœåŠ¡ç«¯å†™ä¸€ä¸‹ã€‚è¿™é‡Œçš„æœåŠ¡ç«¯ç”¨æ¥æ¥æ”¶å®¢æˆ·ç«¯å‘è¿‡æ¥çš„æ•°æ®ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  ç›®æ ‡ï¼šå®ŒæˆTCPé€šä¿¡å¿«é€Ÿå…¥é—¨-æœåŠ¡ç«¯å¼€å‘ï¼šå®ç°1å‘1æ”¶ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Server</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;-----æœåŠ¡ç«¯å¯åŠ¨æˆåŠŸ-------&quot;</span>);</span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºServerSocketçš„å¯¹è±¡ï¼ŒåŒæ—¶ä¸ºæœåŠ¡ç«¯æ³¨å†Œç«¯å£ã€‚</span></span><br><span class="line">        <span class="type">ServerSocket</span> <span class="variable">serverSocket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServerSocket</span>(<span class="number">8888</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€ä½¿ç”¨serverSocketå¯¹è±¡ï¼Œè°ƒç”¨ä¸€ä¸ªacceptæ–¹æ³•ï¼Œç­‰å¾…å®¢æˆ·ç«¯çš„è¿æ¥è¯·æ±‚</span></span><br><span class="line">        <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> serverSocket.accept();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€ä»socketé€šä¿¡ç®¡é“ä¸­å¾—åˆ°ä¸€ä¸ªå­—èŠ‚è¾“å…¥æµã€‚</span></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> socket.getInputStream();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4ã€æŠŠåŸå§‹çš„å­—èŠ‚è¾“å…¥æµåŒ…è£…æˆæ•°æ®è¾“å…¥æµ</span></span><br><span class="line">        <span class="type">DataInputStream</span> <span class="variable">dis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DataInputStream</span>(is);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 5ã€ä½¿ç”¨æ•°æ®è¾“å…¥æµè¯»å–å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„æ¶ˆæ¯</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">rs</span> <span class="operator">=</span> dis.readUTF();</span><br><span class="line">        System.out.println(rs);</span><br><span class="line">        <span class="comment">// å…¶å®æˆ‘ä»¬ä¹Ÿå¯ä»¥è·å–å®¢æˆ·ç«¯çš„IPåœ°å€</span></span><br><span class="line">        System.out.println(socket.getRemoteSocketAddress());</span><br><span class="line"></span><br><span class="line">        dis.close();</span><br><span class="line">        socket.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="TCPé€šä¿¡ï¼ˆå¤šå‘å¤šæ”¶ï¼‰"><a href="#TCPé€šä¿¡ï¼ˆå¤šå‘å¤šæ”¶ï¼‰" class="headerlink" title="TCPé€šä¿¡ï¼ˆå¤šå‘å¤šæ”¶ï¼‰"></a>TCPé€šä¿¡ï¼ˆå¤šå‘å¤šæ”¶ï¼‰</h2><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å·²ç»å®Œæˆäº†å®¢æˆ·ç«¯å‘é€æ¶ˆæ¯ã€æœåŠ¡ç«¯æ¥æ”¶æ¶ˆæ¯ï¼Œä½†æ˜¯å®¢æˆ·ç«¯åªèƒ½å‘ä¸€æ¬¡ï¼ŒæœåŠ¡ç«¯åªèƒ½æ¥æ”¶ä¸€æ¬¡ã€‚ç°åœ¨æˆ‘æƒ³è¦å®¢æˆ·ç«¯èƒ½è¿‡ä¸€ç›´å‘æ¶ˆæ¯ï¼ŒæœåŠ¡ç«¯èƒ½å¤Ÿä¸€ç›´æ¥æ”¶æ¶ˆæ¯ã€‚</p>
<p>ä¸‹é¢æˆ‘ä»¬æŠŠå®¢æˆ·ç«¯ä»£ç æ”¹å†™ä¸€ä¸‹ï¼Œé‡‡ç”¨é”®ç›˜å½•å…¥çš„æ–¹å¼å‘æ¶ˆæ¯ï¼Œä¸ºäº†è®©å®¢æˆ·ç«¯èƒ½å¤Ÿä¸€ç›´å‘ï¼Œæˆ‘ä»¬åªéœ€è¦å°†å‘é€æ¶ˆæ¯çš„ä»£ç å¥—ä¸€å±‚å¾ªç¯å°±å¯ä»¥äº†ï¼Œå½“ç”¨æˆ·è¾“å…¥exitæ—¶ï¼Œå®¢æˆ·ç«¯é€€å‡ºå¾ªç¯å¹¶ç»“æŸå®¢æˆ·ç«¯ã€‚</p>
<h3 id="6-1-TCPå®¢æˆ·ç«¯"><a href="#6-1-TCPå®¢æˆ·ç«¯" class="headerlink" title="6.1 TCPå®¢æˆ·ç«¯"></a>6.1 TCPå®¢æˆ·ç«¯</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  ç›®æ ‡ï¼šå®ŒæˆTCPé€šä¿¡å¿«é€Ÿå…¥é—¨-å®¢æˆ·ç«¯å¼€å‘ï¼šå®ç°å®¢æˆ·ç«¯å¯ä»¥åå¤çš„å‘æ¶ˆæ¯å‡ºå»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºSocketå¯¹è±¡ï¼Œå¹¶åŒæ—¶è¯·æ±‚ä¸æœåŠ¡ç«¯ç¨‹åºçš„è¿æ¥ã€‚</span></span><br><span class="line">        <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Socket</span>(<span class="string">&quot;127.0.0.1&quot;</span>, <span class="number">8888</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€ä»socketé€šä¿¡ç®¡é“ä¸­å¾—åˆ°ä¸€ä¸ªå­—èŠ‚è¾“å‡ºæµï¼Œç”¨æ¥å‘æ•°æ®ç»™æœåŠ¡ç«¯ç¨‹åºã€‚</span></span><br><span class="line">        <span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span> socket.getOutputStream();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€æŠŠä½çº§çš„å­—èŠ‚è¾“å‡ºæµåŒ…è£…æˆæ•°æ®è¾“å‡ºæµ</span></span><br><span class="line">        <span class="type">DataOutputStream</span> <span class="variable">dos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DataOutputStream</span>(os);</span><br><span class="line"></span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;è¯·è¯´ï¼š&quot;</span>);</span><br><span class="line">            <span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span> sc.nextLine();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// ä¸€æ—¦ç”¨æˆ·è¾“å…¥äº†exitï¼Œå°±é€€å‡ºå®¢æˆ·ç«¯ç¨‹åº</span></span><br><span class="line">            <span class="keyword">if</span>(<span class="string">&quot;exit&quot;</span>.equals(msg))&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;æ¬¢è¿æ‚¨ä¸‹æ¬¡å…‰ä¸´ï¼é€€å‡ºæˆåŠŸï¼&quot;</span>);</span><br><span class="line">                dos.close();</span><br><span class="line">                socket.close();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 4ã€å¼€å§‹å†™æ•°æ®å‡ºå»äº†</span></span><br><span class="line">            dos.writeUTF(msg);</span><br><span class="line">            dos.flush();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="TCPæœåŠ¡ç«¯-1"><a href="#TCPæœåŠ¡ç«¯-1" class="headerlink" title="TCPæœåŠ¡ç«¯"></a>TCPæœåŠ¡ç«¯</h3><p>ä¸ºäº†è®©æœåŠ¡ç«¯èƒ½å¤Ÿä¸€ç›´æ¥æ”¶å®¢æˆ·ç«¯å‘è¿‡æ¥çš„æ¶ˆæ¯ï¼ŒæœåŠ¡ç«¯ä»£ç ä¹Ÿå¾—æ”¹å†™ä¸€ä¸‹ã€‚æˆ‘ä»¬åªéœ€è¦å°†è¯»å–æ•°æ®çš„ä»£ç åŠ ä¸€ä¸ªå¾ªç¯å°±å¯ä»¥äº†ã€‚</p>
<p>ä½†æ˜¯éœ€è¦æˆ‘ä»¬æ³¨æ„çš„æ—¶ï¼Œå¦‚æœå®¢æˆ·ç«¯Socketé€€å‡ºä¹‹åï¼Œå°±è¡¨ç¤ºè¿æ¥å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯çš„æ•°æ®é€šé“è¢«å…³é—­äº†ï¼Œè¿™æ—¶æœåŠ¡ç«¯å°±ä¼šå‡ºç°å¼‚å¸¸ã€‚æœåŠ¡ç«¯å¯ä»¥é€šè¿‡å‡ºå¼‚å¸¸æ¥åˆ¤æ–­å®¢æˆ·ç«¯ä¸‹çº¿äº†ï¼Œæ‰€ä»¥å¯ä»¥ç”¨tryâ€¦catchæŠŠè¯»å–å®¢æˆ·ç«¯æ•°æ®çš„ä»£ç å¥—ä¸€èµ·æ¥ï¼Œcatchæ•è·åˆ°å¼‚å¸¸åï¼Œæ‰“å°å®¢æˆ·ç«¯ä¸‹çº¿ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  ç›®æ ‡ï¼šå®ŒæˆTCPé€šä¿¡å¿«é€Ÿå…¥é—¨-æœåŠ¡ç«¯å¼€å‘ï¼šå®ç°æœåŠ¡ç«¯åå¤å‘æ¶ˆæ¯</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Server</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;-----æœåŠ¡ç«¯å¯åŠ¨æˆåŠŸ-------&quot;</span>);</span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºServerSocketçš„å¯¹è±¡ï¼ŒåŒæ—¶ä¸ºæœåŠ¡ç«¯æ³¨å†Œç«¯å£ã€‚</span></span><br><span class="line">        <span class="type">ServerSocket</span> <span class="variable">serverSocket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServerSocket</span>(<span class="number">8888</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€ä½¿ç”¨serverSocketå¯¹è±¡ï¼Œè°ƒç”¨ä¸€ä¸ªacceptæ–¹æ³•ï¼Œç­‰å¾…å®¢æˆ·ç«¯çš„è¿æ¥è¯·æ±‚</span></span><br><span class="line">        <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> serverSocket.accept();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€ä»socketé€šä¿¡ç®¡é“ä¸­å¾—åˆ°ä¸€ä¸ªå­—èŠ‚è¾“å…¥æµã€‚</span></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> socket.getInputStream();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4ã€æŠŠåŸå§‹çš„å­—èŠ‚è¾“å…¥æµåŒ…è£…æˆæ•°æ®è¾“å…¥æµ</span></span><br><span class="line">        <span class="type">DataInputStream</span> <span class="variable">dis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DataInputStream</span>(is);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="comment">// 5ã€ä½¿ç”¨æ•°æ®è¾“å…¥æµè¯»å–å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„æ¶ˆæ¯</span></span><br><span class="line">                <span class="type">String</span> <span class="variable">rs</span> <span class="operator">=</span> dis.readUTF();</span><br><span class="line">                System.out.println(rs);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                System.out.println(socket.getRemoteSocketAddress() + <span class="string">&quot;ç¦»çº¿äº†ï¼&quot;</span>);</span><br><span class="line">                dis.close();</span><br><span class="line">                socket.close();</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="TCPé€šä¿¡ï¼ˆå¤šçº¿ç¨‹æ”¹è¿›ï¼‰"><a href="#TCPé€šä¿¡ï¼ˆå¤šçº¿ç¨‹æ”¹è¿›ï¼‰" class="headerlink" title="TCPé€šä¿¡ï¼ˆå¤šçº¿ç¨‹æ”¹è¿›ï¼‰"></a>TCPé€šä¿¡ï¼ˆå¤šçº¿ç¨‹æ”¹è¿›ï¼‰</h2><p>ä¸Šä¸€ä¸ªæ¡ˆä¾‹ä¸­æˆ‘ä»¬å†™çš„æœåŠ¡ç«¯ç¨‹åºåªèƒ½å’Œä¸€ä¸ªå®¢æˆ·ç«¯é€šä¿¡ï¼Œå¦‚æœæœ‰å¤šä¸ªå®¢æˆ·ç«¯è¿æ¥æœåŠ¡ç«¯ï¼Œæ­¤æ—¶æœåŠ¡ç«¯æ˜¯ä¸æ”¯æŒçš„ã€‚</p>
<p>ä¸ºäº†è®©æœåŠ¡ç«¯èƒ½å¤Ÿæ”¯æŒå¤šä¸ªå®¢æˆ·ç«¯é€šä¿¡ï¼Œå°±éœ€è¦ç”¨åˆ°å¤šçº¿ç¨‹æŠ€æœ¯ã€‚å…·ä½“çš„å®ç°æ€è·¯å¦‚ä¸‹å›¾æ‰€ç¤ºï¼šæ¯å½“æœ‰ä¸€ä¸ªå®¢æˆ·ç«¯è¿æ¥æœåŠ¡ç«¯ï¼Œåœ¨æœåŠ¡ç«¯è¿™è¾¹å°±ä¸ºSocketå¼€å¯ä¸€æ¡çº¿ç¨‹å–æ‰§è¡Œè¯»å–æ•°æ®çš„æ“ä½œï¼Œæ¥å¤šå°‘ä¸ªå®¢æˆ·ç«¯ï¼Œå°±æœ‰å¤šå°‘æ¡çº¿ç¨‹ã€‚æŒ‰ç…§è¿™æ ·çš„è®¾è®¡ï¼ŒæœåŠ¡ç«¯å°±å¯ä»¥æ”¯æŒå¤šä¸ªå®¢æˆ·ç«¯è¿æ¥äº†ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh144.png"></p>
<p>æŒ‰ç…§ä¸Šé¢çš„æ€è·¯ï¼Œæ”¹å†™æœåŠ¡ç«¯ä»£ç ã€‚</p>
<h3 id="å¤šçº¿ç¨‹æ”¹è¿›"><a href="#å¤šçº¿ç¨‹æ”¹è¿›" class="headerlink" title="å¤šçº¿ç¨‹æ”¹è¿›"></a>å¤šçº¿ç¨‹æ”¹è¿›</h3><p>é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å†™ä¸€ä¸ªæœåŠ¡ç«¯çš„è¯»å–æ•°æ®çš„çº¿ç¨‹ç±»ï¼Œä»£ç å¦‚ä¸‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServerReaderThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Socket socket;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ServerReaderThread</span><span class="params">(Socket socket)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.socket = socket;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> socket.getInputStream();</span><br><span class="line">            <span class="type">DataInputStream</span> <span class="variable">dis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DataInputStream</span>(is);</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    <span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span> dis.readUTF();</span><br><span class="line">                    System.out.println(msg);</span><br><span class="line"></span><br><span class="line">                &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;æœ‰äººä¸‹çº¿äº†ï¼š&quot;</span> + socket.getRemoteSocketAddress());</span><br><span class="line">                    dis.close();</span><br><span class="line">                    socket.close();</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥ï¼Œå†æ”¹å†™æœåŠ¡ç«¯çš„ä¸»ç¨‹åºä»£ç ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  ç›®æ ‡ï¼šå®ŒæˆTCPé€šä¿¡å¿«é€Ÿå…¥é—¨-æœåŠ¡ç«¯å¼€å‘ï¼šè¦æ±‚å®ç°ä¸å¤šä¸ªå®¢æˆ·ç«¯åŒæ—¶é€šä¿¡ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Server</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;-----æœåŠ¡ç«¯å¯åŠ¨æˆåŠŸ-------&quot;</span>);</span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºServerSocketçš„å¯¹è±¡ï¼ŒåŒæ—¶ä¸ºæœåŠ¡ç«¯æ³¨å†Œç«¯å£ã€‚</span></span><br><span class="line">        <span class="type">ServerSocket</span> <span class="variable">serverSocket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServerSocket</span>(<span class="number">8888</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="comment">// 2ã€ä½¿ç”¨serverSocketå¯¹è±¡ï¼Œè°ƒç”¨ä¸€ä¸ªacceptæ–¹æ³•ï¼Œç­‰å¾…å®¢æˆ·ç«¯çš„è¿æ¥è¯·æ±‚</span></span><br><span class="line">            <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> serverSocket.accept();</span><br><span class="line"></span><br><span class="line">            System.out.println(<span class="string">&quot;æœ‰äººä¸Šçº¿äº†ï¼š&quot;</span> + socket.getRemoteSocketAddress());</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 3ã€æŠŠè¿™ä¸ªå®¢æˆ·ç«¯å¯¹åº”çš„socketé€šä¿¡ç®¡é“ï¼Œäº¤ç»™ä¸€ä¸ªç‹¬ç«‹çš„çº¿ç¨‹è´Ÿè´£å¤„ç†ã€‚</span></span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">ServerReaderThread</span>(socket).start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="æ¡ˆä¾‹æ‹“å±•ï¼ˆç¾¤èŠï¼‰"><a href="#æ¡ˆä¾‹æ‹“å±•ï¼ˆç¾¤èŠï¼‰" class="headerlink" title="æ¡ˆä¾‹æ‹“å±•ï¼ˆç¾¤èŠï¼‰"></a>æ¡ˆä¾‹æ‹“å±•ï¼ˆç¾¤èŠï¼‰</h3><p>æ¥ç€å‰é¢çš„æ¡ˆä¾‹ï¼Œä¸‹é¢æˆ‘ä»¬æ¡ˆä¾‹å†æ¬¡æ‹“å±•ä¸€ä¸‹ï¼Œè¿™ä¸ªå¹¶ä¸éœ€è¦åŒå­¦ä»¬å¿…é¡»æŒæ¡ï¼Œä¸»è¦æ˜¯ä¸ºäº†é”»ç‚¼åŒå­¦ä»¬çš„ç¼–ç¨‹èƒ½åŠ›ã€å’Œç¼–ç¨‹æ€ç»´ã€‚</p>
<p>æˆ‘ä»¬æƒ³æŠŠåˆšæ‰çš„æ¡ˆä¾‹ï¼Œæ”¹è¿›æˆå…¨èƒ½å¤Ÿå®ç°ç¾¤èŠçš„æ•ˆæœï¼Œå°±æ˜¯ä¸€ä¸ªå®¢æˆ·ç«¯å‘çš„æ¶ˆæ¯ï¼Œå…¶ä»–çš„æ¯ä¸€ä¸ªå®¢æˆ·ç«¯éƒ½å¯ä»¥æ”¶åˆ°ã€‚</p>
<p>åˆšæ‰æˆ‘ä»¬å†™çš„å¤šä¸ªå®¢æˆ·ç«¯å¯ä»¥å¾€æœåŠ¡ç«¯å‘ç°æ¶ˆæ¯ï¼Œä½†æ˜¯å®¢æˆ·ç«¯å’Œå®¢æˆ·ç«¯æ˜¯ä¸èƒ½ç›´æ¥é€šä¿¡çš„ã€‚æƒ³è¦è¯•ä¸‹å…¨ç¾¤èŠçš„æ•ˆæœï¼Œæˆ‘ä»¬è¿˜æ˜¯å¿…é¡»è¦æœ‰æœåŠ¡ç«¯åœ¨ä¸­é—´åšä¸­è½¬ã€‚ å…·ä½“å®ç°æ–¹æ¡ˆå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p>æˆ‘ä»¬å¯ä»¥åœ¨æœåŠ¡ç«¯åˆ›å»ºä¸€ä¸ªå­˜å‚¨Socketçš„é›†åˆï¼Œæ¯å½“ä¸€ä¸ªå®¢æˆ·ç«¯è¿æ¥æœåŠ¡ç«¯ï¼Œå°±å¯ä»¥æŠŠå®¢æˆ·ç«¯Socketå­˜å‚¨èµ·æ¥ï¼›å½“ä¸€ä¸ªå®¢æˆ·ç«¯ç»™æœåŠ¡ç«¯å‘æ¶ˆæ¯æ—¶ï¼Œå†éå†é›†åˆé€šè¿‡æ¯ä¸ªSocketå°†æ¶ˆæ¯å†è½¬å‘ç»™å…¶ä»–å®¢æˆ·ç«¯ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh145.png"></p>
<p>ä¸‹é¢æˆ‘ä»¬æ”¹é€ æœåŠ¡ç«¯ä»£ç ï¼Œç”±äºæœåŠ¡ç«¯è¯»å–æ•°æ®æ˜¯åœ¨çº¿ç¨‹ç±»ä¸­å®Œæˆçš„ï¼Œæ‰€ä»¥æˆ‘ä»¬æ”¹<code>SerReaderThread</code>ç±»å°±å¯ä»¥äº†ã€‚æœåŠ¡ç«¯çš„ä¸»ç¨‹åºä¸ç”¨æ”¹ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServerReaderThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Socket socket;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ServerReaderThread</span><span class="params">(Socket socket)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.socket = socket;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> socket.getInputStream();</span><br><span class="line">            <span class="type">DataInputStream</span> <span class="variable">dis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DataInputStream</span>(is);</span><br><span class="line">            <span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    <span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span> dis.readUTF();</span><br><span class="line">                    System.out.println(msg);</span><br><span class="line">                    <span class="comment">// æŠŠè¿™ä¸ªæ¶ˆæ¯åˆ†å‘ç»™å…¨éƒ¨å®¢æˆ·ç«¯è¿›è¡Œæ¥æ”¶ã€‚</span></span><br><span class="line">                    sendMsgToAll(msg);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                    System.out.println(<span class="string">&quot;æœ‰äººä¸‹çº¿äº†ï¼š&quot;</span> + socket.getRemoteSocketAddress());</span><br><span class="line">                    Server.onLineSockets.remove(socket);</span><br><span class="line">                    dis.close();</span><br><span class="line">                    socket.close();</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">sendMsgToAll</span><span class="params">(String msg)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">// å‘é€ç»™å…¨éƒ¨åœ¨çº¿çš„socketç®¡é“æ¥æ”¶ã€‚</span></span><br><span class="line">        <span class="keyword">for</span> (Socket onLineSocket : Server.onLineSockets) &#123;</span><br><span class="line">            <span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span> onLineSocket.getOutputStream();</span><br><span class="line">            <span class="type">DataOutputStream</span> <span class="variable">dos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DataOutputStream</span>(os);</span><br><span class="line">            dos.writeUTF(msg);</span><br><span class="line">            dos.flush();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h2 id="BSæ¶æ„ç¨‹åºï¼ˆç®€æ˜“ç‰ˆï¼‰"><a href="#BSæ¶æ„ç¨‹åºï¼ˆç®€æ˜“ç‰ˆï¼‰" class="headerlink" title="BSæ¶æ„ç¨‹åºï¼ˆç®€æ˜“ç‰ˆï¼‰"></a>BSæ¶æ„ç¨‹åºï¼ˆç®€æ˜“ç‰ˆï¼‰</h2><p>å‰é¢æˆ‘ä»¬æ‰€å†™çš„ä»£ç éƒ½æ˜¯åŸºäºCSæ¶æ„çš„ã€‚æˆ‘ä»¬è¯´ç½‘ç»œç¼–ç¨‹è¿˜å¯ä»¥ç¼–å†™BSæ¶æ„çš„ç¨‹åºï¼Œä¸ºäº†è®©åŒå­¦ä»¬ä½“éªŒä¸€ä¸‹BSæ¶æ„é€šä¿¡ï¼Œè¿™é‡Œæˆ‘ä»¬å†™ä¸€ä¸ªç®€æ˜“ç‰ˆçš„ç¨‹åºã€‚ä»…ä»…åªæ˜¯ä½“éªŒä¸‹ä¸€ï¼ŒåæœŸæˆ‘ä»¬ä¼šè¯¦ç»†å­¦ä¹ BSæ¶æ„çš„ç¨‹åºå¦‚ä½•ç¼–å†™ã€‚</p>
<p>BSæ¶æ„ç¨‹åºçš„å®ç°åŸç†ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼šä¸éœ€è¦å¼€å‘å®¢æˆ·ç«¯ç¨‹åºï¼Œæ­¤æ—¶æµè§ˆå™¨å°±ç›¸å½“äºæ˜¯å®¢æˆ·ç«¯ï¼Œæ­¤æ—¶æˆ‘ä»¬åªéœ€è¦å†™æœåŠ¡ç«¯ç¨‹åºå°±å¯ä»¥äº†ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh146.png"></p>
<p>åœ¨BSç»“æ„çš„ç¨‹åºä¸­ï¼Œæµè§ˆå™¨å’ŒæœåŠ¡å™¨é€šä¿¡æ˜¯åŸºäºHTTPåè®®æ¥å®Œæˆçš„ï¼Œæµè§ˆå™¨ç»™å®¢æˆ·ç«¯å‘é€æ•°æ®éœ€è¦æŒ‰ç…§HTTPåè®®è§„å®šå¥½çš„æ•°æ®æ ¼å¼å‘ç»™æœåŠ¡ç«¯ï¼ŒæœåŠ¡ç«¯è¿”å›æ•°æ®æ—¶ä¹Ÿéœ€è¦æŒ‰ç…§HTTPåè®®è§„å®šå¥½çš„æ•°æ®ç»™æ˜¯å‘ç»™æµè§ˆå™¨ï¼Œåªæœ‰è¿™ä¸¤åŒæ–¹æ‰èƒ½å®Œæˆä¸€æ¬¡æ•°æ®äº¤äº’ã€‚</p>
<p>å®¢æˆ·ç«¯ç¨‹åºä¸éœ€è¦æˆ‘ä»¬ç¼–å†™ï¼ˆæµè§ˆå™¨å°±æ˜¯ï¼‰ï¼Œæ‰€ä»¥æˆ‘ä»¬åªéœ€è¦å†™æœåŠ¡ç«¯å°±å¯ä»¥äº†ã€‚</p>
<p>æœåŠ¡ç«¯ç»™å®¢æˆ·ç«¯å“åº”æ•°æ®çš„æ•°æ®æ ¼å¼ï¼ˆHTTPåè®®è§„å®šæ•°æ®æ ¼å¼ï¼‰å¦‚ä¸‹å›¾æ‰€ç¤ºï¼šå·¦å›¾æ˜¯æ•°æ®æ ¼å¼ï¼Œå³å›¾æ˜¯ç¤ºä¾‹ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh147.png"></p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†™ä¸€ä¸ªæœåŠ¡ç«¯ç¨‹åºæŒ‰ç…§å³å›¾ç¤ºä¾‹çš„æ ·å­ï¼Œç»™æµè§ˆå™¨è¿”å›æ•°æ®ã€‚<strong>æ³¨æ„ï¼šæ•°æ®æ˜¯ç”±å¤šè¡Œç»„æˆçš„ï¼Œå¿…é¡»æŒ‰ç…§è§„å®šçš„æ ¼å¼æ¥å†™ã€‚</strong></p>
<h3 id="æœåŠ¡ç«¯ç¨‹åº-2"><a href="#æœåŠ¡ç«¯ç¨‹åº-2" class="headerlink" title="æœåŠ¡ç«¯ç¨‹åº"></a>æœåŠ¡ç«¯ç¨‹åº</h3><p>å…ˆå†™ä¸€ä¸ªçº¿ç¨‹ç±»ï¼Œç”¨äºæŒ‰ç…§HTTPåè®®çš„æ ¼å¼è¿”å›æ•°æ®</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServerReaderThread</span> <span class="keyword">extends</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Socket socket;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ServerReaderThread</span><span class="params">(Socket socket)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.socket = socket;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//  ç«‹å³å“åº”ä¸€ä¸ªç½‘é¡µå†…å®¹ï¼šâ€œé»‘é©¬ç¨‹åºå‘˜â€ç»™æµè§ˆå™¨å±•ç¤ºã€‚</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span> socket.getOutputStream();</span><br><span class="line">            <span class="type">PrintStream</span> <span class="variable">ps</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PrintStream</span>(os);</span><br><span class="line">            ps.println(<span class="string">&quot;HTTP/1.1 200 OK&quot;</span>);</span><br><span class="line">            ps.println(<span class="string">&quot;Content-Type:text/html;charset=UTF-8&quot;</span>);</span><br><span class="line">            ps.println(); <span class="comment">// å¿…é¡»æ¢è¡Œ</span></span><br><span class="line">            ps.println(<span class="string">&quot;&lt;div style=&#x27;color:red;font-size:120px;text-align:center&#x27;&gt;é»‘é©¬ç¨‹åºå‘˜666&lt;div&gt;&quot;</span>);</span><br><span class="line">            ps.close();</span><br><span class="line">            socket.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å†å†™æœåŠ¡ç«¯çš„ä¸»ç¨‹åº</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  ç›®æ ‡ï¼šå®ŒæˆTCPé€šä¿¡å¿«é€Ÿå…¥é—¨-æœåŠ¡ç«¯å¼€å‘ï¼šè¦æ±‚å®ç°ä¸å¤šä¸ªå®¢æˆ·ç«¯åŒæ—¶é€šä¿¡ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Server</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;-----æœåŠ¡ç«¯å¯åŠ¨æˆåŠŸ-------&quot;</span>);</span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºServerSocketçš„å¯¹è±¡ï¼ŒåŒæ—¶ä¸ºæœåŠ¡ç«¯æ³¨å†Œç«¯å£ã€‚</span></span><br><span class="line">        <span class="type">ServerSocket</span> <span class="variable">serverSocket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServerSocket</span>(<span class="number">8080</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="comment">// 2ã€ä½¿ç”¨serverSocketå¯¹è±¡ï¼Œè°ƒç”¨ä¸€ä¸ªacceptæ–¹æ³•ï¼Œç­‰å¾…å®¢æˆ·ç«¯çš„è¿æ¥è¯·æ±‚</span></span><br><span class="line">            <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> serverSocket.accept();</span><br><span class="line"></span><br><span class="line">            System.out.println(<span class="string">&quot;æœ‰äººä¸Šçº¿äº†ï¼š&quot;</span> + socket.getRemoteSocketAddress());</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 3ã€æŠŠè¿™ä¸ªå®¢æˆ·ç«¯å¯¹åº”çš„socketé€šä¿¡ç®¡é“ï¼Œäº¤ç»™ä¸€ä¸ªç‹¬ç«‹çš„çº¿ç¨‹è´Ÿè´£å¤„ç†ã€‚</span></span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">ServerReaderThread</span>(socket).start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="æœåŠ¡ç«¯ä¸»ç¨‹åºç”¨çº¿ç¨‹æ± æ”¹è¿›"><a href="#æœåŠ¡ç«¯ä¸»ç¨‹åºç”¨çº¿ç¨‹æ± æ”¹è¿›" class="headerlink" title="æœåŠ¡ç«¯ä¸»ç¨‹åºç”¨çº¿ç¨‹æ± æ”¹è¿›"></a>æœåŠ¡ç«¯ä¸»ç¨‹åºç”¨çº¿ç¨‹æ± æ”¹è¿›</h3><p>ä¸ºäº†é¿å…æœåŠ¡ç«¯åˆ›å»ºå¤ªå¤šçš„çº¿ç¨‹ï¼Œå¯ä»¥æŠŠæœåŠ¡ç«¯ç”¨çº¿ç¨‹æ± æ”¹è¿›ï¼Œæé«˜æœåŠ¡ç«¯çš„æ€§èƒ½ã€‚</p>
<p>å…ˆå†™ä¸€ä¸ªç»™æµè§ˆå™¨å“åº”æ•°æ®çš„çº¿ç¨‹ä»»åŠ¡</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServerReaderRunnable</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Socket socket;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ServerReaderRunnable</span><span class="params">(Socket socket)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.socket = socket;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//  ç«‹å³å“åº”ä¸€ä¸ªç½‘é¡µå†…å®¹ï¼šâ€œé»‘é©¬ç¨‹åºå‘˜â€ç»™æµè§ˆå™¨å±•ç¤ºã€‚</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span> socket.getOutputStream();</span><br><span class="line">            <span class="type">PrintStream</span> <span class="variable">ps</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PrintStream</span>(os);</span><br><span class="line">            ps.println(<span class="string">&quot;HTTP/1.1 200 OK&quot;</span>);</span><br><span class="line">            ps.println(<span class="string">&quot;Content-Type:text/html;charset=UTF-8&quot;</span>);</span><br><span class="line">            ps.println(); <span class="comment">// å¿…é¡»æ¢è¡Œ</span></span><br><span class="line">            ps.println(<span class="string">&quot;&lt;div style=&#x27;color:red;font-size:120px;text-align:center&#x27;&gt;é»‘é©¬ç¨‹åºå‘˜666&lt;div&gt;&quot;</span>);</span><br><span class="line">            ps.close();</span><br><span class="line">            socket.close();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å†æ”¹å†™æœåŠ¡ç«¯çš„ä¸»ç¨‹åºï¼Œä½¿ç”¨ThreadPoolExecutoråˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ± ï¼Œæ¯æ¬¡æ¥æ”¶åˆ°ä¸€ä¸ªSocketå°±å¾€çº¿ç¨‹æ± ä¸­æäº¤ä»»åŠ¡å°±è¡Œã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Server</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;-----æœåŠ¡ç«¯å¯åŠ¨æˆåŠŸ-------&quot;</span>);</span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºServerSocketçš„å¯¹è±¡ï¼ŒåŒæ—¶ä¸ºæœåŠ¡ç«¯æ³¨å†Œç«¯å£ã€‚</span></span><br><span class="line">        <span class="type">ServerSocket</span> <span class="variable">serverSocket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServerSocket</span>(<span class="number">8080</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ›å»ºå‡ºä¸€ä¸ªçº¿ç¨‹æ± ï¼Œè´Ÿè´£å¤„ç†é€šä¿¡ç®¡é“çš„ä»»åŠ¡ã€‚</span></span><br><span class="line">        <span class="type">ThreadPoolExecutor</span> <span class="variable">pool</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadPoolExecutor</span>(<span class="number">16</span> * <span class="number">2</span>, <span class="number">16</span> * <span class="number">2</span>, <span class="number">0</span>, TimeUnit.SECONDS,</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">ArrayBlockingQueue</span>&lt;&gt;(<span class="number">8</span>) , Executors.defaultThreadFactory(),</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">ThreadPoolExecutor</span>.AbortPolicy());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="comment">// 2ã€ä½¿ç”¨serverSocketå¯¹è±¡ï¼Œè°ƒç”¨ä¸€ä¸ªacceptæ–¹æ³•ï¼Œç­‰å¾…å®¢æˆ·ç«¯çš„è¿æ¥è¯·æ±‚</span></span><br><span class="line">            <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> serverSocket.accept();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 3ã€æŠŠè¿™ä¸ªå®¢æˆ·ç«¯å¯¹åº”çš„socketé€šä¿¡ç®¡é“ï¼Œäº¤ç»™ä¸€ä¸ªç‹¬ç«‹çš„çº¿ç¨‹è´Ÿè´£å¤„ç†ã€‚</span></span><br><span class="line">            pool.execute(<span class="keyword">new</span> <span class="title class_">ServerReaderRunnable</span>(socket));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="å•å…ƒæµ‹è¯•ã€åå°„"><a href="#å•å…ƒæµ‹è¯•ã€åå°„" class="headerlink" title="å•å…ƒæµ‹è¯•ã€åå°„"></a>å•å…ƒæµ‹è¯•ã€åå°„</h1><p>Javaä¸»è¦çš„çŸ¥è¯†æˆ‘ä»¬å…¶å®å·²ç»å­¦ä¹ å¾—å·®ä¸å¤šäº†ã€‚ä»Šå¤©åŒå­¦ä»¬å†æŠŠå•å…ƒæµ‹è¯•ã€åå°„ã€æ³¨è§£ã€åŠ¨æ€ä»£ç†å­¦ä¹ å®Œã€‚</p>
<p>é¦–å…ˆï¼Œæˆ‘ä»¬è¿›å…¥å•å…ƒæµ‹è¯•çš„å­¦ä¹ ã€‚</p>
<h2 id="å•å…ƒæµ‹è¯•"><a href="#å•å…ƒæµ‹è¯•" class="headerlink" title="å•å…ƒæµ‹è¯•"></a>å•å…ƒæµ‹è¯•</h2><h3 id="å•å…ƒæµ‹è¯•å¿«é€Ÿå…¥é—¨"><a href="#å•å…ƒæµ‹è¯•å¿«é€Ÿå…¥é—¨" class="headerlink" title="å•å…ƒæµ‹è¯•å¿«é€Ÿå…¥é—¨"></a>å•å…ƒæµ‹è¯•å¿«é€Ÿå…¥é—¨</h3><p>æ‰€è°“å•å…ƒæµ‹è¯•ï¼Œå°±æ˜¯é’ˆå¯¹æœ€å°çš„åŠŸèƒ½å•å…ƒï¼Œç¼–å†™æµ‹è¯•ä»£ç å¯¹å…¶è¿›è¡Œæ­£ç¡®æ€§æµ‹è¯•ã€‚</p>
<p>æˆ‘ä»¬æƒ³æƒ³ï¼Œå’±ä»¬ä¹‹å‰æ˜¯æ€ä¹ˆè¿›è¡Œæµ‹è¯•çš„å‘¢ï¼Ÿ</p>
<p>æ¯”å¦‚è¯´æˆ‘ä»¬å†™äº†ä¸€ä¸ªå­¦ç”Ÿç®¡ç†ç³»ç»Ÿï¼Œæœ‰æ·»åŠ å­¦ç”Ÿã€ä¿®æ”¹å­¦ç”Ÿã€åˆ é™¤å­¦ç”Ÿã€æŸ¥è¯¢å­¦ç”Ÿç­‰è¿™äº›åŠŸèƒ½ã€‚è¦å¯¹è¿™äº›åŠŸèƒ½è¿™å‡ ä¸ªåŠŸèƒ½è¿›è¡Œæµ‹è¯•ï¼Œæˆ‘ä»¬æ˜¯åœ¨mainæ–¹æ³•ä¸­ç¼–å†™ä»£ç æ¥æµ‹è¯•çš„ã€‚</p>
<p>ä½†æ˜¯åœ¨mainæ–¹æ³•ä¸­å†™æµ‹è¯•ä»£ç æœ‰å¦‚ä¸‹çš„å‡ ä¸ªé—®é¢˜ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh148.png"></p>
<p>ä¸ºäº†æµ‹è¯•æ›´åŠ æ–¹ä¾¿ï¼Œæœ‰ä¸€äº›ç¬¬ä¸‰æ–¹çš„å…¬å¸æˆ–è€…ç»„ç»‡æä¾›äº†å¾ˆå¥½ç”¨çš„æµ‹è¯•æ¡†æ¶ï¼Œç»™å¼€å‘è€…ä½¿ç”¨ã€‚è¿™é‡Œç»™åŒå­¦ä»¬ä»‹ç»ä¸€ç§Junitæµ‹è¯•æ¡†æ¶ã€‚</p>
<p>Junitæ˜¯ç¬¬ä¸‰æ–¹å…¬å¸å¼€æºå‡ºæ¥çš„ï¼Œç”¨äºå¯¹ä»£ç è¿›è¡Œå•å…ƒæµ‹è¯•çš„å·¥å…·ï¼ˆIDEAå·²ç»é›†æˆäº†junitæ¡†æ¶ï¼‰ã€‚ç›¸æ¯”äºåœ¨mainæ–¹æ³•ä¸­æµ‹è¯•æœ‰å¦‚ä¸‹å‡ ä¸ªä¼˜ç‚¹ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh149.png"></p>
<hr>
<p>æˆ‘ä»¬çŸ¥é“å•å…ƒæµ‹è¯•æ˜¯ä»€ä¹ˆä¹‹åï¼Œæ¥ä¸‹æ¥å¸¦é¢†åŒå­¦ä»¬ä½¿ç”¨ä¸€ä¸‹ã€‚ç”±äºJunitæ˜¯ç¬¬ä¸‰æ–¹æä¾›çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦æŠŠjaråŒ…å¯¼å…¥åˆ°æˆ‘ä»¬çš„é¡¹ç›®ä¸­ï¼Œæ‰èƒ½ä½¿ç”¨ï¼Œå…·ä½“æ­¥éª¤å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh150.png"></p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±æŒ‰ç…§ä¸Šé¢çš„æ­¥éª¤ï¼Œæ¥ä½¿ç”¨ä¸€ä¸‹.</p>
<p>å…ˆå‡†å¤‡ä¸€ä¸ªç±»ï¼Œå‡è®¾å†™äº†ä¸€ä¸ªStringUtilå·¥å…·ç±»ï¼Œä»£ç å¦‚ä¸‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StringUtil</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">printNumber</span><span class="params">(String name)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;åå­—é•¿åº¦ï¼š&quot;</span>+name.length());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥ï¼Œå†™ä¸€ä¸ªæµ‹è¯•ç±»ï¼Œæµ‹è¯•StringUtilå·¥å…·ç±»ä¸­çš„æ–¹æ³•èƒ½å¦æ­£å¸¸ä½¿ç”¨ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StringUtilTest</span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testPrintNumber</span><span class="params">()</span>&#123;</span><br><span class="line">        StringUtil.printNumber(<span class="string">&quot;admin&quot;</span>);</span><br><span class="line">        StringUtil.printNumber(<span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å†™å®Œä»£ç ä¹‹åï¼Œæˆ‘ä»¬ä¼šå‘ç°æµ‹è¯•æ–¹æ³•å·¦è¾¹ï¼Œä¼šæœ‰ä¸€ä¸ªç»¿è‰²çš„ä¸‰è§’å½¢æŒ‰é’®ã€‚ç‚¹å‡»è¿™ä¸ªæŒ‰é’®ï¼Œå°±å¯ä»¥è¿è¡Œæµ‹è¯•æ–¹æ³•ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh151.png"></p>
<h3 id="å•å…ƒæµ‹è¯•æ–­è¨€"><a href="#å•å…ƒæµ‹è¯•æ–­è¨€" class="headerlink" title="å•å…ƒæµ‹è¯•æ–­è¨€"></a>å•å…ƒæµ‹è¯•æ–­è¨€</h3><p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å­¦ä¹ ä¸€ä¸ªå•å…ƒæµ‹è¯•çš„æ–­è¨€æœºåˆ¶ã€‚<strong>æ‰€è°“æ–­è¨€ï¼šæ„æ€æ˜¯ç¨‹åºå‘˜å¯ä»¥é¢„æµ‹ç¨‹åºçš„è¿è¡Œç»“æœï¼Œæ£€æŸ¥ç¨‹åºçš„è¿è¡Œç»“æœæ˜¯å¦ä¸é¢„æœŸä¸€è‡´ã€‚</strong></p>
<p>æˆ‘ä»¬åœ¨StringUtilç±»ä¸­æ–°å¢ä¸€ä¸ªæµ‹è¯•æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">getMaxIndex</span><span class="params">(String data)</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(data == <span class="literal">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> data.length();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬åœ¨StringUtilTestç±»ä¸­å†™ä¸€ä¸ªæµ‹è¯•æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StringUtilTest</span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testGetMaxIndex</span><span class="params">()</span>&#123;</span><br><span class="line">       <span class="type">int</span> <span class="variable">index1</span> <span class="operator">=</span> StringUtil.getMaxIndex(<span class="literal">null</span>);</span><br><span class="line">       System.out.println(index1);</span><br><span class="line">        </span><br><span class="line">       <span class="type">int</span> <span class="variable">index2</span> <span class="operator">=</span> StringUtil.getMaxIndex(<span class="string">&quot;admin&quot;</span>);</span><br><span class="line">       System.out.println(index2);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//æ–­è¨€æœºåˆ¶ï¼šé¢„æµ‹index2çš„ç»“æœ</span></span><br><span class="line">        Assert.assertEquals(<span class="string">&quot;æ–¹æ³•å†…éƒ¨æœ‰Bug&quot;</span>,<span class="number">4</span>,index2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œæµ‹è¯•æ–¹æ³•ï¼Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè¡¨ç¤ºæˆ‘ä»¬é¢„æœŸå€¼ä¸å®é™…å€¼ä¸ä¸€è‡´</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh152.png"></p>
<h3 id="Junitæ¡†æ¶çš„å¸¸ç”¨æ³¨è§£"><a href="#Junitæ¡†æ¶çš„å¸¸ç”¨æ³¨è§£" class="headerlink" title="Junitæ¡†æ¶çš„å¸¸ç”¨æ³¨è§£"></a>Junitæ¡†æ¶çš„å¸¸ç”¨æ³¨è§£</h3><p>åŒå­¦ä»¬ï¼Œåˆšæ‰æˆ‘ä»¬ä»¥åŠå­¦ä¹ äº†@Testæ³¨è§£ï¼Œå¯ä»¥ç”¨æ¥æ ‡è®°ä¸€ä¸ªæ–¹æ³•ä¸ºæµ‹è¯•æ–¹æ³•ï¼Œæµ‹è¯•æ‰èƒ½å¯åŠ¨æ‰§è¡Œã€‚</p>
<p>é™¤äº†@Testæ³¨è§£ï¼Œè¿˜æœ‰ä¸€äº›å…¶ä»–çš„æ³¨è§£ï¼Œæˆ‘ä»¬è¦çŸ¥é“å…¶ä»–æ³¨è§£æ ‡è®°çš„æ–¹æ³•ä»€ä¹ˆæ—¶å€™æ‰§è¡Œï¼Œä»¥åŠå…¶ä»–æ³¨è§£åœ¨ä»€ä¹ˆåœºæ™¯ä¸‹å¯ä»¥ä½¿ç”¨ã€‚</p>
<p>æ³¨è§£                 è¯´æ˜<br>@Test<br>æµ‹è¯•ç±»ä¸­çš„æ–¹æ³•å¿…é¡»ç”¨å®ƒä¿®é¥°æ‰èƒ½æˆä¸ºæµ‹è¯•æ–¹æ³•ï¼Œæ‰èƒ½å¯åŠ¨æ‰§è¡Œ<br>@Before<br>ç”¨æ¥ä¿®é¥°ä¸€ä¸ªå®ä¾‹æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¼šåœ¨æ¯ä¸€ä¸ªæµ‹è¯•æ–¹æ³•æ‰§è¡Œä¹‹å‰æ‰§è¡Œä¸€æ¬¡ã€‚<br>@After<br>ç”¨æ¥ä¿®é¥°ä¸€ä¸ªå®ä¾‹æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¼šåœ¨æ¯ä¸€ä¸ªæµ‹è¯•æ–¹æ³•æ‰§è¡Œä¹‹åæ‰§è¡Œä¸€æ¬¡ã€‚<br>@BeforeClass<br>ç”¨æ¥ä¿®é¥°ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¼šåœ¨æ‰€æœ‰æµ‹è¯•æ–¹æ³•ä¹‹å‰åªæ‰§è¡Œä¸€æ¬¡ã€‚<br>@AfterClass<br>ç”¨æ¥ä¿®é¥°ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¼šåœ¨æ‰€æœ‰æµ‹è¯•æ–¹æ³•ä¹‹ååªæ‰§è¡Œä¸€æ¬¡ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¼”ç¤ºä¸€ä¸‹å…¶ä»–æ³¨è§£çš„ä½¿ç”¨ã€‚æˆ‘ä»¬åœ¨StringUtilTestæµ‹è¯•ç±»ä¸­ï¼Œå†æ–°å¢å‡ ä¸ªæµ‹è¯•æ–¹æ³•ã€‚ä»£ç å¦‚ä¸‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StringUtilTest</span>&#123;</span><br><span class="line">    <span class="meta">@Before</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;--&gt; test1 Before æ‰§è¡Œäº†&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@BeforeClass</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test11</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;--&gt; test11 BeforeClass æ‰§è¡Œäº†&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@After</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;--&gt; test2 After æ‰§è¡Œäº†&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@AfterCalss</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test22</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;--&gt; test22 AfterCalss æ‰§è¡Œäº†&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œä¸Šé¢çš„æµ‹è¯•ç±»ï¼Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè§‚å¯Ÿæ‰§è¡Œç»“æœç‰¹ç‚¹å¦‚ä¸‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>è¢«<span class="meta">@BeforeClass</span>æ ‡è®°çš„æ–¹æ³•,æ‰§è¡Œåœ¨æ‰€æœ‰æ–¹æ³•ä¹‹å‰</span><br><span class="line"><span class="number">2.</span>è¢«<span class="meta">@AfterCalss</span>æ ‡è®°çš„æ–¹æ³•ï¼Œæ‰§è¡Œåœ¨æ‰€æœ‰æ–¹æ³•ä¹‹å</span><br><span class="line"><span class="number">3.</span>è¢«<span class="meta">@Before</span>æ ‡è®°çš„æ–¹æ³•ï¼Œæ‰§è¡Œåœ¨æ¯ä¸€ä¸ª<span class="meta">@Test</span>æ–¹æ³•ä¹‹å‰</span><br><span class="line"><span class="number">4.</span>è¢«<span class="meta">@After</span>æ ‡è®°çš„æ–¹æ³•ï¼Œæ‰§è¡Œåœ¨æ¯ä¸€ä¸ª<span class="meta">@Test</span>æ–¹æ³•ä¹‹å</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh153.png"></p>
<p>æˆ‘ä»¬ç°åœ¨å·²ç»çŸ¥é“æ¯ä¸€ä¸ªæ³¨è§£çš„ä½œç”¨äº†ï¼Œé‚£ä»–ä»¬æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿåº”ç”¨åœºæ™¯åœ¨å“ªé‡Œ?</p>
<p>æˆ‘ä»¬æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼Œå‡è®¾æˆ‘æƒ³åœ¨æ¯ä¸ªæµ‹è¯•æ–¹æ³•ä¸­ä½¿ç”¨Socketå¯¹è±¡ï¼Œå¹¶ä¸”ç”¨å®Œä¹‹åï¼Œéœ€è¦æŠŠSocketå…³é—­ã€‚ä»£ç å°±å¯ä»¥æŒ‰ç…§ä¸‹é¢çš„ç»“æ„æ¥è®¾è®¡</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StringUtilTest</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Socket socket;</span><br><span class="line">    <span class="meta">@Before</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;--&gt; test1 Before æ‰§è¡Œäº†&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@BeforeClass</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test11</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;--&gt; test11 BeforeClass æ‰§è¡Œäº†&quot;</span>);</span><br><span class="line">        <span class="comment">//åˆå§‹åŒ–Socketå¯¹è±¡</span></span><br><span class="line">        socket = <span class="keyword">new</span> <span class="title class_">Socket</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@After</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;--&gt; test2 After æ‰§è¡Œäº†&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@AfterCalss</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test22</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;--&gt; test22 AfterCalss æ‰§è¡Œäº†&quot;</span>);</span><br><span class="line">         <span class="comment">//å…³é—­Socket</span></span><br><span class="line">        socket.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æœ€åï¼Œæˆ‘ä»¬å†è¡¥å……ä¸€ç‚¹ã€‚å‰é¢çš„æ³¨è§£æ˜¯åŸºäºJunit4ç‰ˆæœ¬çš„ï¼Œå†Junit5ç‰ˆæœ¬ä¸­å¯¹æ³¨è§£ä½œäº†æ›´æ–°ï¼Œä½†æ˜¯ä½œç”¨æ˜¯ä¸€æ ·çš„ã€‚æ‰€ä»¥è¿™é‡Œå°±ä¸åšæ¼”ç¤ºäº†</p>
<p>æ³¨è§£                 è¯´æ˜<br>@Test<br>æµ‹è¯•ç±»ä¸­çš„æ–¹æ³•å¿…é¡»ç”¨å®ƒä¿®é¥°æ‰èƒ½æˆä¸ºæµ‹è¯•æ–¹æ³•ï¼Œæ‰èƒ½å¯åŠ¨æ‰§è¡Œ<br>@Before<br>ç”¨æ¥ä¿®é¥°ä¸€ä¸ªå®ä¾‹æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¼šåœ¨æ¯ä¸€ä¸ªæµ‹è¯•æ–¹æ³•æ‰§è¡Œä¹‹å‰æ‰§è¡Œä¸€æ¬¡ã€‚<br>@After<br>ç”¨æ¥ä¿®é¥°ä¸€ä¸ªå®ä¾‹æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¼šåœ¨æ¯ä¸€ä¸ªæµ‹è¯•æ–¹æ³•æ‰§è¡Œä¹‹åæ‰§è¡Œä¸€æ¬¡ã€‚<br>@BeforeClass<br>ç”¨æ¥ä¿®é¥°ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¼šåœ¨æ‰€æœ‰æµ‹è¯•æ–¹æ³•ä¹‹å‰åªæ‰§è¡Œä¸€æ¬¡ã€‚<br>@AfterClass<br>ç”¨æ¥ä¿®é¥°ä¸€ä¸ªé™æ€æ–¹æ³•ï¼Œè¯¥æ–¹æ³•ä¼šåœ¨æ‰€æœ‰æµ‹è¯•æ–¹æ³•ä¹‹ååªæ‰§è¡Œä¸€æ¬¡ã€‚</p>
<h2 id="åå°„"><a href="#åå°„" class="headerlink" title="åå°„"></a>åå°„</h2><p>å„ä½å°ä¼™ä¼´ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬è¦å­¦ä¹ åå°„æŠ€æœ¯ã€‚åœ¨å­¦ä¹ åå°„ä¹‹å‰ï¼Œæœ‰å‡ ä¸ªç‚¹éœ€è¦ç»™åŒå­¦ä»¬æå‰äº¤ä»£ä¸€ä¸‹ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å­¦ä¹ çš„åå°„ã€åŠ¨æ€ä»£ç†ã€æ³¨è§£ç­‰çŸ¥è¯†ç‚¹ï¼Œåœ¨ä»¥åå¼€å‘ä¸­æå°‘ç”¨åˆ°ï¼Œè¿™äº›æŠ€æœ¯éƒ½æ˜¯ä»¥åå­¦ä¹ æ¡†æ¶ã€æˆ–è€…åšæ¡†æ¶çš„åº•å±‚æºç ã€‚ç»™åŒå­¦ä»¬è®²è¿™äº›æŠ€æœ¯çš„ç›®çš„ï¼Œæ˜¯ä¸ºäº†ä»¥åæˆ‘ä»¬ç†è§£æ¡†æ¶ã€æˆ–è€…è‡ªå·±å¼€å‘æ¡†æ¶ç»™åˆ«äººç”¨ä½œé“ºå«çš„ã€‚åŒæ—¶ç”±äºè¿™äº›æŠ€æœ¯éå¸¸æŠ½è±¡ï¼Œæ‰€ä»¥æŒ‰ç…§å›½é™…æƒ¯ä¾‹ï¼Œæˆ‘ä»¬éƒ½ä¼šé‡‡ç”¨å…ˆå¸¦ç€å¤§å®¶å……åˆ†çš„è®¤è¯†å®ƒä»¬ï¼Œç„¶åå†äº†è§£å…¶ä½œç”¨å’Œåº”ç”¨åœºæ™¯ã€‚</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±éœ€è¦å¸¦ç€åŒå­¦ä»¬è®¤è¯†ä¸€ä¸‹ä»€ä¹ˆæ˜¯åå°„ã€‚å…¶å®APIæ–‡æ¡£ä¸­å¯¹åå°„æœ‰è¯¦ç»†çš„è¯´æ˜ï¼Œæˆ‘ä»¬å»äº†è§£ä¸€ä¸‹ã€‚åœ¨java.lang.reflectåŒ…ä¸­å¯¹åå°„çš„è§£é‡Šå¦‚ä¸‹å›¾æ‰€ç¤º</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh154.png"></p>
<p>ç¿»è¯‘æˆäººè¯å°±æ˜¯ï¼š<strong>åå°„æŠ€æœ¯ï¼ŒæŒ‡çš„æ˜¯åŠ è½½ç±»çš„å­—èŠ‚ç åˆ°å†…å­˜ï¼Œå¹¶ä»¥ç¼–ç¨‹çš„æ–¹æ³•è§£åˆ¨å‡ºç±»ä¸­çš„å„ä¸ªæˆåˆ†ï¼ˆæˆå‘˜å˜é‡ã€æ–¹æ³•ã€æ„é€ å™¨ç­‰ï¼‰ã€‚</strong></p>
<p>åå°„æœ‰å•¥ç”¨å‘¢ï¼Ÿå…¶å®åå°„æ˜¯ç”¨æ¥å†™æ¡†æ¶ç”¨çš„ï¼Œä½†æ˜¯ç°é˜¶æ®µåŒå­¦ä»¬å¯¹æ¡†æ¶è¿˜æ²¡æœ‰å¤ªå¤šæ„Ÿè§‰ã€‚ä¸ºäº†æ–¹ä¾¿ç†è§£ï¼Œæˆ‘ç»™åŒå­¦ä»¬çœ‹ä¸€ä¸ªæˆ‘ä»¬è§è¿‡çš„ä¾‹å­ï¼šå¹³æ—¶æˆ‘ä»¬ç”¨IDEAå¼€å‘ç¨‹åºæ—¶ï¼Œç”¨å¯¹è±¡è°ƒç”¨æ–¹æ³•ï¼ŒIDEAä¼šæœ‰ä»£ç æç¤ºï¼Œideaä¼šå°†è¿™ä¸ªå¯¹è±¡èƒ½è°ƒç”¨çš„æ–¹æ³•éƒ½ç»™ä½ åˆ—ä¸¾å‡ºæ¥ï¼Œä¾›ä½ é€‰æ‹©ï¼Œå¦‚æœä¸‹å›¾æ‰€ç¤º</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh155.png"></p>
<p>é—®é¢˜æ˜¯IDEAæ€ä¹ˆçŸ¥é“è¿™ä¸ªå¯¹è±¡æœ‰è¿™äº›æ–¹æ³•å¯ä»¥è°ƒç”¨å‘¢? åŸå› æ˜¯å¯¹è±¡èƒ½è°ƒç”¨çš„æ–¹æ³•å…¨éƒ½æ¥è‡ªäºç±»ï¼ŒIDEAé€šè¿‡åå°„æŠ€æœ¯å°±å¯ä»¥è·å–åˆ°ç±»ä¸­æœ‰å“ªäº›æ–¹æ³•ï¼Œå¹¶ä¸”æŠŠæ–¹æ³•çš„åç§°ä»¥æç¤ºæ¡†çš„å½¢å¼æ˜¾ç¤ºå‡ºæ¥ï¼Œæ‰€ä»¥ä½ èƒ½çœ‹åˆ°è¿™äº›æç¤ºäº†ã€‚</p>
<p>é‚£è®°äº‹æœ¬å†™ä»£ç ä¸ºä»€ä¹ˆæ²¡æœ‰æç¤ºå‘¢? å› ä¸ºæŠ€æœ¯æœ¬è½¯ä»¶æ²¡æœ‰åˆ©ç”¨åå°„æŠ€æœ¯å¼€å‘è¿™ç§ä»£ç æç¤ºçš„åŠŸèƒ½ï¼Œå“ˆå“ˆï¼ï¼</p>
<p>å¥½äº†ï¼Œè®¤è¯†äº†åå°„æ˜¯ä»€ä¹ˆä¹‹åï¼Œæ¥ä¸‹æ¥æˆ‘è¿˜æƒ³ç»™åŒå­¦ä»¬ä»‹ç»ä¸€ä¸‹åå°„å…·ä½“å­¦ä»€ä¹ˆï¼Ÿ</p>
<p>å› ä¸ºåå°„è·å–çš„æ˜¯ç±»çš„ä¿¡æ¯ï¼Œé‚£ä¹ˆåå°„çš„ç¬¬ä¸€æ­¥é¦–å…ˆè·å–åˆ°ç±»æ‰è¡Œã€‚ç”±äºJavaçš„è®¾è®¡åŸåˆ™æ˜¯ä¸‡ç‰©çš†å¯¹è±¡ï¼Œè·å–åˆ°çš„ç±»å…¶å®ä¹Ÿæ˜¯ä»¥å¯¹è±¡çš„å½¢å¼ä½“ç°çš„ï¼Œ<strong>å«å­—èŠ‚ç å¯¹è±¡</strong>ï¼Œç”¨Classç±»æ¥è¡¨ç¤ºã€‚è·å–åˆ°å­—èŠ‚ç å¯¹è±¡ä¹‹åï¼Œå†é€šè¿‡å­—èŠ‚ç å¯¹è±¡å°±å¯ä»¥è·å–åˆ°ç±»çš„ç»„æˆæˆåˆ†äº†ï¼Œè¿™äº›ç»„æˆæˆåˆ†å…¶å®ä¹Ÿæ˜¯å¯¹è±¡ï¼Œå…¶ä¸­<strong>æ¯ä¸€ä¸ªæˆå‘˜å˜é‡ç”¨Fieldç±»çš„å¯¹è±¡æ¥è¡¨ç¤º</strong>ã€<strong>æ¯ä¸€ä¸ªæˆå‘˜æ–¹æ³•ç”¨Methodç±»çš„å¯¹è±¡æ¥è¡¨ç¤º</strong>ï¼Œ<strong>æ¯ä¸€ä¸ªæ„é€ å™¨ç”¨Constructorç±»çš„å¯¹è±¡æ¥è¡¨ç¤º</strong>ã€‚</p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh156.png"></p>
<h3 id="è·å–ç±»çš„å­—èŠ‚ç "><a href="#è·å–ç±»çš„å­—èŠ‚ç " class="headerlink" title="è·å–ç±»çš„å­—èŠ‚ç "></a>è·å–ç±»çš„å­—èŠ‚ç </h3><p>åå°„çš„ç¬¬ä¸€æ­¥ï¼šæ˜¯å°†å­—èŠ‚ç åŠ è½½åˆ°å†…å­˜ï¼Œæˆ‘ä»¬éœ€è¦è·å–åˆ°çš„å­—èŠ‚ç å¯¹è±¡ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh157.png"></p>
<p>æ¯”å¦‚æœ‰ä¸€ä¸ªStudentç±»ï¼Œè·å–Studentç±»çš„å­—èŠ‚ç ä»£ç æœ‰ä¸‰ç§å†™æ³•ã€‚ä¸ç®¡ç”¨å“ªä¸€ç§æ–¹å¼ï¼Œè·å–åˆ°çš„å­—èŠ‚ç å¯¹è±¡å…¶å®æ˜¯åŒä¸€ä¸ªã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test1Class</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="type">Class</span> <span class="variable">c1</span> <span class="operator">=</span> Student.class;</span><br><span class="line">        System.out.println(c1.getName()); <span class="comment">//è·å–å…¨ç±»å</span></span><br><span class="line">        System.out.println(c1.getSimpleName()); <span class="comment">//è·å–ç®€å•ç±»å</span></span><br><span class="line">        </span><br><span class="line">        <span class="type">Class</span> <span class="variable">c2</span> <span class="operator">=</span> Class.forName(<span class="string">&quot;com.itheima.d2_reflect.Student&quot;</span>);</span><br><span class="line">        System.out.println(c1 == c2); <span class="comment">//true</span></span><br><span class="line">        </span><br><span class="line">        <span class="type">Student</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">        <span class="type">Class</span> <span class="variable">c3</span> <span class="operator">=</span> s.getClass();</span><br><span class="line">        System.out.println(c2 == c3); <span class="comment">//true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="è·å–ç±»çš„æ„é€ å™¨"><a href="#è·å–ç±»çš„æ„é€ å™¨" class="headerlink" title="è·å–ç±»çš„æ„é€ å™¨"></a>è·å–ç±»çš„æ„é€ å™¨</h3><p>æˆ‘ä»¬å·²ç»å¯ä»¥è·å–åˆ°ç±»çš„å­—èŠ‚ç å¯¹è±¡äº†ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å­¦ä¹ ä¸€ä¸‹é€šè¿‡å­—èŠ‚ç å¯¹è±¡è·å–æ„é€ å™¨ï¼Œå¹¶ä½¿ç”¨æ„é€ å™¨åˆ›å»ºå¯¹è±¡ã€‚</p>
<p>è·å–æ„é€ å™¨ï¼Œéœ€è¦ç”¨åˆ°Classç±»æä¾›çš„å‡ ä¸ªæ–¹æ³•ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p>æ–¹æ³•                       è¯´æ˜<br>Constructor<?>[] getConstructors()
è·å–å…¨éƒ¨æ„é€ å™¨(åªèƒ½è·å–publicä¿®é¥°çš„)
Constructor<?>[] getDeclaredconstructors()<br>è·å–å…¨éƒ¨æ„é€ å™¨(åªè¦å­˜åœ¨å°±èƒ½æ‹¿åˆ°)<br>constructor<T> getConstructor(class<?>... parameterTypes)
è·å–æŸä¸ªæ„é€ å™¨(åªèƒ½è·å–publicä¿®é¥°çš„)
Constructor<T> getDeclaredConstructor(Class<?>â€¦parameterTypes)<br>è·å–æŸä¸ªæ„é€ å™¨(åªè¦å­˜åœ¨å°±èƒ½æ‹¿åˆ°)</p>
<p>æƒ³è¦å¿«é€Ÿè®°ä½è¿™ä¸ªæ–¹æ³•çš„åŒºåˆ«ï¼Œç»™åŒå­¦ä»¬è¯´ä¸€ä¸‹è¿™äº›æ–¹æ³•çš„å‘½åè§„å¾‹ï¼ŒæŒ‰ç…§è§„å¾‹æ¥è®°å°±å¾ˆæ–¹ä¾¿äº†ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">get:è·å–</span><br><span class="line">Declared: æœ‰è¿™ä¸ªå•è¯è¡¨ç¤ºå¯ä»¥è·å–ä»»æ„ä¸€ä¸ªï¼Œæ²¡æœ‰è¿™ä¸ªå•è¯è¡¨ç¤ºåªèƒ½è·å–ä¸€ä¸ª<span class="keyword">public</span>ä¿®é¥°çš„</span><br><span class="line">Constructor: æ„é€ æ–¹æ³•çš„æ„æ€</span><br><span class="line">åç¼€s: è¡¨ç¤ºå¯ä»¥è·å–å¤šä¸ªï¼Œæ²¡æœ‰åç¼€såªèƒ½è·å–ä¸€ä¸ª</span><br></pre></td></tr></table></figure>

<p>è¯ä¸å¤šå°‘ï¼Œä¸Šä»£ç ã€‚å‡è®¾ç°åœ¨æœ‰ä¸€ä¸ªCatç±»ï¼Œé‡Œé¢æœ‰å‡ ä¸ªæ„é€ æ–¹æ³•ï¼Œä»£ç å¦‚ä¸‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Cat</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Cat</span><span class="params">()</span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Cat</span><span class="params">(String name, <span class="type">int</span> age)</span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><ol>
<li>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†™ä¸€ä¸ªæµ‹è¯•æ–¹æ³•ï¼Œæ¥æµ‹è¯•è·å–ç±»ä¸­æ‰€æœ‰çš„æ„é€ å™¨</li>
</ol>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test2Constructor</span>()&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testGetConstructors</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//1ã€åå°„ç¬¬ä¸€æ­¥ï¼šå¿…é¡»å…ˆå¾—åˆ°è¿™ä¸ªç±»çš„Classå¯¹è±¡</span></span><br><span class="line">        <span class="type">Class</span> <span class="variable">c</span> <span class="operator">=</span> Cat.class;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2ã€è·å–ç±»çš„å…¨éƒ¨æ„é€ å™¨</span></span><br><span class="line">        Constructor[] constructors = c.getDeclaredConstructors();</span><br><span class="line">        <span class="comment">//3ã€éå†æ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªæ„é€ å™¨å¯¹è±¡ã€‚</span></span><br><span class="line">        <span class="keyword">for</span>(Constructor constructor: constructors)&#123;</span><br><span class="line">            System.out.println(constructor.getName()+<span class="string">&quot;---&gt; å‚æ•°ä¸ªæ•°ï¼š&quot;</span>+constructor.getParameterCount());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œæµ‹è¯•æ–¹æ³•æ‰“å°ç»“æœå¦‚ä¸‹</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh158.png"></p>
<ul>
<li><ol start="2">
<li>åˆšæ‰æ¼”ç¤ºçš„æ˜¯è·å–Catç±»ä¸­æ‰€æœ‰çš„æ„é€ å™¨ï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¼”ç¤ºå•ä¸ªæ„é€ å™¨è¯•ä¸€è¯•</li>
</ol>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test2Constructor</span>()&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testGetConstructor</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//1ã€åå°„ç¬¬ä¸€æ­¥ï¼šå¿…é¡»å…ˆå¾—åˆ°è¿™ä¸ªç±»çš„Classå¯¹è±¡</span></span><br><span class="line">        <span class="type">Class</span> <span class="variable">c</span> <span class="operator">=</span> Cat.class;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2ã€è·å–ç±»publicä¿®é¥°çš„ç©ºå‚æ•°æ„é€ å™¨</span></span><br><span class="line">        <span class="type">Constructor</span> <span class="variable">constructor1</span> <span class="operator">=</span> c.getConstructor();</span><br><span class="line">        System.out.println(constructor1.getName()+<span class="string">&quot;---&gt; å‚æ•°ä¸ªæ•°ï¼š&quot;</span>+constructor1.getParameterCount());</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3ã€è·å–privateä¿®é¥°çš„æœ‰ä¸¤ä¸ªå‚æ•°çš„æ„é€ å™¨ï¼Œç¬¬ä¸€ä¸ªå‚æ•°Stringç±»å‹ï¼Œç¬¬äºŒä¸ªå‚æ•°intç±»å‹</span></span><br><span class="line">        <span class="type">Constructor</span> <span class="variable">constructor2</span> <span class="operator">=</span> </span><br><span class="line">            c.getDeclaredConstructor(String.class,<span class="type">int</span>.class);</span><br><span class="line">        </span><br><span class="line">        System.out.println(constructor2.getName()+<span class="string">&quot;---&gt; å‚æ•°ä¸ªæ•°ï¼š&quot;</span>+constructor1.getParameterCount());</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ‰“å°ç»“æœå¦‚ä¸‹</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh159.png"></p>
<h3 id="åå°„è·å–æ„é€ å™¨çš„ä½œç”¨"><a href="#åå°„è·å–æ„é€ å™¨çš„ä½œç”¨" class="headerlink" title="åå°„è·å–æ„é€ å™¨çš„ä½œç”¨"></a>åå°„è·å–æ„é€ å™¨çš„ä½œç”¨</h3><p>åŒå­¦ä»¬ï¼Œåˆšæ‰ä¸Šä¸€èŠ‚æˆ‘ä»¬å·²ç»è·å–åˆ°äº†Catç±»ä¸­çš„æ„é€ å™¨ã€‚è·å–åˆ°æ„é€ å™¨åï¼Œæœ‰ä»€ä¹ˆä½œç”¨å‘¢ï¼Ÿ</p>
<p>å…¶å®æ„é€ å™¨çš„ä½œç”¨ï¼š<strong>åˆå§‹åŒ–å¯¹è±¡å¹¶è¿”å›</strong>ã€‚</p>
<p>è¿™é‡Œæˆ‘ä»¬éœ€è¦ç”¨åˆ°å¦‚ä¸‹çš„ä¸¤ä¸ªæ–¹æ³•ï¼Œæ³¨æ„ï¼šè¿™ä¸¤ä¸ªæ–¹æ³•æ—¶å±äºConstructorçš„ï¼Œéœ€è¦ç”¨Constructorå¯¹è±¡æ¥è°ƒç”¨ã€‚ </p>
<p>constructoræä¾›çš„æ–¹æ³•                     è¯´æ˜<br>T RewInstance(object. . . initargs)<br>è°ƒç”¨æ­¤æ„é€ å™¨å¯¹è±¡è¡¨ç¤ºçš„æ„é€ å™¨ï¼Œå¹¶ä¼ å…¥å‚æ•°ï¼Œå®Œæˆå¯¹è±¡çš„åˆå§‹åŒ–å¹¶è¿”å›<br>public void setAccessible(boolean flag)<br>è®¾ç½®ä¸ºtrueï¼Œè¡¨ç¤ºç¦æ­¢æ£€æŸ¥è®¿é—®æ§åˆ¶(æš´åŠ›åå°„)</p>
<p>å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œconstructor1å’Œconstructor2åˆ†åˆ«è¡¨ç¤ºCatç±»ä¸­çš„ä¸¤ä¸ªæ„é€ å™¨ã€‚ç°åœ¨æˆ‘è¦æŠŠè¿™ä¸¤ä¸ªæ„é€ å™¨æ‰§è¡Œèµ·æ¥</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh160.png"></p>
<p>ç”±äºæ„é€ å™¨æ˜¯privateä¿®é¥°çš„ï¼Œå…ˆéœ€è¦è°ƒç”¨<code>setAccessible(true)</code> è¡¨ç¤ºç¦æ­¢æ£€æŸ¥è®¿é—®æ§åˆ¶ï¼Œç„¶åå†è°ƒç”¨<code>newInstance(å®å‚åˆ—è¡¨)</code> å°±å¯ä»¥æ‰§è¡Œæ„é€ å™¨ï¼Œå®Œæˆå¯¹è±¡çš„åˆå§‹åŒ–äº†ã€‚</p>
<p>ä»£ç å¦‚ä¸‹ï¼šä¸ºäº†çœ‹åˆ°æ„é€ å™¨çœŸçš„æ‰§è¡Œï¼Œ æ•…æ„åœ¨ä¸¤ä¸ªæ„é€ å™¨ä¸­åˆ†åˆ«åŠ äº†ä¸¤ä¸ªæ‰“å°è¯­å¥</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh161.png"></p>
<p>ä»£ç çš„æ‰§è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh162.png"></p>
<h3 id="åå°„è·å–æˆå‘˜å˜é‡-ä½¿ç”¨"><a href="#åå°„è·å–æˆå‘˜å˜é‡-ä½¿ç”¨" class="headerlink" title="åå°„è·å–æˆå‘˜å˜é‡&amp;ä½¿ç”¨"></a>åå°„è·å–æˆå‘˜å˜é‡&amp;ä½¿ç”¨</h3><p>åŒå­¦ä»¬ï¼Œä¸Šä¸€èŠ‚æˆ‘ä»¬å·²ç»å­¦ä¹ äº†è·å–ç±»çš„æ„é€ æ–¹æ³•å¹¶ä½¿ç”¨ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†å­¦ä¹ è·å–ç±»çš„æˆå‘˜å˜é‡ï¼Œå¹¶ä½¿ç”¨ã€‚</p>
<p>å…¶å®å¥—è·¯æ˜¯ä¸€æ ·çš„ï¼Œåœ¨Classç±»ä¸­æä¾›äº†è·å–æˆå‘˜å˜é‡çš„æ–¹æ³•ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>
<p>æ–¹æ³•                                       è¯´æ˜<br>public Field[] getFields()                 è·å–ç±»çš„å…¨éƒ¨æˆå‘˜å˜é‡(åªèƒ½è·å–publicä¿®é¥°çš„)<br>public Field[] getDeclaredFields()         è·å–ç±»çš„å…¨éƒ¨æˆå‘˜å˜é‡(åªè¦å­˜åœ¨å°±èƒ½æ‹¿åˆ°)<br>public Field getField(string name)         è·å–ç±»çš„æŸä¸ªæˆå‘˜å˜é‡(åªèƒ½è·å–publicä¿®é¥°çš„)<br>public Field getDeclaredField(string name) è·å–ç±»çš„æŸä¸ªæˆå‘˜å˜é‡(åªè¦å­˜åœ¨å°±èƒ½æ‹¿åˆ°)</p>
<p>è¿™äº›æ–¹æ³•çš„è®°å¿†è§„åˆ™ï¼Œå¦‚ä¸‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">get:è·å–</span><br><span class="line">Declared: æœ‰è¿™ä¸ªå•è¯è¡¨ç¤ºå¯ä»¥è·å–ä»»æ„ä¸€ä¸ªï¼Œæ²¡æœ‰è¿™ä¸ªå•è¯è¡¨ç¤ºåªèƒ½è·å–ä¸€ä¸ª<span class="keyword">public</span>ä¿®é¥°çš„</span><br><span class="line">Field: æˆå‘˜å˜é‡çš„æ„æ€</span><br><span class="line">åç¼€s: è¡¨ç¤ºå¯ä»¥è·å–å¤šä¸ªï¼Œæ²¡æœ‰åç¼€såªèƒ½è·å–ä¸€ä¸ª</span><br></pre></td></tr></table></figure>

<ul>
<li>å‡è®¾æœ‰ä¸€ä¸ªCatç±»å®ƒæœ‰è‹¥å¹²ä¸ªæˆå‘˜å˜é‡ï¼Œç”¨Classç±»æä¾› çš„æ–¹æ³•å°†æˆå‘˜å˜é‡çš„å¯¹è±¡è·å–å‡ºæ¥ã€‚</li>
</ul>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh163.png"></p>
<p>æ‰§è¡Œå®Œä¸Šé¢çš„ä»£ç ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°æ§åˆ¶å°ä¸Šæ‰“å°è¾“å‡ºäº†ï¼Œæ¯ä¸€ä¸ªæˆå‘˜å˜é‡çš„åç§°å’Œå®ƒçš„ç±»å‹ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh164.png"></p>
<ul>
<li>è·å–åˆ°æˆå‘˜å˜é‡çš„å¯¹è±¡ä¹‹åè¯¥å¦‚ä½•ä½¿ç”¨å‘¢ï¼Ÿ</li>
</ul>
<p>åœ¨Filedç±»ä¸­æä¾›ç»™ç»™æˆå‘˜å˜é‡èµ‹å€¼å’Œè·å–å€¼çš„æ–¹æ³•ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>
<p>æ–¹æ³•                                    è¯´æ˜<br>void set(object obj, object value) :    èµ‹å€¼<br>object get(object obj)                  å–å€¼<br>public void setAccessible(boolean flag) è®¾ç½®ä¸ºtrueï¼Œè¡¨ç¤ºç¦æ­¢æ£€æŸ¥è®¿é—®æ§åˆ¶(æš´åŠ›åå°„)</p>
<p>å†æ¬¡å¼ºè°ƒä¸€ä¸‹è®¾ç½®å€¼ã€è·å–å€¼çš„æ–¹æ³•æ—¶Filedç±»çš„éœ€è¦ç”¨Filedç±»çš„å¯¹è±¡æ¥è°ƒç”¨ï¼Œè€Œä¸”ä¸ç®¡æ˜¯è®¾ç½®å€¼ã€è¿˜æ˜¯è·å–å€¼ï¼Œéƒ½éœ€è¦ä¾èµ–äºè¯¥å˜é‡æ‰€å±çš„å¯¹è±¡ã€‚ä»£ç å¦‚ä¸‹</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh165.png"></p>
<p>æ‰§è¡Œä»£ç ï¼Œæ§åˆ¶å°ä¼šæœ‰å¦‚ä¸‹çš„æ‰“å°</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh166.png"></p>
<h3 id="åå°„è·å–æˆå‘˜æ–¹æ³•"><a href="#åå°„è·å–æˆå‘˜æ–¹æ³•" class="headerlink" title="åå°„è·å–æˆå‘˜æ–¹æ³•"></a>åå°„è·å–æˆå‘˜æ–¹æ³•</h3><p>å„ä½åŒå­¦ï¼Œä¸Šé¢å‡ èŠ‚æˆ‘ä»¬å·²ç»å­¦ä¹ äº†åå°„è·å–æ„é€ æ–¹æ³•ã€åå°„è·å–æˆå‘˜å˜é‡ï¼Œè¿˜å‰©ä¸‹æœ€åä¸€ä¸ªå°±æ˜¯åå°„è·å–æˆå‘˜æ–¹æ³•å¹¶ä½¿ç”¨äº†ã€‚</p>
<p>åœ¨Javaä¸­åå°„åŒ…ä¸­ï¼Œæ¯ä¸€ä¸ªæˆå‘˜æ–¹æ³•ç”¨Methodå¯¹è±¡æ¥è¡¨ç¤ºï¼Œé€šè¿‡Classç±»æä¾›çš„æ–¹æ³•å¯ä»¥è·å–ç±»ä¸­çš„æˆå‘˜æ–¹æ³•å¯¹è±¡ã€‚å¦‚ä¸‹ä¸‹å›¾æ‰€ç¤º</p>
<p>æ–¹æ³•                     è¯´æ˜<br>Method[] getMethods()<br>è·å–ç±»çš„å…¨éƒ¨æˆå‘˜æ–¹æ³•(åªèƒ½è·å–publicä¿®é¥°çš„)<br>Method[] getDeclaredMethods()<br>è·å–ç±»çš„å…¨éƒ¨æˆå‘˜æ–¹æ³•(åªè¦å­˜åœ¨å°±èƒ½æ‹¿åˆ°)<br>Method getMethod( string name,class&lt;â€¦ parameterTypes)<br>è·å–ç±»çš„æŸä¸ªæˆå‘˜æ–¹æ³•(åªèƒ½è·å–publicä¿®é¥°çš„)<br>Method getDeclaredMethod(String nameï¼Œclass&lt;?&gt;â€¦ parameterTypes)<br>è·å–ç±»çš„æŸä¸ªæˆå‘˜æ–¹æ³•(åªè¦å­˜åœ¨å°±èƒ½æ‹¿åˆ°)</p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬è¿˜æ˜¯ç”¨ä»£ç æ¼”ç¤ºä¸€ä¸‹ï¼šå‡è®¾æœ‰ä¸€ä¸ªCatç±»ï¼Œåœ¨Catç±»ä¸­çº¢æœ‰è‹¥å¹²ä¸ªæˆå‘˜æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Cat</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Cat</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ç©ºå‚æ•°æ„é€ æ–¹æ³•æ‰§è¡Œäº†&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Cat</span><span class="params">(String name, <span class="type">int</span> age)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æœ‰å‚æ•°æ„é€ æ–¹æ³•æ‰§è¡Œäº†&quot;</span>);</span><br><span class="line">        <span class="built_in">this</span>.name=name;</span><br><span class="line">        <span class="built_in">this</span>.age=age;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;(&gt;^Ï‰^&lt;)å–µè·‘å¾—è´¼å¿«~~&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;(&gt;^Ï‰^&lt;)å–µçˆ±åƒçŒ«ç²®~&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">private</span> String <span class="title function_">eat</span><span class="params">(String name)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;(&gt;^Ï‰^&lt;)å–µçˆ±åƒ:&quot;</span>+name;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.name=name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.age=age;</span><br><span class="line">    &#125;</span><br><span class="line">     <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥ï¼Œé€šè¿‡åå°„è·å–Catç±»ä¸­æ‰€æœ‰çš„æˆå‘˜æ–¹æ³•ï¼Œæ¯ä¸€ä¸ªæˆå‘˜æ–¹æ³•éƒ½æ˜¯ä¸€ä¸ªMethodå¯¹è±¡</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test3Method</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="comment">//1ã€åå°„ç¬¬ä¸€æ­¥ï¼šå…ˆè·å–åˆ°Classå¯¹è±¡</span></span><br><span class="line">        <span class="type">Class</span> <span class="variable">c</span> <span class="operator">=</span> Cat.class;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2ã€è·å–ç±»ä¸­çš„å…¨éƒ¨æˆå‘˜æ–¹æ³•</span></span><br><span class="line">        Method[] methods = c.getDecalaredMethods();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3ã€éå†è¿™ä¸ªæ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªæ–¹æ³•å¯¹è±¡</span></span><br><span class="line">        <span class="keyword">for</span>(Method method : methods)&#123;</span><br><span class="line">            System.out.println(method.getName()+<span class="string">&quot;--&gt;&quot;</span>+method.getParameterCount()+<span class="string">&quot;--&gt;&quot;</span>+method.getReturnType());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œä¸Šé¢çš„ä»£ç ï¼Œè¿è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š<strong>æ‰“å°è¾“å‡ºæ¯ä¸€ä¸ªæˆå‘˜æ–¹æ³•çš„åç§°ã€å‚æ•°æ ¼å¼ã€è¿”å›å€¼ç±»å‹</strong></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh167.png"></p>
<p>ä¹Ÿèƒ½è·å–å•ä¸ªæŒ‡å®šçš„æˆå‘˜æ–¹æ³•ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh168.png"></p>
<hr>
<p><strong>è·å–åˆ°æˆå‘˜æ–¹æ³•ä¹‹åï¼Œæœ‰ä»€ä¹ˆä½œç”¨å‘¢ï¼Ÿ</strong></p>
<p>åœ¨Methodç±»ä¸­æä¾›äº†æ–¹æ³•ï¼Œå¯ä»¥å°†æ–¹æ³•è‡ªå·±æ‰§è¡Œèµ·æ¥ã€‚</p>
<p>Methodæä¾›çš„æ–¹æ³•                      è¯´æ˜<br>public object invoke(object obj, object. . . args)<br>è§¦å‘æŸä¸ªå¯¹è±¡çš„è¯¥æ–¹æ³•æ‰§è¡Œã€‚<br>7:-..idetccessible(boolean flag)<br>è®¾ç½®ä¸ºtrueï¼Œè¡¨ç¤ºç¦æ­¢æ£€æŸ¥è®¿é—®æ§åˆ¶(æš´åŠ›åå°„)</p>
<p>ä¸‹é¢æˆ‘ä»¬æ¼”ç¤ºä¸€ä¸‹ï¼ŒæŠŠ<code>run()</code>æ–¹æ³•å’Œ<code>eat(String name)</code>æ–¹æ³•æ‰§è¡Œèµ·æ¥ã€‚çœ‹åˆ†å‰²çº¿ä¹‹ä¸‹çš„ä»£ç </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test3Method</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="comment">//1ã€åå°„ç¬¬ä¸€æ­¥ï¼šå…ˆè·å–åˆ°Classå¯¹è±¡</span></span><br><span class="line">        <span class="type">Class</span> <span class="variable">c</span> <span class="operator">=</span> Cat.class;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2ã€è·å–ç±»ä¸­çš„å…¨éƒ¨æˆå‘˜æ–¹æ³•</span></span><br><span class="line">        Method[] methods = c.getDecalaredMethods();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//3ã€éå†è¿™ä¸ªæ•°ç»„ä¸­çš„æ¯ä¸€ä¸ªæ–¹æ³•å¯¹è±¡</span></span><br><span class="line">        <span class="keyword">for</span>(Method method : methods)&#123;</span><br><span class="line">            System.out.println(method.getName()+<span class="string">&quot;--&gt;&quot;</span>+method.getParameterCount()+<span class="string">&quot;--&gt;&quot;</span>+method.getReturnType());</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        System.out.println(<span class="string">&quot;-----------------------&quot;</span>);</span><br><span class="line">        <span class="comment">//4ã€è·å–privateä¿®é¥°çš„runæ–¹æ³•ï¼Œå¾—åˆ°Methodå¯¹è±¡</span></span><br><span class="line">        <span class="type">Method</span> <span class="variable">run</span> <span class="operator">=</span> c.getDecalaredMethod(<span class="string">&quot;run&quot;</span>);</span><br><span class="line">        <span class="comment">//æ‰§è¡Œrunæ–¹æ³•,åœ¨æ‰§è¡Œå‰éœ€è¦å–æ¶ˆæƒé™æ£€æŸ¥</span></span><br><span class="line">        <span class="type">Cat</span> <span class="variable">cat</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cat</span>();</span><br><span class="line">        run.setAccessible(<span class="literal">true</span>);</span><br><span class="line">        <span class="type">Object</span> <span class="variable">rs1</span> <span class="operator">=</span> run.invoke(cat);</span><br><span class="line">        System.out.println(rs1)</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//5ã€è·å–private ä¿®é¥°çš„eat(String name)æ–¹æ³•ï¼Œå¾—åˆ°Methodå¯¹è±¡</span></span><br><span class="line">        <span class="type">Method</span> <span class="variable">eat</span> <span class="operator">=</span> c.getDeclaredMethod(<span class="string">&quot;eat&quot;</span>,String.class);</span><br><span class="line">        eat.setAccessible(<span class="literal">true</span>);</span><br><span class="line">        <span class="type">Object</span> <span class="variable">rs2</span> <span class="operator">=</span> eat.invoke(cat,<span class="string">&quot;é±¼å„¿&quot;</span>);</span><br><span class="line">        System.out.println(rs2)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ‰“å°ç»“æœå¦‚ä¸‹å›¾æ‰€ç¤ºï¼šrun()æ–¹æ³•æ‰§è¡Œåæ‰“å°<code>çŒ«è·‘å¾—è´¼å¿«~~</code>ï¼Œè¿”å›<code>null</code>ï¼› eat()æ–¹æ³•æ‰§è¡Œå®Œï¼Œç›´æ¥è¿”å›<code>çŒ«æœ€çˆ±åƒ:é±¼å„¿</code></p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh169.png"></p>
<h3 id="åå°„çš„åº”ç”¨"><a href="#åå°„çš„åº”ç”¨" class="headerlink" title="åå°„çš„åº”ç”¨"></a>åå°„çš„åº”ç”¨</h3><p>æŒ‰ç…§å‰é¢æˆ‘ä»¬å­¦ä¹ åå°„çš„å¥—è·¯ï¼Œæˆ‘ä»¬å·²ç»å……åˆ†è®¤è¯†äº†ä»€ä¹ˆæ˜¯åå°„ï¼Œä»¥åŠåå°„çš„æ ¸å¿ƒä½œç”¨æ˜¯ç”¨æ¥è·å–ç±»çš„å„ä¸ªç»„æˆéƒ¨åˆ†å¹¶æ‰§è¡Œä»–ä»¬ã€‚ä½†æ˜¯ç”±äºåŒå­¦ä»¬çš„ç»éªŒæœ‰é™ï¼Œå¯¹äºåå°„çš„å…·ä½“åº”ç”¨åœºæ™¯è¿˜æ˜¯å¾ˆéš¾æ„Ÿå—åˆ°çš„ï¼ˆè¿™ä¸ªç›®å‰æ²¡æœ‰å¤ªå¥½çš„åŠæ³•ï¼Œåªèƒ½æ…¢æ…¢ç§¯ç´¯ï¼Œç­‰ç»éªŒç§¯ç´¯åˆ°ä¸€å®šç¨‹åº¦ï¼Œå°±ä¼šè±ç„¶å¼€æœ—äº†ï¼‰ã€‚</p>
<p>æˆ‘ä»¬ä¸€ç›´è¯´åå°„ä½¿ç”¨æ¥å†™æ¡†æ¶çš„ï¼Œæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±å†™ä¸€ä¸ªç®€æ˜“çš„æ¡†æ¶ï¼Œç®€å•çª¥æ¢ä¸€ä¸‹åå°„çš„åº”ç”¨ã€‚åå°„å…¶å®æ˜¯éå¸¸å¼ºå¤§çš„ï¼Œè¿™ä¸ªæ¡ˆä¾‹ä¹Ÿä»…ä»…å€¼å°è¯•ç‰›åˆ€ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh170.png"></p>
<p>éœ€æ±‚æ˜¯è®©æˆ‘ä»¬å†™ä¸€ä¸ªæ¡†æ¶ï¼Œèƒ½å¤Ÿå°†ä»»æ„ä¸€ä¸ªå¯¹è±¡çš„å±æ€§åå’Œå±æ€§å€¼å†™åˆ°æ–‡ä»¶ä¸­å»ã€‚ä¸ç®¡è¿™ä¸ªå¯¹è±¡æœ‰å¤šå°‘ä¸ªå±æ€§ï¼Œä¹Ÿä¸ç®¡è¿™ä¸ªå¯¹è±¡çš„å±æ€§åæ˜¯å¦ç›¸åŒã€‚</p>
<p>åˆ†æä¸€ä¸‹è¯¥æ€ä¹ˆåš</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>å…ˆå†™å¥½ä¸¤ä¸ªç±»ï¼Œä¸€ä¸ªStudentç±»å’ŒTeacherç±»</span><br><span class="line"><span class="number">2.</span>å†™ä¸€ä¸ªObjectFrameç±»ä»£è¡¨æ¡†æœ¬æ¶</span><br><span class="line">	åœ¨ObjectFrameç±»ä¸­å®šä¹‰ä¸€ä¸ªsaveObject(Object obj)æ–¹æ³•ï¼Œç”¨äºå°†ä»»æ„å¯¹è±¡å­˜åˆ°æ–‡ä»¶ä¸­å»</span><br><span class="line">	å‚æ•°ï¼šObject obj: å°±è¡¨ç¤ºè¦å­˜å…¥æ–‡ä»¶ä¸­çš„å¯¹è±¡</span><br><span class="line">	</span><br><span class="line"><span class="number">3.</span>ç¼–å†™æ–¹æ³•å†…éƒ¨çš„ä»£ç ï¼Œå¾€æ–‡ä»¶ä¸­å­˜å‚¨å¯¹è±¡çš„å±æ€§åå’Œå±æ€§å€¼</span><br><span class="line">	<span class="number">1</span>)å‚æ•°objå¯¹è±¡ä¸­æœ‰å“ªäº›å±æ€§ï¼Œå±æ€§åæ˜¯ä»€ä¹ˆå®ç°å€¼æ˜¯ä»€ä¹ˆï¼Œä¸­æœ‰å¯¹è±¡è‡ªå·±æœ€æ¸…æ¥šã€‚</span><br><span class="line">	<span class="number">2</span>)æ¥ç€å°±é€šè¿‡åå°„è·å–ç±»çš„æˆå‘˜å˜é‡ä¿¡æ¯äº†ï¼ˆå˜é‡åã€å˜é‡å€¼ï¼‰</span><br><span class="line">	<span class="number">3</span>)æŠŠå˜é‡åå’Œå˜é‡å€¼å†™åˆ°æ–‡ä»¶ä¸­å»</span><br></pre></td></tr></table></figure>

<p>å†™ä¸€ä¸ªObjectFrameè¡¨ç¤ºè‡ªå·±è®¾è®¡çš„æ¡†æ¶ï¼Œä»£ç å¦‚ä¸‹å›¾æ‰€ç¤º</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ObjectFrame</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">saveObject</span><span class="params">(Object obj)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="type">PrintStream</span> <span class="variable">ps</span> <span class="operator">=</span> </span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">PrintStream</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;æ¨¡å—å\\src\\data.txt&quot;</span>,<span class="literal">true</span>));</span><br><span class="line">        <span class="comment">//1)å‚æ•°objå¯¹è±¡ä¸­æœ‰å“ªäº›å±æ€§ï¼Œå±æ€§åæ˜¯ä»€ä¹ˆå®ç°å€¼æ˜¯ä»€ä¹ˆï¼Œä¸­æœ‰å¯¹è±¡è‡ªå·±æœ€æ¸…æ¥šã€‚</span></span><br><span class="line">		<span class="comment">//2)æ¥ç€å°±é€šè¿‡åå°„è·å–ç±»çš„æˆå‘˜å˜é‡ä¿¡æ¯äº†ï¼ˆå˜é‡åã€å˜é‡å€¼ï¼‰</span></span><br><span class="line">        <span class="type">Class</span> <span class="variable">c</span> <span class="operator">=</span> obj.getClass(); <span class="comment">//è·å–å­—èŠ‚ç </span></span><br><span class="line">        ps.println(<span class="string">&quot;---------&quot;</span>+class.getSimpleName()+<span class="string">&quot;---------&quot;</span>);</span><br><span class="line">        </span><br><span class="line">        Field[] fields = c.getDeclaredFields(); <span class="comment">//è·å–æ‰€æœ‰æˆå‘˜å˜é‡</span></span><br><span class="line">		<span class="comment">//3)æŠŠå˜é‡åå’Œå˜é‡å€¼å†™åˆ°æ–‡ä»¶ä¸­å»</span></span><br><span class="line">        <span class="keyword">for</span>(Field field : fields)&#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> field.getName();</span><br><span class="line">            <span class="type">Object</span> <span class="variable">value</span> <span class="operator">=</span> field.get(obj)+<span class="string">&quot;&quot;</span>;</span><br><span class="line">            ps.println(name);</span><br><span class="line">        &#125;</span><br><span class="line">        ps.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨è‡ªå·±è®¾è®¡çš„æ¡†æ¶ï¼Œå¾€æ–‡ä»¶ä¸­å†™å…¥Studentå¯¹è±¡çš„ä¿¡æ¯å’ŒTeacherå¯¹è±¡çš„ä¿¡æ¯ã€‚</p>
<p>å…ˆå‡†å¤‡å¥½Studentç±»å’ŒTeacherç±»</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">char</span> sex;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> height;</span><br><span class="line">    <span class="keyword">private</span> String hobby;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Teacher</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> salary;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åˆ›å»ºä¸€ä¸ªæµ‹è¯•ç±»ï¼Œåœ¨æµ‹è¯•ä¸­ç±»åˆ›å»ºä¸€ä¸ªStudentå¯¹è±¡ï¼Œåˆ›å»ºä¸€ä¸ªTeacherå¯¹è±¡ï¼Œç”¨ObjectFrameçš„æ–¹æ³•æŠŠè¿™ä¸¤ä¸ªå¯¹è±¡æ‰€æœ‰çš„å±æ€§åå’Œå±æ€§å€¼å†™åˆ°æ–‡ä»¶ä¸­å»ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test5Frame</span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">()</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="type">Student</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;é»‘é©¬å´å½¦ç¥–&quot;</span>,<span class="number">45</span>, <span class="string">&#x27;ç”·&#x27;</span>, <span class="number">185.3</span>, <span class="string">&quot;ç¯®çƒï¼Œå†°çƒï¼Œé˜…è¯»&quot;</span>);</span><br><span class="line">        <span class="type">Teacher</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Teacher</span>(<span class="string">&quot;æ’­å¦&quot;</span>,<span class="number">999.9</span>);</span><br><span class="line">        </span><br><span class="line">        ObjectFrame.save(s1);</span><br><span class="line">        ObjectFrame.save(s2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ‰“å¼€data.txtæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå°±è¯´æ˜æˆ‘ä»¬è¿™ä¸ªæ¡†æ¶çš„åŠŸèƒ½å·²ç»å®ç°äº†</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh171.png"></p>
<p>å¥½äº†ï¼ŒåŒå­¦ä»¬ï¼Œæ­å–œå¤§å®¶ï¼å­¦ä¹ åˆ°è¿™é‡Œï¼Œåå°„æŠ€æœ¯å·²ç»å­¦ä¹ å®Œæ¯•äº†ã€‚</p>
<hr>
<h2 id="æ³¨è§£"><a href="#æ³¨è§£" class="headerlink" title="æ³¨è§£"></a>æ³¨è§£</h2><h3 id="è®¤è¯†æ³¨è§£-å®šä¹‰æ³¨è§£"><a href="#è®¤è¯†æ³¨è§£-å®šä¹‰æ³¨è§£" class="headerlink" title="è®¤è¯†æ³¨è§£&amp;å®šä¹‰æ³¨è§£"></a>è®¤è¯†æ³¨è§£&amp;å®šä¹‰æ³¨è§£</h3><p>æ¥ä¸‹æ¥æˆ‘ä»¬å­¦ä¹ æ³¨è§£ã€‚æ³¨è§£å’Œåå°„ä¸€æ ·ï¼Œéƒ½æ˜¯ç”¨æ¥åšæ¡†æ¶çš„ï¼Œæˆ‘ä»¬è¿™é‡Œå­¦ä¹ æ³¨è§£çš„ç›®çš„å…¶å®æ˜¯ä¸ºäº†ä»¥åå­¦ä¹ æ¡†æ¶æˆ–è€…åšæ¡†æ¶åšé“ºå«çš„ã€‚</p>
<p>é‚£æ³¨è§£è¯¥æ€ä¹ˆå­¦å‘¢ï¼Ÿå’Œåå°„çš„å­¦ä¹ å¥—è·¯ä¸€æ ·ï¼Œæˆ‘ä»¬å…ˆå……åˆ†çš„è®¤è¯†æ³¨è§£ï¼ŒæŒæ¡æ³¨è§£çš„å®šä¹‰å’Œä½¿ç”¨æ ¼å¼ï¼Œç„¶åå†å­¦ä¹ å®ƒçš„åº”ç”¨åœºæ™¯ã€‚</p>
<blockquote>
<p><strong>å…ˆæ¥è®¤è¯†ä¸€ä¸‹ä»€ä¹ˆæ˜¯æ³¨è§£ï¼Ÿ</strong></p>
</blockquote>
<p><strong>Javaæ³¨è§£æ˜¯ä»£ç ä¸­çš„ç‰¹æ®Šæ ‡è®°ï¼Œæ¯”å¦‚@Overrideã€@Testç­‰ï¼Œä½œç”¨æ˜¯ï¼šè®©å…¶ä»–ç¨‹åºæ ¹æ®æ³¨è§£ä¿¡æ¯å†³å®šæ€ä¹ˆæ‰§è¡Œè¯¥ç¨‹åºã€‚</strong></p>
<p>æ¯”å¦‚ï¼šJunitæ¡†æ¶çš„@Testæ³¨è§£å¯ä»¥ç”¨åœ¨æ–¹æ³•ä¸Šï¼Œç”¨æ¥æ ‡è®°è¿™ä¸ªæ–¹æ³•æ˜¯æµ‹è¯•æ–¹æ³•ï¼Œè¢«@Testæ ‡è®°çš„æ–¹æ³•èƒ½å¤Ÿè¢«Junitæ¡†æ¶æ‰§è¡Œã€‚</p>
<p>å†æ¯”å¦‚ï¼š@Overrideæ³¨è§£å¯ä»¥ç”¨åœ¨æ–¹æ³•ä¸Šï¼Œç”¨æ¥æ ‡è®°è¿™ä¸ªæ–¹æ³•æ˜¯é‡å†™æ–¹æ³•ï¼Œè¢«@Overrideæ³¨è§£æ ‡è®°çš„æ–¹æ³•èƒ½å¤Ÿè¢«IDEAè¯†åˆ«è¿›è¡Œè¯­æ³•æ£€æŸ¥ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh172.png"></p>
<ul>
<li><strong>æ³¨è§£ä¸å…‰å¯ä»¥ç”¨åœ¨æ–¹æ³•ä¸Šï¼Œè¿˜å¯ä»¥ç”¨åœ¨ç±»ä¸Šã€å˜é‡ä¸Šã€æ„é€ å™¨ä¸Šç­‰ä½ç½®ã€‚</strong></li>
</ul>
<p>ä¸Šé¢æˆ‘ä»¬è¯´çš„@Testæ³¨è§£ã€@Overideæ³¨è§£æ˜¯åˆ«äººå®šä¹‰å¥½ç»™æˆ‘ä»¬ç”¨çš„ï¼Œå°†æ¥å¦‚æœéœ€è¦è‡ªå·±å»å¼€å‘æ¡†æ¶ï¼Œå°±éœ€è¦æˆ‘ä»¬è‡ªå·±å®šä¹‰æ³¨è§£ã€‚</p>
<blockquote>
<p><strong>æ¥ç€æˆ‘ä»¬å­¦ä¹ è‡ªå®šä¹‰æ³¨è§£</strong></p>
</blockquote>
<p>è‡ªå®šä¹‰æ³¨è§£çš„æ ¼å¼å¦‚ä¸‹å›¾æ‰€ç¤º</p>
<p>public @interface æ³¨è§£åç§°{<br>public å±æ€§ç±»å‹å±æ€§å() defaulté»˜è®¤å€¼;<br>}</p>
<p>æ¯”å¦‚ï¼šç°åœ¨æˆ‘ä»¬è‡ªå®šä¹‰ä¸€ä¸ªMyTestæ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> MyTest&#123;</span><br><span class="line">    String <span class="title function_">aaa</span><span class="params">()</span>;</span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">bbb</span><span class="params">()</span> <span class="keyword">default</span> <span class="literal">true</span>;	<span class="comment">//default true è¡¨ç¤ºé»˜è®¤å€¼ä¸ºtrue,ä½¿ç”¨æ—¶å¯ä»¥ä¸èµ‹å€¼ã€‚</span></span><br><span class="line">    String[] ccc();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å®šä¹‰å¥½MyTestæ³¨è§£ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨MyTestæ³¨è§£åœ¨ç±»ä¸Šã€æ–¹æ³•ä¸Šç­‰ä½ç½®åšæ ‡è®°ã€‚æ³¨æ„ä½¿ç”¨æ³¨è§£æ—¶éœ€è¦åŠ @ç¬¦å·ï¼Œå¦‚ä¸‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@MyTest1(aaa=&quot;ç‰›é­”ç‹&quot;,ccc=&#123;&quot;HTML&quot;,&quot;Java&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AnnotationTest1</span>&#123;</span><br><span class="line">    <span class="meta">@MyTest(aaa=&quot;é“æ‰‡å…¬ä¸»&quot;,bbb=false, ccc=&#123;&quot;Python&quot;,&quot;å‰ç«¯&quot;,&quot;Java&quot;&#125;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ³¨æ„ï¼šæ³¨è§£çš„å±æ€§åå¦‚ä½•æ˜¯valueçš„è¯ï¼Œå¹¶ä¸”åªæœ‰valueæ²¡æœ‰é»˜è®¤å€¼ï¼Œä½¿ç”¨æ³¨è§£æ—¶valueåç§°å¯ä»¥çœç•¥ã€‚æ¯”å¦‚ç°åœ¨é‡æ–°å®šä¹‰ä¸€ä¸ªMyTest2æ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> MyTest2&#123;</span><br><span class="line">    String <span class="title function_">value</span><span class="params">()</span>; <span class="comment">//ç‰¹æ®Šå±æ€§</span></span><br><span class="line">    <span class="type">int</span> <span class="title function_">age</span><span class="params">()</span> <span class="keyword">default</span> <span class="number">10</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å®šä¹‰å¥½MyTest2æ³¨è§£åï¼Œå†å°†@MyTest2æ ‡è®°åœ¨ç±»ä¸Šï¼Œæ­¤æ—¶valueå±æ€§åå¯ä»¥çœç•¥ï¼Œä»£ç å¦‚ä¸‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@MyTest2(&quot;å­™æ‚Ÿç©º&quot;)</span> <span class="comment">//ç­‰ä»·äº @MyTest2(value=&quot;å­™æ‚Ÿç©º&quot;)</span></span><br><span class="line"><span class="meta">@MyTest1(aaa=&quot;ç‰›é­”ç‹&quot;,ccc=&#123;&quot;HTML&quot;,&quot;Java&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AnnotationTest1</span>&#123;</span><br><span class="line">    <span class="meta">@MyTest(aaa=&quot;é“æ‰‡å…¬ä¸»&quot;,bbb=false, ccc=&#123;&quot;Python&quot;,&quot;å‰ç«¯&quot;,&quot;Java&quot;&#125;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åˆ°è¿™é‡Œå…³äºå®šä¹‰æ³¨è§£çš„æ ¼å¼ã€ä»¥åŠä½¿ç”¨æ³¨è§£çš„æ ¼å¼å°±å­¦ä¹ å®Œäº†ã€‚</p>
<blockquote>
<p><strong>æ³¨è§£æœ¬è´¨æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</strong></p>
</blockquote>
<p>æƒ³è¦ææ¸…æ¥šæ³¨è§£æœ¬è´¨æ˜¯ä»€ä¹ˆä¸œè¥¿ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠæ³¨è§£çš„å­—èŠ‚ç è¿›è¡Œåç¼–è¯‘ï¼Œä½¿ç”¨XJadå·¥å…·è¿›è¡Œåç¼–è¯‘ã€‚ç»è¿‡å¯¹MyTest1æ³¨è§£å­—èŠ‚ç åç¼–è¯‘æˆ‘ä»¬ä¼šå‘ç°ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>MyTest1æ³¨è§£æœ¬è´¨ä¸Šæ˜¯æ¥å£ï¼Œæ¯ä¸€ä¸ªæ³¨è§£æ¥å£éƒ½ç»§æ‰¿å­Annotationæ¥å£</span><br><span class="line"><span class="number">2.</span>MyTest1æ³¨è§£ä¸­çš„å±æ€§æœ¬è´¨ä¸Šæ˜¯æŠ½è±¡æ–¹æ³•</span><br><span class="line"><span class="number">3.</span><span class="meta">@MyTest1</span>å®é™…ä¸Šæ˜¯ä½œä¸ºMyTestæ¥å£çš„å®ç°ç±»å¯¹è±¡</span><br><span class="line"><span class="number">4.</span><span class="meta">@MyTest1(aaa=&quot;å­™æ‚Ÿç©º&quot;,bbb=false,ccc=&#123;&quot;Python&quot;,&quot;å‰ç«¯&quot;,&quot;Java&quot;&#125;)</span>é‡Œé¢çš„å±æ€§å€¼ï¼Œå¯ä»¥é€šè¿‡è°ƒç”¨aaa()ã€bbb()ã€ccc()æ–¹æ³•è·å–åˆ°ã€‚ ã€åˆ«ç€æ€¥ï¼Œç»§ç»­å¾€ä¸‹çœ‹ï¼Œå†è§£ææ³¨è§£æ—¶ä¼šç”¨åˆ°ã€‘</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh173.png"></p>
<h3 id="å…ƒæ³¨è§£"><a href="#å…ƒæ³¨è§£" class="headerlink" title="å…ƒæ³¨è§£"></a>å…ƒæ³¨è§£</h3><p>å„ä½å°ä¼™ä¼´ï¼Œåˆšæ‰æˆ‘ä»¬å·²ç»è®¤è¯†äº†æ³¨è§£ä»¥åŠæ³¨è§£çš„åŸºæœ¬ä½¿ç”¨ã€‚æ¥ä¸‹æ¥æˆ‘ä»¬è¿˜éœ€è¦å­¦ä¹ å‡ ç§ç‰¹æ®Šçš„æ³¨è§£ï¼Œå«åšå…ƒæ³¨è§£ã€‚</p>
<blockquote>
<p><strong>ä»€ä¹ˆæ˜¯å…ƒæ³¨è§£ï¼Ÿ</strong></p>
</blockquote>
<p><strong>å…ƒæ³¨è§£æ˜¯ä¿®é¥°æ³¨è§£çš„æ³¨è§£</strong>ã€‚è¿™å¥è¯è™½ç„¶æœ‰ä¸€ç‚¹é¥¶ï¼Œä½†æ˜¯éå¸¸å‡†ç¡®ã€‚æˆ‘ä»¬çœ‹ä¸€ä¸ªä¾‹å­</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh174.png"></p>
<p>æ¥ä¸‹æ¥åˆ†åˆ«çœ‹ä¸€ä¸‹@Targetæ³¨è§£å’Œ@Retentionæ³¨è§£æœ‰ä»€ä¹ˆä½œç”¨ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target</span>æ˜¯ç”¨æ¥å£°æ˜æ³¨è§£åªèƒ½ç”¨åœ¨é‚£äº›ä½ç½®ï¼Œæ¯”å¦‚ï¼šç±»ä¸Šã€æ–¹æ³•ä¸Šã€æˆå‘˜å˜é‡ä¸Šç­‰</span><br><span class="line"><span class="meta">@Retetion</span>æ˜¯ç”¨æ¥å£°æ˜æ³¨è§£ä¿ç•™å‘¨æœŸï¼Œæ¯”å¦‚ï¼šæºä»£ç æ—¶æœŸã€å­—èŠ‚ç æ—¶æœŸã€è¿è¡Œæ—¶æœŸ</span><br></pre></td></tr></table></figure>

<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh175.png"></p>
<ul>
<li>@Targetå…ƒæ³¨è§£çš„ä½¿ç”¨ï¼šæ¯”å¦‚å®šä¹‰ä¸€ä¸ªMyTest3æ³¨è§£ï¼Œå¹¶æ·»åŠ @Targetæ³¨è§£ç”¨æ¥å£°æ˜MyTest3çš„ä½¿ç”¨ä½ç½®</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(ElementType.TYPE)</span>	<span class="comment">//å£°æ˜@MyTest3æ³¨è§£åªèƒ½ç”¨åœ¨ç±»ä¸Š</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> MyTest3&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æŠŠ@MyTest3ç”¨æ¥ç±»ä¸Šè§‚å¯Ÿæ˜¯å¦æœ‰é”™ï¼Œå†æŠŠ@MyTest3ç”¨åœ¨æ–¹æ³•ä¸Šã€å˜é‡ä¸Šå†è§‚å¯Ÿæ˜¯å¦æœ‰é”™</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh176.png"></p>
<p>å¦‚æœæˆ‘ä»¬å®šä¹‰MyTest3æ³¨è§£æ—¶ï¼Œä½¿ç”¨@Targetæ³¨è§£å±æ€§å€¼å†™æˆä¸‹é¢æ ·å­</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å£°æ˜@MyTest3æ³¨è§£åªèƒ½ç”¨åœ¨ç±»ä¸Šå’Œæ–¹æ³•ä¸Š</span></span><br><span class="line"><span class="meta">@Target(&#123;ElementType.TYPE,ElementType.METHOD&#125;)</span>	</span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> MyTest3&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ­¤æ—¶å†è§‚å¯Ÿï¼Œ@MyTestç”¨åœ¨ç±»ä¸Šã€æ–¹æ³•ä¸Šã€å˜é‡ä¸Šæ˜¯å¦æœ‰é”™</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh177.png"></p>
<p>åˆ°è¿™é‡Œ@Targetå…ƒæ³¨è§£çš„ä½¿ç”¨å°±æ¼”ç¤ºå®Œæ¯•äº†ã€‚</p>
<ul>
<li>@Retetionå…ƒæ³¨è§£çš„ä½¿ç”¨ï¼šå®šä¹‰MyTest3æ³¨è§£æ—¶ï¼Œç»™MyTest3æ³¨è§£æ·»åŠ @Retetionæ³¨è§£æ¥å£°æ˜MyTest3æ³¨è§£ä¿ç•™çš„æ—¶æœŸ</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Retetion</span>æ˜¯ç”¨æ¥å£°æ˜æ³¨è§£ä¿ç•™å‘¨æœŸï¼Œæ¯”å¦‚ï¼šæºä»£ç æ—¶æœŸã€å­—èŠ‚ç æ—¶æœŸã€è¿è¡Œæ—¶æœŸ</span><br><span class="line">	<span class="meta">@Retetion(RetetionPloicy.SOURCE)</span>: æ³¨è§£ä¿ç•™åˆ°æºä»£ç æ—¶æœŸã€å­—èŠ‚ç ä¸­å°±æ²¡æœ‰äº†</span><br><span class="line">	<span class="meta">@Retetion(RetetionPloicy.CLASS)</span>: æ³¨è§£ä¿ç•™åˆ°å­—èŠ‚ç ä¸­ã€è¿è¡Œæ—¶æ³¨è§£å°±æ²¡æœ‰äº†</span><br><span class="line">	<span class="meta">@Retetion(RetetionPloicy.RUNTIME)</span>ï¼šæ³¨è§£ä¿ç•™åˆ°è¿è¡Œæ—¶æœŸ</span><br><span class="line">	ã€è‡ªå·±å†™ä»£ç æ—¶ï¼Œæ¯”è¾ƒå¸¸ç”¨çš„æ˜¯ä¿ç•™åˆ°è¿è¡Œæ—¶æœŸã€‘</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å£°æ˜@MyTest3æ³¨è§£åªèƒ½ç”¨åœ¨ç±»ä¸Šå’Œæ–¹æ³•ä¸Š</span></span><br><span class="line"><span class="meta">@Target(&#123;ElementType.TYPE,ElementType.METHOD&#125;)</span>	</span><br><span class="line"><span class="comment">//æ§åˆ¶ä½¿ç”¨äº†@MyTest3æ³¨è§£çš„ä»£ç ä¸­ï¼Œ@MyTest3ä¿ç•™åˆ°è¿è¡Œæ—¶æœŸ</span></span><br><span class="line"><span class="meta">@Retetion(RetetionPloicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> MyTest3&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="è§£ææ³¨è§£"><a href="#è§£ææ³¨è§£" class="headerlink" title="è§£ææ³¨è§£"></a>è§£ææ³¨è§£</h3><p>å„ä½å°ä¼™ä¼´ï¼Œé€šè¿‡å‰é¢çš„å­¦ä¹ æˆ‘ä»¬èƒ½å¤Ÿè‡ªå·±å®šä¹‰æ³¨è§£ï¼Œä¹Ÿèƒ½å¤ŸæŠŠè‡ªå·±å®šä¹‰çš„æ³¨è§£æ ‡è®°åœ¨ç±»ä¸Šæˆ–è€…æ–¹æ³•ä¸Šç­‰ä½ç½®ï¼Œä½†æ˜¯æ€»æ„Ÿè§‰æœ‰ç‚¹åˆ«æ‰­ï¼Œç»™ç±»ã€æ–¹æ³•ã€å˜é‡ç­‰åŠ ä¸Šæ³¨è§£åï¼Œæˆ‘ä»¬ä¹Ÿæ²¡æœ‰å¹²ä»€ä¹ˆå‘€ï¼ï¼ï¼</p>
<p>æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å°±è¦åšç‚¹ä»€ä¹ˆã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡åå°„æŠ€æœ¯æŠŠç±»ä¸Šã€æ–¹æ³•ä¸Šã€å˜é‡ä¸Šçš„æ³¨è§£å¯¹è±¡è·å–å‡ºæ¥ï¼Œç„¶åé€šè¿‡è°ƒç”¨æ–¹æ³•å°±å¯ä»¥è·å–æ³¨è§£ä¸Šçš„å±æ€§å€¼äº†ã€‚<strong>æˆ‘ä»¬æŠŠè·å–ç±»ä¸Šã€æ–¹æ³•ä¸Šã€å˜é‡ä¸Šç­‰ä½ç½®æ³¨è§£åŠæ³¨è§£å±æ€§å€¼çš„è¿‡ç¨‹ç§°ä¸ºè§£ææ³¨è§£ã€‚</strong></p>
<p>è§£ææ³¨è§£å¥—è·¯å¦‚ä¸‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>å¦‚æœæ³¨è§£åœ¨ç±»ä¸Šï¼Œå…ˆè·å–ç±»çš„å­—èŠ‚ç å¯¹è±¡ï¼Œå†è·å–ç±»ä¸Šçš„æ³¨è§£</span><br><span class="line"><span class="number">2.</span>å¦‚æœæ³¨è§£åœ¨æ–¹æ³•ä¸Šï¼Œå…ˆè·å–æ–¹æ³•å¯¹è±¡ï¼Œå†è·å–æ–¹æ³•ä¸Šçš„æ³¨è§£</span><br><span class="line"><span class="number">3.</span>å¦‚æœæ³¨è§£åœ¨æˆå‘˜å˜é‡ä¸Šï¼Œå…ˆè·å–æˆå‘˜å˜é‡å¯¹è±¡ï¼Œå†è·å–å˜é‡ä¸Šçš„æ³¨è§£</span><br><span class="line">æ€»ä¹‹ï¼šæ³¨è§£åœ¨è°èº«ä¸Šï¼Œå°±å…ˆè·å–è°ï¼Œå†ç”¨è°è·å–è°èº«ä¸Šçš„æ³¨è§£</span><br></pre></td></tr></table></figure>

<ul>
<li>Classã€Method ,Field , Constructorã€éƒ½å®ç°äº†AnnotatedElementæ¥å£ï¼Œå®ƒä»¬éƒ½æ‹¥æœ‰è§£ææ³¨è§£çš„èƒ½åŠ›ã€‚</li>
</ul>
<p>AnnotatedElementæ¥å£æä¾›äº†è§£ææ³¨è§£çš„æ–¹æ³•<br>è¯´æ˜<br>public Annotation[] getDeclaredAnnotations()<br>è·å–å½“å‰å¯¹è±¡ä¸Šé¢çš„æ³¨è§£ã€‚<br>public T getDeclaredAnnotation(class<T> annotationclass)<br>è·å–æŒ‡å®šçš„æ³¨è§£å¯¹è±¡<br>public boolean isAnnotationPresent(class<Annotation> annotationclass)<br>åˆ¤æ–­å½“å‰å¯¹è±¡ä¸Šæ˜¯å¦å­˜åœ¨æŸä¸ªæ³¨è§£</p>
<p>è§£ææ¥çœ‹ä¸€ä¸ªæ¡ˆä¾‹ï¼Œæ¥æ¼”ç¤ºè§£ææ³¨è§£çš„ä»£ç ç¼–å†™</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh178.png"></p>
<p>æŒ‰ç…§éœ€æ±‚è¦æ±‚ä¸€æ­¥ä¸€æ­¥å®Œæˆ</p>
<p>â‘  å…ˆå®šä¹‰ä¸€ä¸ªMyTest4æ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å£°æ˜@MyTest4æ³¨è§£åªèƒ½ç”¨åœ¨ç±»ä¸Šå’Œæ–¹æ³•ä¸Š</span></span><br><span class="line"><span class="meta">@Target(&#123;ElementType.TYPE,ElementType.METHOD&#125;)</span>	</span><br><span class="line"><span class="comment">//æ§åˆ¶ä½¿ç”¨äº†@MyTest4æ³¨è§£çš„ä»£ç ä¸­ï¼Œ@MyTest4ä¿ç•™åˆ°è¿è¡Œæ—¶æœŸ</span></span><br><span class="line"><span class="meta">@Retetion(RetetionPloicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> MyTest4&#123;</span><br><span class="line">    String <span class="title function_">value</span><span class="params">()</span>;</span><br><span class="line">    <span class="type">double</span> <span class="title function_">aaa</span><span class="params">()</span> <span class="keyword">default</span> <span class="number">100</span>;</span><br><span class="line">    String[] bbb();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>â‘¡ å®šä¹‰æœ‰ä¸€ä¸ªç±»Demo</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@MyTest4(value=&quot;èœ˜è››ä¾ &quot;,aaa=99.9, bbb=&#123;&quot;è‡³å°Šå®&quot;,&quot;é»‘é©¬&quot;&#125;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo</span>&#123;</span><br><span class="line">    <span class="meta">@MyTest4(value=&quot;å­™æ‚Ÿç©º&quot;,aaa=199.9, bbb=&#123;&quot;ç´«éœ&quot;,&quot;ç‰›å¤«äºº&quot;&#125;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>â‘¢ å†™ä¸€ä¸ªæµ‹è¯•ç±»AnnotationTest3è§£æDemoç±»ä¸Šçš„MyTest4æ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AnnotationTest3</span>&#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">parseClass</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//1.å…ˆè·å–Classå¯¹è±¡</span></span><br><span class="line">        <span class="type">Class</span> <span class="variable">c</span> <span class="operator">=</span> Demo.class;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.è§£æDemoç±»ä¸Šçš„æ³¨è§£</span></span><br><span class="line">        <span class="keyword">if</span>(c.isAnnotationPresent(MyTest4.class))&#123;</span><br><span class="line">            <span class="comment">//è·å–ç±»ä¸Šçš„MyTest4æ³¨è§£</span></span><br><span class="line">            <span class="type">MyTest4</span> <span class="variable">myTest4</span> <span class="operator">=</span> (MyTest4)c.getDeclaredAnnotation(MyTest4.class);</span><br><span class="line">            <span class="comment">//è·å–MyTests4æ³¨è§£çš„å±æ€§å€¼</span></span><br><span class="line">            System.out.println(myTest4.value());</span><br><span class="line">            System.out.println(myTest4.aaa());</span><br><span class="line">            System.out.println(myTest4.bbb());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">parseMethods</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//1.å…ˆè·å–Classå¯¹è±¡</span></span><br><span class="line">        <span class="type">Class</span> <span class="variable">c</span> <span class="operator">=</span> Demo.class;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.è§£æDemoç±»ä¸­test1æ–¹æ³•ä¸Šçš„æ³¨è§£MyTest4æ³¨è§£</span></span><br><span class="line">        <span class="type">Method</span> <span class="variable">m</span> <span class="operator">=</span> c.getDeclaredMethod(<span class="string">&quot;test1&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(m.isAnnotationPresent(MyTest4.class))&#123;</span><br><span class="line">            <span class="comment">//è·å–æ–¹æ³•ä¸Šçš„MyTest4æ³¨è§£</span></span><br><span class="line">            <span class="type">MyTest4</span> <span class="variable">myTest4</span> <span class="operator">=</span> (MyTest4)m.getDeclaredAnnotation(MyTest4.class);</span><br><span class="line">            <span class="comment">//è·å–MyTests4æ³¨è§£çš„å±æ€§å€¼</span></span><br><span class="line">            System.out.println(myTest4.value());</span><br><span class="line">            System.out.println(myTest4.aaa());</span><br><span class="line">            System.out.println(myTest4.bbb());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h3 id="æ³¨è§£çš„åº”ç”¨åœºæ™¯"><a href="#æ³¨è§£çš„åº”ç”¨åœºæ™¯" class="headerlink" title="æ³¨è§£çš„åº”ç”¨åœºæ™¯"></a>æ³¨è§£çš„åº”ç”¨åœºæ™¯</h3><p>å„ä½åŒå­¦ï¼Œå…³äºæ³¨è§£çš„å®šä¹‰ã€ä½¿ç”¨ã€è§£ææ³¨è§£å°±å·²ç»å­¦ä¹ å®Œäº†ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬å†å­¦ä¹ ä¸€ä¸‹æ³¨è§£çš„åº”ç”¨åœºæ™¯ï¼Œæ³¨è§£æ˜¯ç”¨æ¥å†™æ¡†æ¶çš„ï¼Œæ¯”å¦‚ç°åœ¨æˆ‘ä»¬è¦æ¨¡æ‹ŸJunitå†™ä¸€ä¸ªæµ‹è¯•æ¡†æ¶ï¼Œè¦æ±‚æœ‰@MyTestæ³¨è§£çš„æ–¹æ³•å¯ä»¥è¢«æ¡†æ¶æ‰§è¡Œï¼Œæ²¡æœ‰@MyTestæ³¨è§£çš„æ–¹æ³•ä¸èƒ½è¢«æ¡†æ¶æ‰§è¡Œã€‚</p>
<p>ç¬¬ä¸€æ­¥ï¼šå…ˆå®šä¹‰ä¸€ä¸ªMyTestæ³¨è§£</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(ElementType.METHOD)</span>	</span><br><span class="line"><span class="meta">@Retetion(RetetionPloicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> MyTest&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç¬¬äºŒæ­¥ï¼šå†™ä¸€ä¸ªæµ‹è¯•ç±»AnnotationTest4ï¼Œåœ¨ç±»ä¸­å®šä¹‰å‡ ä¸ªè¢«@MyTestæ³¨è§£æ ‡è®°çš„æ–¹æ³•</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AnnotationTest4</span>&#123;</span><br><span class="line">    <span class="meta">@MyTest</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;=====test1====&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@MyTest</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;=====test2====&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test3</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;=====test2====&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="type">AnnotationTest4</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AnnotationTest4</span>();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//1.å…ˆè·å–Classå¯¹è±¡</span></span><br><span class="line">        <span class="type">Class</span> <span class="variable">c</span> <span class="operator">=</span> AnnotationTest4.class;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.è§£æAnnotationTest4ç±»ä¸­æ‰€æœ‰çš„æ–¹æ³•å¯¹è±¡</span></span><br><span class="line">        Method[] methods = c.getDeclaredMethods();</span><br><span class="line">        <span class="keyword">for</span>(Method m: methods)&#123;</span><br><span class="line">            <span class="comment">//3.åˆ¤æ–­æ–¹æ³•ä¸Šæ˜¯å¦æœ‰MyTestæ³¨è§£ï¼Œæœ‰å°±æ‰§è¡Œè¯¥æ–¹æ³•</span></span><br><span class="line">            <span class="keyword">if</span>(m.isAnnotationPresent(MyTest.class))&#123;</span><br><span class="line">            	m.invoke(a);</span><br><span class="line">        	&#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>å­¦ä¹ åˆ°è¿™é‡Œï¼Œå…³äºæ³¨è§£çš„ä½¿ç”¨å°±å­¦ä¼šäº†(<em>^â–½^</em>)</p>
<h2 id="åŠ¨æ€ä»£ç†"><a href="#åŠ¨æ€ä»£ç†" class="headerlink" title="åŠ¨æ€ä»£ç†"></a>åŠ¨æ€ä»£ç†</h2><h3 id="åŠ¨æ€ä»£ç†ä»‹ç»ã€å‡†å¤‡åŠŸèƒ½"><a href="#åŠ¨æ€ä»£ç†ä»‹ç»ã€å‡†å¤‡åŠŸèƒ½" class="headerlink" title="åŠ¨æ€ä»£ç†ä»‹ç»ã€å‡†å¤‡åŠŸèƒ½"></a>åŠ¨æ€ä»£ç†ä»‹ç»ã€å‡†å¤‡åŠŸèƒ½</h3><p>è¿™èŠ‚è¯¾æˆ‘ä»¬å­¦ä¹ ä¸€ä¸ªJavaçš„é«˜çº§æŠ€æœ¯å«åšåŠ¨æ€ä»£ç†ã€‚é¦–å…ˆæˆ‘ä»¬è®¤è¯†ä¸€ä¸‹ä»£ç†é•¿ä»€ä¹ˆæ ·ï¼Ÿæˆ‘ä»¬ä»¥å¤§æ˜æ˜Ÿâ€œæ¨è¶…è¶Šâ€ä¾‹ã€‚</p>
<p>å‡è®¾ç°åœ¨æœ‰ä¸€ä¸ªå¤§æ˜æ˜Ÿå«æ¨è¶…è¶Šï¼Œå®ƒæœ‰å”±æ­Œå’Œè·³èˆçš„æœ¬é¢†ï¼Œä½œä¸ºå¤§æ˜æ˜Ÿæ˜¯è¦ç”¨å”±æ­Œå’Œè·³èˆæ¥èµšé’±çš„ï¼Œä½†æ˜¯æ¯æ¬¡åšèŠ‚ç›®ï¼Œå”±æ­Œçš„æ—¶å€™è¦å‡†å¤‡è¯ç­’ã€æ”¶é’±ï¼Œå†å”±æ­Œï¼›è·³èˆçš„æ—¶å€™ä¹Ÿè¦å‡†å¤‡åœºåœ°ã€æ”¶é’±ã€å†å”±æ­Œã€‚æ¨è¶…è¶Šè¶Šè§‰å¾—æˆ‘æ“…é•¿çš„åšçš„äº‹æƒ…æ˜¯å”±æ­Œï¼Œå’Œè·³èˆï¼Œä½†æ˜¯æ¯æ¬¡å”±æ­Œå’Œè·³èˆä¹‹å‰æˆ–è€…ä¹‹åéƒ½è¦åšä¸€äº›ç¹ççš„äº‹æƒ…ï¼Œæœ‰ç‚¹çƒ¦ã€‚äºæ˜¯æ¨è¶…è¶Šå°±æ‰¾ä¸ªä¸€ä¸ªç»æµå…¬å¸ï¼Œè¯·äº†ä¸€ä¸ªä»£ç†äººï¼Œä»£ç†æ¨è¶…è¶Šå¤„ç†è¿™äº›äº‹æƒ…ï¼Œå¦‚æœæœ‰äººæƒ³è¯·æ¨è¶…è¶Šæ¼”å‡ºï¼Œç›´æ¥æ‰¾ä»£ç†äººå°±å¯ä»¥äº†ã€‚å¦‚ä¸‹å›¾æ‰€ç¤º</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh179.png"></p>
<p>æˆ‘ä»¬è¯´æ¨è¶…è¶Šçš„ä»£ç†æ˜¯ä¸­ä»‹å…¬å¸æ´¾çš„ï¼Œé‚£ä¸­ä»‹å…¬å¸æ€ä¹ˆçŸ¥é“ï¼Œè¦æ´¾ä¸€ä¸ªæœ‰å”±æ­Œå’Œè·³èˆåŠŸèƒ½çš„ä»£ç†å‘¢ï¼Ÿ</p>
<p>è§£å†³è¿™ä¸ªé—®é¢˜ï¼ŒJavaä½¿ç”¨çš„æ˜¯æ¥å£ï¼Œæ¨è¶…è¶Šæƒ³æ‰¾ä»£ç†ï¼Œåœ¨Javaä¸­éœ€è¦æ¨è¶…è¶Šå®ç°äº†ä¸€ä¸ªæ¥å£ï¼Œæ¥å£ä¸­è§„å®šè¦å”±æ­Œå’Œè·³èˆçš„æ–¹æ³•ã€‚Javaå°±å¯ä»¥é€šè¿‡è¿™ä¸ªæ¥å£ä¸ºæ¨è¶…è¶Šç”Ÿæˆä¸€ä¸ªä»£ç†å¯¹è±¡ï¼Œåªè¦æ¥å£ä¸­æœ‰çš„æ–¹æ³•ä»£ç†å¯¹è±¡ä¹Ÿä¼šæœ‰ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh180.png"></p>
<p>æ¥ä¸‹æ¥æˆ‘ä»¬å°±å…ˆæŠŠæœ‰å”±æ­Œå’Œè·³èˆåŠŸèƒ½çš„æ¥å£ï¼Œå’Œå®ç°æ¥å£çš„å¤§æ˜æ˜Ÿç±»å®šä¹‰å‡ºæ¥ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh181.png"></p>
<h3 id="ç”ŸæˆåŠ¨æ€ä»£ç†å¯¹è±¡"><a href="#ç”ŸæˆåŠ¨æ€ä»£ç†å¯¹è±¡" class="headerlink" title="ç”ŸæˆåŠ¨æ€ä»£ç†å¯¹è±¡"></a>ç”ŸæˆåŠ¨æ€ä»£ç†å¯¹è±¡</h3><p>ä¸‹é¢æˆ‘ä»¬å†™ä¸€ä¸ªä¸ºBigStarç”ŸæˆåŠ¨æ€ä»£ç†å¯¹è±¡çš„å·¥å…·ç±»ã€‚è¿™é‡Œéœ€è¦ç”¨Javaä¸ºå¼€å‘è€…æä¾›çš„ä¸€ä¸ªç”Ÿæˆä»£ç†å¯¹è±¡çš„ç±»å«Proxyç±»ã€‚</p>
<p>é€šè¿‡Proxyç±»çš„newInstance(â€¦)æ–¹æ³•å¯ä»¥ä¸ºå®ç°äº†åŒä¸€æ¥å£çš„ç±»ç”Ÿæˆä»£ç†å¯¹è±¡ã€‚ è°ƒç”¨æ–¹æ³•æ—¶éœ€è¦ä¼ é€’ä¸‰ä¸ªå‚æ•°ï¼Œè¯¥æ–¹æ³•çš„å‚æ•°è§£é‡Šå¯ä»¥æŸ¥é˜…APIæ–‡æ¡£ï¼Œå¦‚ä¸‹ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh182.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProxyUtil</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Star <span class="title function_">createProxy</span><span class="params">(BigStar bigStar)</span>&#123;</span><br><span class="line">       <span class="comment">/* newProxyInstance(ClassLoader loader,</span></span><br><span class="line"><span class="comment">                Class&lt;?&gt;[] interfaces,</span></span><br><span class="line"><span class="comment">                InvocationHandler h)</span></span><br><span class="line"><span class="comment">                å‚æ•°1ï¼šç”¨äºæŒ‡å®šä¸€ä¸ªç±»åŠ è½½å™¨</span></span><br><span class="line"><span class="comment">                å‚æ•°2ï¼šæŒ‡å®šç”Ÿæˆçš„ä»£ç†é•¿ä»€ä¹ˆæ ·å­ï¼Œä¹Ÿå°±æ˜¯æœ‰å“ªäº›æ–¹æ³•</span></span><br><span class="line"><span class="comment">                å‚æ•°3ï¼šç”¨æ¥æŒ‡å®šç”Ÿæˆçš„ä»£ç†å¯¹è±¡è¦å¹²ä»€ä¹ˆäº‹æƒ…</span></span><br><span class="line"><span class="comment">                */</span></span><br><span class="line">        <span class="comment">// Star starProxy = ProxyUtil.createProxy(s);</span></span><br><span class="line">        <span class="comment">// starProxy.sing(&quot;å¥½æ—¥å­&quot;) starProxy.dance()</span></span><br><span class="line">        <span class="type">Star</span> <span class="variable">starProxy</span> <span class="operator">=</span> (Star) Proxy.newProxyInstance(ProxyUtil.class.getClassLoader(),</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">Class</span>[]&#123;Star.class&#125;, <span class="keyword">new</span> <span class="title class_">InvocationHandler</span>() &#123;</span><br><span class="line">                    <span class="meta">@Override</span> <span class="comment">// å›è°ƒæ–¹æ³•</span></span><br><span class="line">                    <span class="keyword">public</span> Object <span class="title function_">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">                        <span class="comment">// ä»£ç†å¯¹è±¡è¦åšçš„äº‹æƒ…ï¼Œä¼šåœ¨è¿™é‡Œå†™ä»£ç </span></span><br><span class="line">                        <span class="keyword">if</span>(method.getName().equals(<span class="string">&quot;sing&quot;</span>))&#123;</span><br><span class="line">                            System.out.println(<span class="string">&quot;å‡†å¤‡è¯ç­’ï¼Œæ”¶é’±20ä¸‡&quot;</span>);</span><br><span class="line">                        &#125;<span class="keyword">else</span> <span class="keyword">if</span>(method.getName().equals(<span class="string">&quot;dance&quot;</span>))&#123;</span><br><span class="line">                            System.out.println(<span class="string">&quot;å‡†å¤‡åœºåœ°ï¼Œæ”¶é’±1000ä¸‡&quot;</span>);</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">return</span> method.invoke(bigStar, args);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;);</span><br><span class="line">        <span class="keyword">return</span> starProxy;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è°ƒç”¨æˆ‘ä»¬å†™å¥½çš„ProxyUtilå·¥å…·ç±»ï¼Œä¸ºBigStarå¯¹è±¡ç”Ÿæˆä»£ç†å¯¹è±¡</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">BigStar</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BigStar</span>(<span class="string">&quot;æ¨è¶…è¶Š&quot;</span>);</span><br><span class="line">        <span class="type">Star</span> <span class="variable">starProxy</span> <span class="operator">=</span> ProxyUtil.createProxy(s);</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">rs</span> <span class="operator">=</span> starProxy.sing(<span class="string">&quot;å¥½æ—¥å­&quot;</span>);</span><br><span class="line">        System.out.println(rs);</span><br><span class="line"></span><br><span class="line">        starProxy.dance();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿è¡Œæµ‹è¯•ç±»ï¼Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤º</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh183.png"></p>
<p>å½“ä½ æŠŠä¸Šé¢çš„æ¡ˆä¾‹å†™å‡ºæ¥ï¼Œå¹¶ä¸”ç†è§£ï¼Œé‚£ä¹ˆåŠ¨æ€ä»£ç†çš„åŸºæœ¬ä½¿ç”¨å°±å­¦ä¼šäº†ã€‚</p>
<h3 id="åŠ¨æ€ä»£ç†åº”ç”¨"><a href="#åŠ¨æ€ä»£ç†åº”ç”¨" class="headerlink" title="åŠ¨æ€ä»£ç†åº”ç”¨"></a>åŠ¨æ€ä»£ç†åº”ç”¨</h3><p>å­¦ä¹ å®ŒåŠ¨æ€ä»£ç†çš„åŸºæœ¬ä½¿ç”¨ä¹‹åï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å†åšä¸€ä¸ªåº”ç”¨æ¡ˆä¾‹ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh184.png"></p>
<p>ç°æœ‰å¦‚ä¸‹ä»£ç </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *  ç”¨æˆ·ä¸šåŠ¡æ¥å£</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line">    <span class="comment">// ç™»å½•åŠŸèƒ½</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">login</span><span class="params">(String loginName,String passWord)</span> <span class="keyword">throws</span> Exception;</span><br><span class="line">    <span class="comment">// åˆ é™¤ç”¨æˆ·</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">deleteUsers</span><span class="params">()</span> <span class="keyword">throws</span> Exception;</span><br><span class="line">    <span class="comment">// æŸ¥è¯¢ç”¨æˆ·ï¼Œè¿”å›æ•°ç»„çš„å½¢å¼ã€‚</span></span><br><span class="line">    String[] selectUsers() <span class="keyword">throws</span> Exception;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä¸‹é¢æœ‰ä¸€ä¸ªUserServiceæ¥å£çš„å®ç°ç±»ï¼Œä¸‹é¢æ¯ä¸€ä¸ªæ–¹æ³•ä¸­éƒ½æœ‰è®¡ç®—æ–¹æ³•è¿è¡Œæ—¶é—´çš„ä»£ç ã€‚</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç”¨æˆ·ä¸šåŠ¡å®ç°ç±»ï¼ˆé¢å‘æ¥å£ç¼–ç¨‹ï¼‰</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">UserService</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">login</span><span class="params">(String loginName, String passWord)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">long</span> <span class="variable">time1</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        <span class="keyword">if</span>(<span class="string">&quot;admin&quot;</span>.equals(loginName) &amp;&amp; <span class="string">&quot;123456&quot;</span>.equals(passWord))&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;æ‚¨ç™»å½•æˆåŠŸï¼Œæ¬¢è¿å…‰ä¸´æœ¬ç³»ç»Ÿ~&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;æ‚¨ç™»å½•å¤±è´¥ï¼Œç”¨æˆ·åæˆ–å¯†ç é”™è¯¯~&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">        <span class="type">long</span> <span class="variable">time2</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        System.out.println(<span class="string">&quot;loginæ–¹æ³•è€—æ—¶ï¼š&quot;</span>+(time2-time1));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteUsers</span><span class="params">()</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="type">long</span> <span class="variable">time1</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        System.out.println(<span class="string">&quot;æˆåŠŸåˆ é™¤äº†1ä¸‡ä¸ªç”¨æˆ·~&quot;</span>);</span><br><span class="line">        Thread.sleep(<span class="number">1500</span>);</span><br><span class="line">        <span class="type">long</span> <span class="variable">time2</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        System.out.println(<span class="string">&quot;deleteUsersæ–¹æ³•è€—æ—¶ï¼š&quot;</span>+(time2-time1));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String[] selectUsers() <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">		<span class="type">long</span> <span class="variable">time1</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        System.out.println(<span class="string">&quot;æŸ¥è¯¢å‡ºäº†3ä¸ªç”¨æˆ·&quot;</span>);</span><br><span class="line">        String[] names = &#123;<span class="string">&quot;å¼ å…¨è›‹&quot;</span>, <span class="string">&quot;æäºŒç‹—&quot;</span>, <span class="string">&quot;ç‰›çˆ±èŠ±&quot;</span>&#125;;</span><br><span class="line">        Thread.sleep(<span class="number">500</span>);</span><br><span class="line">		<span class="type">long</span> <span class="variable">time2</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        System.out.println(<span class="string">&quot;selectUsersæ–¹æ³•è€—æ—¶ï¼š&quot;</span>+(time2-time1));</span><br><span class="line">        <span class="keyword">return</span> names;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è§‚å¯Ÿä¸Šé¢ä»£ç å‘ç°æœ‰ä»€ä¹ˆé—®é¢˜å—ï¼Ÿ</p>
<p>æˆ‘ä»¬ä¼šå‘ç°æ¯ä¸€ä¸ªæ–¹æ³•ä¸­è®¡ç®—è€—æ—¶çš„ä»£ç éƒ½æ˜¯é‡å¤çš„ï¼Œæˆ‘ä»¬å¯æ˜¯å­¦ä¹ äº†åŠ¨æ€ä»£ç†çš„é«˜çº§ç¨‹åºå‘˜ï¼Œæ€ä¹ˆèƒ½å¿å—åœ¨æ¯ä¸ªæ–¹æ³•ä¸­å†™é‡å¤ä»£ç å‘¢ï¼å†µä¸”è¿™äº›é‡å¤çš„ä»£ç å¹¶ä¸å±äºUserSerivceçš„ä¸»è¦ä¸šåŠ¡ä»£ç ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh185.png"></p>
<p>æ‰€ä»¥æ¥ä¸‹æ¥æˆ‘ä»¬æ‰“ç®—ï¼ŒæŠŠè®¡ç®—æ¯ä¸€ä¸ªæ–¹æ³•çš„è€—æ—¶æ“ä½œï¼Œäº¤ç»™ä»£ç†å¯¹è±¡æ¥åšã€‚</p>
<p>å…ˆåœ¨UserServiceç±»ä¸­æŠŠè®¡ç®—è€—æ—¶çš„ä»£ç åˆ é™¤ï¼Œä»£ç å¦‚ä¸‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç”¨æˆ·ä¸šåŠ¡å®ç°ç±»ï¼ˆé¢å‘æ¥å£ç¼–ç¨‹ï¼‰</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">UserService</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">login</span><span class="params">(String loginName, String passWord)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="string">&quot;admin&quot;</span>.equals(loginName) &amp;&amp; <span class="string">&quot;123456&quot;</span>.equals(passWord))&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;æ‚¨ç™»å½•æˆåŠŸï¼Œæ¬¢è¿å…‰ä¸´æœ¬ç³»ç»Ÿ~&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;æ‚¨ç™»å½•å¤±è´¥ï¼Œç”¨æˆ·åæˆ–å¯†ç é”™è¯¯~&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteUsers</span><span class="params">()</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æˆåŠŸåˆ é™¤äº†1ä¸‡ä¸ªç”¨æˆ·~&quot;</span>);</span><br><span class="line">        Thread.sleep(<span class="number">1500</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String[] selectUsers() <span class="keyword">throws</span> Exception&#123;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;æŸ¥è¯¢å‡ºäº†3ä¸ªç”¨æˆ·&quot;</span>);</span><br><span class="line">        String[] names = &#123;<span class="string">&quot;å¼ å…¨è›‹&quot;</span>, <span class="string">&quot;æäºŒç‹—&quot;</span>, <span class="string">&quot;ç‰›çˆ±èŠ±&quot;</span>&#125;;</span><br><span class="line">        Thread.sleep(<span class="number">500</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> names;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç„¶åä¸ºUserServiceç”Ÿæˆä¸€ä¸ªåŠ¨æ€ä»£ç†å¯¹è±¡ï¼Œåœ¨åŠ¨æ€ä»£ç†ä¸­è°ƒç”¨ç›®æ ‡æ–¹æ³•ï¼Œåœ¨è°ƒç”¨ç›®æ ‡æ–¹æ³•ä¹‹å‰å’Œä¹‹åè®°å½•æ¯«ç§’å€¼ï¼Œå¹¶è®¡ç®—æ–¹æ³•è¿è¡Œçš„æ—¶é—´ã€‚ä»£ç å¦‚ä¸‹</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ProxyUtil</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> UserService <span class="title function_">createProxy</span><span class="params">(UserService userService)</span>&#123;</span><br><span class="line">        <span class="type">UserService</span> <span class="variable">userServiceProxy</span></span><br><span class="line">            <span class="operator">=</span> (UserService) Proxy.newProxyInstance(</span><br><span class="line">            ProxyUtil.class.getClassLoader(),</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Class</span>[]&#123;UserService.class&#125;, </span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">InvocationHandler</span>() &#123;</span><br><span class="line">                                                                            			<span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> Object <span class="title function_">invoke</span><span class="params">(                                                                             Object proxy, </span></span><br><span class="line"><span class="params">                              Method method, </span></span><br><span class="line"><span class="params">                                  Object[] args)</span> <span class="keyword">throws</span> Throwable &#123;                             <span class="keyword">if</span>(</span><br><span class="line">                    method.getName().equals(<span class="string">&quot;login&quot;</span>) ||                                             method.getName().equals(<span class="string">&quot;deleteUsers&quot;</span>)||</span><br><span class="line">                    method.getName().equals(<span class="string">&quot;selectUsers&quot;</span>))&#123;</span><br><span class="line">                    <span class="comment">//æ–¹æ³•è¿è¡Œå‰è®°å½•æ¯«ç§’å€¼         </span></span><br><span class="line">                    <span class="type">long</span> <span class="variable">startTime</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">                    <span class="comment">//æ‰§è¡Œæ–¹æ³•</span></span><br><span class="line">                    <span class="type">Object</span> <span class="variable">rs</span> <span class="operator">=</span> method.invoke(userService, args);</span><br><span class="line">                    <span class="comment">//æ‰§è¡Œæ–¹æ³•åè®°å½•æ¯«ç§’å€¼</span></span><br><span class="line">                    <span class="type">long</span> <span class="variable">endTime</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line"></span><br><span class="line">                    System.out.println(method.getName() + <span class="string">&quot;æ–¹æ³•æ‰§è¡Œè€—æ—¶ï¼š&quot;</span> + (endTime - startTime)/ <span class="number">1000.0</span> + <span class="string">&quot;s&quot;</span>);</span><br><span class="line">                    <span class="keyword">return</span> rs;</span><br><span class="line">               &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="type">Object</span> <span class="variable">rs</span> <span class="operator">=</span> method.invoke(userService, args);</span><br><span class="line">                    <span class="keyword">return</span> rs;                                                                &#125;</span><br><span class="line">           &#125;                                                                 &#125;);</span><br><span class="line">        <span class="comment">//è¿”å›ä»£ç†å¯¹è±¡</span></span><br><span class="line">        <span class="keyword">return</span> userServiceProxy;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åœ¨æµ‹è¯•ç±»ä¸­ä¸ºUserServiceåˆ›å»ºä»£ç†å¯¹è±¡</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç›®æ ‡ï¼šä½¿ç”¨åŠ¨æ€ä»£ç†è§£å†³å®é™…é—®é¢˜ï¼Œå¹¶æŒæ¡ä½¿ç”¨ä»£ç†çš„å¥½å¤„ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºç”¨æˆ·ä¸šåŠ¡å¯¹è±¡ã€‚</span></span><br><span class="line">        <span class="type">UserService</span> <span class="variable">userService</span> <span class="operator">=</span> ProxyUtil.createProxy(<span class="keyword">new</span> <span class="title class_">UserServiceImpl</span>());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€è°ƒç”¨ç”¨æˆ·ä¸šåŠ¡çš„åŠŸèƒ½ã€‚</span></span><br><span class="line">        userService.login(<span class="string">&quot;admin&quot;</span>, <span class="string">&quot;123456&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;----------------------------------&quot;</span>);</span><br><span class="line"></span><br><span class="line">        userService.deleteUsers();</span><br><span class="line">        System.out.println(<span class="string">&quot;----------------------------------&quot;</span>);</span><br><span class="line"></span><br><span class="line">        String[] names = userService.selectUsers();</span><br><span class="line">        System.out.println(<span class="string">&quot;æŸ¥è¯¢åˆ°çš„ç”¨æˆ·æ˜¯ï¼š&quot;</span> + Arrays.toString(names));</span><br><span class="line">        System.out.println(<span class="string">&quot;----------------------------------&quot;</span>);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ‰§è¡Œç»“æœå¦‚ä¸‹å›¾æ‰€ç¤º<br><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh186.png"></p>
<p>åŠ¨æ€ä»£ç†å¯¹è±¡çš„æ‰§è¡Œæµç¨‹å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œæ¯æ¬¡ç”¨ä»£ç†å¯¹è±¡è°ƒç”¨æ–¹æ³•æ—¶ï¼Œéƒ½ä¼šæ‰§è¡ŒInvocationHandlerä¸­çš„invokeæ–¹æ³•ã€‚</p>
<p><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/hh187.png"></p>
<p>åŠ¨æ€ä»£ç†æˆ‘ä»¬å·²ç»å­¦ä¹ å®Œäº†ã€‚åˆ°æ­¤æ•´ä¸ªJavaSEçš„è¯¾ç¨‹ä¹Ÿå­¦ä¹ å®Œäº†ã€‚</p>
</article><div class="post-copyright"><div class="copyright-cc-box"><i class="anzhiyufont anzhiyu-icon-copyright"></i></div><div class="post-copyright__author_box"><a class="post-copyright__author_img" href="/" title="å¤´åƒ"><img class="post-copyright__author_img_back" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/d20f536c64d06e5fcf4bfe2ec5dc25d.jpg" title="å¤´åƒ" alt="å¤´åƒ"><img class="post-copyright__author_img_front" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/d20f536c64d06e5fcf4bfe2ec5dc25d.jpg" title="å¤´åƒ" alt="å¤´åƒ"></a><div class="post-copyright__author_name">Smith</div><div class="post-copyright__author_desc">äººç”Ÿå¤ªçŸ­ï¼Œè¦å¹²çš„äº‹å¤ªå¤šï¼Œæˆ‘è¦äº‰åˆ†å¤ºç§’</div></div><div class="post-copyright__post__info"><a class="post-copyright__original" title="è¯¥æ–‡ç« ä¸ºåŸåˆ›æ–‡ç« ï¼Œæ³¨æ„ç‰ˆæƒåè®®" href="https://smithhs.cn/2021/06/15/2021-06-15-Java%E5%AD%A6%E4%B9%A03/">åŸåˆ›</a><a class="post-copyright-title"><span onclick="rm.copyPageUrl('https://smithhs.cn/2021/06/15/2021-06-15-Java%E5%AD%A6%E4%B9%A03/')">Javaå­¦ä¹ 3</span></a></div><div class="post-tools" id="post-tools"><div class="post-tools-left"><div class="rewardLeftButton"><div class="post-reward" onclick="anzhiyu.addRewardMask()"><div class="reward-button button--animated" title="èµèµä½œè€…"><i class="anzhiyufont anzhiyu-icon-hand-heart-fill"></i>æ‰“èµä½œè€…</div><div class="reward-main"><div class="reward-all"><span class="reward-title">æ„Ÿè°¢ä½ èµäºˆæˆ‘å‰è¿›çš„åŠ›é‡</span><ul class="reward-group"><li class="reward-item"><a href="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/1.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/1.jpg" alt="wechat"/></a><div class="post-qr-code-desc">wechat</div></li><li class="reward-item"><a href="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/2.jpg" target="_blank"><img class="post-qr-code-img" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/2.jpg" alt="alipay"/></a><div class="post-qr-code-desc">alipay</div></li></ul><a class="reward-main-btn" href="/about/#about-reward" target="_blank"><div class="reward-text">èµèµè€…åå•</div><div class="reward-dec">å› ä¸ºä½ ä»¬çš„æ”¯æŒè®©æˆ‘æ„è¯†åˆ°å†™æ–‡ç« çš„ä»·å€¼ğŸ™</div></a></div></div></div><div id="quit-box" onclick="anzhiyu.removeRewardMask()" style="display: none"></div></div><div class="shareRight"><div class="share-link mobile"><div class="share-qrcode"><div class="share-button" title="ä½¿ç”¨æ‰‹æœºè®¿é—®è¿™ç¯‡æ–‡ç« "><i class="anzhiyufont anzhiyu-icon-qrcode"></i></div><div class="share-main"><div class="share-main-all"><div id="qrcode" title="https://smithhs.cn/2021/06/15/2021-06-15-Java%E5%AD%A6%E4%B9%A03/"></div><div class="reward-dec">ä½¿ç”¨æ‰‹æœºè®¿é—®è¿™ç¯‡æ–‡ç« </div></div></div></div></div><div class="share-link weibo"><a class="share-button" target="_blank" href="https://service.weibo.com/share/share.php?title=Javaå­¦ä¹ 3&amp;url=https://smithhs.cn/2021/06/15/2021-06-15-Java%E5%AD%A6%E4%B9%A03/&amp;pic=https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/java%E5%AD%A6%E4%B9%A0.webp" rel="external nofollow noreferrer noopener"><i class="anzhiyufont anzhiyu-icon-weibo"></i></a></div><div class="share-link copyurl"><div class="share-button" id="post-share-url" title="å¤åˆ¶é“¾æ¥" onclick="rm.copyPageUrl()"><i class="anzhiyufont anzhiyu-icon-link"></i></div></div></div></div></div><div class="post-copyright__notice"><span class="post-copyright-info">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> è®¸å¯åè®®ã€‚è½¬è½½è¯·æ³¨æ˜æ¥è‡ª <a href="https://smithhs.cn" target="_blank">Smith</a>ï¼</span></div></div><div class="post-tools-right"><div class="tag_share"><div class="post-meta__box"><div class="post-meta__box__tag-list"><a class="post-meta__box__tags" href="/tags/Java/"><span class="tags-punctuation"> <i class="anzhiyufont anzhiyu-icon-tag"></i></span>Java<span class="tagsPageCount">6</span></a></div></div></div><div class="post_share"><div class="social-share" data-image="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/dataanalysis.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://lib.baomitu.com/social-share.js/1.0.16/css/share.min.css" media="print" onload="this.media='all'"/><script src="https://lib.baomitu.com/social-share.js/1.0.16/js/social-share.min.js" defer="defer"></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2021/06/12/2021-06-12-java%E5%AD%A6%E4%B9%A02/"><img class="prev-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/java%E5%AD%A6%E4%B9%A0.webp" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">ä¸Šä¸€ç¯‡</div><div class="prev_info">Javaå­¦ä¹ 2</div></div></a></div><div class="next-post pull-right"><a href="/2021/06/20/2021-06-20-%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF/"><img class="next-cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/gg1.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">ä¸‹ä¸€ç¯‡</div><div class="next_info">å‰ç«¯å­¦ä¹ è·¯çº¿</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="anzhiyufont anzhiyu-icon-thumbs-up fa-fw" style="font-size: 1.5rem; margin-right: 4px"></i><span>ç›¸å…³æ¨è</span></div><div class="relatedPosts-list"><div><a href="/2021/05/16/2021-05-16-java%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF/" title="Javaå­¦ä¹ è·¯çº¿"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/java%E5%AD%A6%E4%B9%A0%E8%B7%AF%E7%BA%BF.png" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2021-05-16</div><div class="title">Javaå­¦ä¹ è·¯çº¿</div></div></a></div><div><a href="/2021/05/17/2021-05-17-Java%E5%AD%A6%E4%B9%A0/" title="Javaå­¦ä¹ "><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/java%E5%AD%A6%E4%B9%A0.webp" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2021-05-17</div><div class="title">Javaå­¦ä¹ </div></div></a></div><div><a href="/2021/06/30/2021-06-30-java%E9%80%9F%E6%88%90/" title="Javaé€Ÿæˆ"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/java%E5%AD%A6%E4%B9%A0.webp" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2021-06-30</div><div class="title">Javaé€Ÿæˆ</div></div></a></div><div><a href="/2021/06/12/2021-06-12-java%E5%AD%A6%E4%B9%A02/" title="Javaå­¦ä¹ 2"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/java%E5%AD%A6%E4%B9%A0.webp" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2021-06-12</div><div class="title">Javaå­¦ä¹ 2</div></div></a></div><div><a href="/2024/05/24/2024-05-24%E6%89%8B%E6%8A%8A%E6%89%8B%E5%B8%A6%E4%BD%A0%E9%B2%81Java%E4%BB%A3%E7%A0%81%E7%94%9F%E6%88%90%E5%B7%A5%E5%85%B7/" title="æ‰‹æŠŠæ‰‹å¸¦ä½ é²Javaä»£ç ç”Ÿæˆå·¥å…·"><img class="cover" src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/javeEE.png" alt="cover"><div class="content is-center"><div class="date"><i class="anzhiyufont anzhiyu-icon-calendar-days fa-fw"></i> 2024-05-24</div><div class="title">æ‰‹æŠŠæ‰‹å¸¦ä½ é²Javaä»£ç ç”Ÿæˆå·¥å…·</div></div></a></div></div></div></div><div class="aside-content" id="aside-content"><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="anzhiyufont anzhiyu-icon-bars"></i><span>æ–‡ç« ç›®å½•</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E7%AE%97%E6%B3%95"><span class="toc-number">1.</span> <span class="toc-text">å¸¸è§ç®—æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%AE%80%E5%8D%95%E8%AE%A4%E8%AF%86%E7%AE%97%E6%B3%95"><span class="toc-number">1.1.</span> <span class="toc-text">ç®€å•è®¤è¯†ç®—æ³•</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%8E%92%E5%BA%8F%E7%AE%97%E6%B3%95"><span class="toc-number">1.2.</span> <span class="toc-text">æ’åºç®—æ³•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%86%92%E6%B3%A1%E6%8E%92%E5%BA%8F"><span class="toc-number">1.2.1.</span> <span class="toc-text">å†’æ³¡æ’åº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-%E9%80%89%E6%8B%A9%E6%8E%92%E5%BA%8F"><span class="toc-number">1.2.2.</span> <span class="toc-text">1.2 é€‰æ‹©æ’åº</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%9F%A5%E6%89%BE%E7%AE%97%E6%B3%95"><span class="toc-number">1.3.</span> <span class="toc-text">æŸ¥æ‰¾ç®—æ³•</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F"><span class="toc-number">2.</span> <span class="toc-text">æ­£åˆ™è¡¨è¾¾å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-number">2.1.</span> <span class="toc-text">æ¦‚è¿°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B9%A6%E5%86%99%E8%A7%84%E5%88%99"><span class="toc-number">2.2.</span> <span class="toc-text">ä¹¦å†™è§„åˆ™</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E5%BA%94%E7%94%A8%E6%A1%88%E4%BE%8B"><span class="toc-number">2.3.</span> <span class="toc-text">æ­£åˆ™è¡¨è¾¾å¼åº”ç”¨æ¡ˆä¾‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E4%BA%8E%E6%9F%A5%E6%89%BE%E4%BF%A1%E6%81%AF"><span class="toc-number">2.4.</span> <span class="toc-text">ç”¨äºæŸ¥æ‰¾ä¿¡æ¯</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8%E4%BA%8E%E6%90%9C%E7%B4%A2%E6%9B%BF%E6%8D%A2%E3%80%81%E5%88%86%E5%89%B2%E5%86%85%E5%AE%B9"><span class="toc-number">2.5.</span> <span class="toc-text">ç”¨äºæœç´¢æ›¿æ¢ã€åˆ†å‰²å†…å®¹</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%BC%82%E5%B8%B8"><span class="toc-number">3.</span> <span class="toc-text">å¼‚å¸¸</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%A4%E8%AF%86%E5%BC%82%E5%B8%B8"><span class="toc-number">3.1.</span> <span class="toc-text">è®¤è¯†å¼‚å¸¸</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%BC%82%E5%B8%B8"><span class="toc-number">3.2.</span> <span class="toc-text">è‡ªå®šä¹‰å¼‚å¸¸</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BC%82%E5%B8%B8%E7%9A%84%E5%A4%84%E7%90%86"><span class="toc-number">3.3.</span> <span class="toc-text">å¼‚å¸¸çš„å¤„ç†</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6"><span class="toc-number">4.</span> <span class="toc-text">é›†åˆæ¡†æ¶</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0-1"><span class="toc-number">4.1.</span> <span class="toc-text">æ¦‚è¿°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Collection%E7%9A%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">4.2.</span> <span class="toc-text">Collectionçš„å¸¸ç”¨æ–¹æ³•</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Collection%E7%9A%84%E9%81%8D%E5%8E%86%E6%96%B9%E5%BC%8F"><span class="toc-number">4.3.</span> <span class="toc-text">Collectionçš„éå†æ–¹å¼</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BF%AD%E4%BB%A3%E5%99%A8"><span class="toc-number">4.3.1.</span> <span class="toc-text">è¿­ä»£å™¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A2%9E%E5%BC%BAfor"><span class="toc-number">4.3.2.</span> <span class="toc-text">å¢å¼ºfor</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#forEach%E9%81%8D%E5%8E%86%E9%9B%86%E5%90%88"><span class="toc-number">4.3.3.</span> <span class="toc-text">forEachéå†é›†åˆ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%8D%E5%8E%86%E9%9B%86%E5%90%88%E6%A1%88%E4%BE%8B"><span class="toc-number">4.3.4.</span> <span class="toc-text">éå†é›†åˆæ¡ˆä¾‹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#List%E9%9B%86%E5%90%88"><span class="toc-number">4.4.</span> <span class="toc-text">Listé›†åˆ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E7%82%B9%E3%80%81%E7%89%B9%E6%9C%89%E6%96%B9%E5%BC%8F"><span class="toc-number">4.4.1.</span> <span class="toc-text">ç‰¹ç‚¹ã€ç‰¹æœ‰æ–¹å¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%81%8D%E5%8E%86%E6%96%B9%E5%BC%8F"><span class="toc-number">4.4.2.</span> <span class="toc-text">éå†æ–¹å¼</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ArrayList%E9%9B%86%E5%90%88%E7%9A%84%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86"><span class="toc-number">4.4.3.</span> <span class="toc-text">ArrayListé›†åˆçš„åº•å±‚åŸç†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LinkList%E9%9B%86%E5%90%88%E7%9A%84%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86"><span class="toc-number">4.4.4.</span> <span class="toc-text">LinkListé›†åˆçš„åº•å±‚åŸç†</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Set%E9%9B%86%E5%90%88"><span class="toc-number">4.5.</span> <span class="toc-text">Seté›†åˆ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E7%82%B9"><span class="toc-number">4.5.1.</span> <span class="toc-text">ç‰¹ç‚¹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HashSet%E9%9B%86%E5%90%88%E7%9A%84%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86"><span class="toc-number">4.5.2.</span> <span class="toc-text">HashSeté›†åˆçš„åº•å±‚åŸç†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LinkedHashSet%E9%9B%86%E5%90%88%E7%9A%84%E5%BA%95%E5%B1%82%E5%8E%9F%E7%90%86"><span class="toc-number">4.5.3.</span> <span class="toc-text">LinkedHashSeté›†åˆçš„åº•å±‚åŸç†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TreeSet%E9%9B%86%E5%90%88"><span class="toc-number">4.5.4.</span> <span class="toc-text">TreeSeté›†åˆ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9%EF%BC%9A%E9%9B%86%E5%90%88%E7%9A%84%E5%B9%B6%E5%8F%91%E4%BF%AE%E6%94%B9%E5%BC%82%E5%B8%B8%E9%97%AE%E9%A2%98"><span class="toc-number">4.6.</span> <span class="toc-text">æ³¨æ„äº‹é¡¹ï¼šé›†åˆçš„å¹¶å‘ä¿®æ”¹å¼‚å¸¸é—®é¢˜</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Collection%E7%9A%84%E5%85%B6%E4%BB%96%E7%9B%B8%E5%85%B3%E7%9F%A5%E8%AF%86"><span class="toc-number">5.</span> <span class="toc-text">Collectionçš„å…¶ä»–ç›¸å…³çŸ¥è¯†</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%89%8D%E7%BD%AE%E7%9F%A5%E8%AF%86%EF%BC%9A%E5%8F%AF%E5%8F%98%E5%8F%82%E6%95%B0"><span class="toc-number">5.1.</span> <span class="toc-text">å‰ç½®çŸ¥è¯†ï¼šå¯å˜å‚æ•°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Collections"><span class="toc-number">5.2.</span> <span class="toc-text">Collections</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BB%BC%E5%90%88%E6%A1%88%E4%BE%8B"><span class="toc-number">5.3.</span> <span class="toc-text">ç»¼åˆæ¡ˆä¾‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%97%E5%9C%B0%E4%B8%BB%E6%A1%88%E4%BE%8B"><span class="toc-number">5.3.1.</span> <span class="toc-text">æ–—åœ°ä¸»æ¡ˆä¾‹</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Map%E9%9B%86%E5%90%88"><span class="toc-number">6.</span> <span class="toc-text">Mapé›†åˆ</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0-2"><span class="toc-number">6.1.</span> <span class="toc-text">æ¦‚è¿°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">6.2.</span> <span class="toc-text">å¸¸ç”¨æ–¹æ³•</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%81%8D%E5%8E%86%E6%96%B9%E5%BC%8F-1"><span class="toc-number">6.3.</span> <span class="toc-text">éå†æ–¹å¼</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Map%E9%9B%86%E5%90%88%E6%A1%88%E4%BE%8B"><span class="toc-number">6.4.</span> <span class="toc-text">Mapé›†åˆæ¡ˆä¾‹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#HashMap"><span class="toc-number">6.5.</span> <span class="toc-text">HashMap</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#LinkHashMap"><span class="toc-number">6.6.</span> <span class="toc-text">LinkHashMap</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TreeMap"><span class="toc-number">6.7.</span> <span class="toc-text">TreeMap</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%A5%E5%85%85%E7%9F%A5%E8%AF%86%EF%BC%9A%E9%9B%86%E5%90%88%E7%9A%84%E5%B5%8C%E5%A5%97"><span class="toc-number">6.8.</span> <span class="toc-text">è¡¥å……çŸ¥è¯†ï¼šé›†åˆçš„åµŒå¥—</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Stream%E6%B5%81"><span class="toc-number">7.</span> <span class="toc-text">Streamæµ</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%A4%E8%AF%86Stream"><span class="toc-number">7.1.</span> <span class="toc-text">è®¤è¯†Stream</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Stream%E7%9A%84%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">7.2.</span> <span class="toc-text">Streamçš„å¸¸ç”¨æ–¹æ³•</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#File%E3%80%81IO%E6%B5%81"><span class="toc-number">8.</span> <span class="toc-text">Fileã€IOæµ</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#File"><span class="toc-number">8.1.</span> <span class="toc-text">File</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E5%AF%B9%E8%B1%A1"><span class="toc-number">8.1.1.</span> <span class="toc-text">åˆ›å»ºå¯¹è±¡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E8%A7%81%E6%96%B9%E6%B3%951%EF%BC%9A%E5%88%A4%E6%96%AD%E6%96%87%E4%BB%B6%E7%B1%BB%E5%9E%8B%E3%80%81%E8%8E%B7%E5%8F%96%E6%96%87%E4%BB%B6%E4%BF%A1%E6%81%AF"><span class="toc-number">8.1.2.</span> <span class="toc-text">å¸¸è§æ–¹æ³•1ï¼šåˆ¤æ–­æ–‡ä»¶ç±»å‹ã€è·å–æ–‡ä»¶ä¿¡æ¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%952%EF%BC%9A%E5%88%9B%E5%BB%BA%E6%96%87%E4%BB%B6%E3%80%81%E5%88%A0%E9%99%A4%E6%96%87%E4%BB%B6"><span class="toc-number">8.1.3.</span> <span class="toc-text">å¸¸ç”¨æ–¹æ³•2ï¼šåˆ›å»ºæ–‡ä»¶ã€åˆ é™¤æ–‡ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%953%EF%BC%9A%E9%81%8D%E5%8E%86%E6%96%87%E4%BB%B6%E5%A4%B9"><span class="toc-number">8.1.4.</span> <span class="toc-text">å¸¸ç”¨æ–¹æ³•3ï¼šéå†æ–‡ä»¶å¤¹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%96%B9%E6%B3%95%E9%80%92%E5%BD%92"><span class="toc-number">8.2.</span> <span class="toc-text">æ–¹æ³•é€’å½’</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%92%E5%BD%92%E7%AE%97%E6%B3%95%E5%BC%95%E5%85%A5"><span class="toc-number">8.2.1.</span> <span class="toc-text">é€’å½’ç®—æ³•å¼•å…¥</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%92%E5%BD%92%E7%AE%97%E6%B3%95%E7%9A%84%E6%89%A7%E8%A1%8C%E6%B5%81%E7%A8%8B"><span class="toc-number">8.2.2.</span> <span class="toc-text">é€’å½’ç®—æ³•çš„æ‰§è¡Œæµç¨‹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%80%92%E5%BD%92%E6%96%87%E4%BB%B6%E6%90%9C%E7%B4%A2"><span class="toc-number">8.2.3.</span> <span class="toc-text">é€’å½’æ–‡ä»¶æœç´¢</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E9%9B%86"><span class="toc-number">8.3.</span> <span class="toc-text">å­—ç¬¦é›†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E9%9B%86%E7%9A%84%E6%9D%A5%E5%8E%86"><span class="toc-number">8.3.1.</span> <span class="toc-text">å­—ç¬¦é›†çš„æ¥å†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B1%89%E5%AD%97%E5%92%8C%E5%AD%97%E6%AF%8D%E7%9A%84%E7%BC%96%E7%A0%81%E7%89%B9%E7%82%B9"><span class="toc-number">8.3.2.</span> <span class="toc-text">æ±‰å­—å’Œå­—æ¯çš„ç¼–ç ç‰¹ç‚¹</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Unicode%E5%AD%97%E7%AC%A6%E9%9B%86"><span class="toc-number">8.3.3.</span> <span class="toc-text">Unicodeå­—ç¬¦é›†</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E9%9B%86%E5%B0%8F%E7%BB%93"><span class="toc-number">8.3.4.</span> <span class="toc-text">å­—ç¬¦é›†å°ç»“</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%96%E7%A0%81%E5%92%8C%E8%A7%A3%E7%A0%81"><span class="toc-number">8.3.5.</span> <span class="toc-text">ç¼–ç å’Œè§£ç </span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IO%E6%B5%81%EF%BC%88%E5%AD%97%E8%8A%82%E6%B5%81%EF%BC%89"><span class="toc-number">8.4.</span> <span class="toc-text">IOæµï¼ˆå­—èŠ‚æµï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#IO%E6%B5%81%E6%A6%82%E8%BF%B0"><span class="toc-number">8.4.1.</span> <span class="toc-text">IOæµæ¦‚è¿°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#FileInputStream%E8%AF%BB%E5%8F%96%E4%B8%80%E4%B8%AA%E5%AD%97%E8%8A%82"><span class="toc-number">8.4.2.</span> <span class="toc-text">FileInputStreamè¯»å–ä¸€ä¸ªå­—èŠ‚</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#FileInputStream%E8%AF%BB%E5%8F%96%E5%A4%9A%E4%B8%AA%E5%AD%97%E8%8A%82"><span class="toc-number">8.4.3.</span> <span class="toc-text">FileInputStreamè¯»å–å¤šä¸ªå­—èŠ‚</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#FileInputStream%E8%AF%BB%E5%8F%96%E5%85%A8%E9%83%A8%E5%AD%97%E8%8A%82"><span class="toc-number">8.4.4.</span> <span class="toc-text">FileInputStreamè¯»å–å…¨éƒ¨å­—èŠ‚</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#FileOutputStream%E5%86%99%E5%AD%97%E8%8A%82"><span class="toc-number">8.4.5.</span> <span class="toc-text">FileOutputStreamå†™å­—èŠ‚</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AD%97%E8%8A%82%E6%B5%81%E5%A4%8D%E5%88%B6%E6%96%87%E4%BB%B6"><span class="toc-number">8.4.6.</span> <span class="toc-text">å­—èŠ‚æµå¤åˆ¶æ–‡ä»¶</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#IO%E6%B5%81%E8%B5%84%E6%BA%90%E9%87%8A%E6%94%BE"><span class="toc-number">8.5.</span> <span class="toc-text">IOæµèµ„æºé‡Šæ”¾</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#JDK7%E4%BB%A5%E5%89%8D%E7%9A%84%E8%B5%84%E6%BA%90%E9%87%8A%E6%94%BE"><span class="toc-number">8.5.1.</span> <span class="toc-text">JDK7ä»¥å‰çš„èµ„æºé‡Šæ”¾</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JDK7%E4%BB%A5%E5%90%8E%E7%9A%84%E8%B5%84%E6%BA%90%E9%87%8A%E6%94%BE"><span class="toc-number">8.5.2.</span> <span class="toc-text">JDK7ä»¥åçš„èµ„æºé‡Šæ”¾</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AD%97%E7%AC%A6%E6%B5%81"><span class="toc-number">8.6.</span> <span class="toc-text">å­—ç¬¦æµ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#FileReader%E7%B1%BB"><span class="toc-number">8.6.1.</span> <span class="toc-text">FileReaderç±»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#FileWriter%E7%B1%BB"><span class="toc-number">8.6.2.</span> <span class="toc-text">FileWriterç±»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#FileWriter%E5%86%99%E7%9A%84%E6%B3%A8%E6%84%8F%E4%BA%8B%E9%A1%B9"><span class="toc-number">8.6.3.</span> <span class="toc-text">FileWriterå†™çš„æ³¨æ„äº‹é¡¹</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BC%93%E5%86%B2%E6%B5%81"><span class="toc-number">8.7.</span> <span class="toc-text">ç¼“å†²æµ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%93%E5%86%B2%E5%AD%97%E8%8A%82%E6%B5%81"><span class="toc-number">8.7.1.</span> <span class="toc-text">ç¼“å†²å­—èŠ‚æµ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-2-%E5%AD%97%E7%AC%A6%E7%BC%93%E5%86%B2%E6%B5%81"><span class="toc-number">8.7.2.</span> <span class="toc-text">2.2 å­—ç¬¦ç¼“å†²æµ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%93%E5%86%B2%E6%B5%81%E6%80%A7%E8%83%BD%E5%88%86%E6%9E%90"><span class="toc-number">8.7.3.</span> <span class="toc-text">ç¼“å†²æµæ€§èƒ½åˆ†æ</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%89%E3%80%81%E8%BD%AC%E6%8D%A2%E6%B5%81"><span class="toc-number">8.8.</span> <span class="toc-text">ä¸‰ã€è½¬æ¢æµ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#InputStreamReader%E7%B1%BB"><span class="toc-number">8.8.1.</span> <span class="toc-text">InputStreamReaderç±»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#OutputStreamWriter%E7%B1%BB"><span class="toc-number">8.8.2.</span> <span class="toc-text">OutputStreamWriterç±»</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%89%93%E5%8D%B0%E6%B5%81"><span class="toc-number">8.9.</span> <span class="toc-text">æ‰“å°æµ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%93%E5%8D%B0%E6%B5%81%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">8.9.1.</span> <span class="toc-text">æ‰“å°æµåŸºæœ¬ä½¿ç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%87%8D%E5%AE%9A%E5%90%91%E8%BE%93%E5%87%BA%E8%AF%AD%E5%8F%A5"><span class="toc-number">8.9.2.</span> <span class="toc-text">é‡å®šå‘è¾“å‡ºè¯­å¥</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E6%B5%81"><span class="toc-number">8.10.</span> <span class="toc-text">æ•°æ®æµ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#DataOutputStream%E7%B1%BB"><span class="toc-number">8.10.1.</span> <span class="toc-text">DataOutputStreamç±»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DataInputStream%E7%B1%BB"><span class="toc-number">8.10.2.</span> <span class="toc-text">DataInputStreamç±»</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%BA%8F%E5%88%97%E5%8C%96%E6%B5%81"><span class="toc-number">8.11.</span> <span class="toc-text">åºåˆ—åŒ–æµ</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ObjectOutputStraem%E7%B1%BB"><span class="toc-number">8.11.1.</span> <span class="toc-text">ObjectOutputStraemç±»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ObjectInputStream%E7%B1%BB"><span class="toc-number">8.11.2.</span> <span class="toc-text">ObjectInputStreamç±»</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%A5%E5%85%85%E7%9F%A5%E8%AF%86%EF%BC%9AIO%E6%A1%86%E6%9E%B6"><span class="toc-number">8.12.</span> <span class="toc-text">è¡¥å……çŸ¥è¯†ï¼šIOæ¡†æ¶</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%89%B9%E6%AE%8A%E6%96%87%E4%BB%B6%E3%80%81%E6%97%A5%E5%BF%97%E6%8A%80%E6%9C%AF%E3%80%81%E5%A4%9A%E7%BA%BF%E7%A8%8B"><span class="toc-number">9.</span> <span class="toc-text">ç‰¹æ®Šæ–‡ä»¶ã€æ—¥å¿—æŠ€æœ¯ã€å¤šçº¿ç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B1%9E%E6%80%A7%E6%96%87%E4%BB%B6"><span class="toc-number">9.1.</span> <span class="toc-text">å±æ€§æ–‡ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%89%B9%E6%AE%8A%E6%96%87%E4%BB%B6%E6%A6%82%E8%BF%B0"><span class="toc-number">9.1.1.</span> <span class="toc-text">ç‰¹æ®Šæ–‡ä»¶æ¦‚è¿°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Properties%E5%B1%9E%E6%80%A7%E6%96%87%E4%BB%B6"><span class="toc-number">9.1.2.</span> <span class="toc-text">Propertieså±æ€§æ–‡ä»¶</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#XML%E6%96%87%E4%BB%B6"><span class="toc-number">9.2.</span> <span class="toc-text">XMLæ–‡ä»¶</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#XML%E6%96%87%E4%BB%B6%E6%A6%82%E8%BF%B0"><span class="toc-number">9.2.1.</span> <span class="toc-text">XMLæ–‡ä»¶æ¦‚è¿°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#XML%E8%A7%A3%E6%9E%901"><span class="toc-number">9.2.2.</span> <span class="toc-text">XMLè§£æ1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#XML%E8%A7%A3%E6%9E%902"><span class="toc-number">9.2.3.</span> <span class="toc-text">XMLè§£æ2</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#XML%E6%96%87%E4%BB%B6%E5%86%99%E5%85%A5"><span class="toc-number">9.2.4.</span> <span class="toc-text">XMLæ–‡ä»¶å†™å…¥</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#XML%E7%BA%A6%E6%9D%9F%EF%BC%88%E4%BA%86%E8%A7%A3%EF%BC%89"><span class="toc-number">9.2.5.</span> <span class="toc-text">XMLçº¦æŸï¼ˆäº†è§£ï¼‰</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%97%A5%E5%BF%97%E6%8A%80%E6%9C%AF"><span class="toc-number">9.3.</span> <span class="toc-text">æ—¥å¿—æŠ€æœ¯</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A5%E5%BF%97%E6%A6%82%E8%BF%B0"><span class="toc-number">9.3.1.</span> <span class="toc-text">æ—¥å¿—æ¦‚è¿°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A5%E5%BF%97%E7%9A%84%E4%BD%93%E7%B3%BB"><span class="toc-number">9.3.2.</span> <span class="toc-text">æ—¥å¿—çš„ä½“ç³»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Logback%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8"><span class="toc-number">9.3.3.</span> <span class="toc-text">Logbackå¿«é€Ÿå…¥é—¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A5%E5%BF%97%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">9.3.4.</span> <span class="toc-text">æ—¥å¿—é…ç½®æ–‡ä»¶</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-5-%E9%85%8D%E7%BD%AE%E6%97%A5%E5%BF%97%E7%BA%A7%E5%88%AB"><span class="toc-number">9.3.5.</span> <span class="toc-text">3.5 é…ç½®æ—¥å¿—çº§åˆ«</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E7%BA%BF%E7%A8%8B"><span class="toc-number">9.4.</span> <span class="toc-text">å¤šçº¿ç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E5%88%9B%E5%BB%BA%E6%96%B9%E5%BC%8F1"><span class="toc-number">9.4.1.</span> <span class="toc-text">çº¿ç¨‹åˆ›å»ºæ–¹å¼1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E5%88%9B%E5%BB%BA%E6%96%B9%E5%BC%8F2"><span class="toc-number">9.4.2.</span> <span class="toc-text">çº¿ç¨‹åˆ›å»ºæ–¹å¼2</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E5%88%9B%E5%BB%BA%E6%96%B9%E5%BC%8F2%E2%80%94%E5%8C%BF%E5%90%8D%E5%86%85%E9%83%A8%E7%B1%BB"><span class="toc-number">9.4.3.</span> <span class="toc-text">çº¿ç¨‹åˆ›å»ºæ–¹å¼2â€”åŒ¿åå†…éƒ¨ç±»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E7%9A%84%E5%88%9B%E5%BB%BA%E6%96%B9%E5%BC%8F3"><span class="toc-number">9.4.4.</span> <span class="toc-text">çº¿ç¨‹çš„åˆ›å»ºæ–¹å¼3</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%A4%9A%E7%BA%BF%E7%A8%8B-1"><span class="toc-number">10.</span> <span class="toc-text">å¤šçº¿ç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%A4%9A%E7%BA%BF%E7%A8%8B%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">10.1.</span> <span class="toc-text">å¤šçº¿ç¨‹å¸¸ç”¨æ–¹æ³•</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%E9%97%AE%E9%A2%98"><span class="toc-number">10.2.</span> <span class="toc-text">çº¿ç¨‹å®‰å…¨é—®é¢˜</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%E9%97%AE%E9%A2%98%E6%A6%82%E8%BF%B0"><span class="toc-number">10.2.1.</span> <span class="toc-text">çº¿ç¨‹å®‰å…¨é—®é¢˜æ¦‚è¿°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E5%AE%89%E5%85%A8%E9%97%AE%E9%A2%98%E7%9A%84%E4%BB%A3%E7%A0%81%E6%BC%94%E7%A4%BA"><span class="toc-number">10.2.2.</span> <span class="toc-text">çº¿ç¨‹å®‰å…¨é—®é¢˜çš„ä»£ç æ¼”ç¤º</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E5%90%8C%E6%AD%A5%E6%96%B9%E6%A1%88"><span class="toc-number">10.2.3.</span> <span class="toc-text">çº¿ç¨‹åŒæ­¥æ–¹æ¡ˆ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%8C%E6%AD%A5%E4%BB%A3%E7%A0%81%E5%9D%97"><span class="toc-number">10.2.4.</span> <span class="toc-text">åŒæ­¥ä»£ç å—</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%8C%E6%AD%A5%E6%96%B9%E6%B3%95"><span class="toc-number">10.2.5.</span> <span class="toc-text">åŒæ­¥æ–¹æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Lock%E9%94%81"><span class="toc-number">10.2.6.</span> <span class="toc-text">Locké”</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E9%80%9A%E4%BF%A1%EF%BC%88%E4%BA%86%E8%A7%A3%EF%BC%89"><span class="toc-number">10.3.</span> <span class="toc-text">çº¿ç¨‹é€šä¿¡ï¼ˆäº†è§£ï¼‰</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E6%B1%A0"><span class="toc-number">10.4.</span> <span class="toc-text">çº¿ç¨‹æ± </span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E6%B1%A0%E6%A6%82%E8%BF%B0"><span class="toc-number">10.4.1.</span> <span class="toc-text">çº¿ç¨‹æ± æ¦‚è¿°</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E7%BA%BF%E7%A8%8B%E6%B1%A0"><span class="toc-number">10.4.2.</span> <span class="toc-text">åˆ›å»ºçº¿ç¨‹æ± </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E6%B1%A0%E6%89%A7%E8%A1%8CRunnable%E4%BB%BB%E5%8A%A1"><span class="toc-number">10.4.3.</span> <span class="toc-text">çº¿ç¨‹æ± æ‰§è¡ŒRunnableä»»åŠ¡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E6%B1%A0%E6%89%A7%E8%A1%8CCallable%E4%BB%BB%E5%8A%A1"><span class="toc-number">10.4.4.</span> <span class="toc-text">çº¿ç¨‹æ± æ‰§è¡ŒCallableä»»åŠ¡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E6%B1%A0%E5%B7%A5%E5%85%B7%E7%B1%BB%EF%BC%88Executors%EF%BC%89"><span class="toc-number">10.4.5.</span> <span class="toc-text">çº¿ç¨‹æ± å·¥å…·ç±»ï¼ˆExecutorsï¼‰</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%A1%A5%E5%85%85%E7%9F%A5%E8%AF%86"><span class="toc-number">10.5.</span> <span class="toc-text">è¡¥å……çŸ¥è¯†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B9%B6%E5%8F%91%E5%92%8C%E5%B9%B6%E8%A1%8C"><span class="toc-number">10.5.1.</span> <span class="toc-text">å¹¶å‘å’Œå¹¶è¡Œ</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BA%BF%E7%A8%8B%E7%9A%84%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">10.5.2.</span> <span class="toc-text">çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B"><span class="toc-number">11.</span> <span class="toc-text">ç½‘ç»œç¼–ç¨‹</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E6%A6%82%E8%BF%B0"><span class="toc-number">11.1.</span> <span class="toc-text">ç½‘ç»œç¼–ç¨‹æ¦‚è¿°</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E4%B8%89%E8%A6%81%E7%B4%A0"><span class="toc-number">11.2.</span> <span class="toc-text">ç½‘ç»œç¼–ç¨‹ä¸‰è¦ç´ </span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#IP%E5%9C%B0%E5%9D%80"><span class="toc-number">11.2.1.</span> <span class="toc-text">IPåœ°å€</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#InetAddress%E7%B1%BB"><span class="toc-number">11.2.2.</span> <span class="toc-text">InetAddressç±»</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%AB%AF%E5%8F%A3%E5%8F%B7"><span class="toc-number">11.2.3.</span> <span class="toc-text">ç«¯å£å·</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%8F%E8%AE%AE"><span class="toc-number">11.2.4.</span> <span class="toc-text">åè®®</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UDP%E9%80%9A%E4%BF%A1%E4%BB%A3%E7%A0%81%EF%BC%88%E5%85%A5%E9%97%A8%E6%A1%88%E4%BE%8B%EF%BC%89"><span class="toc-number">11.3.</span> <span class="toc-text">UDPé€šä¿¡ä»£ç ï¼ˆå…¥é—¨æ¡ˆä¾‹ï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%A2%E6%88%B7%E7%AB%AF%E7%A8%8B%E5%BA%8F"><span class="toc-number">11.3.1.</span> <span class="toc-text">å®¢æˆ·ç«¯ç¨‹åº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E7%AB%AF%E7%A8%8B%E5%BA%8F"><span class="toc-number">11.3.2.</span> <span class="toc-text">æœåŠ¡ç«¯ç¨‹åº</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#UDP%E9%80%9A%E4%BF%A1%E4%BB%A3%E7%A0%81%EF%BC%88%E5%A4%9A%E5%8F%91%E5%A4%9A%E6%94%B6%EF%BC%89"><span class="toc-number">11.4.</span> <span class="toc-text">UDPé€šä¿¡ä»£ç ï¼ˆå¤šå‘å¤šæ”¶ï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%AE%A2%E6%88%B7%E7%AB%AF%E7%A8%8B%E5%BA%8F-1"><span class="toc-number">11.4.1.</span> <span class="toc-text">å®¢æˆ·ç«¯ç¨‹åº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E7%AB%AF%E7%A8%8B%E5%BA%8F-1"><span class="toc-number">11.4.2.</span> <span class="toc-text">æœåŠ¡ç«¯ç¨‹åº</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TCP%E9%80%9A%E4%BF%A1%EF%BC%88%E4%B8%80%E5%8F%91%E4%B8%80%E6%94%B6%EF%BC%89"><span class="toc-number">11.5.</span> <span class="toc-text">TCPé€šä¿¡ï¼ˆä¸€å‘ä¸€æ”¶ï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#TCP%E5%AE%A2%E6%88%B7%E7%AB%AF"><span class="toc-number">11.5.1.</span> <span class="toc-text">TCPå®¢æˆ·ç«¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TCP%E6%9C%8D%E5%8A%A1%E7%AB%AF"><span class="toc-number">11.5.2.</span> <span class="toc-text">TCPæœåŠ¡ç«¯</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TCP%E9%80%9A%E4%BF%A1%EF%BC%88%E5%A4%9A%E5%8F%91%E5%A4%9A%E6%94%B6%EF%BC%89"><span class="toc-number">11.6.</span> <span class="toc-text">TCPé€šä¿¡ï¼ˆå¤šå‘å¤šæ”¶ï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-TCP%E5%AE%A2%E6%88%B7%E7%AB%AF"><span class="toc-number">11.6.1.</span> <span class="toc-text">6.1 TCPå®¢æˆ·ç«¯</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TCP%E6%9C%8D%E5%8A%A1%E7%AB%AF-1"><span class="toc-number">11.6.2.</span> <span class="toc-text">TCPæœåŠ¡ç«¯</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#TCP%E9%80%9A%E4%BF%A1%EF%BC%88%E5%A4%9A%E7%BA%BF%E7%A8%8B%E6%94%B9%E8%BF%9B%EF%BC%89"><span class="toc-number">11.7.</span> <span class="toc-text">TCPé€šä¿¡ï¼ˆå¤šçº¿ç¨‹æ”¹è¿›ï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E7%BA%BF%E7%A8%8B%E6%94%B9%E8%BF%9B"><span class="toc-number">11.7.1.</span> <span class="toc-text">å¤šçº¿ç¨‹æ”¹è¿›</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B%E6%8B%93%E5%B1%95%EF%BC%88%E7%BE%A4%E8%81%8A%EF%BC%89"><span class="toc-number">11.7.2.</span> <span class="toc-text">æ¡ˆä¾‹æ‹“å±•ï¼ˆç¾¤èŠï¼‰</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#BS%E6%9E%B6%E6%9E%84%E7%A8%8B%E5%BA%8F%EF%BC%88%E7%AE%80%E6%98%93%E7%89%88%EF%BC%89"><span class="toc-number">11.8.</span> <span class="toc-text">BSæ¶æ„ç¨‹åºï¼ˆç®€æ˜“ç‰ˆï¼‰</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E7%AB%AF%E7%A8%8B%E5%BA%8F-2"><span class="toc-number">11.8.1.</span> <span class="toc-text">æœåŠ¡ç«¯ç¨‹åº</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%8D%E5%8A%A1%E7%AB%AF%E4%B8%BB%E7%A8%8B%E5%BA%8F%E7%94%A8%E7%BA%BF%E7%A8%8B%E6%B1%A0%E6%94%B9%E8%BF%9B"><span class="toc-number">11.8.2.</span> <span class="toc-text">æœåŠ¡ç«¯ä¸»ç¨‹åºç”¨çº¿ç¨‹æ± æ”¹è¿›</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E3%80%81%E5%8F%8D%E5%B0%84"><span class="toc-number">12.</span> <span class="toc-text">å•å…ƒæµ‹è¯•ã€åå°„</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95"><span class="toc-number">12.1.</span> <span class="toc-text">å•å…ƒæµ‹è¯•</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E5%BF%AB%E9%80%9F%E5%85%A5%E9%97%A8"><span class="toc-number">12.1.1.</span> <span class="toc-text">å•å…ƒæµ‹è¯•å¿«é€Ÿå…¥é—¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8D%95%E5%85%83%E6%B5%8B%E8%AF%95%E6%96%AD%E8%A8%80"><span class="toc-number">12.1.2.</span> <span class="toc-text">å•å…ƒæµ‹è¯•æ–­è¨€</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Junit%E6%A1%86%E6%9E%B6%E7%9A%84%E5%B8%B8%E7%94%A8%E6%B3%A8%E8%A7%A3"><span class="toc-number">12.1.3.</span> <span class="toc-text">Junitæ¡†æ¶çš„å¸¸ç”¨æ³¨è§£</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8F%8D%E5%B0%84"><span class="toc-number">12.2.</span> <span class="toc-text">åå°„</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E7%B1%BB%E7%9A%84%E5%AD%97%E8%8A%82%E7%A0%81"><span class="toc-number">12.2.1.</span> <span class="toc-text">è·å–ç±»çš„å­—èŠ‚ç </span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96%E7%B1%BB%E7%9A%84%E6%9E%84%E9%80%A0%E5%99%A8"><span class="toc-number">12.2.2.</span> <span class="toc-text">è·å–ç±»çš„æ„é€ å™¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%8D%E5%B0%84%E8%8E%B7%E5%8F%96%E6%9E%84%E9%80%A0%E5%99%A8%E7%9A%84%E4%BD%9C%E7%94%A8"><span class="toc-number">12.2.3.</span> <span class="toc-text">åå°„è·å–æ„é€ å™¨çš„ä½œç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%8D%E5%B0%84%E8%8E%B7%E5%8F%96%E6%88%90%E5%91%98%E5%8F%98%E9%87%8F-%E4%BD%BF%E7%94%A8"><span class="toc-number">12.2.4.</span> <span class="toc-text">åå°„è·å–æˆå‘˜å˜é‡&amp;ä½¿ç”¨</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%8D%E5%B0%84%E8%8E%B7%E5%8F%96%E6%88%90%E5%91%98%E6%96%B9%E6%B3%95"><span class="toc-number">12.2.5.</span> <span class="toc-text">åå°„è·å–æˆå‘˜æ–¹æ³•</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%8D%E5%B0%84%E7%9A%84%E5%BA%94%E7%94%A8"><span class="toc-number">12.2.6.</span> <span class="toc-text">åå°„çš„åº”ç”¨</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E8%A7%A3"><span class="toc-number">12.3.</span> <span class="toc-text">æ³¨è§£</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%A4%E8%AF%86%E6%B3%A8%E8%A7%A3-%E5%AE%9A%E4%B9%89%E6%B3%A8%E8%A7%A3"><span class="toc-number">12.3.1.</span> <span class="toc-text">è®¤è¯†æ³¨è§£&amp;å®šä¹‰æ³¨è§£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%83%E6%B3%A8%E8%A7%A3"><span class="toc-number">12.3.2.</span> <span class="toc-text">å…ƒæ³¨è§£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E6%9E%90%E6%B3%A8%E8%A7%A3"><span class="toc-number">12.3.3.</span> <span class="toc-text">è§£ææ³¨è§£</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%B3%A8%E8%A7%A3%E7%9A%84%E5%BA%94%E7%94%A8%E5%9C%BA%E6%99%AF"><span class="toc-number">12.3.4.</span> <span class="toc-text">æ³¨è§£çš„åº”ç”¨åœºæ™¯</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86"><span class="toc-number">12.4.</span> <span class="toc-text">åŠ¨æ€ä»£ç†</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E4%BB%8B%E7%BB%8D%E3%80%81%E5%87%86%E5%A4%87%E5%8A%9F%E8%83%BD"><span class="toc-number">12.4.1.</span> <span class="toc-text">åŠ¨æ€ä»£ç†ä»‹ç»ã€å‡†å¤‡åŠŸèƒ½</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E6%88%90%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E5%AF%B9%E8%B1%A1"><span class="toc-number">12.4.2.</span> <span class="toc-text">ç”ŸæˆåŠ¨æ€ä»£ç†å¯¹è±¡</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86%E5%BA%94%E7%94%A8"><span class="toc-number">12.4.3.</span> <span class="toc-text">åŠ¨æ€ä»£ç†åº”ç”¨</span></a></li></ol></li></ol></li></ol></div></div></div></div></main><footer id="footer"><div id="footer-wrap"></div><div id="footer-bar"><div class="footer-bar-links"><div class="footer-bar-left"><div id="footer-bar-tips"><div class="copyright">&copy;2022 - 2024 By <a class="footer-bar-link" href="/" title="Smith" target="_blank">Smith</a></div></div><div id="footer-type-tips"></div></div><div class="footer-bar-right"><a class="footer-bar-link" target="_blank" rel="noopener" href="https://github.com/Smithhss/smithhs.github.io.git" title="Hexo">Hexo</a></div></div></div></footer></div></div></div><div id="sidebar"><div id="sidebar-menus"><div class="avatar-img is-center"><img src= "data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onerror="this.onerror=null,this.src=&quot;/img/404.jpg&quot;" data-lazy-src="https://smith-1315833455.cos.ap-beijing.myqcloud.com/blog/d20f536c64d06e5fcf4bfe2ec5dc25d.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="sidebar-site-data site-data is-center"><a href="/archives/" title="archive"><div class="headline">æ–‡ç« </div><div class="length-num">79</div></a><a href="/tags/" title="tag"><div class="headline">æ ‡ç­¾</div><div class="length-num">55</div></a><a href="/categories/" title="category"><div class="headline">åˆ†ç±»</div><div class="length-num">6</div></a></div><div class="menus_items"><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> æ–‡ç« </span></a><ul class="menus_item_child" style="left:-79px;"><li><a class="site-page child faa-parent animated-hover" href="/archives/"><i class="anzhiyufont anzhiyu-icon-box-archive faa-tada" style="font-size: 0.9em;"></i><span> éš§é“</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/categories/"><i class="anzhiyufont anzhiyu-icon-shapes faa-tada" style="font-size: 0.9em;"></i><span> åˆ†ç±»</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags faa-tada" style="font-size: 0.9em;"></i><span> æ ‡ç­¾</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> æˆ‘çš„</span></a><ul class="menus_item_child" style="left:-31px;"><li><a class="site-page child faa-parent animated-hover" href="/album/"><i class="anzhiyufont anzhiyu-icon-images faa-tada" style="font-size: 0.9em;"></i><span> ç›¸å†Œé›†</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/music/"><i class="anzhiyufont anzhiyu-icon-music faa-tada" style="font-size: 0.9em;"></i><span> éŸ³ä¹é¦†</span></a></li></ul></div><div class="menus_item"><a class="site-page faa-parent animated-hover" href="javascript:void(0);"><span> å…³äº</span></a><ul class="menus_item_child" style="left:-79px;"><li><a class="site-page child faa-parent animated-hover" href="/about/"><i class="anzhiyufont anzhiyu-icon-paper-plane faa-tada" style="font-size: 0.9em;"></i><span> å…³äºæˆ‘</span></a></li><li><a class="site-page child faa-parent animated-hover" href="/essay/"><i class="anzhiyufont anzhiyu-icon-lightbulb faa-tada" style="font-size: 0.9em;"></i><span> é—²è¨€ç¢è¯­</span></a></li><li><a class="site-page child faa-parent animated-hover" href="javascript:toRandomPost()"><i class="anzhiyufont anzhiyu-icon-shoe-prints1 faa-tada" style="font-size: 0.9em;"></i><span> éšä¾¿é€›é€›</span></a></li></ul></div></div></div></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="é˜…è¯»æ¨¡å¼"><i class="anzhiyufont anzhiyu-icon-book-open"></i></button><button id="translateLink" type="button" title="ç®€ç¹è½¬æ¢">ç¹</button><button id="darkmode" type="button" title="æµ…è‰²å’Œæ·±è‰²æ¨¡å¼è½¬æ¢"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i></button><button id="hide-aside-btn" type="button" title="å•æ å’ŒåŒæ åˆ‡æ¢"><i class="anzhiyufont anzhiyu-icon-arrows-left-right"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="è®¾ç½®"><i class="anzhiyufont anzhiyu-icon-gear"></i></button><button class="close" id="mobile-toc-button" type="button" title="ç›®å½•"><i class="anzhiyufont anzhiyu-icon-list-ul"></i></button><button id="go-up" type="button" title="å›åˆ°é¡¶éƒ¨"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></button></div></div><div id="nav-music"><a id="nav-music-hoverTips" onclick="anzhiyu.musicToggle()" accesskey="m">æ’­æ”¾éŸ³ä¹</a><div id="console-music-bg"></div><meting-js id="8805965276" server="netease" type="playlist" mutex="true" preload="none" theme="var(--anzhiyu-main)" data-lrctype="0" order="random"></meting-js></div><div id="rightMenu"><div class="rightMenu-group rightMenu-small"><div class="rightMenu-item" id="menu-backward"><i class="anzhiyufont anzhiyu-icon-arrow-left"></i></div><div class="rightMenu-item" id="menu-forward"><i class="anzhiyufont anzhiyu-icon-arrow-right"></i></div><div class="rightMenu-item" id="menu-refresh"><i class="anzhiyufont anzhiyu-icon-arrow-rotate-right" style="font-size: 1rem;"></i></div><div class="rightMenu-item" id="menu-top"><i class="anzhiyufont anzhiyu-icon-arrow-up"></i></div></div><div class="rightMenu-group rightMenu-line rightMenuPlugin"><div class="rightMenu-item" id="menu-copytext"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>å¤åˆ¶é€‰ä¸­æ–‡æœ¬</span></div><div class="rightMenu-item" id="menu-pastetext"><i class="anzhiyufont anzhiyu-icon-paste"></i><span>ç²˜è´´æ–‡æœ¬</span></div><a class="rightMenu-item" id="menu-commenttext"><i class="anzhiyufont anzhiyu-icon-comment-medical"></i><span>å¼•ç”¨åˆ°è¯„è®º</span></a><div class="rightMenu-item" id="menu-newwindow"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>æ–°çª—å£æ‰“å¼€</span></div><div class="rightMenu-item" id="menu-copylink"><i class="anzhiyufont anzhiyu-icon-link"></i><span>å¤åˆ¶é“¾æ¥åœ°å€</span></div><div class="rightMenu-item" id="menu-copyimg"><i class="anzhiyufont anzhiyu-icon-images"></i><span>å¤åˆ¶æ­¤å›¾ç‰‡</span></div><div class="rightMenu-item" id="menu-downloadimg"><i class="anzhiyufont anzhiyu-icon-download"></i><span>ä¸‹è½½æ­¤å›¾ç‰‡</span></div><div class="rightMenu-item" id="menu-newwindowimg"><i class="anzhiyufont anzhiyu-icon-window-restore"></i><span>æ–°çª—å£æ‰“å¼€å›¾ç‰‡</span></div><div class="rightMenu-item" id="menu-search"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>ç«™å†…æœç´¢</span></div><div class="rightMenu-item" id="menu-searchBaidu"><i class="anzhiyufont anzhiyu-icon-magnifying-glass"></i><span>ç™¾åº¦æœç´¢</span></div><div class="rightMenu-item" id="menu-music-toggle"><i class="anzhiyufont anzhiyu-icon-play"></i><span>æ’­æ”¾éŸ³ä¹</span></div><div class="rightMenu-item" id="menu-music-back"><i class="anzhiyufont anzhiyu-icon-backward"></i><span>åˆ‡æ¢åˆ°ä¸Šä¸€é¦–</span></div><div class="rightMenu-item" id="menu-music-forward"><i class="anzhiyufont anzhiyu-icon-forward"></i><span>åˆ‡æ¢åˆ°ä¸‹ä¸€é¦–</span></div><div class="rightMenu-item" id="menu-music-playlist" onclick="window.open(&quot;https://music.163.com/#/my/m/music/playlist?id=464586318&quot;, &quot;_blank&quot;);" style="display: none;"><i class="anzhiyufont anzhiyu-icon-radio"></i><span>æŸ¥çœ‹æ‰€æœ‰æ­Œæ›²</span></div><div class="rightMenu-item" id="menu-music-copyMusicName"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>å¤åˆ¶æ­Œå</span></div></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item menu-link" id="menu-randomPost"><i class="anzhiyufont anzhiyu-icon-shuffle"></i><span>éšä¾¿é€›é€›</span></a><a class="rightMenu-item menu-link" href="/categories/"><i class="anzhiyufont anzhiyu-icon-cube"></i><span>åšå®¢åˆ†ç±»</span></a><a class="rightMenu-item menu-link" href="/tags/"><i class="anzhiyufont anzhiyu-icon-tags"></i><span>æ–‡ç« æ ‡ç­¾</span></a></div><div class="rightMenu-group rightMenu-line rightMenuOther"><a class="rightMenu-item" id="menu-copy" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-copy"></i><span>å¤åˆ¶åœ°å€</span></a><a class="rightMenu-item" id="menu-commentBarrage" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-message"></i><span class="menu-commentBarrage-text">å…³é—­çƒ­è¯„</span></a><a class="rightMenu-item" id="menu-darkmode" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-circle-half-stroke"></i><span class="menu-darkmode-text">æ·±è‰²æ¨¡å¼</span></a><a class="rightMenu-item" id="menu-translate" href="javascript:void(0);"><i class="anzhiyufont anzhiyu-icon-language"></i><span>è½‰ç‚ºç¹é«”</span></a></div></div><div id="rightmenu-mask"></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn1.tianli0.top/npm/js-heo@1.0.6/translate/tw_cn.js"></script><script src="https://cdn.cbd.int/@fancyapps/ui@5.0.14/dist/fancybox/fancybox.umd.js"></script><script src="https://cdn.cbd.int/instant.page@5.2.0/instantpage.js" type="module"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/vanilla-lazyload/17.3.1/lazyload.iife.min.js"></script><script src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/node-snackbar/0.1.16/snackbar.min.js"></script><script>var meting_api = "https://meting.qjqq.cn/?server=:server&type=:type&id=:id&auth=:auth&r=:r";
</script><canvas id="universe"></canvas><script async src="https://npm.elemecdn.com/anzhiyu-theme-static@1.0.0/dark/dark.js"></script><script>// æ¶ˆé™¤æ§åˆ¶å°æ‰“å°
var HoldLog = console.log;
console.log = function () {};
let now1 = new Date();
queueMicrotask(() => {
  const Log = function () {
    HoldLog.apply(console, arguments);
  }; //åœ¨æ¢å¤å‰è¾“å‡ºæ—¥å¿—
  const grt = new Date("07/01/2022 00:00:00"); //æ­¤å¤„ä¿®æ”¹ä½ çš„å»ºç«™æ—¶é—´æˆ–è€…ç½‘ç«™ä¸Šçº¿æ—¶é—´
  now1.setTime(now1.getTime() + 250);
  const days = (now1 - grt) / 1000 / 60 / 60 / 24;
  const dnum = Math.floor(days);
  const ascll = [
    `æ¬¢è¿ä½¿ç”¨å®‰çŸ¥é±¼!`,
    `ç”Ÿæ´»æ˜æœ—, ä¸‡ç‰©å¯çˆ±`,
    `
        
       â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•— â–ˆâ–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•—  â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—â–ˆâ–ˆâ•—   â–ˆâ–ˆâ•—
      â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•—â–ˆâ–ˆâ–ˆâ–ˆâ•—  â–ˆâ–ˆâ•‘â•šâ•â•â–ˆâ–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•— â–ˆâ–ˆâ•”â•â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘
      â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•”â–ˆâ–ˆâ•— â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•”â• â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘
      â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘â•šâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘ â–ˆâ–ˆâ–ˆâ•”â•  â–ˆâ–ˆâ•”â•â•â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘  â•šâ–ˆâ–ˆâ•”â•  â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘
      â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘ â•šâ–ˆâ–ˆâ–ˆâ–ˆâ•‘â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•—â–ˆâ–ˆâ•‘  â–ˆâ–ˆâ•‘â–ˆâ–ˆâ•‘   â–ˆâ–ˆâ•‘   â•šâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ•”â•
      â•šâ•â•  â•šâ•â•â•šâ•â•  â•šâ•â•â•â•â•šâ•â•â•â•â•â•â•â•šâ•â•  â•šâ•â•â•šâ•â•   â•šâ•â•    â•šâ•â•â•â•â•â•
        
        `,
    "å·²ä¸Šçº¿",
    dnum,
    "å¤©",
    "Â©2022 By å®‰çŸ¥é±¼ V1.5.3",
  ];
  const ascll2 = [`NCC2-036`, `è°ƒç”¨å‰ç½®æ‘„åƒå¤´æ‹ç…§æˆåŠŸï¼Œè¯†åˆ«ä¸ºã€å°ç¬¨è›‹ã€‘.`, `Photo captured: `, `ğŸ¤ª`];

  setTimeout(
    Log.bind(
      console,
      `\n%c${ascll[0]} %c ${ascll[1]} %c ${ascll[2]} %c${ascll[3]}%c ${ascll[4]}%c ${ascll[5]}\n\n%c ${ascll[6]}\n`,
      "color:#3b70fc",
      "",
      "color:#3b70fc",
      "color:#3b70fc",
      "",
      "color:#3b70fc",
      ""
    )
  );
  setTimeout(
    Log.bind(
      console,
      `%c ${ascll2[0]} %c ${ascll2[1]} %c \n${ascll2[2]} %c\n${ascll2[3]}\n`,
      "color:white; background-color:#4fd953",
      "",
      "",
      'background:url("https://npm.elemecdn.com/anzhiyu-blog@1.1.6/img/post/common/tinggge.gif") no-repeat;font-size:450%'
    )
  );

  setTimeout(Log.bind(console, "%c WELCOME %c ä½ å¥½ï¼Œå°ç¬¨è›‹.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(
      console,
      "%c âš¡ Powered by å®‰çŸ¥é±¼ %c ä½ æ­£åœ¨è®¿é—® Smith çš„åšå®¢.",
      "color:white; background-color:#f0ad4e",
      ""
    )
  );

  setTimeout(Log.bind(console, "%c W23-12 %c ä½ å·²æ‰“å¼€æ§åˆ¶å°.", "color:white; background-color:#4f90d9", ""));

  setTimeout(
    console.warn.bind(console, "%c S013-782 %c ä½ ç°åœ¨æ­£å¤„äºç›‘æ§ä¸­.", "color:white; background-color:#d9534f", "")
  );
});</script><script async src="/anzhiyu/random.js"></script><div class="js-pjax"><input type="hidden" name="page-type" id="page-type" value="post"></div><script>var visitorMail = "visitor@anheyu.com";</script><script>//åŠ¨æ€æ ‡é¢˜
let leaveTitle = 'å†çœ‹çœ‹å˜›ğŸŒˆï¼';
let backTitle = 'æ¬¢è¿å›æ¥âœŒï¸ï¼';
let OriginTitile = document.title
let titleTime
document.addEventListener('visibilitychange', function () {
  if (document.hidden) {
    //ç¦»å¼€å½“å‰é¡µé¢æ—¶æ ‡ç­¾æ˜¾ç¤ºå†…å®¹
    document.title = leaveTitle
    clearTimeout(titleTime)
  } else {
    //è¿”å›å½“å‰é¡µé¢æ—¶æ ‡ç­¾æ˜¾ç¤ºå†…å®¹
    document.title = backTitle + OriginTitile
    //ä¸¤ç§’åå˜å›æ­£å¸¸æ ‡é¢˜
    titleTime = setTimeout(function () {
      document.title = OriginTitile
    }, 2000)
  }
})</script><script async data-pjax src="https://lf26-cdn-tos.bytecdntp.com/cdn/expire-1-M/waterfall.js/1.1.0/waterfall.min.js"></script><script src="https://lf3-cdn-tos.bytecdntp.com/cdn/expire-1-M/qrcodejs/1.0.0/qrcode.min.js"></script><script>// åˆå§‹åŒ–å‡½æ•°
let rm = {};

//ç¦æ­¢å›¾ç‰‡ä¸è¶…é“¾æ¥æ‹–æ‹½
let aElements = document.getElementsByTagName("a");
for (let i = 0; i < aElements.length; i++) {
  aElements[i].setAttribute("draggable", "false");
  let imgElements = aElements[i].getElementsByTagName("img");
  for (let j = 0; j < imgElements.length; j++) {
    imgElements[j].setAttribute("draggable", "false");
  }
}

// æ˜¾ç¤ºèœå•
rm.showRightMenu = function (isTrue, x = 0, y = 0) {
  console.info(x, y)
  let rightMenu = document.getElementById("rightMenu");
  rightMenu.style.top = x + "px";
  rightMenu.style.left = y + "px";
  if (isTrue) {
    rightMenu.style.display = "block";
    stopMaskScroll();
  } else {
    rightMenu.style.display = "none";
  }
};

// éšè—èœå•
rm.hideRightMenu = function () {
  rm.showRightMenu(false);
  let rightMenuMask = document.querySelector("#rightmenu-mask");
  rightMenuMask.style.display = "none";
};

// å°ºå¯¸
let rmWidth = document.getElementById("rightMenu").offsetWidth;
let rmHeight = document.getElementById("rightMenu").offsetHeight;

// é‡æ–°å®šä¹‰å°ºå¯¸
rm.reloadrmSize = function () {
  rightMenu.style.visibility = "hidden";
  rightMenu.style.display = "block";
  // è·å–å®½åº¦å’Œé«˜åº¦
  rmWidth = document.getElementById("rightMenu").offsetWidth;
  rmHeight = document.getElementById("rightMenu").offsetHeight;
  rightMenu.style.visibility = "visible";
};

// è·å–ç‚¹å‡»çš„href
let domhref = "";
let domImgSrc = "";
let globalEvent = null;

var oncontextmenuFunction = function (event) {
  if (document.body.clientWidth > 768) {
    let pageX = event.clientX + 10; //åŠ 10æ˜¯ä¸ºäº†é˜²æ­¢æ˜¾ç¤ºæ—¶é¼ æ ‡é®åœ¨èœå•ä¸Š
    let pageY = event.clientY;

    //å…¶ä»–é¢å¤–èœå•
    const $rightMenuOther = document.querySelector(".rightMenuOther");
    const $rightMenuPlugin = document.querySelector(".rightMenuPlugin");
    const $rightMenuCopyText = document.querySelector("#menu-copytext");
    const $rightMenuPasteText = document.querySelector("#menu-pastetext");
    const $rightMenuCommentText = document.querySelector("#menu-commenttext");
    const $rightMenuNewWindow = document.querySelector("#menu-newwindow");
    const $rightMenuNewWindowImg = document.querySelector("#menu-newwindowimg");
    const $rightMenuCopyLink = document.querySelector("#menu-copylink");
    const $rightMenuCopyImg = document.querySelector("#menu-copyimg");
    const $rightMenuDownloadImg = document.querySelector("#menu-downloadimg");
    const $rightMenuSearch = document.querySelector("#menu-search");
    const $rightMenuSearchBaidu = document.querySelector("#menu-searchBaidu");
    const $rightMenuMusicToggle = document.querySelector("#menu-music-toggle");
    const $rightMenuMusicBack = document.querySelector("#menu-music-back");
    const $rightMenuMusicForward = document.querySelector("#menu-music-forward");
    const $rightMenuMusicPlaylist = document.querySelector("#menu-music-playlist");
    const $rightMenuMusicCopyMusicName = document.querySelector("#menu-music-copyMusicName");

    let href = event.target.href;
    let imgsrc = event.target.currentSrc;

    // åˆ¤æ–­æ¨¡å¼ æ‰©å±•æ¨¡å¼ä¸ºæœ‰äº‹ä»¶
    let pluginMode = false;
    $rightMenuOther.style.display = "block";
    globalEvent = event;

    // æ£€æŸ¥æ˜¯å¦éœ€è¦å¤åˆ¶ æ˜¯å¦æœ‰é€‰ä¸­æ–‡æœ¬
    if (selectTextNow && window.getSelection()) {
      pluginMode = true;
      $rightMenuCopyText.style.display = "block";
      $rightMenuCommentText.style.display = "block";
      $rightMenuSearch.style.display = "block";
      $rightMenuSearchBaidu.style.display = "block";
    } else {
      $rightMenuCopyText.style.display = "none";
      $rightMenuCommentText.style.display = "none";
      $rightMenuSearchBaidu.style.display = "none";
      $rightMenuSearch.style.display = "none";
    }

    //æ£€æŸ¥æ˜¯å¦å³é”®ç‚¹å‡»äº†é“¾æ¥aæ ‡ç­¾
    if (href) {
      pluginMode = true;
      $rightMenuNewWindow.style.display = "block";
      $rightMenuCopyLink.style.display = "block";
      domhref = href;
    } else {
      $rightMenuNewWindow.style.display = "none";
      $rightMenuCopyLink.style.display = "none";
    }

    //æ£€æŸ¥æ˜¯å¦éœ€è¦å¤åˆ¶å›¾ç‰‡
    if (imgsrc) {
      pluginMode = true;
      $rightMenuCopyImg.style.display = "block";
      $rightMenuDownloadImg.style.display = "block";
      $rightMenuNewWindowImg.style.display = "block";
      document.getElementById("rightMenu").style.width="12rem"
      domImgSrc = imgsrc;
    } else {
      $rightMenuCopyImg.style.display = "none";
      $rightMenuDownloadImg.style.display = "none";
      $rightMenuNewWindowImg.style.display = "none";
    }

    // åˆ¤æ–­æ˜¯å¦ä¸ºè¾“å…¥æ¡†
    if (event.target.tagName.toLowerCase() === "input" || event.target.tagName.toLowerCase() === "textarea") {
      pluginMode = true;
      $rightMenuPasteText.style.display = "block";
    } else {
      $rightMenuPasteText.style.display = "none";
    }
    const navMusicEl = document.querySelector("#nav-music");
    //åˆ¤æ–­æ˜¯å¦æ˜¯éŸ³ä¹
    if (navMusicEl && navMusicEl.contains(event.target)) {
      pluginMode = true;
      $rightMenuMusicToggle.style.display = "block";
      $rightMenuMusicBack.style.display = "block";
      $rightMenuMusicForward.style.display = "block";
      $rightMenuMusicPlaylist.style.display = "block";
      $rightMenuMusicCopyMusicName.style.display = "block";
    } else {
      $rightMenuMusicToggle.style.display = "none";
      $rightMenuMusicBack.style.display = "none";
      $rightMenuMusicForward.style.display = "none";
      $rightMenuMusicPlaylist.style.display = "none";
      $rightMenuMusicCopyMusicName.style.display = "none";
    }

    // å¦‚æœä¸æ˜¯æ‰©å±•æ¨¡å¼åˆ™éšè—æ‰©å±•æ¨¡å—
    if (pluginMode) {
      $rightMenuOther.style.display = "none";
      $rightMenuPlugin.style.display = "block";
    } else {
      $rightMenuPlugin.style.display = "none";
    }

    rm.reloadrmSize();

    // é¼ æ ‡é»˜è®¤æ˜¾ç¤ºåœ¨é¼ æ ‡å³ä¸‹æ–¹ï¼Œå½“é¼ æ ‡é å³æˆ–é ä¸‹æ—¶ï¼Œå°†èœå•æ˜¾ç¤ºåœ¨é¼ æ ‡å·¦æ–¹\ä¸Šæ–¹
    if (pageX + rmWidth > window.innerWidth) {
      pageX -= rmWidth + 10;
    }
    if (pageY + rmHeight > window.innerHeight) {
      pageY -= pageY + rmHeight - window.innerHeight;
    }

    rm.showRightMenu(true, pageY, pageX);
    document.getElementById("rightmenu-mask").style.display = "flex";
    return false;
  }
};

// ç›‘å¬å³é”®åˆå§‹åŒ–
window.oncontextmenu = oncontextmenuFunction

// ä¸‹è½½å›¾ç‰‡çŠ¶æ€
rm.downloadimging = false;

// å¤åˆ¶å›¾ç‰‡åˆ°å‰ªè´´æ¿
rm.writeClipImg = function (imgsrc) {
  console.log("æŒ‰ä¸‹å¤åˆ¶");
  rm.hideRightMenu();
  anzhiyu.snackbarShow("æ­£åœ¨ä¸‹è½½ä¸­ï¼Œè¯·ç¨å", false, 10000);
  if (rm.downloadimging == false) {
    rm.downloadimging = true;
    setTimeout(function () {
      copyImage(imgsrc);
      anzhiyu.snackbarShow("å¤åˆ¶æˆåŠŸï¼å›¾ç‰‡å·²æ·»åŠ ç›²æ°´å°ï¼Œè¯·éµå®ˆç‰ˆæƒåè®®");
      rm.downloadimging = false;
    }, "10000");
  }
};

function imageToBlob(imageURL) {
  const img = new Image();
  const c = document.createElement("canvas");
  const ctx = c.getContext("2d");
  img.crossOrigin = "";
  img.src = imageURL;
  return new Promise(resolve => {
    img.onload = function () {
      c.width = this.naturalWidth;
      c.height = this.naturalHeight;
      ctx.drawImage(this, 0, 0);
      c.toBlob(
        blob => {
          // here the image is a blob
          resolve(blob);
        },
        "image/png",
        0.75
      );
    };
  });
}

async function copyImage(imageURL) {
  const blob = await imageToBlob(imageURL);
  const item = new ClipboardItem({ "image/png": blob });
  navigator.clipboard.write([item]);
}

rm.copyUrl = function (id) {
  const input = document.createElement("input"); // Create a new <input> element
  input.id = "copyVal"; // Set the id of the new element to "copyVal"
  document.body.appendChild(input); // Append the new element to the end of the <body> element
  
  const text = id;
  input.value = text;
  input.select();
  input.setSelectionRange(0, input.value.length);
  document.execCommand("copy");
  
  input.remove(); // Remove the <input> element from the DOM
};

function stopMaskScroll() {
  if (document.getElementById("rightmenu-mask")) {
    let xscroll = document.getElementById("rightmenu-mask");
    xscroll.addEventListener(
      "mousewheel",
      function (e) {
        //é˜»æ­¢æµè§ˆå™¨é»˜è®¤æ–¹æ³•
        rm.hideRightMenu();
        // e.preventDefault();
      },
      { passive: true }
    );
  }
  if (document.getElementById("rightMenu")) {
    let xscroll = document.getElementById("rightMenu");
    xscroll.addEventListener(
      "mousewheel",
      function (e) {
        //é˜»æ­¢æµè§ˆå™¨é»˜è®¤æ–¹æ³•
        rm.hideRightMenu();
        // e.preventDefault();
      },
      { passive: true }
    );
  }
}

rm.rightmenuCopyText = function (txt) {
  if (navigator.clipboard) {
    navigator.clipboard.writeText(txt);
  }
  rm.hideRightMenu();
};

rm.copyPageUrl = function (url) {
  if (!url) {
    url = window.location.href;
  }
  rm.copyUrl(url);
  anzhiyu.snackbarShow("å¤åˆ¶é“¾æ¥åœ°å€æˆåŠŸ", false, 2000);
  rm.hideRightMenu();
};

rm.sharePage = function () {
  var content = window.location.href;
  rm.copyUrl(url);
  anzhiyu.snackbarShow("å¤åˆ¶é“¾æ¥åœ°å€æˆåŠŸ", false, 2000);
  rm.hideRightMenu();
};

// å¤åˆ¶å½“å‰é€‰ä¸­æ–‡æœ¬
var selectTextNow = "";
document.onmouseup = document.ondblclick = selceText;

function selceText() {
  var txt;
  if (document.selection) {
    txt = document.selection.createRange().text;
  } else {
    txt = window.getSelection().toString();
  }
  selectTextNow = txt !== "" ? txt : "";
}

// è¯»å–å‰ªåˆ‡æ¿
rm.readClipboard = function () {
  if (navigator.clipboard) {
    navigator.clipboard.readText().then(clipText => rm.insertAtCaret(globalEvent.target, clipText));
  }
};

// ç²˜è´´æ–‡æœ¬åˆ°ç„¦ç‚¹
rm.insertAtCaret = function (elemt, value) {
  const startPos = elemt.selectionStart,
    endPos = elemt.selectionEnd;
  if (document.selection) {
    elemt.focus();
    var sel = document.selection.createRange();
    sel.text = value;
    elemt.focus();
  } else {
    if (startPos || startPos == "0") {
      var scrollTop = elemt.scrollTop;
      elemt.value = elemt.value.substring(0, startPos) + value + elemt.value.substring(endPos, elemt.value.length);
      elemt.focus();
      elemt.selectionStart = startPos + value.length;
      elemt.selectionEnd = startPos + value.length;
      elemt.scrollTop = scrollTop;
    } else {
      elemt.value += value;
      elemt.focus();
    }
  }
};

//ç²˜è´´æ–‡æœ¬
rm.pasteText = function () {
  const result = rm.readClipboard() || "";
  rm.hideRightMenu();
};

//å¼•ç”¨åˆ°è¯„è®º
rm.rightMenuCommentText = function (txt) {
  rm.hideRightMenu();
  const postCommentDom = document.getElementById("post-comment");
  var domTop = postCommentDom.offsetTop;
  window.scrollTo(0, domTop - 80);
  if (txt == "undefined" || txt == "null") txt = "å¥½æ£’ï¼";
  function setText() {
    setTimeout(() => {
      var input = document.getElementsByClassName("el-textarea__inner")[0];
      if (!input) setText();
      let evt = document.createEvent("HTMLEvents");
      evt.initEvent("input", true, true);
      let inputValue = replaceAll(txt, "\n", "\n> ");
      input.value = "> " + inputValue + "\n\n";
      input.dispatchEvent(evt);
      input.focus();
      input.setSelectionRange(-1, -1);
      if (document.getElementById("comment-tips")) {
        document.getElementById("comment-tips").classList.add("show");
      }
    }, 100);
  }
  setText();
};

//æ›¿æ¢æ‰€æœ‰å†…å®¹
function replaceAll(string, search, replace) {
  return string.split(search).join(replace);
}

// ç™¾åº¦æœç´¢
rm.searchBaidu = function () {
  anzhiyu.snackbarShow("å³å°†è·³è½¬åˆ°ç™¾åº¦æœç´¢", false, 2000);
  setTimeout(function () {
    window.open("https://www.baidu.com/s?wd=" + selectTextNow);
  }, "2000");
  rm.hideRightMenu();
};

//åˆ†äº«é“¾æ¥
rm.copyLink = function () {
  rm.rightmenuCopyText(domhref);
  anzhiyu.snackbarShow("å·²å¤åˆ¶é“¾æ¥åœ°å€");
};

function addRightMenuClickEvent() {
  // æ·»åŠ ç‚¹å‡»äº‹ä»¶
  document.getElementById("menu-backward").addEventListener("click", function () {
  window.history.back();
    rm.hideRightMenu();
  });

  document.getElementById("menu-forward").addEventListener("click", function () {
    window.history.forward();
    rm.hideRightMenu();
  });

  document.getElementById("menu-refresh").addEventListener("click", function () {
    window.location.reload();
  });

  document.getElementById("menu-top").addEventListener("click", function () {
    anzhiyu.scrollToDest(0, 500);
    rm.hideRightMenu();
  });

  const menuLinks = document.querySelectorAll(".menu-link");
  menuLinks.forEach(function (link) {
    link.addEventListener("click", rm.hideRightMenu);
  });

  document.getElementById("menu-darkmode").addEventListener("click", anzhiyu.switchDarkMode);

  document.getElementById("menu-home") && document.getElementById("menu-home").addEventListener("click", function () {
    window.location.href = window.location.origin;
  });

  document.getElementById("menu-randomPost").addEventListener("click", function () {
    toRandomPost();
  });

  document.getElementById("menu-commentBarrage").addEventListener("click", anzhiyu.switchCommentBarrage);

  document.getElementById("rightmenu-mask").addEventListener("click", rm.hideRightMenu);

  document.getElementById("rightmenu-mask").addEventListener("contextmenu", function (event) {
    rm.hideRightMenu();
    event.preventDefault(); // Prevent the default context menu from appearing
  });

  document.getElementById("menu-copy").addEventListener("click", rm.copyPageUrl);

  document.getElementById("menu-pastetext").addEventListener("click", rm.pasteText);

  document.getElementById("menu-copytext").addEventListener("click", function () {
    rm.rightmenuCopyText(selectTextNow);
    anzhiyu.snackbarShow("å¤åˆ¶æˆåŠŸï¼Œå¤åˆ¶å’Œè½¬è½½è¯·æ ‡æ³¨æœ¬æ–‡åœ°å€");
  });

  document.getElementById("menu-commenttext").addEventListener("click", function () {
    rm.rightMenuCommentText(selectTextNow);
  });

  document.getElementById("menu-newwindow").addEventListener("click", function () {
    window.open(domhref, "_blank");
    rm.hideRightMenu();
  });

  document.getElementById("menu-copylink").addEventListener("click", rm.copyLink);

  document.getElementById("menu-downloadimg").addEventListener("click", function () {
    anzhiyu.downloadImage(domImgSrc, "anzhiyu");
  });

  document.getElementById("menu-newwindowimg").addEventListener("click", function () {
    window.open(domImgSrc, "_blank");
    rm.hideRightMenu();
  });

  document.getElementById("menu-copyimg").addEventListener("click", function () {
    rm.writeClipImg(domImgSrc);
  });

  document.getElementById("menu-searchBaidu").addEventListener("click", rm.searchBaidu);

  //éŸ³ä¹
  document.getElementById("menu-music-toggle").addEventListener("click", anzhiyu.musicToggle);

  document.getElementById("menu-music-back").addEventListener("click", anzhiyu.musicSkipBack);

  document.getElementById("menu-music-forward").addEventListener("click", anzhiyu.musicSkipForward);

  document.getElementById("menu-music-copyMusicName").addEventListener("click", function () {
    rm.rightmenuCopyText(anzhiyu.musicGetName());
    anzhiyu.snackbarShow("å¤åˆ¶æ­Œæ›²åç§°æˆåŠŸ", false, 3000);
  });

}

addRightMenuClickEvent();</script><script data-pjax>var themeColorMeta = document.querySelector('meta[name="theme-color"]');
var pageHeaderEl = document.getElementById("page-header");
var navMusicEl = document.getElementById("nav-music");
var consoleEl = document.getElementById("console");
// å·²éšæœºçš„æ­Œæ›²
var selectRandomSong = [];
// éŸ³ä¹é»˜è®¤å£°éŸ³å¤§å°
var musicVolume = 0.8;
// æ˜¯å¦åˆ‡æ¢äº†å‘¨æ°ä¼¦éŸ³ä¹åˆ—è¡¨
var changeMusicListFlag = false;
// å½“å‰é»˜è®¤æ’­æ”¾åˆ—è¡¨
var defaultPlayMusicList = [];

document.getElementById("page-name").innerText = document.title.split(" | Smith")[0];
anzhiyu.initIndexEssay();
anzhiyu.changeTimeInEssay();
anzhiyu.removeBodyPaceClass();
anzhiyu.qrcodeCreate();
anzhiyu.changeTimeInAlbumDetail();
anzhiyu.reflashEssayWaterFall();
anzhiyu.sayhi();
anzhiyu.stopImgRightDrag();
anzhiyu.addNavBackgroundInit();
anzhiyu.setValueToBodyType();
anzhiyu.catalogActive();
anzhiyu.tagsPageActive();
anzhiyu.categoriesBarActive();
anzhiyu.topCategoriesBarScroll();
anzhiyu.switchRightClickMenuHotReview();
anzhiyu.getCustomPlayList();
anzhiyu.addEventListenerConsoleMusicList(false);
setTimeout(() => {if (typeof addFriendLinksInFooter === "function") {addFriendLinksInFooter();}}, 200)</script><link rel="stylesheet" href="https://cdn.cbd.int/anzhiyu-theme-static@1.1.9/icon/ali_iconfont_css.css"><link rel="stylesheet" href="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.css" media="print" onload="this.media='all'"><script src="https://lf6-cdn-tos.bytecdntp.com/cdn/expire-1-M/aplayer/1.10.1/APlayer.min.js"></script><script src="https://npm.elemecdn.com/hexo-anzhiyu-music@1.0.1/assets/js/Meting2.min.js"></script><script src="https://lib.baomitu.com/pjax/0.2.8/pjax.min.js"></script><script>let pjaxSelectors = ["head > title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {
  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')
})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script charset="UTF-8" src="https://cdn.cbd.int/anzhiyu-theme-static@1.1.5/accesskey/accesskey.js"></script></div></body></html>